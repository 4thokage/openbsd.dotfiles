/*! BUILD | 8.9.1947 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[15],[,,,,,,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(10);const n={"medal-gold":"\n%3Csvg width='53' height='53' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cdefs%3E%3Cfilter x='-60%25' y='-25.6%25' width='220%25' height='161.5%25' filterUnits='objectBoundingBox' id='a'%3E%3CfeOffset in='SourceAlpha' result='shadowOffsetOuter1'/%3E%3CfeGaussianBlur stdDeviation='1' in='shadowOffsetOuter1' result='shadowBlurOuter1'/%3E%3CfeColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0' in='shadowBlurOuter1' result='shadowMatrixOuter1'/%3E%3CfeMerge%3E%3CfeMergeNode in='shadowMatrixOuter1'/%3E%3CfeMergeNode in='SourceGraphic'/%3E%3C/feMerge%3E%3C/filter%3E%3ClinearGradient x1='50%25' y1='0%25' x2='50%25' y2='21.24%25' id='d'%3E%3Cstop stop-color='%23FFCE6B' offset='0%25'/%3E%3Cstop stop-color='%23FFC800' offset='100%25'/%3E%3C/linearGradient%3E%3Cpath d='M3 9L1 4l5 2.33L10 0l4 6.33L19 4l-2 5h2a1 1 0 0 1 1 1v27.92a1 1 0 0 1-1.62.78l-7.76-6.2a1 1 0 0 0-1.24 0l-7.76 6.2A1 1 0 0 1 0 37.92V10a1 1 0 0 1 1-1h2z' id='c'/%3E%3Cfilter x='-65%25' y='-28.3%25' width='230%25' height='166.8%25' filterUnits='objectBoundingBox' id='b'%3E%3CfeOffset dy='2' in='SourceAlpha' result='shadowOffsetOuter1'/%3E%3CfeGaussianBlur stdDeviation='4' in='shadowOffsetOuter1' result='shadowBlurOuter1'/%3E%3CfeColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0' in='shadowBlurOuter1'/%3E%3C/filter%3E%3ClinearGradient x1='50%25' y1='0%25' x2='50%25' y2='100%25' id='e'%3E%3Cstop stop-color='%23D34048' offset='0%25'/%3E%3Cstop stop-color='%23B2161F' offset='100%25'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg filter='url(%23a)' transform='translate(16 5)' fill='none' fill-rule='evenodd'%3E%3Cuse fill='%23000' filter='url(%23b)' xlink:href='%23c'/%3E%3Cuse fill='url(%23d)' xlink:href='%23c'/%3E%3Cpath d='M1 9h18a1 1 0 0 1 1 1v24.92a1 1 0 0 1-1.62.78l-7.76-6.2a1 1 0 0 0-1.24 0l-7.76 6.2A1 1 0 0 1 0 34.92V10a1 1 0 0 1 1-1z' fill='url(%23e)'/%3E%3Cpath d='M11.49 24H9.5v-6.36H7.04v-1.5c.34.02.67-.01 1-.07.32-.06.6-.17.87-.32.25-.16.47-.36.65-.61.17-.25.29-.57.35-.94h1.58V24z' fill='%23FFF' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\n".trim(),"medal-silver":"\n%3Csvg width='53' height='53' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cdefs%3E%3Cfilter x='-60%25' y='-25.6%25' width='220%25' height='161.5%25' filterUnits='objectBoundingBox' id='a'%3E%3CfeOffset in='SourceAlpha' result='shadowOffsetOuter1'/%3E%3CfeGaussianBlur stdDeviation='1' in='shadowOffsetOuter1' result='shadowBlurOuter1'/%3E%3CfeColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0' in='shadowBlurOuter1' result='shadowMatrixOuter1'/%3E%3CfeMerge%3E%3CfeMergeNode in='shadowMatrixOuter1'/%3E%3CfeMergeNode in='SourceGraphic'/%3E%3C/feMerge%3E%3C/filter%3E%3ClinearGradient x1='50%25' y1='0%25' x2='50%25' y2='21.24%25' id='d'%3E%3Cstop stop-color='%23FFF' offset='0%25'/%3E%3Cstop stop-color='%23CDDAE5' offset='100%25'/%3E%3C/linearGradient%3E%3Cpath d='M3 9L1 4l5 2.33L10 0l4 6.33L19 4l-2 5h2a1 1 0 0 1 1 1v27.92a1 1 0 0 1-1.62.78l-7.76-6.2a1 1 0 0 0-1.24 0l-7.76 6.2A1 1 0 0 1 0 37.92V10a1 1 0 0 1 1-1h2z' id='c'/%3E%3Cfilter x='-65%25' y='-28.3%25' width='230%25' height='166.8%25' filterUnits='objectBoundingBox' id='b'%3E%3CfeOffset dy='2' in='SourceAlpha' result='shadowOffsetOuter1'/%3E%3CfeGaussianBlur stdDeviation='4' in='shadowOffsetOuter1' result='shadowBlurOuter1'/%3E%3CfeColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0' in='shadowBlurOuter1'/%3E%3C/filter%3E%3ClinearGradient x1='50%25' y1='0%25' x2='50%25' y2='100%25' id='e'%3E%3Cstop stop-color='%23D34048' offset='0%25'/%3E%3Cstop stop-color='%23B2161F' offset='100%25'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg filter='url(%23a)' transform='translate(16 5)' fill='none' fill-rule='evenodd'%3E%3Cuse fill='%23000' filter='url(%23b)' xlink:href='%23c'/%3E%3Cuse fill='url(%23d)' xlink:href='%23c'/%3E%3Cpath d='M1 9h18a1 1 0 0 1 1 1v24.92a1 1 0 0 1-1.62.78l-7.76-6.2a1 1 0 0 0-1.24 0l-7.76 6.2A1 1 0 0 1 0 34.92V10a1 1 0 0 1 1-1z' fill='url(%23e)'/%3E%3Cpath d='M6.52 17.97a4.7 4.7 0 0 1 .2-1.56c.14-.49.37-.9.67-1.27.3-.35.67-.63 1.12-.84.46-.2.98-.3 1.56-.3.45 0 .88.07 1.29.21.4.14.76.34 1.07.6a2.86 2.86 0 0 1 1 2.26 3.1 3.1 0 0 1-.86 2.22c-.27.27-.56.52-.9.75l-1 .66c-.33.22-.66.46-.97.71-.32.25-.6.55-.84.88h4.63V24h-7.2a3.95 3.95 0 0 1 .91-2.61c.28-.33.61-.64 1-.92a42.9 42.9 0 0 1 1.87-1.3c.25-.16.47-.33.67-.52.2-.18.37-.4.5-.63.14-.23.2-.5.2-.8 0-.47-.13-.84-.4-1.1-.28-.28-.63-.4-1.06-.4-.3 0-.54.06-.74.2-.2.13-.36.3-.48.53-.12.22-.21.46-.26.73-.05.26-.08.52-.08.79h-1.9z' fill='%23FFF' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\n".trim(),"medal-bronze":"\n%3Csvg width='53' height='53' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cdefs%3E%3Cfilter x='-60%25' y='-25.6%25' width='220%25' height='161.5%25' filterUnits='objectBoundingBox' id='a'%3E%3CfeOffset in='SourceAlpha' result='shadowOffsetOuter1'/%3E%3CfeGaussianBlur stdDeviation='1' in='shadowOffsetOuter1' result='shadowBlurOuter1'/%3E%3CfeColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0' in='shadowBlurOuter1' result='shadowMatrixOuter1'/%3E%3CfeMerge%3E%3CfeMergeNode in='shadowMatrixOuter1'/%3E%3CfeMergeNode in='SourceGraphic'/%3E%3C/feMerge%3E%3C/filter%3E%3ClinearGradient x1='50%25' y1='0%25' x2='50%25' y2='21.24%25' id='d'%3E%3Cstop stop-color='%23FFD8C1' offset='0%25'/%3E%3Cstop stop-color='%23E6AA88' offset='99.55%25'/%3E%3C/linearGradient%3E%3Cpath d='M3 9L1 4l5 2.33L10 0l4 6.33L19 4l-2 5h2a1 1 0 0 1 1 1v27.92a1 1 0 0 1-1.62.78l-7.76-6.2a1 1 0 0 0-1.24 0l-7.76 6.2A1 1 0 0 1 0 37.92V10a1 1 0 0 1 1-1h2z' id='c'/%3E%3Cfilter x='-65%25' y='-28.3%25' width='230%25' height='166.8%25' filterUnits='objectBoundingBox' id='b'%3E%3CfeOffset dy='2' in='SourceAlpha' result='shadowOffsetOuter1'/%3E%3CfeGaussianBlur stdDeviation='4' in='shadowOffsetOuter1' result='shadowBlurOuter1'/%3E%3CfeColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0' in='shadowBlurOuter1'/%3E%3C/filter%3E%3ClinearGradient x1='50%25' y1='0%25' x2='50%25' y2='100%25' id='e'%3E%3Cstop stop-color='%23D34048' offset='0%25'/%3E%3Cstop stop-color='%23B2161F' offset='100%25'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg filter='url(%23a)' transform='translate(16 5)' fill='none' fill-rule='evenodd'%3E%3Cuse fill='%23000' filter='url(%23b)' xlink:href='%23c'/%3E%3Cuse fill='url(%23d)' xlink:href='%23c'/%3E%3Cpath d='M1 9h18a1 1 0 0 1 1 1v24.92a1 1 0 0 1-1.62.78l-7.76-6.2a1 1 0 0 0-1.24 0l-7.76 6.2A1 1 0 0 1 0 34.92V10a1 1 0 0 1 1-1z' fill='url(%23e)'/%3E%3Cpath d='M9.2 18.16c.2.02.44.02.68 0 .24-.02.47-.07.68-.16.2-.09.38-.22.51-.38.14-.17.2-.4.2-.68 0-.42-.13-.74-.41-.96a1.5 1.5 0 0 0-.97-.34c-.5 0-.88.17-1.14.5-.26.33-.38.75-.37 1.25H6.49c.02-.5.11-.96.27-1.38a3.04 3.04 0 0 1 1.74-1.76 4.1 4.1 0 0 1 2.55-.07c.4.12.75.3 1.06.52.31.24.57.52.76.86.2.33.3.72.3 1.16 0 .48-.12.9-.35 1.26-.22.36-.57.61-1.02.74v.03c.54.12.96.38 1.27.78.3.4.46.89.46 1.45a3.03 3.03 0 0 1-2.27 3c-.43.13-.9.2-1.37.2-.55 0-1.05-.08-1.5-.24a3.07 3.07 0 0 1-1.89-1.8 3.93 3.93 0 0 1-.25-1.51h1.9c0 .26.04.5.12.75.07.23.18.44.32.61a1.53 1.53 0 0 0 1.27.57c.45 0 .83-.14 1.14-.41.3-.28.46-.66.46-1.13 0-.38-.07-.66-.22-.86-.14-.2-.33-.33-.55-.42a2.31 2.31 0 0 0-.73-.16l-.77-.02v-1.4z' fill='%23FFF' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\n".trim()},r=e=>{const t={...e.style,display:"block",background:`url("data:image/svg+xml,${n[e.img]}") no-repeat center`,backgroundSize:"cover"};return i.a._("span",{style:t})};function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}r.displayName="IconInline";const c=e=>{const{className:t,height:s,fill:a,fillOpacity:c,img:d,size:p,width:u}=e,h={};a&&(h.fill=a),c&&(h.fillOpacity=c),p?(h.height=`${p}px`,h.width=`${p}px`):(s&&(h.height=`${s}px`),u&&(h.width=`${u}px`));const m={className:Object(o.c)("icon",`icon-${d}`,t),style:h};return n[d]?i.a._(r,l({},m,{img:d})):i.a._("svg",m,i.a._("use",{xlinkHref:`#icons-${d}`}))};c.displayName="Icon";t.a=c},,,,,,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(501),n=s(10),r=s(1);const l=/(?:\{#([a-zA-Z0-9._:-]+)\}(.*?)\{\/\1\}|\{#([a-zA-Z0-9._:-]+)\/\})/g,c=e=>{const{className:t,elements:s,parameters:a,messageId:c,choiceParameter:d}=e,p=[],u=Object(r.d)(c,a,d).replace(l,(e,t,o,n)=>{if(!s)return e;const l=t||n,c=s[l];if(!c)return e;const d=`{#${l}_${p.length}/}`,u={key:d};return t&&(u.children=Object(r.b)(o,a)),p.push(((e,t)=>i.a._(e.type,{...e.props,...t}))(c,u)),d}).split(/\{#[^#}]+?\/\}/).reduce((e,t,s)=>{const i=Object(r.b)(t,a),o=p[s];return i&&e.push(i),o&&e.push(o),e},[]);return i.a._(o.a,null,i.a._("span",{className:Object(n.c)(t)},u))};c.displayName="CompositeTranslation",t.a=c},function(e,t,s){"use strict";var a=s(39),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(30),l=s(10);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const d=e=>{switch(e){case"large":return{width:"60px",height:"60px"};case"medium":return{width:"40px",height:"40px"};case"small":return{width:"20px",height:"20px"};case"none":return{};default:return"number"==typeof e?{width:`${e}px`,height:`${e}px`}:{}}},p=({className:e,style:t,size:s,color:a="default",...i})=>n.a._("div",c({className:Object(l.c)("loader-ds",e,{"loader-ds-default-color":"default"===a}),style:{...d(s),...t}},i),n.a._("svg",{viewBox:"22 22 44 44"},n.a._("circle",{className:"loader-ds-circle",cx:"44",cy:"44",r:"20.2",fill:"none",strokeWidth:"3.6"})));function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}p.displayName="LoaderDs";const h=e=>{switch(e){case"extra-small":return 10;case"small":return 15;case"medium":return 25;case"large":return 27;case"default":default:return 20}},m=e=>{const{active:t,className:s,disabled:a,display:i,overflowVisible:o,size:c,style:d,type:m,loading:g,children:b,innerRef:_,...v}=e,f=Object(l.c)(s,"btn",`btn-${d}`,`btn-${i}`,c?`btn-${c}`:null,t?"active":null,a?"disabled":null,o?"overflow-visible":null,{"btn-loading":g});return"anchor"===m?n.a._("a",u({},v,{className:f}),b,g&&n.a._(p,{size:h(c)})):"link"===m?n.a._(r.a,u({},v,{className:f}),b,g&&n.a._(p,{size:h(c)})):n.a._("button",u({},v,{className:f,type:m,ref:_}),b,g&&n.a._("div",{className:"btn-loader-overlay"},n.a._(p,{size:h(c),color:"none"})))};m.displayName="Button",m.defaultProps={display:"inline-block",style:"default",type:"button",onClick:i.a};t.a=m},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";var a=s(325),i=s.n(a),o=s(39),n=s.n(o),r=s(35),l=s.n(r),c=s(136),d=s.n(c),p=s(220),u=s.n(p),h=(s(8),s(0)),m=s.n(h),g=s(5),b=s(126),_=s(3),v=s(10),f=s(34),C=s(55),N=s(29);class O extends m.a.Component{constructor(...e){super(...e),this.state={isVisible:this.props.isForceVisible&&!this.props.showDelay,isAnimated:this.props.isAnimated,isForceVisible:this.props.isForceVisible},this.targetMouseClickHandler=e=>{const{shouldPreventDefault:t}=this.props,{isVisible:s}=this.state;t&&e.preventDefault(),s&&this.setState({isVisible:!0}),this.showTooltipDelayed()},this.mobileTouchWindow=e=>{const{target:t}=e,{targetId:s}=this.props,{isVisible:a}=this.state;if(!a)return;const o=!!i()(this.tooltipRef,"contains",t),n=t.id===s||!!i()(this.targetElement,"contains",t);!o&&!n?this.setState({isVisible:!1}):e.stopPropagation()},this.propsUpdateToActionsMap=[{update:N.J,action:()=>{this.updatePosition()}},{update:N.K,action:()=>{this.updateTooltipPosition()}}],this.updateTooltipPosition=()=>{u()(this.documentUpdateHandler,500)},this.documentUpdateHandler=()=>{const{isForceVisible:e}=this.props;e?this.updatePosition():this.tooltipMouseLeaveHandler()},this.targetMouseEnterHandler=()=>{this.showTooltipDelayed()},this.tooltipMouseLeaveHandler=()=>{clearTimeout(this.delayedShowTimeout),this.tooltipRef&&this.setState({isVisible:!1})},this.getRect=e=>{const t=e.getBoundingClientRect(),{clientWidth:s}=document.documentElement,{screenGutter:a}=this.props,i=(e.offsetHeight-t.height)/2,o=(e.offsetWidth-t.width)/2,n=s-2*a;return{top:t.top-i,left:t.left-o,height:e.offsetHeight,width:e.offsetWidth>n?n:e.offsetWidth}},this.applyIndentation=e=>{const{indentation:t}=this.props;return{top:e.top-t,left:e.left-t,height:e.height+2*t,width:e.width+2*t}},this.applyPosition=e=>{const{tooltipRef:t}=this,{screenGutter:s}=this.props,a=this.targetElement,{clientWidth:i}=document.documentElement,o=this.applyIndentation(this.getRect(a)),n=this.getRect(t),r=this.getOffset(o,n,e),l=this.getPosition({tooltipRect:n,targetRect:o,placement:e}),c=this.getDelta(r,l),d=i-2*s,p={left:`${r.left+l.left+c.x}px`,top:`${r.top+l.top}px`,width:d===n.width?`${n.width}px`:"auto"};t.classList.remove("top","left","right","bottom"),t.classList.add(e),Object.assign(t.style,p)},this.getDelta=(e,t)=>{const{clientWidth:s,clientHeight:a}=document.documentElement,{screenGutter:i}=this.props,{tooltipRef:o}=this,n=this.targetElement,r=this.getRect(o),l=this.applyIndentation(this.getRect(n));let c=0,d=0;return e.left+t.left<i?c=i-e.left-t.left:s-e.left-t.left-r.width<i&&(c=s-e.left-t.left-r.width-i),e.top+t.top<=i?d=i-e.top-t.top:a-e.top-t.top-r.height<i&&(d=i-(a-e.top-t.top-l.height)),{x:r.height/2<Math.abs(c)?0:c,y:r.width/2<Math.abs(d)?0:d}},this.updatePosition=()=>{const{placement:e}=this.props,t=this.targetElement,{tooltipRef:s}=this;if(s&&t){const a=this.getRect(s);if("fixed"!==getComputedStyle(s).position)return void Object.assign(s.style,{bottom:null,height:null,left:null,right:null,top:null,width:null});const i=this.getRect(t),{clientWidth:o,clientHeight:n}=document.documentElement,r=i.left+i.width,c=[];a.width<o&&(i.top-a.height>0&&c.push("top"),i.top+i.height+a.height<n&&c.push("bottom")),r+a.width<o&&c.push("right"),i.left-a.width>0&&c.push("left"),l()(c,e)||0===c.length?this.applyPosition(e):this.applyPosition(d()(c))}},this.getPosition=({tooltipRect:e,targetRect:t,placement:s})=>{const a=(t.height-e.height)/2,i=(t.width-e.width)/2;let o,n;return"top"===s?(o=i,n=-e.height):"bottom"===s?(o=i,n=0):"right"===s?(o=0,n=a):"left"===s&&(o=-e.width,n=a),{left:t.left+o,top:t.top+n}},this.getOffset=(e,t,s)=>({left:l()(["right"],s)?e.width:0,top:l()(["bottom"],s)?e.height:0}),this.closeClick=e=>{e.stopPropagation(),this.setState({isVisible:!1})}}get forcedStyle(){const e={bottom:"auto",height:"auto",left:"0px",maxWidth:`${this.props.maxWidth}px`,right:"auto",top:"0px",width:"auto"};return this.props.targetId?e:{}}componentDidUpdate(e){!this.props.isForceVisible&&e.isForceVisible!==this.props.isForceVisible&&this.state.isVisible&&this.setState({isVisible:!1}),Object(f.a)(this.propsUpdateToActionsMap,e,this.props),this.targetElement&&this.updatePosition()}showTooltipDelayed(){const{showDelay:e}=this.props,{isVisible:t}=this.state;t||(e?this.delayedShowTimeout=setTimeout(()=>{this.setState({isVisible:!0})},e):this.setState({isVisible:!0}))}_A(){const{isForceVisible:e,showDelay:t,lazyTouchEventHandling:s,triggerOnClick:a}=this.props,i=this.targetElement,o=a||_.j.touch;if(e)t&&this.showTooltipDelayed();else if(o){let e="click";_.j.touch&&(e=s?"touchend":"touchstart",Object(C.a)(this,window,e,this.mobileTouchWindow)),Object(C.a)(this,i,e,this.targetMouseClickHandler)}else Object(C.a)(this,i,"mouseenter",this.targetMouseEnterHandler),Object(C.a)(this,i,"mouseleave",this.tooltipMouseLeaveHandler);_.j.iPad&&(Object(C.a)(this,document,"focusout",this.updateTooltipPosition),Object(C.a)(this,document,"focusin",this.updateTooltipPosition)),Object(C.a)(this,window,"scroll",this.documentUpdateHandler),Object(f.a)(this.propsUpdateToActionsMap,{},this.props),this.targetElement&&this.updatePosition()}componentWillUnmount(){Object(C.b)(this)}get targetElement(){return this.props.targetId?document.getElementById(this.props.targetId):null}_Dv(){const{_Dv:e}=this.props,t=e();return t?m.a._("div",{className:"tooltip-close",onClick:this.closeClick,onTouchEnd:this.closeClick,onTouchStart:e=>e.stopPropagation()},t):null}_G3(){const{className:e,children:t,isMobileRelative:s,isOneLine:a,isAnimated:i}=this.props;return m.a._("div",{ref:e=>{this.tooltipRef=e},role:"tooltip",className:Object(v.c)(e,"tooltip",{"mobile-relative":s,"one-line":a,"tooltip-animated":i}),style:this.forcedStyle},m.a._("div",{className:"tooltip-inner"},this._Dv(),t))}render(){const{showDelay:e}=this.props,{isVisible:t,isAnimated:s,isForceVisible:a}=this.state;return t||s?s?m.a._(b.CSSTransition,{classNames:"tooltip-animated",in:t,enter:!1,timeout:e,onExited:()=>{a&&this.setState({isAnimated:!1})}},this._G3()):this._G3():null}}O.displayName="Tooltip",O.defaultProps={indentation:0,isForceVisible:!1,isMobileRelative:!0,isOneLine:!1,lazyTouchEventHandling:!1,maxWidth:250,placement:"right",_Dv:n.a,screenGutter:10,shouldPreventDefault:!1,targetId:null,showDelay:0};t.a=Object(g.c)(e=>{const{ui:{windowWidth:t,windowHeight:s,windowOrientation:a}}=e;return{windowWidth:t,windowHeight:s,windowOrientation:a}},null,null,{forwardRef:!0})(O)},,,,,,,,,,,,,function(e,t,s){"use strict";var a=s(35),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(10);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class c extends n.a.Component{get value(){return this.inputRef.value}set value(e){this.inputRef.value=e}get checked(){return this.inputRef.checked}set checked(e){this.inputRef.checked=e}focus(e=!1){const{inputRef:t}=this;if(t.focus(),e){const{length:e}=t.value;t.setSelectionRange(e,e)}}blur(){this.inputRef.blur()}click(){this.inputRef.click()}render(){const{className:e,display:t,size:s,theme:a,type:o,...c}=this.props,d=i()(["text","number","email","password"],o),p=Object(r.c)({input:d,[o]:!d},`${o}-${s}`,`theme-${a}`,t,e);return n.a._("input",l({className:p,type:o,ref:e=>{this.inputRef=e}},c))}}c.displayName="Input",c.defaultProps={display:"inline-block",size:"default",theme:"default",type:"text"},t.a=c},,,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(10);class n extends i.a.Component{get className(){const{className:e,isCentered:t,isInline:s}=this.props;return Object(o.c)("loader",e,{centered:t,inline:s})}_G4(){const{size:e}=this.props;return i.a._("div",{className:this.className,style:{height:`${e}px`,width:`${e}px`}},i.a._("div",{className:"sector-circle"}))}_G5(){const{size:e}=this.props;return i.a._("div",{className:this.className,style:{height:`${e}px`,width:`${e}px`}},i.a._("div",{className:"fading-circle",style:{height:`${e}px`,width:`${e}px`}},i.a._("div",{className:"loader-circle1 loader-circle"}),i.a._("div",{className:"loader-circle2 loader-circle"}),i.a._("div",{className:"loader-circle3 loader-circle"}),i.a._("div",{className:"loader-circle4 loader-circle"}),i.a._("div",{className:"loader-circle5 loader-circle"}),i.a._("div",{className:"loader-circle6 loader-circle"}),i.a._("div",{className:"loader-circle7 loader-circle"}),i.a._("div",{className:"loader-circle8 loader-circle"}),i.a._("div",{className:"loader-circle9 loader-circle"}),i.a._("div",{className:"loader-circle10 loader-circle"}),i.a._("div",{className:"loader-circle11 loader-circle"}),i.a._("div",{className:"loader-circle12 loader-circle"})))}_G6(){const{size:e}=this.props;return i.a._("div",{className:this.className,style:{width:`${e}px`}},i.a._("div",{className:"horizontal-dots"},i.a._("div",{className:"loader-circle"}),i.a._("div",{className:"loader-circle"}),i.a._("div",{className:"loader-circle"}),i.a._("div",{className:"loader-circle"})))}render(){switch(this.props.loaderType){case"horizontal-dots":return this._G6();case"sector-circle":return this._G4();case"fading-circles":default:return this._G5()}}}n.displayName="Loader",n.defaultProps={loaderType:"fading-circles",size:64},t.a=n},function(e,t,s){"use strict";var a=s(307),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(6),l=s(102),c=s(3),d=s(10),p=s(34),u=s(55),h=s(80);const m=["text","textarea","password","email","tel","number","search","url"];let g,b=0;class _ extends n.a.Component{constructor(e,t){if(super(e,t),this.additionalClassName="",this.onChangeFocus=e=>{c.j.iOS&&this.state.hasChildFocused!==e&&(this.setState({hasChildFocused:e}),this.updatePosition())},this.focusEventHandler=()=>{clearTimeout(g),(m.includes(document.activeElement.type)||document.activeElement.isContentEditable)&&this.onChangeFocus(!0)},this.blurEventHandler=()=>{clearTimeout(g),g=setTimeout(()=>{this.onChangeFocus(!1)},300)},this.updatePosition=()=>{const{contentRef:e,modalWrapperRef:t}=this;if(!t||!e)return;const{hasChildFocused:s}=this.state;s?(t.style.alignItems="flex-start",e.style.marginTop="10px"):(t.style.alignItems="center",e.style.marginTop="")},this.orientationEventHandler=()=>{const{modalWrapperRef:e}=this;e&&(setTimeout(()=>{const{hasChildFocused:e}=this.state;this.onChangeFocus(e)},10),this.changeScrollHandler())},this.bodyClickHandler=e=>{e.stopPropagation()},this.closeButtonClickHandler=e=>{e.preventDefault(),this.closeHandler(e)},this.changeScrollHandler=()=>{const{modalWrapperRef:e}=this,t=e.scrollTop,s=e.scrollHeight,a=t+e.offsetHeight;0===t?e.scrollTop=1:a===s&&(e.scrollTop=t-1)},this.wrapperClickHandler=e=>{e.preventDefault();const t=this.modalFooterRef&&this.modalFooterRef.contains(e.target);this.state.isWrapperCloseDisabled||t||this.closeHandler(e)},this.keyDownHandler=e=>{this.props.isWrapperCloseDisabled||this.props.isCloseBtnShown&&e.keyCode===c.C.escape&&this.closeHandler(e)},this.closeHandler=e=>{this.props.onClose(e)},this.touchScrollHandler=e=>{e.stopPropagation()},this.toggleFullscreenHandler=e=>{const t=i()(e)?!this.state.isFullscreen:e;this.setState({isFullscreen:t})},this.onAutoFocus=()=>{setTimeout(()=>{this.onChangeFocus(!0)},50)},this._G7=()=>{const{closePosition:e}=this.props,{isCloseBtnShown:t}=this.state,s="top"===e;return n.a._("div",{className:Object(d.c)("modal-header",{"top-placed":s})},n.a._("div",null,this._D()),t&&n.a._("a",{className:"button-close",onClick:this.closeButtonClickHandler,role:"button"},this._G8("top"===this.props.closePosition?"close-5":"close")))},this._G9=()=>n.a._(o.Fragment,null,n.a._("div",{className:Object(d.c)("modal-content",`modal-header-${this.state.titlePosition}`,{fullscreen:this.state.isFullscreen}),onClick:this.bodyClickHandler,ref:e=>{this.contentRef=e},style:this.styles.dialog},"none"!==this.state.titlePosition&&this._G7(),this._F()),this._B8()),this._Ga=()=>n.a._("div",{ref:e=>{this.modalWrapperRef=e},className:Object(d.c)("modal-wrapper",this.modalWrapperClassName),onClick:this.wrapperClickHandler},this.props.hasInnerScroll?this._Gb():this._G9()),this._Gb=()=>n.a._(l.a,null,this._G9()),this.constructor===_)throw new TypeError("Cannot construct Abstract instances directly");this.state={isCloseBtnShown:e.isCloseBtnShown,isFullscreen:e.isDefaultFullscreen,..._.getDerivedStateFromProps(this.props)}}get styles(){return{wrapper:{},dialog:{},closeButton:{}}}static getDerivedStateFromProps(e){return{isWrapperCloseDisabled:e.isWrapperCloseDisabled,titlePosition:e.titlePosition}}_A(){const{modalWrapperRef:e,contentRef:t}=this;this.addBodyStyle(),Object(u.a)(this,document,"keydown",this.keyDownHandler),Object(u.a)(this,e,"scroll",this.changeScrollHandler),Object(u.a)(this,window,"orientationchange",this.orientationEventHandler),c.j.iOS&&(Object(u.a)(this,t,"blur",this.blurEventHandler,!0),Object(u.a)(this,t,"focus",this.focusEventHandler,!0)),this.propsUpdateToActionsMap&&Object(p.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){this.propsUpdateToActionsMap&&Object(p.a)(this.propsUpdateToActionsMap,e,this.props)}get modalWrapperClassName(){return Object(d.c)(this.props.className,this.additionalClassName)}componentWillUnmount(){this.removeBodyStyle(),clearTimeout(g),Object(u.b)(this)}addBodyStyle(){const{isInBackground:e}=this.props;if(e)return;const{body:t}=document,s=window.innerWidth-t.scrollWidth,a=document.querySelector("html");this.modalWrapperRef.style.top="1px",window.requestAnimationFrame(()=>{b=h.a.get(),t.scrollTop=0,t.style.paddingRight=`${s}px`,t.style.marginTop=`-${b}px`,a.classList.add("disable-scroll"),this.modalWrapperRef&&(this.modalWrapperRef.style.top="0")})}removeBodyStyle(){const{isInBackground:e}=this.props;if(e)return;const{body:t}=document,s=document.querySelector("html");window.requestAnimationFrame(()=>{t.style.scrollBehavior="auto",t.style.paddingRight=0,t.style.marginTop="",s.classList.remove("disable-scroll"),h.a.set(b),t.style.scrollBehavior=""})}_D(){const{title:e}=this.props;return e||null}_G8(e){return n.a._(r.a,{img:e})}_F(){return this.props.children}_Gc(){return null}_B8(){const e=this._Gc();return e?n.a._("div",{className:"modal-footer",ref:e=>{this.modalFooterRef=e}},e):null}render(){return this._Ga()}}_.displayName="AbstractModal",_.defaultProps={hasInnerScroll:!1,isDefaultFullscreen:!1,isWrapperCloseDisabled:!1,showOverlay:!0,title:null,titlePosition:"inside",isCloseBtnShown:!0,isInBackground:!1},t.a=_},,,,,function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(40),n=s(382),r=s(59),l=s(246),c=s(21),d=s(80),p=s(1);const u=(e,t)=>e||Object(p.e)(t||"seo.title.default"),h=(e,t)=>e||Object(p.e)(t||"seo.description.default"),m=()=>(o.c.info("PageWrapper _Bm()"),i.a._("div",{className:"loader-container"},i.a._(r.a,{isCentered:!0})));m.displayName="_Bm";const g=()=>(o.c.info("PageWrapper _Gd()"),i.a._(l.a,null));g.displayName="_Gd";const b=e=>{const{children:t,className:s,title:o,titleKey:r,description:l,descriptionKey:p,descriptionOg:b,isDataFailed:_,isDataPending:v,indexingType:f,willScrollTop:C=!0}=e;let N;return N=v?e._Bm?e._Bm():m():_?e._Gd?e._Gd():g():t,Object(c.d)()&&Object(a.useEffect)(()=>{C&&d.a.reset()},[]),i.a._("div",{className:s||"page-wrapper"},i.a._(n.a,{title:u(o,r),description:h(l,p),descriptionOg:b||null,indexingType:f}),N)};b.displayName="PageWrapper";t.a=b},,,,,,,,,,function(e,t,s){"use strict";var a=s(39),i=s.n(a),o=s(0),n=s.n(o),r=s(594),l=s(43),c=s(10);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const p=({className:e,isMobileRelative:t=!1,isOneLine:s=!1,placement:a="right",targetId:o,tooltipRefExtractor:p=i.a,...u})=>n.a._(l.a,d({isMobileRelative:t,isOneLine:s,placement:a,targetId:o},{className:Object(c.c)([e,"error"]),isForceVisible:!0,ref:e=>{p(o,e)}}),n.a._(r.a,u));p.displayName="ErrorTooltip",t.a=p},,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"a",(function(){return B}));var a=s(39),i=s.n(a),o=s(481),n=s.n(o),r=s(27),l=s.n(r),c=(s(8),s(0)),d=s.n(c),p=s(5),u=s(217),h=s(7),m=s(40),g=s(17),b=s(43),_=s(10),v=s(1),f=s(106),C=s.n(f),N=s(30);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class y extends c.PureComponent{constructor(...e){super(...e),this.uid=C()("username_content")}_Ge(){const{isExGreen:e}=this.props;if(!e)return null;const t=C()(`username_ex_tooltip_${this.uid}`);return d.a._("span",{key:"user-ex"},d.a._("sup",{id:t},"ex"),d.a._(b.a,{className:"icon-tooltip",shouldPreventDefault:!1,isMobileRelative:!1,placement:"right",targetId:t},Object(v.d)("camChat.exGreenDescription")))}render(){const{link:e,username:t,onClick:s,onMouseEnter:a,onMouseLeave:i}=this.props,o=[t,this._Ge()];return e?d.a._(N.a,O({className:"username-content-link",onClick:s,onMouseEnter:a,onMouseLeave:i},e),o):d.a._("div",{className:"username-content",onClick:s,onMouseEnter:a,onMouseLeave:i},o)}}y.displayName="UserNameContent",y.defaultProps={link:null,isExGreen:!1,onClick:i.a,onMouseEnter:i.a,onMouseLeave:i.a};var w=y,S=s(6),k=s(3);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class I extends c.PureComponent{constructor(...e){super(...e),this.uid=C()("username_icons"),this.state={isTooltipVisible:!1},this.tooltipToggleHandler=e=>{e.stopPropagation();const{isTooltipVisible:t}=this.state;this.setState({isTooltipVisible:!t})}}_Gf(){const{isGenderIconHidden:e,user:t,size:s}=this.props;if(e)return null;const a=Math.floor(1.5*s);return d.a._("div",{className:"username-role-icon gender",key:"gender"},d.a._(S.a,{img:t.gender,size:a}))}_Gg(){const{isCurrentUser:e,isMyKnight:t,size:s,user:a}=this.props,{isTooltipVisible:i}=this.state,{tooltipProps:o={}}=this.props,n=Math.round(.9*s),r=k.j.touch?{onClick:this.tooltipToggleHandler}:{},l=C()(`username_knight_tooltip_${a.id}`);let c;return c=e?Object(v.d)("camChat.knightDescriptionMyself"):t?Object(v.d)("camChat.knightDescriptionMine"):Object(v.d)("camChat.knightDescription"),d.a._("div",{className:"username-role-icon knight",key:"knight"},d.a._("div",j({},r,{className:"icon-wrapper",id:l}),d.a._(S.a,{img:"knight",size:n})),Boolean(c)&&d.a._(b.a,j({className:"icon-tooltip",isForceVisible:i,shouldPreventDefault:!1,isMobileRelative:!1,placement:"right",targetId:l},o),c))}_Gh(){const e=C()(`username_vr_tooltip_${this.uid}`);return d.a._("div",{key:e,id:e,className:"username-icon-vr"},d.a._(S.a,{img:"vr"}),d.a._(b.a,{targetId:e},Object(v.d)("camChat.vrDescription")))}_Gi(){const{isMobileRelativeNote:e}=this.props,t=`UsernameNoteIndicator_${this.uid}`;return d.a._("div",{key:t,id:t,className:"username-icon-box-note"},d.a._(S.a,{img:"note"}),d.a._(b.a,{isMobileRelative:e,targetId:t},this.props.note))}_Gj(){const{isAdminIconVisible:e,size:t}=this.props;return d.a._("div",{className:"username-role-icon admin",key:"admin"},e?d.a._(S.a,{img:"admin",size:t}):null,d.a._("span",null,Object(v.d)("admin")))}_Gk(){const{size:e,user:t,tooltipProps:s={}}=this.props,a=C()(`username_king_tooltip_${t.id}`),i=Math.round(1.3*e);return d.a._("div",{className:"username-role-icon king",key:"king"},d.a._("div",{className:"icon-wrapper",id:a},d.a._(S.a,{img:"king",size:i})),d.a._(b.a,j({className:"icon-tooltip",placement:"right",isMobileRelative:!1,targetId:a},s),Object(v.d)("camChat.kingDescription")))}_Gl(){const{isModelIconVisible:e,size:t}=this.props;return e?d.a._("div",{className:"username-role-icon model",key:"model"},d.a._(S.a,{img:"webcam",size:t})):null}_Gm(){const{isIconVisible:e,isModelIconVisible:t,user:s}=this.props;if(!e)return null;const a=s.gender?this._Gf():null;return s.hasAdminBadge?[a,this._Gj()]:s.isModel&&t?this._Gl():a}_Gn(){const{frozenKingState:e,isAdditionIconVisible:t,isKing:s,isKingStateFrozen:a,isKnight:i,isNoteIndicatorVisible:o,isVrIconVisible:n,note:r,user:l}=this.props,{hasVrDevice:c}=l;if(!t)return null;const d=[];return(a?e:s)&&d.push(this._Gk()),i&&d.push(this._Gg()),n&&c&&d.push(this._Gh()),o&&Boolean(r)&&d.push(this._Gi()),d}render(){return d.a._("div",{className:"username-icons"},this._Gm(),this._Gn())}}I.displayName="UserNameIcons",I.defaultProps={frozenKingState:!1,isAdditionIconVisible:!0,isAdminIconVisible:!1,isCurrentUser:!1,isGenderIconHidden:!1,isIconVisible:!0,isKing:!1,isKingStateFrozen:!1,isKnight:!1,isModelIconVisible:!1,isMyKnight:!1,isNoteIndicatorVisible:!1,isVrIconVisible:!1,isMobileRelativeNote:!0,note:null,size:16};var T=I,P=s(510),M=s(15);class E extends c.PureComponent{constructor(...e){super(...e),this.uid=C()("username_level")}_Go(){return d.a._("div",{className:"level-icon-wrapper anonymous",id:this.uid},d.a._(S.a,{img:"incognito",size:16}),d.a._(b.a,{placement:"top",isMobileRelative:!1,targetId:this.uid},Object(v.d)("camChat.userLevelAnonIconTooltip")))}render(){const{user:e,isLevelStatusVisible:t,isLevelStatusTooltipVisible:s,isAnonymous:a}=this.props;let i=null;if(a)return this._Go();if(e.isGold?i=M.H.GOLD:e.isGreen?i=M.H.GREEN:e.isRegular&&(i=M.H.REGULAR),!t||!i)return null;const o=i===M.H.REGULAR?38:28;return d.a._("div",{className:"level-icon-wrapper",id:this.uid},s&&d.a._(P.a,{targetId:this.uid,level:i}),d.a._(S.a,{img:`user-${i}`,size:o}))}}E.displayName="UserNameLevel",E.defaultProps={isLevelStatusTooltipVisible:!0,isLevelStatusVisible:!1,isAnonymous:!1};var A=E,U=s(14),H=s(12);const L={emitJoinFanClubButtonEvent:g.c},R=Object(p.c)(e=>{const{auth:{currentUser:t}}=e,{shouldShow:s,isSubscribed:a}=Object(U.ob)(e);return{isSubscribed:a,shouldShowFanClubLink:s&&(!t||!t.isModel&&!t.isStudio)}},L)(e=>{const{fanClubTier:t,fanClubTierTerm:s,isSubscribed:a,shouldShowFanClubLink:i}=e,o=d.a._(H.a,{messageId:"fanClub.diamondTitle",elements:{link:i?d.a._("span",{onClick:()=>{e.emitJoinFanClubButtonEvent({isSubscribed:a})},className:"username-fan-club-link"}):d.a._("span",null)},parameters:{tier:Object(v.d)(h.J[t])}});return s?d.a._("div",null,d.a._("span",{className:"username-tier-title"},d.a._(u.a,{tier:t,size:18}),d.a._(H.a,{messageId:"fanClub.diamondTermTitle",parameters:{count:s},choiceParameter:"count"})),o):o}),F=e=>{const{fanClubTier:t,fanClubTierTerm:s,isVisibleTierTooltip:a,user:i}=e;if(!t)return null;const o=C()(`username_tier_tooltip_${i.id}`);return d.a._(d.a.Fragment,null,d.a._("div",{className:"username-tier-icon",id:o},d.a._(u.a,{tier:t,size:18}),a&&d.a._(b.a,{targetId:o,isMobileRelative:!1},d.a._(R,{fanClubTier:t,fanClubTierTerm:s,user:i}))))};F.displayName="UserNameTier";var D=F,x=s(435);class B extends d.a.Component{constructor(...e){super(...e),this.state={frozenKingState:null},this.usernameContentClickHandler=()=>{this.props.onUserNameContentClick(this.props.user)}}static getDerivedStateFromProps(e,t){const{isKing:s,isKingStateFrozen:a}=e,{frozenKingState:i}=t;return a&&n()(i)?{frozenKingState:s}:null}getRoleClass(){const{isKing:e,isKingStateFrozen:t,user:s,isAnonymous:a}=this.props,{frozenKingState:i}=this.state,o=[];return a?o.push("regular"):s.hasAdminBadge?o.push("admin"):s.isModel?o.push("model"):s.isGold?o.push("gold"):s.isGreen?o.push("green"):s.isGuest?o.push("guest"):o.push("regular"),(t?i:e)&&o.push("king"),o}getClassNames(){const{className:e,isColored:t}=this.props,s=this.getRoleClass();return Object(_.c)("username",e,s,{colored:t})}_Gq(){const{user:e,isLevelStatusVisible:t,isLevelStatusTooltipVisible:s,isAnonymous:a}=this.props;return d.a._(A,{user:e,isAnonymous:a,isLevelStatusVisible:t,isLevelStatusTooltipVisible:s})}_F(){const{link:e,user:t,isAnonymous:s}=this.props;let{username:a}=t;return s&&(a=Object(v.d)("camChat.someone")),d.a._(w,{isExGreen:t.isExGreen,link:e,username:a,onClick:this.usernameContentClickHandler,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave})}_Gm(){const{isAdditionIconVisible:e,isAdminIconVisible:t,isCurrentUser:s,isGenderIconHidden:a,isIconVisible:i,isKing:o,isKingStateFrozen:n,isKnight:r,isModelIconVisible:l,isMyKnight:c,isNoteIndicatorVisible:p,isVrIconVisible:u,isMobileRelativeNote:h,note:m,size:g,tooltipProps:b,user:_,isAnonymous:v}=this.props,{frozenKingState:f}=this.state;return v?null:d.a._(T,{frozenKingState:f,isAdditionIconVisible:e,isAdminIconVisible:t,isCurrentUser:s,isGenderIconHidden:a,isIconVisible:i,isKing:o,isKingStateFrozen:n,isKnight:r,isModelIconVisible:l,isMyKnight:c,isNoteIndicatorVisible:p,isVrIconVisible:u,isMobileRelativeNote:h,note:m,size:g,tooltipProps:b,user:_})}render(){const{fanClubTier:e,fanClubTierTerm:t,isVisibleTierTooltip:s,user:a}=this.props;if(l()(a))return m.c.error("Empty user supplied in UserName component props"),null;const i=this.getClassNames();return d.a._("div",{className:i,key:"username"},d.a._(D,{fanClubTier:e,fanClubTierTerm:t,isVisibleTierTooltip:s,user:a}),d.a._("div",{className:"username-level-wrapper"},d.a._("div",{className:"username-level"},this._Gq(),this._F())),this._Gm())}}B.displayName="UserName",B.defaultProps={className:null,isAdditionIconVisible:!0,isAdminIconVisible:!1,isColored:!0,isCurrentUser:!1,isGenderIconHidden:!1,isIconVisible:!0,isKing:!1,isKingStateFrozen:!1,isAnonymous:!1,isKnight:!1,isLevelStatusTooltipVisible:!0,isLevelStatusVisible:!1,isModelIconVisible:!1,isMyKnight:!1,isNoteIndicatorVisible:!1,isVrIconVisible:!1,isMobileRelativeNote:!0,isVisibleTierTooltip:!0,link:null,note:null,onMouseEnter:i.a,onMouseLeave:i.a,onUserNameContentClick:i.a,size:16};const V={emitJoinFanClubButtonEvent:g.c};t.b=Object(p.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a}}=e,{user:i,isNoteIndicatorVisible:o}=t;return{note:o?Object(x.b)(e,t):null,isCurrentUser:a&&s.id===i.id}},V)(B)},,,,,,,,,,function(e,t,s){"use strict";s.d(t,"b",(function(){return p})),s.d(t,"a",(function(){return u}));var a=s(0),i=s.n(a),o=s(400),n=s(10);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const l={1:"title-level-1-ds"},c=({as:e,level:t,className:s,children:a,...o})=>i.a._(e,{...o,className:Object(n.c)(s,"title-ds",l[t]||"")},a),d=e=>i.a._(c,r({as:"h1",level:"1"},e));d.displayName="TitleLevel1H1Internal";const p=e=>i.a._(c,r({as:"h2",level:"1"},e));p.displayName="TitleLevel1H2";const u=e=>i.a._(o.b,r({as:d,fallback:p},e));u.displayName="TitleLevel1H1"},function(e,t,s){"use strict";var a=s(8),i=s.n(a),o=s(0),n=s.n(o),r=s(5),l=s(32),c=s(17),d=s(60),p=s(3),u=s(20);class h extends d.a{_A(){super._A();const{source:e}=this.props;this.props.emitUiEvent(p.S.DEFAULT_MODAL_MOUNT,{source:e})}_F(){return n.a._("div",{className:"modal-body"},this.props.children)}}const m={emitUiEvent:c.e};h.propTypes={source:i.a.string.isRequired,...Object(u.a)(m)},h.defaultProps={...h.defaultProps,className:"default-modal"};t.a=Object(r.c)(null,e=>Object(l.b)(m,e))(h)},,,,function(e,t,s){"use strict";var a=s(385),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(3),l=s(10),c=s(21),d=s(55);s(20);const p=function(){if(Object(c.f)())return 0;const e=document._("div");e.style.visibility="hidden",e.style.position="absolute",e.style.width="100px";const t=document._("div");t.style.width="100%",document.body.appendChild(e);const s=e.offsetWidth;e.style.msOverflowStyle="scrollbar",e.style.overflow="scroll",e.appendChild(t);const a=t.offsetWidth;return e.parentNode.removeChild(e),s-a}()>0,u={onScrollY:"ps-scroll-y",onScrollX:"ps-scroll-x",onScrollUp:"ps-scroll-up",onScrollDown:"ps-scroll-down",onScrollLeft:"ps-scroll-left",onScrollRight:"ps-scroll-right",onYReachStart:"ps-y-reach-start",onYReachEnd:"ps-y-reach-end",onXReachStart:"ps-x-reach-start",onXReachEnd:"ps-x-reach-end"};class h extends n.a.Component{constructor(e){super(e),this.containerRefHandler=e=>{this.containerRef=e,this.props.containerRef&&this.props.containerRef(e)},this.containerRef=n.a.createRef(),this.psInstance=null}_A(){p?((Object(c.f)()?null:Promise.all([s.e(11).then(s.bind(null,962)),s.e(11).then(s.bind(null,963))])).then(([e])=>this.onModuleLoaded(e)),i()(u,(e,t)=>{const s=this.props[t];s&&Object(d.a)(this,this.containerRef,e,s)})):this.props.onNativeScroll&&Object(d.a)(this,this.containerRef,"scroll",this.props.onNativeScroll)}componentDidUpdate(){this.psInstance&&this.psInstance.update()}componentWillUnmount(){this.psInstance&&this.psInstance.destroy(),Object(d.b)(this)}onModuleLoaded({default:e}){const{libOptions:t}=this.props;let s={};(r.j.ie||r.j.edge)&&(s={scrollXMarginOffset:1,scrollYMarginOffset:1}),this.containerRef&&this.containerRef.parentElement&&(this.psInstance=new e(this.containerRef,{wheelPropagation:!0,...s,...t}))}render(){const{children:e,isAlwaysVisible:t,additionalClassName:s}=this.props;return n.a._("div",{className:Object(l.c)("scroll-bar-container",s,{"always-visible":t}),ref:this.containerRefHandler},e)}}h.displayName="ScrollBarContainer",h.defaultProps={isAlwaysVisible:!1,libOptions:{},additionalClassName:""},t.a=h},,,,,,,,function(e,t,s){"use strict";var a=s(39),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(6),l=s(10);class c extends n.a.PureComponent{constructor(...e){super(...e),this.onChangeHandler=e=>{this.props.onChange(!this.props.isChecked,e)}}render(){const{iconImg:e,className:t,size:s,theme:a,switcherIcon:i}=this.props,{isChecked:o}=this.props,c=Object(l.c)("switcher",s,t,{on:o,[a]:!0});return n.a._("div",{className:c,onClick:this.onChangeHandler},n.a._("div",{className:"switcher-wrapper"},n.a._("span",{className:"switcher-label"},n.a._(r.a,{img:e})),n.a._("span",{className:"switcher-switch"},Boolean(i)&&n.a._(r.a,{img:i})),n.a._("span",{className:"switcher-label"})))}}c.displayName="Switcher",c.defaultProps={iconImg:"check",isChecked:!1,onChange:i.a,size:"default",theme:"dark"},t.a=c},,,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(224);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class l extends i.a.Component{_A(){const e=[];this.props.events&&this.props.events.forEach(t=>e.push({subscriptionKey:t})),this.props.eventsWithCallbacks&&this.props.eventsWithCallbacks.forEach(({subscriptionKey:t,callback:s})=>e.push({subscriptionKey:t,callback:s})),this.updateSubscribtions({subscribeEvents:e})}componentDidUpdate(e){const t=[],s=[];this.props.events&&this.props.events.forEach(s=>{e.events&&e.events.includes(s)||t.push({subscriptionKey:s})}),this.props.eventsWithCallbacks&&this.props.eventsWithCallbacks.forEach(({subscriptionKey:s,callback:a})=>{e.eventsWithCallbacks&&e.eventsWithCallbacks.find(e=>e.subscriptionKey===s&&e.callback===a)||t.push({subscriptionKey:s,callback:a})}),e.events&&e.events.forEach(e=>{this.props.events&&this.props.events.includes(e)||s.push({subscriptionKey:e})}),e.eventsWithCallbacks&&e.eventsWithCallbacks.forEach(({subscriptionKey:e,callback:t})=>{this.props.eventsWithCallbacks&&this.props.eventsWithCallbacks.find(s=>s.subscriptionKey===e&&s.callback===t)||s.push({subscriptionKey:e,callback:t})}),this.updateSubscribtions({subscribeEvents:t,unsubscribeEvents:s})}componentWillUnmount(){const e=[];this.props.events&&this.props.events.forEach(t=>e.push({subscriptionKey:t})),this.props.eventsWithCallbacks&&this.props.eventsWithCallbacks.forEach(({subscriptionKey:t,callback:s})=>e.push({subscriptionKey:t,callback:s})),this.updateSubscribtions({unsubscribeEvents:e})}updateSubscribtions({subscribeEvents:e,unsubscribeEvents:t}){e&&e.length&&this.props.dispatch(Object(n.d)(e)),t&&t.length&&this.props.dispatch(Object(n.e)(t))}render(){return null}}l.displayName="SocketSubscriber";const c=e=>i.a._(o.b.Consumer,null,({store:t})=>i.a._(l,r({dispatch:t.dispatch},e)));c.displayName="SocketSubscriberConnected",t.a=c},,,,,,,,,function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(5),n=s(146),r=s(506),l=s(41);const c=new WeakMap;t.a=function(e){let t=c.get(e);return t||(t=Object(n.h)(t=>i.a._(r.a.Consumer,null,s=>i.a._(o.b.Consumer,null,({store:a})=>Object(l.b)(t,e.checkAccess,a.getState,s)?null:i.a._(e,t)))),c.set(e,t),t)}},function(e,t,s){"use strict";var a=s(111),i=s.n(a),o=s(35),n=s.n(o),r=s(192),l=s.n(r),c=s(70),d=s.n(c),p=s(45),u=s.n(p),h=s(33),m=s.n(h),g=s(136),b=s.n(g),_=(s(8),s(0)),v=s.n(_),f=s(219),C=s.n(f),N=s(5),O=s(6),y=s(102),w=s(10);class S extends v.a.Component{constructor(...e){super(...e),this._Gr=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)},this._Gs=e=>{this.focusHandler(e)},this._Gt=e=>{this.focusHandler(e)},this.focusHandler=e=>{this.props.focused||this.props.onFocus(this.props.option,e)},this.touchEventHandler=e=>{const{type:t}=e;"touchstart"===t?this.isTouchMoved=!1:"touchmove"===t?this.isTouchMoved=!0:"touchend"!==t||this.isTouchMoved||this._Gr(e)}}render(){const{option:e}=this.props,t=Object(w.c)(this.props.className,e.className);return e.disabled?v.a._("div",{className:t},this.props.children):v.a._("div",{className:t,onMouseDown:this._Gr,onMouseEnter:this._Gs,onMouseMove:this._Gt,onTouchStart:this.touchEventHandler,onTouchMove:this.touchEventHandler,onTouchEnd:this.touchEventHandler,style:e.style,title:e.title},this.props.children)}}S.displayName="SelectOption";var k=S,j=s(30);class I extends v.a.Component{constructor(...e){super(...e),this.labelMouseDownHandler=e=>{"mousedown"===e.type&&0!==e.button||this.props.onClick&&(e.stopPropagation(),this.props.onClick(this.props.option,e))},this.removeMouseDownHandler=e=>{"mousedown"===e.type&&0!==e.button||(e.preventDefault(),e.stopPropagation(),this.props.onRemove(this.props.option))}}render(){const{children:e,isDisabled:t,onClick:s,onRemove:a}=this.props;return v.a._("div",{className:"select-value"},s?v.a._(j.a,{className:"select-value-label",onMouseDown:this.labelMouseDownHandler,onTouchEnd:this.labelMouseDownHandler},e):v.a._("span",{className:"select-value-label"},e),Boolean(!t&&a)&&v.a._("span",{className:"select-value-icon",onMouseDown:this.removeMouseDownHandler,onTouchEnd:this.removeMouseDownHandler},v.a._(O.a,{img:"close-4",size:15})))}}I.displayName="SelectValue",I.defaultProps={isDisabled:!1};var T=I,P=s(534),M=s.n(P),E=s(3),A=s(1);function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const{iPhoneOrIPod:H}=E.j,L={border:0,width:1,display:"inline-block"};class R extends v.a.Component{constructor(...e){super(...e),this._Gr=e=>{if(!(this.props.isDisabled||"mousedown"===e.type&&0!==e.button)){if(e.stopPropagation(),e.preventDefault(),!this.props.isSearchable)return this.focus(),void this.setState({isOpen:!this.state.isOpen});if(this.state.isFocused){let t=!0;const s=[this.controlRef,this.inputRef];this.state.isOpen&&n()(s,e.currentTarget)&&(t=!1),this.setState({isOpen:t,isPseudoFocused:!1})}else this._openAfterFocus=!0,this.focus()}},this.touchEventHandler=e=>{const{type:t}=e;"touchstart"===t?this.isTouchMoved=!1:"touchmove"===t?this.isTouchMoved=!0:"touchend"!==t||this.isTouchMoved||this._Gr(e)},this._Gu=e=>{this.props.isDisabled||"mousedown"===e.type&&0!==e.button||this.state.isOpen&&(e.stopPropagation(),e.preventDefault(),this.closeMenu())},this._Gv=e=>{this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0,isOpen:this.state.isOpen||this._openAfterFocus}),this._openAfterFocus=!1},this._Gw=e=>{document.activeElement&&this.menuRef&&document.activeElement.isEqualNode(this.menuRef)||(this.props.onBlur&&this.props.onBlur(e),this.setState({inputValue:"",isFocused:!1,isOpen:!1,isPseudoFocused:!1}))},this._Gx=e=>{this.setState({isOpen:!0,isPseudoFocused:!1,inputValue:e.target.value})},this._Cb=e=>{if(!this.props.isDisabled){switch(e.keyCode){case E.C.backspace:return void(!this.state.inputValue&&this.props.isRemoveByBackspaceEnabled&&(e.preventDefault(),this.popValue()));case E.C.tab:return void(this.state.isOpen&&this.closeMenu());case E.C.enter:if(!this.state.isOpen)return;this.selectFocusedOption();break;case E.C.escape:this.state.isOpen?this.closeMenu():this.props.isClearable&&this.props.isClearByEscapeEnabled&&this.clearValue(e);break;case E.C.arrowUp:this.focusPreviousOption();break;case E.C.arrowDown:this.focusNextOption();break;default:return}e.preventDefault()}},this._Gy=(e,t)=>{const{onValueClick:s}=this.props;s&&s(e,t)},this._Gz=e=>{if(!this.props.onMenuScrollToBottom)return;const{target:t}=e;t.scrollHeight>t.offsetHeight&&!(t.scrollHeight-t.offsetHeight-t.scrollTop)&&this.props.onMenuScrollToBottom()},this.onSelectHandler=e=>{const{options:t}=this.props,s=m()(e.target.selectedOptions,"value"),a=d()(t,({value:e})=>u()(s,t=>l()(t)===l()(e)));this.props.isMultiple?(this.setValue(a),this.setState({inputValue:""})):(this.setValue(b()(a)),this.setState({inputValue:"",isPseudoFocused:this.state.isFocused}))},this._H0=e=>{e&&e.isDisabled||(this.props.isMultiple?(this.addValue(e),this.setState({inputValue:""})):(this.setValue(e),this.setState({isOpen:!1,inputValue:"",isPseudoFocused:this.state.isFocused})))},this._H1=e=>{this.setState({focusedOption:e})},this.clearValue=e=>{e&&"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.setValue(this.props.isMultiple?[]:null),this.setState({isOpen:!1,inputValue:""},()=>{this.focus()}))},this._H2=e=>{this.setValue(this.getValueArray().filter(t=>t!==e)),this.focus()},this.state={inputValue:"",isFocused:!1,isLoading:!1,isOpen:!1,isPseudoFocused:!1},this.defaultFilterHandler=(e,t,s)=>{let a=t;this.props.isStripDiacriticsEnabled&&(a=M()(a)),this.props.isCaseIgnored&&(a=i()(a));const o=s?s.map(e=>e[this.props.valueKey]):null;return e.filter(e=>{if(o&&o.indexOf(e[this.props.valueKey])>-1)return!1;if(this.props.filterOption)return this.props.filterOption.call(this,e,a);if(!a)return!0;let t,s=String(e[this.props.valueKey]),n=String(e[this.props.labelKey]);return this.props.isStripDiacriticsEnabled&&(this.props.isDefaultFilterByValue&&(s=M()(s)),this.props.isDefaultFilterByLabel&&(n=M()(n))),this.props.isCaseIgnored&&(this.props.isDefaultFilterByValue&&(s=i()(s)),this.props.isDefaultFilterByLabel&&(n=i()(n))),t=this.props.isDefaultFilterStartPositionOnly?this.props.isDefaultFilterByValue&&s.substr(0,a.length)===a||this.props.isDefaultFilterByLabel&&n.substr(0,a.length)===a:this.props.isDefaultFilterByValue&&s.indexOf(a)>=0||this.props.isDefaultFilterByLabel&&n.indexOf(a)>=0,t})},this._H3=e=>e[this.props.labelKey],this.getIsOpen=()=>{const{options:e,isMultiple:t}=this.props,{isOpen:s}=this.state,a=this.getValueArray(),i=t&&!e.length,o=a.length&&!this.state.inputValue;return(!i||!o)&&s},this.getIsNativeControlsAvailable=()=>{const{isSearchable:e,isMultiple:t,isDisabled:s}=this.props;return E.j.touch&&(!e||t)&&!s},this._H4=()=>{const e=this.getValueArray(),{options:t,isMultiple:s}=this.props;if(!this.getIsNativeControlsAvailable())return null;const a=Boolean(e.length);return v.a._("select",{className:"native-select",multiple:s,onChange:this.onSelectHandler,ref:e=>{e&&(a||H||(e.selectedIndex=-1))}},!s&&H&&v.a._("option",{value:"",key:"placeholder"}),t.filter(({isIgnoreNative:e})=>!e).map(({label:t,value:s})=>v.a._("option",{value:s,key:s,selected:u()(e,{value:s})},t)))},this._H5=()=>{const e=this.getValueArray(),{isMultiple:t,isDisabled:s}=this.props,a=this.getOptionsFiltered(t?e:null),i=this.getIsOpen(),o=this.getFocusableOption(e[0]);return s||!i?null:v.a._("div",{className:"select-menu-outer",style:this.props.menuContainerStyle},v.a._("div",{ref:e=>{this.menuRef=e},className:"select-menu",style:this.props.menuStyle},v.a._(y.a,{onNativeScroll:this._Gz,onScrollY:this._Gz},this._H6(a,t?null:e,o))))}}_A(){this.props.isFocusAfterMountEnabled&&this.focus()}componentDidUpdate(e,t,s){if(t.inputValue!==this.state.inputValue&&this.props.onInputChange&&this.props.onInputChange(this.state.inputValue),this._scrollToFocusedOptionOnUpdate&&this.focusedRef&&this.menuRef){this._scrollToFocusedOptionOnUpdate=!1;const e=C.a.findDOMNode(this.focusedRef),t=C.a.findDOMNode(this.menuRef),s=e.getBoundingClientRect(),a=t.getBoundingClientRect();(s.bottom>a.bottom||s.top<a.top)&&(t.scrollTop=e.offsetTop+e.clientHeight-t.offsetHeight)}}focus(){const{inputRef:e}=this;e&&e.focus()}closeMenu(){this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.isMultiple,inputValue:""})}getValueArray(){const{options:e,valueKey:t}=this.props,s=s=>{let a;return a="string"!=typeof s&&"number"!=typeof s?s:e?u()(e,{[t]:s}):null,a};let{value:a}=this.props;if(this.props.isMultiple){if("string"==typeof a&&(a=a.split(this.props.multipleValueDelimiter)),!Array.isArray(a)){if(null==a)return[];a=[a]}return a.map(s).filter(e=>e)}const i=s(a);return i?[i]:[]}setValue(e){this.props.onSelect&&this.props.onSelect(e)}addValue(e){this.setValue(this.getValueArray().concat(e))}popValue(){const e=this.getValueArray();e.length&&this.setValue(e.slice(0,e.length-1))}focusNextOption(){this.focusAdjacentOption("next")}focusPreviousOption(){this.focusAdjacentOption("previous")}focusAdjacentOption(e){const t=this._visibleOptions.filter(e=>!e.isDisabled);if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen)return void this.setState({isOpen:!0,inputValue:"",focusedOption:this._focusedOption||t["next"===e?0:t.length-1]});if(!t.length)return;let s=-1;for(let e=0;e<t.length;e+=1)if(this._focusedOption===t[e]){s=e;break}let a=t[0];"next"===e&&s>-1&&s<t.length-1?a=t[s+1]:"previous"===e&&(a=s>0?t[s-1]:t[t.length-1]),this.setState({focusedOption:a})}selectFocusedOption(){this._focusedOption&&this._H0(this._focusedOption)}getOptionsFiltered(e){const t=this.state.inputValue,s=this.props.options||[];return this.props.onFilter?this.props.onFilter(s,t,e):this.defaultFilterHandler(s,t,e)}_H7(){return this.props.isLoading&&v.a._("span",{className:"select-loading-zone","aria-hidden":"true"},v.a._("span",{className:"select-loading"}))}_H8(e){const t=this.getIsOpen(),s=this.props.valueRenderer||this._H3,a=this.props.valueComponent;if(!e.length)return this.state.inputValue?null:v.a._("div",{className:"select-placeholder"},this.props.placeholder||Object(A.d)("select.defaultPlaceholder"));const i=this.props.onValueClick?this._Gy:null;return this.props.isMultiple?e.map((e,t)=>v.a._(a,{isDisabled:this.props.isDisabled,key:`value-${t}-${e[this.props.valueKey]}`,onClick:i,onRemove:this._H2,option:e},s(e))):this.state.inputValue?null:v.a._(a,{isDisabled:this.props.isDisabled,onClick:t?i:null,option:e[0]},s(e[0]))}_Bb(){const{isDisabled:e,inputProps:t,isSearchable:s,tabIndex:a}=this.props,{inputValue:i}=this.state,o=Object(w.c)("select-input",t.className);return e||!s?v.a._("div",U({},t,{className:o,tabIndex:a||0,onBlur:this._Gw,onFocus:this._Gv,ref:e=>{this.inputRef=e},style:L})):v.a._("input",U({},t,{className:o,tabIndex:a,onBlur:this._Gw,onChange:this._Gx,onFocus:this._Gv,ref:e=>{this.inputRef=e},value:i}))}_Ha(){const{isClearable:e,isDisabled:t,isLoading:s,isMultiple:a,value:i}=this.props,o=!e||t||s,n=!i||a&&!i.length;if(o||n)return null;const r=this.props.isMultiple?this.props.textClearMultipleValues||Object(A.d)("select.clearMultipleValues"):this.props.textClearSingleValue||Object(A.d)("select.clearSingleValue");return v.a._("span",{className:"select-clear-zone",title:r,"aria-label":r,onMouseDown:this.clearValue,onTouchEnd:this.clearValue},v.a._(O.a,{img:"close-2",size:10}))}_Hb(){return v.a._("span",{className:"select-arrow-zone",onMouseDown:this._Gu},v.a._(O.a,{img:"arrow-down"}))}_H6(e,t,s){let a;if(e&&e.length){const i=this.props.optionComponent,o=this.props.optionRenderer||this._H3;a=e.map((e,a)=>{const n=t&&t.indexOf(e)>-1,r=e===s,l=Object(w.c)({"select-option":!0,"is-selected":n,"is-focused":r,disabled:e.isDisabled});return v.a._(i,{className:l,isDisabled:e.isDisabled,focused:r,key:`option-${a}-${e[this.props.valueKey]}`,onSelect:this._H0,onFocus:this._H1,option:e,isSelected:n,ref:e=>{this.focusedRef=r?e:null}},o(e))})}else a=v.a._("div",{className:"select-no-result"},this.props.noResultText||Object(A.d)("select.noResult"));return a}_Hc(e){if(!this.props.name)return null;const t=e.map(e=>(e=>"object"==typeof e?JSON.stringify(e):e)(e[this.props.valueKey])).join(this.props.multipleValueDelimiter);return v.a._("input",{type:"hidden",name:this.props.name,value:t,disabled:this.props.isDisabled})}getFocusableOption(e){const t=this._visibleOptions;if(!t.length)return null;const s=this.state.focusedOption||e;return s&&t.indexOf(s)>-1?s:u()(t,{isDisabled:!1})}render(){const e=this.getValueArray(),t=this.getOptionsFiltered(this.props.isMultiple?e:null);this._visibleOptions=t;const s=this.getFocusableOption(e[0]);this._focusedOption=s;const a=Object(w.c)("select",this.props.className,{"is-multiple":this.props.isMultiple,"is-for-native-controls":this.getIsNativeControlsAvailable(),disabled:this.props.isDisabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":this.getIsOpen(),"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.isSearchable,"has-value":e.length,[`select-${this.props.size}`]:!0});return v.a._("div",{className:a,id:this.props.id,style:this.props.wrapperStyle},this._Hc(e),v.a._("div",{ref:e=>{this.controlRef=e},className:"select-control",style:this.props.controlStyle,onKeyDown:this._Cb,onMouseDown:this._Gr,onTouchStart:this.touchEventHandler,onTouchMove:this.touchEventHandler,onTouchEnd:this.touchEventHandler},this._H8(e),this._Bb(),this._H7()),this._H4(),this._H5(),this._Ha(),this._Hb())}}R.displayName="Select",R.defaultProps={inputProps:{},isCaseIgnored:!0,isClearable:!1,isClearByEscapeEnabled:!0,isDefaultFilterByLabel:!0,isDefaultFilterByValue:!0,isDefaultFilterStartPositionOnly:!1,isDisabled:!1,isLoading:!1,isMultiple:!1,isRemoveByBackspaceEnabled:!0,isSearchable:!1,isStripDiacriticsEnabled:!0,labelKey:"label",multipleValueDelimiter:",",noResultText:null,onFilter:null,optionComponent:k,placeholder:null,size:"default",textClearMultipleValues:null,textClearSingleValue:null,valueComponent:T,valueKey:"value"};t.a=Object(N.c)(e=>{const{ui:{windowWidth:t,windowHeight:s}}=e;return{windowWidth:t,windowHeight:s}},null,null,{forwardRef:!0})(R)},function(e,t,s){"use strict";s.d(t,"a",(function(){return v}));var a=s(2),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(5),l=s(30),c=s(127),d=s(58),p=s(383),u=s(6),h=s(10),m=s(72),g=s(34),b=s(29),_=s(507);class v extends n.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:b.J,action:()=>{this.resizeComponent()}}],this.resizeComponent=()=>{const{avatarRef:e}=this;e&&!this.props.size&&(e.style.lineHeight=`${e.offsetHeight}px`,e.style.fontSize=`${Math.ceil(e.offsetHeight/2)}px`)}}_A(e,t,s){this.resizeComponent(),Object(g.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(g.a)(this.propsUpdateToActionsMap,e,this.props)}render(){const{base64Preview:e,children:t,className:s,size:a,showOnlineStatus:o,user:r,isAwardBadgeVisible:c,isLoading:d,isLink:g,isInFavorites:b,shouldLinkOpenNewTab:v,profileUrl:f}=this.props;if(r&&(r.isDeleted||r.isBlocked))return n.a._("span",{className:Object(h.c)("avatar",s),ref:e=>{this.avatarRef=e}},n.a._(u.a,{img:"deleted-user"}));const C=i()(r,"avatarUrl",e),N=i()(r,"username");let O={},y="";a&&(O={...O,borderRadius:`${a}px`,height:`${a}px`,lineHeight:`${a}px`,width:`${a}px`}),!C&&N?(O={...O,backgroundColor:`#${Object(m.n)(N)}`,fontSize:`${Math.ceil(a/2)}px`},y=N.charAt(0)):O.backgroundImage=!d&&C?`url(${C})`:"none";const w=o&&r&&r.isOnline&&r.id!==i()(this.props.currentUser,"id"),S=n.a._("span",{className:Object(h.c)("avatar",s,{empty:!C}),ref:e=>{this.avatarRef=e},style:O},y,t,c&&n.a._(p.a,{username:r.username,place:r.topBestPlace,hallOfFamePosition:r.hallOfFamePosition,size:34,topMedalHeight:42}),w&&n.a._(_.a,{status:"online"}),b&&n.a._("div",{className:"icon-favorited-wrapper"},n.a._(u.a,{img:"favorited"})));return g?n.a._(l.a,{to:f,target:v?"_blank":null},S):S}}v.displayName="Avatar",v.defaultProps={isAwardBadgeVisible:!1,isLink:!1,isLoading:!1,isInFavorites:!1,isFavoriteBadgeVisible:!1,profileUrl:null,shouldLinkOpenNewTab:!1,showOnlineStatus:!0};t.b=Object(r.c)((e,t)=>{const{auth:{currentUser:s},ui:{windowWidth:a,windowHeight:i}}=e,{isLink:o,isFavoriteBadgeVisible:n,user:{id:r,username:l}}=t;return{base64Preview:Object(d.j)(e,r),currentUser:s,isInFavorites:n&&Object(c.f)(e,r),windowWidth:a,windowHeight:i,profileUrl:o?Object(d.q)(e,l):null}})(v)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s(0),i=s.n(a),o=s(34);class n extends i.a.Component{_A(){Object(o.a)(this.props.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(o.a)(this.props.propsUpdateToActionsMap,e,this.props)}render(){return this.props.children}}n.displayName="PropsUpdateWrapper"},,,,,,,,function(e,t,s){"use strict";s.d(t,"q",(function(){return a})),s.d(t,"f",(function(){return i})),s.d(t,"c",(function(){return o})),s.d(t,"d",(function(){return n})),s.d(t,"p",(function(){return r})),s.d(t,"b",(function(){return l})),s.d(t,"i",(function(){return c})),s.d(t,"r",(function(){return d})),s.d(t,"j",(function(){return p})),s.d(t,"e",(function(){return u})),s.d(t,"n",(function(){return h})),s.d(t,"m",(function(){return m})),s.d(t,"k",(function(){return g})),s.d(t,"l",(function(){return b})),s.d(t,"h",(function(){return _})),s.d(t,"a",(function(){return v})),s.d(t,"g",(function(){return f})),s.d(t,"o",(function(){return C}));const a=()=>s.e(19).then(s.bind(null,983)),i=()=>s.e(9).then(s.bind(null,966)),o=()=>s.e(9).then(s.bind(null,981)),n=()=>s.e(9).then(s.bind(null,973)),r=()=>s.e(9).then(s.bind(null,977)),l=()=>s.e(9).then(s.bind(null,967)),c=()=>s.e(9).then(s.bind(null,968)),d=()=>s.e(9).then(s.bind(null,969)),p=()=>s.e(9).then(s.bind(null,982)),u=()=>s.e(9).then(s.bind(null,974)),h=()=>s.e(17).then(s.bind(null,970)),m=()=>s.e(17).then(s.bind(null,978)),g=()=>s.e(17).then(s.bind(null,979)),b=()=>s.e(17).then(s.bind(null,971)),_=()=>s.e(10).then(s.bind(null,976)),v=()=>s.e(10).then(s.bind(null,980)),f=()=>s.e(10).then(s.bind(null,975)),C=()=>s.e(18).then(s.bind(null,972))},,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s(120);var a=s(149),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(146),l=s(506),c=s(3);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const p=e=>n.a._(l.a.Consumer,null,t=>{const{status:s,to:a,location:{search:o=""},...l}=e;let c,p=o;if(a&&(i()(a)?(({pathname:c,search:p}=a),p||(p=o)):c=a),t&&(t.status=s,t.redirectUrl=c?`${c}${p}`:""),!a)return null;const u={pathname:c,search:p};return n.a._(r.a,d({to:u},l))});p.displayName="Redirector",p.defaultProps={...r.a.defaultProps,status:c.A.TEMPORARY_REDIRECT,to:""},t.a=Object(r.h)(p)},,,function(e,t,s){"use strict";var a=s(106),i=s.n(a),o=s(39),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(3),d=s(34),p=s(29),u=s(523),h=s(87);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class g extends l.a.Component{constructor(...e){super(...e),this.state={isPopupVisible:!1,isKnight:!1,isMyKnight:!1,isShowMuteAndBanButtonsInPopup:!1,isShowKnightButtonInPopup:!1},this.uid=i()("view_cam_username"),this._Hd=void 0,this.propsUpdateToActionsMap=[{update:p.F,action:()=>this.interfaceBlockChangeHandler(this.props)}],this.interfaceBlockChangeHandler=({currentBlockingComponent:e})=>{this._Hd.contains(e)&&this.hidePopupNow()},this.clearPopupTimeouts=()=>{this.showPopupTimeout&&clearTimeout(this.showPopupTimeout),this.hidePopupTimeout&&clearTimeout(this.hidePopupTimeout)},this.showPopupNow=()=>{this.setState({isPopupVisible:!0})},this.hidePopupNow=()=>{this.setState({isPopupVisible:!1})},this.showPopupDelayed=()=>{this.clearPopupTimeouts(),this.showPopupTimeout=setTimeout(this.showPopupNow,300)},this.hidePopupDelayed=()=>{this.clearPopupTimeouts(),this.hidePopupTimeout=setTimeout(this.hidePopupNow,300)},this.mouseEnterHandler=()=>{this.hidePopupNow(),this.clearPopupTimeouts(),this.showPopupDelayed()},this.mouseLeaveHandler=()=>{this.hidePopupDelayed()},this.popupMouseLeaveHandler=()=>{this.hidePopupDelayed()},this.popupMouseMoveHandler=()=>{this.clearPopupTimeouts()},this.onClickHandler=()=>{const{user:e}=this.props;this.props.onClick(e)}}_A(){Object(d.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(d.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this.clearPopupTimeouts()}_He(){const{isKnight:e,isMyKnight:t,isShowMuteAndBanButtonsInPopup:s,isShowKnightButtonInPopup:a}=this.props,{isPopupVisible:i}=this.state;return i?l.a._(u.a,{key:"popup",modelId:this.props.modelId,onMouseLeave:this.popupMouseLeaveHandler,onMouseMove:this.popupMouseMoveHandler,isKing:this.props.isKing,isKnight:e,isMyKnight:t,targetId:this.uid,user:this.props.user,isShowKnightButton:a,isShowMuteAndBanButtons:s}):null}render(){const{fanClubTierTerm:e,forceKnightIconDisplay:t,isKing:s,isKnight:a,isMyKnight:i,isColored:o,isAnonymous:r,isPopupEnabled:d,isMobileRelativeNote:p,modelId:u,user:g}=this.props,b=d&&u!==g.id&&!c.j.touch,_={};return"fanClubTier"in this.props&&(_.fanClubTier=this.props.fanClubTier),_.fanClubTierTerm=e,l.a._("div",{className:"view-cam-username",id:this.uid,ref:e=>{this._Hd=e},onClick:this.onClickHandler},l.a._(h.b,m({isAdminIconVisible:!0,isGenderIconHidden:!0,isNoteIndicatorVisible:!0,isIconVisible:!0,isVrIconVisible:!0,forceKnightIconDisplay:t,isKnight:a,isKing:s,isMyKnight:i,isColored:o,isAnonymous:r,isMobileRelativeNote:p,modelId:u,size:14,user:g,onMouseEnter:b?this.mouseEnterHandler:n.a,onMouseLeave:b?this.mouseLeaveHandler:n.a},_)),this._He())}}g.displayName="ViewCamUserName",g.defaultProps={isIconVisible:!0,isMobileRelativeNote:!0,onClick:n.a},t.a=g},,,,,,,,,,,,,function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(398),n=s(247);const r=()=>i.a._("div",{className:"media-up-to-m-hidden categories-page-block"},i.a._(n.a,{type:"compact"}),i.a._(o.a,{key:"categoriesInLeftColumn",showCounts:!0,className:"model-list-filter"}));r.displayName="CategoriesPageBlock",t.a=r},,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a=s(0),i=s.n(a),o=s(6);const n={tier1:"diamond-soldier",tier2:"diamond-lord",tier3:"diamond-prince"},r=({tier:e,size:t=14})=>i.a._(o.a,{img:e?n[e]:"diamond",size:t,className:e?`tier-icon-${e}`:""});r.displayName="UserFanClubTierIcon"},function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return l}));var a=s(0),i=s.n(a),o=s(13);function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const r=({rel:e,...t})=>i.a._("a",n({},t,{target:"_blank",rel:`nofollow noopener noreferrer${e||""}`}));r.displayName="WikiLink";const l=({rel:e,...t})=>i.a._(o.a,n({},t,{type:"anchor",target:"_blank",rel:`nofollow noopener noreferrer${e||""}`}));l.displayName="WikiLinkButton"},,,,,,,function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return l}));var a=s(0),i=s.n(a),o=s(5);const n=i.a.createContext(null),r=Object(o.c)(({auth:e})=>e)(({children:e,currentUser:t})=>i.a._(n.Provider,{value:t},e)),l=n.Consumer},,,,,,,,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(10);const n=({size:e,country:t,className:s})=>{const a=Object(o.c)("flag",`size-${e}`,`flag-${t.toLowerCase()}`,s);return i.a._("span",{className:a})};n.displayName="CountryFlag",n.defaultProps={size:"small",className:""},t.a=n},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(290),r=s(29);class l extends i.a.Component{constructor(...e){super(...e),this.getPagesCount=()=>Math.ceil(this.props.itemsCount/this.props.pageSize)}_Hf(){const{currentPage:e,pageChangeCallback:t,hiddenButtons:s,isLayoutUpToL:a,isLayoutUpToM:o,isLayoutUpToS:r}=this.props,l=this.getPagesCount(),c=l,d=[];let p=e,u=p;const h=r?2:3;if(l<(r?5:7)){1!==e&&d.push(i.a._(n.a,{key:"to-begining",type:o?"beginning-small":"beginning",onClick:t,pageNumber:1,isHidden:s}));for(let a=1;a<=l;a+=1)d.push(i.a._(n.a,{key:a,type:"page",active:e===a,onClick:t,pageNumber:a,isHidden:s,isDisabled:e===a}));return d}e<h?p=h:e>l-h&&(p=l-h+1),e>h&&d.push(i.a._(n.a,{key:1,type:o?"beginning-small":"beginning",onClick:t,pageNumber:1,isHidden:s}));const m=Math.ceil(h/2),g=p+m;let b=!0;for(let a=p-m;a<=g;a+=1)a===l&&(b=!1),d.push(i.a._(n.a,{key:a,type:"page",active:e===a,onClick:t,pageNumber:a,isHidden:s,isDisabled:e===a})),u=a;if(u<l-1&&!a){const e=Math.floor(u+(l-u)/2);d.push(i.a._(n.a,{key:e,type:l-u==2?"page":"ellipsis",onClick:t,pageNumber:e,isHidden:s,isDisabled:l-u!=2}))}return!a&&b&&d.push(i.a._(n.a,{key:c,type:"page",active:e===c,onClick:t,pageNumber:c,isHidden:s,isDisabled:e===c})),d}render(){const{currentPage:e,hiddenButtons:t,isLayoutUpToM:s,itemsCount:a,pageChangeCallback:o,pageSize:r}=this.props;return a<=r?null:i.a._("div",{className:"pagination"},this._Hf(),i.a._(n.a,{type:s?"next-small":"next",onClick:o,pageNumber:e+1,isHidden:e>=this.getPagesCount()||t}))}}l.displayName="Pagination",l.defaultProps={pageSize:10,itemsCount:0};t.a=Object(o.c)(e=>({isLayoutUpToL:Object(r.q)(e),isLayoutUpToM:Object(r.r)(e),isLayoutUpToS:Object(r.s)(e)}))(l)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(6),n=s(1);const r=e=>{const{isActive:t,onClick:s}=e;return i.a._("a",{className:"edit-button",onClick:s},t?i.a._("button",{className:"btn btn-extra-small btn-apply"},Object(n.d)("button.save")):i.a._(o.a,{img:"edit"}))};r.displayName="EditButton",r.defaultProps={isActive:!1},t.a=r},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(146),r=s(282),l=s(141),c=s(249),d=s(10),p=s(31);const u=e=>{const{isEmbedded:t,menuItems:s}=e,a=s.findIndex(e=>e.isActive);return i.a._(c.a,{className:"nav-left",activeIndex:a},s.map(e=>i.a._("div",{className:"header-sub-item-wrapper",key:e.tag.url},i.a._(r.a,{className:Object(d.c)("link",{active:e.isActive}),shouldPreventDefault:t,tag:e.tag}))))};u.displayName="ModelFilter";var h=Object(n.h)(Object(o.c)(e=>({menuItems:Object(p.L)(e)?Object(l.d)(e):Object(l.c)(e)}))(u)),m=s(767),g=s(398),b=s(48),_=s(14),v=s(6),f=s(1);s(20);const C=e=>{const{isSwitchingAvailable:t,goToModel:s}=e;if(!t)return null;return i.a._("div",{className:"next-model-button",onClick:()=>{s("next")}},i.a._("span",{className:"next-model-button-label"},Object(f.d)("viewCam.nextModel")),i.a._(v.a,{img:"next-small",size:15}))};C.displayName="NextModelButton";const N={goToModel:b.j};C.defaultProps={isSwitchingAvailable:!1};var O=Object(o.c)(e=>{const{broadcast:{isBroadcastingPageOpen:t},modelFilter:{isNextModelAvailable:s}}=e;return{isSwitchingAvailable:!Object(_.G)(e)&&s&&!t}},N)(C),y=s(386),w=s(17);class S extends i.a.Component{constructor(...e){super(...e),this.allTagsClickHandler=e=>{e.preventDefault(),e.stopPropagation(),this.getIsAllTagsDropdownOpen()?this.props.releaseInterface():this.props.blockInterface(this.allTagsDropdownTriggerRef)},this.dropDownMenuClickHandler=e=>{e.stopPropagation();const{parentBlockingComponent:t,isInterfaceBlocked:s}=this.props;s&&this.allTagsDropdownTriggerRef===t&&this.props.blockInterface(t,null)}}getIsAllTagsDropdownOpen(){const{currentBlockingComponent:e,parentBlockingComponent:t,isInterfaceBlocked:s}=this.props;return s&&(e===this.allTagsDropdownTriggerRef||t===this.allTagsDropdownTriggerRef)}_Hh(){const{isCategoriesHidden:e}=this.props;if(e)return null;const t=this.getIsAllTagsDropdownOpen();return i.a._("button",{className:Object(d.c)("btn dropdown-link all-tags-dropdown-trigger",{open:t}),onClick:this.allTagsClickHandler,ref:e=>{this.allTagsDropdownTriggerRef=e}},i.a._(v.a,{img:"categories",size:16}),i.a._(v.a,{className:"xs-only",img:"close-2",size:16}),i.a._("span",{className:"dropdown-label media-up-to-xs-hidden"},Object(f.d)("tagGroups.categories"),i.a._("span",{className:"dropdown-arrow"},i.a._(v.a,{img:"selectbox",size:8}))))}_Hi(){const{isCategoriesHidden:e}=this.props;return e||!this.getIsAllTagsDropdownOpen()?null:i.a._("div",{className:"model-filter-dropdown-wrapper",onClick:this.dropDownMenuClickHandler},i.a._(y.a,{parentBlockingComponent:this.allTagsDropdownTriggerRef}),i.a._(g.a,{className:"model-filter-dropdown",analyticsTagSource:"dropdown",shouldReleaseInterface:!0}))}render(){const{isSearchFormExpanded:e,isEmbedded:t,searchString:s,hasSearch:a,hasCategories:o,hasNextModel:n}=this.props;return i.a._(i.a.Fragment,null,i.a._("nav",{className:"nav-right"},!e&&n&&i.a._(O,null),!e&&o&&this._Hh(),a&&i.a._(m.a,{isEmbedded:t,searchString:s,shouldReleaseInterface:!0})),!e&&this._Hi())}}S.displayName="HeaderSubControls";const k={blockInterface:w.a,releaseInterface:w.p};S.defaultProps={hasCategories:!1,hasNextModel:!1,hasSearch:!0,isEmbedded:!1};var j=Object(o.c)(e=>{const{ui:{currentBlockingComponent:t,isInterfaceBlocked:s,parentBlockingComponent:a},modelFilter:{isSearchFormExpanded:i,searchString:o}}=e;return{isCategoriesHidden:Object(p.J)(e),isSearchFormExpanded:i,searchString:o,currentBlockingComponent:t,isInterfaceBlocked:s,parentBlockingComponent:a}},k)(S),I=s(201),T=s.n(I),P=s(162),M=s.n(P),E=s(30);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class U extends i.a.Component{constructor(...e){super(...e),this._Hj=e=>{const{badge:t,className:s,href:a,icon:o,customItem:n,isUpperCase:r=!0,isActive:l,label:c,route:p,count:u,onClick:h}=e,m=u?i.a._("span",{className:"header-sub-item-count"},u):null;let g=null;g=a?i.a._("a",A({className:"link",href:a,onClick:h},M()(l)?{isActive:l}:{}),t||null,T()(c),m):n||i.a._(E.b,A({className:"link",to:p,onClick:h},M()(l)?{isActive:l}:{}),t||null,r?T()(c):c,m);const b=[a,p,c,h?h.toString():""].join(":");return i.a._("div",{className:Object(d.c)("header-sub-item-wrapper",s),key:b},o,g)}}render(){const{items:e}=this.props;if(!e.length)return i.a._("div",{className:"nav-left"});const t=e.findIndex(e=>e.isActive);return i.a._(c.a,{className:"nav-left",activeIndex:t},e.map(this._Hj))}}U.displayName="HeaderSubCustomMenu",U.defaultProps={items:[]};var H=Object(n.h)(U),L=s(61),R=s(26);class F extends i.a.Component{constructor(...e){super(...e),this.shouldComponentUpdate=Object(L.b)({props:["items","location","isSearchFormExpanded","hasCategories","hasNextModel","hasSearch","isEmbedded"]}),this._Hk=()=>{const{items:e,isEmbedded:t}=this.props;return void 0!==e?i.a._(H,{items:e}):i.a._(h,{isEmbedded:t})}}render(){const{className:e,isSearchFormExpanded:t,hasSearch:s,hasCategories:a,hasNextModel:o}=this.props;return i.a._("div",{className:Object(d.c)("header-sub",e)},i.a._("div",{className:Object(d.c)("container",{"search-expanded":t})},this._Hk(),i.a._(j,{hasSearch:s,hasCategories:a,hasNextModel:o})))}}F.displayName="HeaderSub",F.defaultProps={className:"",hasCategories:!1,hasNextModel:!1,hasSearch:!1,isEmbedded:!1,items:void 0};t.a=Object(n.h)(Object(o.c)((e,t)=>{const{modelFilter:{isSearchFormExpanded:s}}=e,a=Object(R.f)(e);return{hasCategories:t.hasCategories&&!a,hasSearch:t.hasSearch&&!a,isSearchFormExpanded:s}})(F))},function(e,t,s){"use strict";var a=s(150),i=s.n(a),o=s(2),n=s.n(o),r=s(203),l=s.n(r),c=(s(38),s(8),s(0)),d=s.n(c),p=s(5),u=s(355),h=s(384),m=s(58),g=s(46),b=s(152),_=s(292),v=s.n(_),f=s(21);const C={root:null,rootMargin:"0px",threshold:[1]};class N extends d.a.Component{constructor(e){super(e),this.intersectionCallback=e=>{clearTimeout(this.commitTimeout),e.forEach(e=>{if(1===e.intersectionRatio){this.intersectedElements.push(e.target);const t=this.observers.get(e.target);t&&(t.unobserve(e.target),t.disconnect(),this.observers.delete(e.target))}}),this.commitTimeout=setTimeout(()=>{this.props.onIntersection(this.intersectedElements)},200)},this.observers=new Map,this.intersectedElements=[],this.commitTimeout=null}componentDidUpdate(e,t,s){this.start(document.querySelectorAll(this.props.selector))}start(e){if(Object(f.f)()||!("IntersectionObserver"in window))return null;document.scrollingElement.scrollTop+=1,this.intersectedElements.length&&this.props.onIntersection(this.intersectedElements),this.intersectedElements=[],clearTimeout(this.commitTimeout),this.observers.forEach((e,t)=>{e.unobserve(t),e.disconnect()}),this.observers=new Map,e&&v()(e,e=>{const t=new IntersectionObserver(this.intersectionCallback,C);t.observe(e),this.observers.set(e,t)})}render(){const{children:e}=this.props;return e}}N.displayName="IntersectionObserverComponent";var O=N,y=s(269),w=s(247),S=s(10),k=s(31);class j extends d.a.Component{constructor(...e){super(...e),this.onIntersection=e=>{const t=e.map(e=>parseInt(n()(e.id.match(/[0-9]+/),[0]),10));l()(t,e=>i()(e))&&this.props.updateSeenModelsInViewport(t)}}_Hl(){const{hasFiltersColumn:e}=this.props;return e?d.a._(w.a,null):null}_Hm(){const{inlineTags:e}=this.props;return!e||e&&0===e.length?null:d.a._(y.a,{className:"media-after-l-hidden",tags:e,shouldRoute:!0,shouldShowMore:!0,variant:"with-scroll"})}_F(){const{children:e,excludeIds:t,isLazyLoading:s,isPaginated:a,isSearchMode:i,models:o,shouldLogPopularSnapshot:n,shouldShowPopularSnapshot:r,sortBy:l,tag:p,underModelsList:h}=this.props;return d.a._(c.Fragment,null,d.a._("div",{key:"modelsList",className:Object(S.c)("model-list-container")},this._Hl(),this._Hm(),e,d.a._(u.a,{excludeIds:t,isOnlineStatusVisible:i,isPaginated:a,isLazyLoading:s,models:o,isPaginatedChildrenPerPageMode:!i,shouldLogPopularSnapshot:n,shouldShowPopularSnapshot:r,tagUrl:p.url,sortBy:l}),h))}_Hn(){const{shouldMarkThumbsAsSeen:e}=this.props;return e?d.a._(O,{selector:".model-list-item",onIntersection:this.onIntersection},this._F()):this._F()}render(){return d.a._("div",{className:Object(S.c)("model-list-wrapper",this.props.className)},d.a._(h.a,null),this._Hn())}}j.displayName="ModelListWrapper";const I={updateSeenModelsInViewport:b.j};j.defaultProps={excludeIds:[],inlineTags:null,isLazyLoading:!1,isPaginated:!1,tagsMenu:null,underModelsList:null};t.a=Object(p.c)((e,t)=>{const{auth:s,modelFilter:{limit:a,offset:i,sortBy:o,tag:n},viewCam:{modelUsername:r}}=e,l=Object(m.r)(e),c=Object(m.d)(e);return{inlineTags:Object(g.d)(e),isLazyLoading:t.isLazyLoading&&!l,isLoggedIn:s.isLoggedIn&&!s.isLoggingOut,isPaginated:t.isPaginated&&!l,isSearchMode:l,limit:a,models:c,modelUsername:r,offset:i,shouldMarkThumbsAsSeen:Object(f.d)()&&s.isLoggedIn&&Object(k.F)(e),sortBy:o,tag:n}},I)(j)},,,,function(e,t,s){"use strict";var a=s(2),i=s.n(a),o=s(115),n=s.n(o),r=(s(8),s(0)),l=s.n(r);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const d=({className:e,shouldAnalyzePaymentSettings:t,type:s,user:a,...o})=>{const r=n()([e,"badge",`badge-${s}`]).join(" ");return t&&!i()(a,"hasPayoutSettingsAlert")?null:l.a._("div",c({className:r},o))};d.displayName="Badge",d.defaultProps={shouldAnalyzePaymentSettings:!1,user:null,type:"default"},t.a=d},,,,,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(13),r=s(503),l=s(3),c=s(1),d=s(41);s(20);const p=({routerPush:e,status:t})=>i.a._(r.a,{status:t},i.a._("div",{className:"not-found-error container"},i.a._("div",{className:"text-wrapper"},t),i.a._("div",{className:"description-wrapper"},i.a._("div",{className:"description"},Object(c.d)("notFound.notFoundError.title")),i.a._(n.a,{style:"signup",onClick:()=>{e("/")},size:"medium"},Object(c.d)("notFound.notFoundError.button")))));p.displayName="NotFoundError";const u={routerPush:d.H};p.defaultProps={status:l.A.NOT_FOUND},t.a=Object(o.c)(null,u)(p)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(32),r=s(12),l=s(6),c=(s(195),s(10)),d=s(1),p=(s(20),s(36)),u=s(26),h=s(68);class m extends i.a.Component{constructor(...e){super(...e),this.clickHandler=()=>{this.props.giveawayBannerClickHandler()}}render(){const{className:e,isVisible:t,type:s}=this.props;if(!t)return null;const a="compact"===s;return i.a._("div",{className:Object(c.c)(e,"tokens-giveaway-banner",{compact:a}),onClick:this.clickHandler},i.a._("div",{className:" tokens-giveaway-banner-container"},i.a._(l.a,{className:"tokens-giveaway-icon",img:"tokens-2"}),i.a._("div",{className:"tokens-giveaway-description"},i.a._("div",{className:"tokens-giveaway-amount"},Object(d.d)("tokensGiveawayBanner.tokens")),i.a._("div",{className:"tokens-giveaway-title"},i.a._(r.a,{elements:{span:i.a._("span",{className:"tokens-giveaway-title-part"}),br:i.a._("br",null)},messageId:a?"tokensGiveawayBanner.titleShort":"tokensGiveawayBanner.titleFull"})))))}}m.displayName="TokensGiveawayBanner";const g={giveawayBannerClickHandler:h.c};m.defaultProps={className:"",type:"default"};t.a=Object(o.c)(e=>{const{auth:t}=e,s=Object(p.f)(e),a=Object(u.f)(e),i=t.isLoggedIn&&!t.isLoggingOut,o=Object(p.c)(e);return{isVisible:s.tokensGiveaway&&!o&&!i&&!a}},e=>Object(n.b)(g,e))(m)},function(e,t,s){"use strict";s.d(t,"a",(function(){return z}));s(120);var a=s(39),i=s.n(a),o=s(35),n=s.n(o),r=s(2),l=s.n(r),c=s(409),d=s(8),p=s.n(d),u=s(0),h=s.n(u),m=s(30),g=s(7),b=s(6),_=s(43),v=s(1);class f extends h.a.Component{render(){const{model:{id:e,isHd:t,isMobile:s,isVr:a,status:i,hasGroupShowAnnouncement:o,groupShowType:n},shouldShowVrAttributes:r}=this.props;let l,c;if(s)l=h.a._(b.a,{img:"badge-mobile"}),c="modelList.broadcastType.mobile";else if(a&&r)l=h.a._(b.a,{img:"badge-vr"}),c="modelList.broadcastType.vr";else if(t)l=h.a._(b.a,{img:"badge-hd"}),c="modelList.broadcastType.hd";else if(i!==g.lb.STATUS_GROUP_SHOW&&o&&"ticket"===n)l=h.a._(b.a,{img:"group"}),c="modelList.broadcastType.ticket";else{if(i===g.lb.STATUS_GROUP_SHOW||!o)return null;l=h.a._(b.a,{img:"group"}),c="modelList.broadcastType.group"}const d=`model_${e}_broadcast_type`;return h.a._("div",{className:"broadcast-type",id:d},l,h.a._(_.a,{isMobileRelative:!1,placement:"top",shouldPreventDefault:!0,targetId:d},Object(v.d)(c)))}}f.displayName="BroadcastTypeIcon";var C=f;const N=({model:e})=>{const{status:t}=e;let s,a;return e.doSpy||t!==g.lb.STATUS_PRIVATE?t===g.lb.STATUS_P2P||t===g.lb.STATUS_P2P_VOICE?(s=Object(v.d)("modelList.status.cam2cam"),a="lock-1"):t===g.lb.STATUS_PRIVATE||t===g.lb.STATUS_VIRTUAL_PRIVATE?(s=Object(v.d)("modelList.status.spy"),a="spy-on-new"):t===g.lb.STATUS_GROUP_SHOW&&"ticket"===e.groupShowType?(s=Object(v.d)("modelList.status.ticket"),a="group"):t===g.lb.STATUS_GROUP_SHOW&&(s=Object(v.d)("modelList.status.group"),a="group"):(s=Object(v.d)("modelList.status.private"),a="lock-1"),s?h.a._("div",{className:"private-status"},h.a._(b.a,{className:"private-status-icon",img:a}),h.a._("span",{className:"private-status-label"},s)):null};N.displayName="ModelListItemStatus";var O=N,y=s(505),w=s(475),S=s.n(w),k=s(380),j=s.n(k),I=s(27),T=s.n(I);s(72);const P=({htmlIdPrefix:e,model:{id:t,ratingDebug:s}})=>{const a=["stripScore","normalizedViewersRating","viewersMoving","newModelBonus","stripRanking"];T()(s.bonusList),T()(s.indexPositionExplanation);return h.a._("div",null,h.a._("div",{className:"debug-rating bottom",style:{fontSize:"13px"}},h.a._("div",{className:"dr-wrapper"},a.map(i=>{let o="",r=s[i];switch(i){case"normalizedViewersRating":o=h.a._("div",{style:{fontSize:"13px"}},h.a._("div",{style:{borderBottom:"1px solid gray",marginBottom:"7px"}},"Normalized Viewers"),h.a._("div",null,"Actual Number of Users: ",h.a._("strong",null,s.actualViewersCount)));break;case"viewersMoving":r=s.viewersMoving||0,o=h.a._("div",{style:{fontSize:"13px"}},h.a._("div",{style:{borderBottom:"1px solid gray",marginBottom:"7px"}},"Normalized moving average of registered viewers"),h.a._("div",null,"Values: ",h.a._("strong",null,s.viewersMoving)));break;case"stripScore":{let e="";s.stripScoreDetails.earningHistory&&(e=s.stripScoreDetails.earningHistory.join(", "));let t="";s.stripScoreDetails.bonuses&&(t=s.stripScoreDetails.bonuses.join(", "));let a=s.stripScoreDetails.ratingPrivateScore;void 0===a&&(a=0);let i=s.stripScoreDetails.revenuePerformanceFormula;void 0===i&&(i="(n/a)");let n=s.stripScoreDetails.ratingPrivateFormula;void 0===n&&(n="(n/a)");let r=s.stripScoreDetails.revenuePerformanceScore;void 0===r&&(r=0),o=h.a._("div",{style:{fontSize:"13px"}},h.a._("div",{style:{borderBottom:"1px solid gray",marginBottom:"7px"}},"StripScore"),h.a._("div",null,"Revenue: ",h.a._("strong",null,r)),h.a._("div",null,"Private Rating: ",h.a._("strong",null,a)),h.a._("div",{style:{borderBottom:"1px solid gray",marginBottom:"7px"}},"Other Bonuses: ",h.a._("strong",null,s.stripScoreDetails.bonusesScore),h.a._("div",null,h.a._("i",null,t))),h.a._("div",{style:{borderBottom:"1px solid gray",marginBottom:"7px"}},"Earnings: ",e),h.a._("div",null,"Revenue Formula: ",h.a._("strong",null,i)),h.a._("div",null,"Private Rating Formula: ",h.a._("strong",null,n)));break}case"stripRanking":o=h.a._("div",{style:{fontSize:"13px"}},h.a._("div",{style:{borderBottom:"1px solid gray",marginBottom:"7px"}},"StripRanking"),h.a._("div",null,"Formula:"),h.a._("div",null,h.a._("strong",null,s.stripRankingDetails.formula)));break;case"newModelBonus":r=s.stripRankingDetails.modelIsNewAddendum||0,r=h.a._("div",null,r);let e=s.stripRankingDetails.modelIsNewFormula;void 0===e&&(e="(n/a)"),o=h.a._("div",{style:{fontSize:"13px"}},h.a._("div",{style:{borderBottom:"1px solid gray",marginBottom:"7px"}},"New Model Bonus"),h.a._("div",null,"m = ",h.a._("strong",null,"336")," hours"),h.a._("div",null,"H = ",h.a._("strong",null,s.stripRankingDetails.firstBroadcastHoursAgo)," hours"),h.a._("div",null,"Formula: ",h.a._("strong",null,e)));break;default:o=i}const l=`${e}_debug_rating_item_${t}_${S()(i)}`;return h.a._("div",{className:`dr-item ${j()(i)}`,id:l,key:l},r,h.a._(_.a,{placement:n()(a,i)?"top":"bottom",targetId:l},o))}))))};P.displayName="ModelListRatingDebug";var M=P,E=s(40),A=s(383),U=s(233),H=s(3),L=s(10),R=s(21),F=s(34),D=s(61);const x=(e,t)=>l()(e,"model.id")!==l()(t,"model.id")||l()(e,"model.status")!==l()(t,"model.status")||l()(e,"model.snapshotServer")!==l()(t,"model.snapshotServer"),B=/url\("?([^)"]+)"?\)/i;class V extends h.a.Component{_Ho(){const{isFavoritedHeartHidden:e,isInFavorites:t,model:s}=this.props;if(!t||e)return null;const{htmlIdPrefix:a}=this.props,i=`favorited_heart_${a}_${s.id}`;return h.a._("div",{id:i,className:"favorited-heart"},h.a._(b.a,{img:"badge-favorite"}),h.a._(_.a,{isMobileRelative:!1,placement:"top",shouldPreventDefault:!0,targetId:i},Object(v.d)("myFavoriteModel")))}_Gf(){const{model:e,isGenderIconVisible:t}=this.props,{gender:s,broadcastGender:a}=e,i=a&&a!==g.j.GROUP?a:s;return i&&t?h.a._("div",{className:"gender-wrapper"},h.a._(b.a,{img:i,size:17})):null}_Hp(){const{htmlIdPrefix:e,model:{country:t,id:s}}=this.props,a=!H.j.touch,i=`model_country_${e}_${s}`;return t?h.a._("div",{className:"country-flag-wrapper",id:i},h.a._(U.a,{country:t}),a&&h.a._(_.a,{isMobileRelative:!1,placement:"top",shouldPreventDefault:!0,targetId:i},Object(v.d)(`country.${t}`))):null}render(){const{isFavoritedHeartHidden:e,isInFavorites:t,model:{username:s},searchString:a}=this.props;return h.a._("footer",{className:Object(L.c)("model-thumb-footer",{favorited:t&&!e})},h.a._("div",{className:"model-thumb-footer-left"},h.a._("div",{className:"favorite-heart-wrapper"},this._Ho()),h.a._(y.a,{username:s,searchString:a}),this._Gf()),h.a._("div",{className:"model-thumb-footer-right"},this._Hp()))}}V.displayName="ModelListItemFooter";class z extends h.a.Component{constructor(e){super(e),this.snapshotPrefetcher=null,this.timeoutLoadSnapshot=null,this.propsUpdateToActionsMap=[{update:x,action:()=>{this.timeoutLoadSnapshot=setTimeout(()=>this.loadSnapshot(this.props),0)}}],this.getPreviewUrl=e=>{const{model:t,quality:s,isNonNudeWL:a}=e;if(a)return"";switch(s){case g.Ib.BIG:return t.previewUrlThumbBig;case g.Ib.SMALL:default:return t.previewUrlThumbSmall}},this.loadSnapshot=e=>{if(this.loadSnapshotCancel(),this.state.wasSnapshotHydrated)return;const{fallbackTimeout:t,model:s,shouldShowPopularSnapshot:a,snapshotUrlTemplate:i,quality:o,hasWebpSupport:n}=e,r=Object(c.getSnapshotUrl)({isLowQualityThumbs:!1,isLowQualityPreview:o===g.Ib.SMALL,isPopularTimeStamp:a,model:s,snapshotUrlTemplate:i,hasWebpSupport:n},E.c);this.snapshotPrefetcher=new c.SnapshotPrefetcher(r,this.getPreviewUrl(e),t,e=>{if(this._isMounted){const t=e?`url(${e})`:null;Object(D.i)(this,{snapshotUrl:t})}})},this.destroySnapshotChecker=()=>{this.snapshotChecker.onload=null,this.snapshotChecker.onerror=null,this.snapshotChecker=null},this.forceLoadSnapshotAfterHydrate=()=>{this.destroySnapshotChecker(),this.setState({wasSnapshotHydrated:!1,snapshotCheckerUrl:""},()=>this.loadSnapshot(this.props))},this.itemClickHandlerWrapper=e=>{this.props.clickHandler(e,l()(B.exec(this.state.snapshotUrl),1))},this.thumbRef=h.a.createRef();const{base64Preview:t,hasWebpSupport:s,model:a,quality:i,shouldShowPopularSnapshot:o,snapshotUrlTemplate:n}=e;let r=!1,d=t?`url(${Object(c.getSnapshotUrl)({isLowQualityThumbs:!1,isLowQualityPreview:i===g.Ib.SMALL,isPopularTimeStamp:o,model:a,snapshotUrlTemplate:n,hasWebpSupport:s},E.c)}), url(${t})`:"";if(!d&&e.isSsrActive&&Object(R.d)()){const t=document.querySelector(`[data-model-id="${e.model.id}"]`);t&&(d=t.style.backgroundImage,r=Boolean(d))}this.state={snapshotUrl:d,wasSnapshotHydrated:r}}_A(){if(this._isMounted=!0,Object(F.a)(this.propsUpdateToActionsMap,{},this.props),this.state.wasSnapshotHydrated){const e=l()(B.exec(this.state.snapshotUrl),1);e&&(this.snapshotChecker=new Image,this.snapshotChecker.onerror=this.forceLoadSnapshotAfterHydrate,this.snapshotChecker.onload=this.destroySnapshotChecker,this.snapshotChecker.src=e)}}componentDidUpdate(e){Object(F.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this._isMounted=!1,this.loadSnapshotCancel(),clearTimeout(this.timeoutLoadSnapshot)}loadSnapshotCancel(){this.snapshotPrefetcher&&this.snapshotPrefetcher.cancelFetching()}_Hq(){const{isStatusVisible:e,model:t}=this.props;return e&&t.isLive?h.a._(b.a,{img:"badge-live"}):null}_Hr(){const{htmlIdPrefix:e,model:t}=this.props,s=`model_lovense_${e}_${t.id}`,a=n()(t.tags,"autoTagLovense"),i=n()(t.tags,"autoTagKiiroo");return a||i?h.a._("div",null,h.a._("div",{id:s,className:Object(L.c)("interactive-toy-wrapper",{lovense:a,kiiroo:i})},h.a._(b.a,{img:"lovense-low"}),h.a._(_.a,{isMobileRelative:!1,placement:"top",shouldPreventDefault:!0,targetId:s},Object(v.d)(`modelList.${i?"kiiroo":"lovense"}.tooltip`)))):null}_Hs(){const{htmlIdPrefix:e,model:t}=this.props;return h.a._(A.a,{htmlIdPrefix:e,place:t.topBestPlace,hallOfFamePosition:t.hallOfFamePosition,username:t.username,topMedalHeight:t.hallOfFamePosition&&t.hallOfFamePosition<4?38:26})}_B7(){const{model:e,shouldShowVrAttributes:t}=this.props;return h.a._("header",{className:"model-thumb-header"},h.a._("div",{className:"model-thumb-header-left"},this._Hq(),h.a._(C,{model:e,shouldShowVrAttributes:t}),this._Hr()),h.a._("div",{className:"model-thumb-header-right"},this._Ht(),e.isNew?h.a._(b.a,{img:"badge-new"}):this._Hs()))}_Ht(){const{model:e,htmlIdPrefix:t,shouldShowSpyPrice:s,shouldShowPrivatePrice:a}=this.props,i=!H.j.touch,o=`model_private_price_${t}_${e.id}`;let n;return s?n=e.spyRate:a&&(n=e.privateRate),n?h.a._(u.Fragment,null,h.a._("div",{className:"private-rate-wrapper",id:o},`${n} tk`),i&&h.a._(_.a,{isMobileRelative:!1,placement:"top",shouldPreventDefault:!0,targetId:o},Object(v.d)(s?"modelList.spyPrivates.tooltip":"modelList.bestPrivates.tooltip"))):null}_Hu(){return this.state.snapshotUrl||this.props.isNonNudeWL?null:h.a._("span",{className:"model-thumb-header-stub"},h.a._(b.a,{img:"model",size:60}))}_Hv(){const{htmlIdPrefix:e,isFavoritedHeartHidden:t,isInFavorites:s,model:{id:a,isRecommended:i}}=this.props,o=!H.j.touch,n=`model_recommended_${e}_${a}`;return!i||s&&!t?null:h.a._("div",{id:n,className:"model-thumb-left"},h.a._(b.a,{img:"flag-recommended"}),o&&h.a._(_.a,{isMobileRelative:!1,placement:"top",shouldPreventDefault:!0,targetId:n},Object(v.d)("modelList.recommended.tooltip")))}_B8(){return h.a._(V,this.props)}render(){const{children:e,isNonNudeWL:t,htmlIdPrefix:s,model:a,viewCamUrl:i,additionalClassName:o}=this.props,{snapshotUrl:n}=this.state,r={};return n&&(r.backgroundImage=n),h.a._("div",{className:Object(L.c)("model-list-item",o),id:`model-list-item-unique-id-${a.id}`},e,h.a._("div",{className:Object(L.c)("model-thumb",{mobile:a.isMobile}),ref:this.thumbRef},a.ratingDebug&&h.a._(M,{htmlIdPrefix:s,model:a}),h.a._(m.a,{className:Object(L.c)("model-thumb-image",{"non-nude-cover":!n&&t,mobile:a.isMobile}),to:i,style:r,onClick:this.itemClickHandlerWrapper,"data-model-id":a.id},this._B7(),h.a._("div",null,this._Hv(),this._Hu()),this._B8(),h.a._(O,{model:a}))))}}z.displayName="ModelListItem";p.a.number.isRequired,p.a.bool,p.a.bool,p.a.bool,p.a.string,p.a.bool.isRequired,p.a.bool,p.a.bool,p.a.bool,p.a.string;z.defaultProps={base64Preview:"",clickHandler:i.a,htmlIdPrefix:"",isStatusVisible:!0,isFavoritedHeartHidden:!1,quality:g.Ib.SMALL,snapshotUrlTemplate:null,additionalClassName:""}},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(27),r=s.n(n),l=s(32),c=s(17),d=s(6),p=s(10),u=s(1),h=s(29);class m extends i.a.Component{constructor(...e){super(...e),this.rootRef=void 0,this.moreBtnContainerRef=i.a.createRef(),this.hiddenWrapperRef=i.a.createRef(),this.widthIndexMap=new Map,this.itemsWidthsMap=new Map,this.moreBtnTotalWidth=0,this.state={isOpen:!1,lastVisibleIndex:null},this.updateLastVisibleIndex=()=>{if(!this._isMounted)return;const e=this.getLastVisibleItemIndex();this.setState(t=>e!==t.lastVisibleIndex?{lastVisibleIndex:e}:null)},this.getLastVisibleItemIndex=()=>{if(!this.rootRef)return 0;const e=this.rootRef.offsetWidth,t=e-this.moreBtnTotalWidth;if(this.widthIndexMap.get(this.widthIndexMap.size-1)<=e)return null;let s=0;return this.widthIndexMap.forEach((e,a)=>{e<=t&&(s=a)}),s},this.getWidth=(e,t)=>{const s=this.itemsWidthsMap.has(t)?this.itemsWidthsMap.get(t):0;return e>0&&this.widthIndexMap.has(e-1)?s+this.widthIndexMap.get(e-1):s},this.updateItemMargins=e=>{if(!this.itemsWidthsMap.has(e)){const t=this.getElementTotalWidth(e);this.itemsWidthsMap.set(e,t)}},this.openDropdownHandler=e=>{this.state.isOpen?this.props.releaseInterface():this.props.blockInterface(e.target)},this.getElementTotalWidth=e=>{const t=window.getComputedStyle(e);return parseFloat(t["margin-right"])+parseFloat(t["margin-left"])+e.offsetWidth},this.getIsMoreItemsVisible=()=>null!==this.state.lastVisibleIndex&&this.state.lastVisibleIndex!==this.props.children.length-1,this.getRestItems=()=>{const e=this.props.children.slice(this.state.lastVisibleIndex+1);return i.a.Children.map(e,e=>i.a.cloneElement(e,{...e.props,className:Object(p.c)("more-button-item",{[e.props.className]:e.props.className})}))},this.interfaceBlockChangeHandler=()=>{const{isInterfaceBlocked:e,currentBlockingComponent:t}=this.props;this.setState({isOpen:e&&this.rootRef&&this.rootRef.contains(t)})},this.moreBtnRefHandler=e=>{if(!e)return;const t=this.getElementTotalWidth(e);this.moreBtnTotalWidth=e.offsetWidth+t},this._Hw=()=>i.a._("div",{className:"more-button-block-content"},this.getRestItems()),this._Hx=()=>{const{children:e,_Hy:t}=this.props;if(!t)return null;const s=this.props.showMoreButtonText||Object(u.d)("button.more");return i.a._("div",{className:"navbar-hidden-elements-wrapper",ref:this.hiddenWrapperRef},e,i.a._("div",{className:"navbar-more-button",ref:this.moreBtnRefHandler},s))},this._Hz=()=>i.a.Children.map(this.props.children,(e,t)=>null!==this.state.lastVisibleIndex&&t>this.state.lastVisibleIndex?null:e),this._I0=()=>{const{_Hy:e}=this.props;if(!e)return null;const{isOpen:t}=this.state,s=this.getIsMoreItemsVisible();return i.a._("div",{className:Object(p.c)("navbar-more-button",{visible:s,hidden:!s,opened:t}),onClick:this.openDropdownHandler,ref:this.moreBtnContainerRef},Object(u.d)("button.more"),i.a._("span",{className:"dropdown-arrow"},i.a._(d.a,{img:"selectbox"})),t&&this._Hw())}}_A(){this._isMounted=!0,this.props._Hy&&(this.updateHiddenItemsSizes(),this.updateLastVisibleIndex())}componentDidUpdate(e){const{_Hy:t}=this.props;t&&(((e,t)=>!r()(e)&&e.children!==t.children)(e,this.props)&&(this.itemsWidthsMap.clear(),this.widthIndexMap.clear(),this.updateHiddenItemsSizes()),Object(h.J)(e,this.props)&&this.updateLastVisibleIndex(),Object(h.F)(e,this.props)&&this.interfaceBlockChangeHandler())}componentWillUnmount(){this._isMounted=!1}updateHiddenItemsSizes(){const e=this.hiddenWrapperRef.current;e&&Array.from(e.children).forEach((e,t)=>{this.updateItemMargins(e),this.widthIndexMap.set(t,this.getWidth(t,e)),window.requestAnimationFrame(this.updateLastVisibleIndex)})}render(){const{className:e}=this.props;return i.a._("nav",{className:Object(p.c)("navbar-dropdown",{open:this.state.isOpen,[e]:Boolean(e)}),ref:e=>{this.rootRef=e}},i.a._("div",{className:"visible-items"},this._Hz()),this._Hx(),this._I0())}}m.displayName="NavbarDropdown";const g={blockInterface:c.a,releaseInterface:c.p};m.defaultProps={_Hy:!0,showMoreButtonText:void 0};var b=Object(o.c)(({ui:{currentBlockingComponent:e,isInterfaceBlocked:t,windowHeight:s,windowWidth:a}})=>({currentBlockingComponent:e,isInterfaceBlocked:t,windowHeight:s,windowWidth:a}),e=>Object(l.b)(g,e))(m),_=s(150),v=s.n(_),f=s(102);class C extends i.a.PureComponent{constructor(...e){super(...e),this.scrollabelContainerRef=null,this.navScrollableRefHandler=e=>{if(this.scrollabelContainerRef||!e)return;this.scrollabelContainerRef=e;const t=this.scrollabelContainerRef.firstElementChild.children[this.props.activeIndex];t&&Object(p.g)({scrollableContainer:this.scrollabelContainerRef,target:t,axis:"x"})}}render(){const{className:e,activeIndex:t,children:s}=this.props,a=v()(t)?this.navScrollableRefHandler:void 0;return i.a._(f.a,{containerRef:a},i.a._("nav",{className:Object(p.c)("nav-scrollable",{[e]:Boolean(e)})},s))}}C.displayName="NavbarScrollable";var N=C,O=s(103);class y extends i.a.PureComponent{render(){const{activeIndex:e,children:t,className:s,shouldShowMoreButton:a,showMoreButtonText:o}=this.props;return i.a._(i.a.Fragment,null,i.a._(N,{activeIndex:e,className:s},t),i.a._(b,{_Hy:a,className:s,showMoreButtonText:o},t))}}y.displayName="Navbar",y.defaultProps={shouldShowMoreButton:!0,showMoreButtonText:void 0},y.DEFAULT_ITEM_CLASS="navbar-item";const w=Object(o.c)(e=>({isTouchDevice:Object(O.g)(e)}))(y);t.a=w},function(e,t,s){"use strict";s.d(t,"b",(function(){return C}));var a=s(345),i=s.n(a),o=s(33),n=s.n(o),r=s(70),l=s.n(r),c=(s(8),s(0)),d=s.n(c),p=s(391),u=s(43);const h=({id:e,msg:t})=>d.a._("div",null,d.a._("div",{id:e,className:"message-word-sticker"},t.replace(/#/g,"")),d.a._(u.a,{targetId:e,placement:"top",isMobileRelative:!1},"VR Sticker"));h.displayName="WordSticker";var m=h,g=s(10),b=s(213);function _(e,t,s,a){const i=e.replace("@","");if(s.username===t.username&&i===t.username)return e;const o=[{"model-chat-username-mention-me":i===s.username},{"model-chat-username-mention-own":t.id===s.id}];return d.a._("span",{key:a,className:Object(g.c)("model-chat-username-mention",...o)},e)}_.displayName="getMention";const v=/(@[A-Za-z_\-\d]{3,25})/g,f=new RegExp(`${b.d.source}|${v.source}`,"g"),C=(e,t,s)=>{const a=i()(e);return Object(b.a)(a,t)?d.a._(m,{msg:t,id:String(s)}):t},N=({body:e,id:t,sender:s,currentUser:a,wordStickers:i})=>{if(!e)return null;const o=Boolean(s&&a),r=e.split(f),c=n()(r,(e,n)=>{if(b.d.test(e)){const t=Object(b.b)(e);return d.a._(p.a,{key:n,code:b.c[t]})}if(o&&v.test(e)){const[t]=e.match(v)||[];return _(t,s,a,n)}return C(i,e,t)});return l()(c)};N.defaultProps={id:null,wordStickers:[[],[]]};t.a=N},,,,,,,,,function(e,t,s){"use strict";var a=s(106),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(43),l=s(10),c=s(1);const d=({messageId:e,className:t,children:s,placement:a,maxWidth:o})=>{const d=i()("help_tooltip_"),p=e||s?n.a._(r.a,{isMobileRelative:!1,placement:a,targetId:d,maxWidth:o},Object(c.d)(e),s):null;return n.a._("span",{className:Object(l.c)("help-tooltip",t),id:d},"?",p)};d.displayName="HelpTooltip",d.defaultProps={placement:"top",maxWidth:250},t.a=d},,,,,,,,,,function(e,t,s){"use strict";var a=s(121),i=s.n(a),o=s(35),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(5),d=s(282),p=s(7),u=s(141),h=s(46),m=s(17),g=s(13),b=s(12),_=s(233),v=s(6),f=s(102),C=s(10),N=s(1),O=s(61),y=s(26);const w={emitUiEvent:m.e},S="with-scroll";class k extends r.Component{constructor(e){super(e),this.onNativeScroll=i()(e=>{const{target:{scrollLeft:t,scrollWidth:s,clientWidth:a}}=e,i=t>10,o=s-10>=t+a,{shadeState:n}=this.state;i===n.left&&o===n.right||this.setState({shadeState:{left:i,right:o}})},100),this._H9=e=>{const{id:t,primaryTagId:s}=e;return p.Z.includes(t)?l.a._(_.a,{size:"medium",country:p.Y[t]}):n()(t,p.dc)?l.a._(v.a,{img:"badge-vr"}):p.D.includes(t)?l.a._(v.a,{img:t}):s===p.Ub?l.a._(r.Fragment,null,l.a._(v.a,{img:"recommended"}),l.a._("span",{className:"media-up-to-s-hidden"},Object(N.d)("tags.recommended"))):t===p.hb?l.a._(r.Fragment,null,l.a._(v.a,{img:"mobile"}),l.a._("span",{className:"media-up-to-s-hidden"},Object(N.d)(`tagGenders.${s}.${t}`,{stripTags:!0}))):e.isAllTag?l.a._(r.Fragment,null,Object(N.d)("all")):l.a._(b.a,{messageId:`tagGenders.${s}.${t}`,elements:{desktop:l.a._("span",{className:"media-up-to-m-hidden"}),mobile:l.a._("span",{className:"media-after-m-hidden"})}})},this._I2=e=>{const{shouldRoute:t}=this.props;return l.a._(d.a,{key:e.url,className:"btn-tags-inline-badge",_H9:this._H9,tag:e,shouldPreventDefault:!t,shouldUpdatePreviousTag:!0,shouldScrollToTop:this.props.variant!==S})},this.state={shadeState:{left:!1,right:!0}},this.linksRef=l.a.createRef()}componentDidUpdate(e){if(this.props.variant===S&&e.tags&&this.props.tags&&this.props.currentTagUrl&&e.tags!==this.props.tags&&!Object(O.j)(e.tags,this.props.tags)&&this.linksRef&&this.linksRef.current){const e=this.linksRef.current.querySelector(`div[data-url="${this.props.currentTagUrl}"]`);e&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}}componentWillUnmount(){this.onNativeScroll.cancel()}render(){const{className:e,contentStart:t,isNonNudeWL:s,preferredTagUrl:a,shouldShowMore:i,tags:o,variant:n}=this.props;if(s)return null;const{shadeState:r}=this.state,c={suppressScrollY:!0,suppressScrollX:!(n===S)};return l.a._("div",{className:Object(C.c)("tags-inline-badges",e,`tags-inline-badges-${n}`),ref:this.linksRef},r.left&&l.a._("div",{className:"tags-inline-badges-shade"}),l.a._(f.a,{libOptions:c,onScrollX:this.onNativeScroll,onNativeScroll:this.onNativeScroll},l.a._("div",{className:Object(C.c)("tags-inline-badges-container")},t,o.map(this._I2),i&&l.a._(g.a,{className:"btn-tags-inline-badge",to:`/tags/${a}`,type:"link"},Object(N.d)("showMore")))),r.right&&l.a._("div",{className:"tags-inline-badges-shade"}))}}k.displayName="TagsInlineBadges",k.defaultProps={className:"",contentStart:null,currentTagUrl:"",isNonNudeWL:!1,shouldShowMore:!1,shouldRoute:!1,variant:S};t.a=Object(c.c)(e=>({isNonNudeWL:Object(y.f)(e),currentTagUrl:Object(u.a)(e).url,preferredTagUrl:Object(h.i)(e)}),w)(k)},,,,,,,,,,,,,function(e,t,s){"use strict";var a=s(128),i=s.n(a),o=s(173),n=s.n(o),r=s(699),l=s.n(r),c=s(35),d=s.n(c),p=s(2),u=s.n(p),h=(s(8),s(0)),m=s.n(h),g=s(5),b=s(146),_=s(117),v=s(7),f=s(141),C=s(58),N=s(46),O=s(152),y=s(17),w=s(233),S=s(6),k=s(10),j=s(1),I=s(41),T=(s(20),s(80)),P=s(133),M=s(31);const E={incrementTagViews:_.d,routerPush:I.H,releaseInterface:y.p,saveFilterParams:_.f,updateTagSource:O.k};class A extends h.Component{constructor(...e){super(...e),this.clickHandler=()=>{const{shouldScrollToTop:e,shouldPreventDefault:t,shouldReleaseInterface:s,shouldUpdatePreviousTag:a,tag:o,match:{path:n}}=this.props;s&&this.props.releaseInterface(),e&&T.a.reset(),!d()(v.Sb,o.id)&&i()(n,"/tags")&&this.props.incrementTagViews(o.id),t?this.props.saveFilterParams({tagUrl:this.getTagUrl(),shouldUpdatePreviousTag:a}):this.props.routerPush(`/${this.getTagUrl()||""}`)},this.clickLinkHandler=e=>{e.preventDefault();const{analyticsTagSource:t}=this.props;t&&this.props.updateTagSource(t)},this._I2=e=>{const{className:t}=this.props;if(!this.props.shouldRenderBadge)return null;switch(e.id){case v.dc:return m.a._(S.a,{img:"badge-vr"});case v.W:return m.a._(S.a,{img:"lovense-low"});case v.bc:return m.a._(S.a,{img:"lightning"});case v.hb:return m.a._(S.a,{img:"mobile"});case v.cc:return m.a._(S.a,{img:"pornstar"})}if(d()(e.id,v.D))return m.a._(S.a,{img:e.id});const s=v.Y[e.id];return s?m.a._(w.a,{className:Object(k.c)("country-flag",`${t}-country-flag`),size:"medium",country:s}):null}}getTagUrl(){const{tag:e,whiteLabelDefaultTag:t}=this.props;return Object(P.d)(e,t)}_I3(e,t){const s=e.split(" "),a=l()(s).join(" "),i=n()(s);return m.a._(m.a.Fragment,null,`${a} `,m.a._("span",{className:"no-wrap"},i,t))}_H9(e){const t=this._I2(e),s=e.id?Object(j.d)(`tagGenders.${e.primaryTagId}.${e.id}`,{stripTags:!0}):Object(j.d)(`tags.${e.primaryTagId}`,{stripTags:!0});return m.a._("span",{className:"categories-label"},t?this._I3(s,t):s)}_I4(){const{className:e,liveTagDetails:t,shouldRenderCounter:s,tag:a}=this.props;return s?m.a._("span",{className:Object(k.c)("model-filter-link-count",`${e}-count`)},u()(t,[a.id,"modelsLive"])):null}render(){const{className:e,isActive:t,_H9:s,tag:a}=this.props;return m.a._("div",{className:Object(k.c)("model-filter-link-wrapper",e,{active:t}),onClick:this.clickHandler,"data-url":a.url},m.a._("a",{className:"model-filter-link",href:`/${this.getTagUrl()}`,onClick:this.clickLinkHandler},s?s(a):this._H9(a)),this._I4())}}A.displayName="ModelFilterLink",A.defaultProps={className:"",shouldPreventDefault:!1,shouldReleaseInterface:!1,shouldRenderCounter:!1,shouldRenderBadge:!1,shouldUpdatePreviousTag:!1};const U=Object(b.h)(Object(g.c)((e,t)=>({liveTagDetails:Object(C.h)(e),isActive:Object(f.a)(e).url===t.tag.url,shouldScrollToTop:void 0===t.shouldScrollToTop?!Object(M.U)(e):t.shouldScrollToTop,whiteLabelDefaultTag:Object(N.t)(e)}),E)(A));t.a=U},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(152),r=s(119),l=s(17),c=s(13),d=s(12),p=s(6),u=s(3),h=s(66),m=s(10),g=s(1),b=(s(20),s(36)),_=s(29),v=s(204);const f={hidePromoCampaign:r.a,emitButtonEvent:l.b,updateAnalLastUsedPromoName:n.f};class C extends a.Component{constructor(e){super(e),this._I5=e=>{e.stopPropagation();const{campaignName:t}=this.props;this.props.updateAnalLastUsedPromoName(t),this.props.emitButtonEvent(u.b.PROMO_BANNER_BUTTON_CLICK,{campaignName:t})},this._I6=e=>{e.stopPropagation();const{campaignName:t}=this.props;this.setState({wasHidden:!0}),this.props.hidePromoCampaign(t)},this.state={isMounted:!1,wasHidden:!1}}_A(){this.setState({isMounted:!0})}_I7(){const{bannerIcon:e,campaignName:t,placeholderIconUrl:s,bannerIconUrl:a}=this.props;return!s||t&&e?a?i.a._("div",{className:"promo-banner-icon",style:{backgroundImage:`url(${a})`}}):null:i.a._("div",{className:"promo-banner-icon",style:{backgroundImage:`url(${s})`}})}_D(){const{title:e}=this.props;return e?i.a._(d.a,{className:"promo-banner-title",messageId:e.messageId,elements:{accent:i.a._("span",{className:"accent"})}}):null}_I8(){const{campaignName:e,description:t}=this.props;return i.a._(d.a,{className:"promo-banner-description",messageId:t?t.messageId:`promo.${Object(v.b)(e)}.description`,elements:{accent:i.a._("span",{className:"accent"})}})}_I9(e=""){const{action:t}=this.props;return i.a._(c.a,{className:Object(m.c)("promo-banner-action",e),onClick:this._I5},Object(g.d)(t.messageId))}_Ia(){return i.a._(i.a.Fragment,null,i.a._("div",{className:"promo-banner-description-container"},this._I8()),this._I9("media-up-to-m-hidden"))}_F(){return this.props.isClosable?i.a._(i.a.Fragment,null,i.a._("div",{className:"promo-banner-description-and-action"},this._Ia()),i.a._(c.a,{className:"promo-banner-close-button",onClick:this._I6},i.a._(p.a,{className:"promo-banner-close-icon",img:"close-3"}))):this._Ia()}render(){const{isVisible:e,campaignName:t,isClosable:s}=this.props,{isMounted:a,wasHidden:o}=this.state;return e&&a&&!o?i.a._("div",{className:"container promo-banner-wrapper",id:`promo-banner-id-${t}`,onClick:this._I5},i.a._("div",{className:Object(m.c)("promo-banner",{"promo-banner-with-close-button":s})},i.a._("div",{className:"promo-banner-main-container"},this._I7(),i.a._("div",{className:"promo-banner-texts-and-action"},i.a._("div",{className:"promo-banner-title-container"},this._D(),this._I8()),this._I9("media-after-l-hidden"))),this._F())):i.a._("div",null)}}C.displayName="PromoBanner",C.defaultProps={bannerIcon:"",campaignName:"",title:null,placeholderIconUrl:"",bannerIconUrl:"",action:{}};t.a=Object(o.c)(e=>{const t=Object(b.c)(e);if(!t)return{isVisible:!1};const{campaignName:s,bannerIcon:a}=t;var i;return(i=s,h.a.has(`${i}_hidden`))?{isVisible:!1}:{isVisible:!0,placeholderIconUrl:Object(_.z)(e,"common/components/ui/PromoBanner/assets/common/promo-icon-placeholder.svg"),bannerIconUrl:Object(v.b)(s)&&a?Object(_.z)(e,`common/components/ui/PromoBanner/assets/${Object(v.b)(s)}/${a}`):"",...t}},f)(C)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(32),r=s(17),l=s(13),c=s(12),d=s(6),p=s(3),u=s(10),h=(s(20),s(36)),m=s(29);const g={emitButtonEvent:r.b};class b extends a.Component{constructor(...e){super(...e),this.clickHandler=e=>{e.stopPropagation();const{promoName:t}=this.props;this.props.emitButtonEvent(p.b.PROMO_BANNER_NO_PAY_BUTTON_CLICK,{promoName:t})}}_I7(){const{promoName:e,bannerIcon:t}=this.props;if(!t)return i.a._("span",{className:"promo-nopay-banner-icon-replacer"});const s=this.props.getStaticUrl(`common/components/ui/PromoBannerWithoutPaymentico/assets/${e}/${t}`);return i.a._("div",{className:"promo-nopay-banner-icon media-up-to-xxs-hidden"},i.a._("div",{className:"icon",style:{backgroundImage:`url(${s})`}}))}_D(){const{promoName:e,title:t}=this.props;if(!t)return null;const{isFromI18n:s,backgroundFile:a,staticText:o}=t;let n;if(o)n=o;else if(s)n=i.a._(c.a,{messageId:`promo.${e}.title`});else if(a){const t=this.props.getStaticUrl(`common/components/ui/PromoBannerWithoutPaymentico/assets/${e}/title.svg`);n=i.a._("div",{className:"icon",style:{backgroundImage:`url(${t})`}})}return i.a._("div",{className:"promo-nopay-banner-title"},n)}_Ib(){const{promoName:e,subtitle:t}=this.props;if(!t)return null;const{isFromI18n:s,backgroundFile:a}=t;let o;if(s&&(o=i.a._(c.a,{messageId:`promo.${e}.subtitle`})),a){const t=this.props.getStaticUrl(`common/components/ui/PromoBannerWithoutPaymentico/assets/${e}/${a}`);o=i.a._("div",{className:"icon",style:{backgroundImage:`url(${t})`}})}return o?i.a._("div",{className:"promo-nopay-banner-subtitle media-up-to-s-hidden"},o):null}_I8(){const{promoName:e,siteName:t}=this.props;return i.a._(c.a,{messageId:`promo.${e}.description`,elements:{accent:i.a._("span",{className:"accent"}),vd2019part1:i.a._("span",{className:"vd2019part1"}),vd2019part2:i.a._("span",{className:"vd2019part2"}),vr:i.a._(d.a,{img:"badge-vr"})},parameters:{domain:t}})}render(){const{action:e,promoName:t,isVisible:s}=this.props;return s?i.a._("div",{className:Object(u.c)("container","promo-nopay-banner-wrapper",t,{"is-touch":p.j.touch}),onClick:this.clickHandler},i.a._("div",{className:"promo-nopay-banner-container"},i.a._("div",{className:"promo-nopay-banner-mainblock"},this._I7(),i.a._("div",{className:"promo-nopay-banner-headings"},i.a._("div",{className:"promo-nopay-banner-title"},this._D()),this._Ib(),i.a._("div",{className:"promo-nopay-banner-description media-after-l-hidden"},this._I8()))),i.a._("div",{className:"promo-nopay-banner-description media-up-to-m-hidden"},this._I8()),i.a._(l.a,{className:"promo-nopay-banner-action",onClick:this.clickHandler},i.a._(c.a,{messageId:e.messageId})))):null}}b.displayName="PromoBannerWithoutPaymentico",b.defaultProps={bannerIcon:"",subtitle:null,promoName:"",title:null,siteName:null,action:{}};t.a=Object(o.c)(e=>{const t=!Object(h.c)(e)&&Object(h.d)(e),s=Boolean(t),{whiteLabels:{siteName:a}}=e;return{isVisible:s,...s?t:{},siteName:a}},(e,t)=>({...Object(n.b)(g,e),getStaticUrl:e=>Object(m.z)(t(),e)}))(b)},,function(e,t,s){"use strict";var a=s(74),i=s.n(a),o=s(39),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(5);const d=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","padding-left","padding-right","border-width","box-sizing"],p={};let u;var h=function(e,t=!1,s=null,a=null){u||(u=document._("textarea"),document.body.appendChild(u));const{paddingSize:i,borderSize:o,boxSizing:n,sizingStyle:r}=function(e,t=!1){const s=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&p[s])return p[s];const a=window.getComputedStyle(e),i=a.getPropertyValue("box-sizing")||a.getPropertyValue("-moz-box-sizing")||a.getPropertyValue("-webkit-box-sizing"),o=parseFloat(a.getPropertyValue("padding-bottom"))+parseFloat(a.getPropertyValue("padding-top")),n=parseFloat(a.getPropertyValue("border-bottom-width"))+parseFloat(a.getPropertyValue("border-top-width")),r={sizingStyle:d.map(e=>`${e}:${a.getPropertyValue(e)}`).join(";"),paddingSize:o,borderSize:n,boxSizing:i};return t&&s&&(p[s]=r),r}(e,t);u.setAttribute("style",`${r};\n  min-height:none !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n`),u.value=e.value||e.placeholder||"";let l=-1/0,c=1/0,h=u.scrollHeight;if("border-box"===n?h+=o:"content-box"===n&&(h-=i),null!==s||null!==a){u.value="";const e=u.scrollHeight-i;null!==s&&(l=e*s,"border-box"===n&&(l=l+i+o),h=Math.max(l,h)),null!==a&&(c=e*a,"border-box"===n&&(c=c+i+o),h=Math.min(c,h))}return{height:h,minHeight:l,maxHeight:c}},m=s(10),g=s(34),b=s(61),_=s(29);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class f extends l.a.Component{constructor(e,t){super(e,t),this.state={height:null,minHeight:-1/0,maxHeight:1/0},this.propsUpdateToActionsMap=[{update:_.J,action:()=>{this.resizeComponent()}}],this.changeHandler=e=>{this.resizeComponent(),this.props.onChange(e)},this.resizeComponent=()=>{const{useCacheForDOMMeasurements:e}=this.props;Object(b.i)(this,h(this.rootDOMNode.current,e,this.props.rows||this.props.minRows,this.props.maxRows))},this.onNextFrameActionId=null,this.rootDOMNode=l.a.createRef()}_A(){this.resizeComponent(),Object(g.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e,t){var s;this.state.height!==t.height&&this.props.onHeightChange(this.state.height),this.clearNextFrame(),this.onNextFrameActionId=(s=this.resizeComponent,window.requestAnimationFrame?window.requestAnimationFrame(s):window.setTimeout(s,1)),Object(g.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this.clearNextFrame()}clearNextFrame(){var e;this.onNextFrameActionId&&(e=this.onNextFrameActionId,window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e))}get value(){return this.rootDOMNode.current.value}set value(e){this.rootDOMNode.current.value=e}focus(){this.rootDOMNode.current.focus()}blur(){this.rootDOMNode.current.blur()}render(){const{className:e,isControlled:t}=this.props,{height:s}=this.state,a=["autoCapitalize","autoFocus","defaultValue","disabled","id","maxLength","onBlur","onFocus","onKeyDown","placeholder","rows"];return t&&a.push("value"),l.a._("textarea",v({className:Object(m.c)("textarea","textarea-autosize",e),onChange:this.changeHandler,ref:this.rootDOMNode,style:{height:s}},{...i()(this.props,a)}))}}f.displayName="TextareaAutosize",f.defaultProps={isControlled:!1,onBlur:n.a,onChange:n.a,onFocus:n.a,onHeightChange:n.a,useCacheForDOMMeasurements:!1};t.a=Object(c.c)(e=>{const{ui:{windowWidth:t,windowHeight:s}}=e;return{windowWidth:t,windowHeight:s}},null,null,{forwardRef:!0})(f)},,,,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(6),n=s(1);const r=({active:e,id:t,isDisabled:s,isHidden:a,onClick:r,pageNumber:l,type:c})=>{const d={prev:i.a._("div",{className:"shift-nav-button"},i.a._(o.a,{img:"prev-small"}),i.a._("span",null,Object(n.d)("pagination.prev"))),"prev-small":i.a._(o.a,{img:"prev-small"}),next:i.a._("div",{className:"shift-nav-button"},i.a._("span",null,Object(n.d)("pagination.next")),i.a._(o.a,{img:"next-small"})),"next-small":i.a._(o.a,{img:"next-small"}),ellipsis:"...",beginning:i.a._("div",{className:"shift-nav-button"},Object(n.d)("pagination.beginning")),"beginning-small":i.a._(o.a,{img:"prev"}),page:l},p=`page-button page-button-${c}${e?" active":""}${a?" hidden":""}`;return i.a._("a",{className:p,id:t,onClick:e=>{s||a||(e.preventDefault(),e.stopPropagation(),r(l))}},d[c])};r.displayName="PageButton",r.defaultProps={active:!1,isDisabled:!1,isHidden:!1},t.a=r},,,,,,,,,,,function(e,t,s){"use strict";var a=s(78),i=s.n(a),o=s(121),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(5),d=s(32),p=s(17),u=s(55);s(20);class h extends l.a.Component{constructor(...e){super(...e),this.incClickCount=i()(e=>()=>{this.props.incClickCount(e)}),this.onMouseMoveHandler=i()(e=>n()(t=>{const{clientX:s,clientY:a}=t;this.props.incPassedPixelsCount(e,{clientX:s,clientY:a})},200))}_A(){const{component:e}=this.props;this.props.setInitTime(e),Object(u.a)(this,document,"click",this.incClickCount()),Object(u.a)(this,document,"mousemove",this.onMouseMoveHandler(e))}componentWillUnmount(){Object(u.b)(this)}render(){return this.props.children}}h.displayName="UserBehaviorTracker";const m={incClickCount:p.g,incPassedPixelsCount:p.h,setInitTime:p.t};t.a=Object(c.c)(null,e=>Object(d.b)(m,e))(h)},,,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(13),r=s(36);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const c={target:"_blank",rel:"nofollow noopener"};function d({isButton:e,supportUrl:t,dispatch:s,...a}){const o={...c,...a};return e?i.a._(n.a,l({type:"anchor",href:t},o)):i.a._("a",l({href:t},o))}d.displayName="SupportLinkComponent",d.defaultProps={isButton:!1};t.a=Object(o.c)(e=>({supportUrl:Object(r.v)(e)}))(d)},,,,function(e,t,s){"use strict";var a=s(179),i=s.n(a),o=s(35),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(40),d=s(235),p=s(121),u=s.n(p),h=s(2),m=s.n(h),g=s(158),b=s.n(g),_=s(220),v=s.n(_),f=s(5),C=s(59),N=s(3),O=s(34),y=s(55),w=s(80),S=s(29);class k extends l.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:S.J,action:()=>{this.scrollListener()}}],this.loadMoreIfNeeded=u()(()=>{!this.props.isLoading&&this.needMore&&this.props.onLoadMore()},100),this.scrollListener=()=>{if(!this.wrapperRef||!this.isActive)return;if(!this.isPaginationEnabled)return void this.loadMoreIfNeeded();const{hasMore:e,currentPage:t}=this.props,{firstVisiblePage:s}=this;t===s?this.loadMoreIfNeeded():this.isScrollAfterList?e&&(this.currentPage=this.props.pagesLoadedCount+1):this.currentPage=this.firstVisiblePage}}_A(){Object(y.a)(this,window,"scroll",u()(this.scrollListener,N.u)),Object(O.a)(this.propsUpdateToActionsMap,{},this.props),this.componentDidRender(),v()(this.loadMoreIfNeeded,0)}componentDidUpdate(e){Object(O.a)(this.propsUpdateToActionsMap,e,this.props),this.componentDidRender()}componentDidRender(){if(!this.isActive)return;this.isPaginationEnabled&&this.props.isScrollToCurrentPageEnabled&&this.isCurrentPageLoaded&&!this.isCurrentPageVisible&&this.scrollToCurrentPage()}componentWillUnmount(){this.loadMoreIfNeeded.cancel(),Object(y.b)(this)}scrollToCurrentPage(){const e=1===this.props.currentPage&&this.isScrollBeforeList,t=!this.props.hasMore&&this.props.currentPage===this.props.pagesLoadedCount&&this.isScrollAfterList;if(e||t)return;const s=w.a.get(),a=this.boundingClientRect.top,i=this.currentPageVerticalRange.top;w.a.set(s+a+i)}get isPaginationEnabled(){return this.props.onPageChange}get needMore(){return this.isPaginationEnabled&&!this.isCurrentPageLoaded||this.props.hasMore&&this.hasLimitReached}get hasLimitReached(){return!!this.boundingClientRect&&this.boundingClientRect.bottom<this.windowHeight+this.props.threshold}get isCurrentPageLoaded(){return this.props.currentPage<=this.props.pagesLoadedCount}get boundingClientRect(){return this.wrapperRef?this.wrapperRef.getBoundingClientRect():void 0}get currentPageVerticalRange(){const{pageHeight:e}=this,t=(this.props.currentPage-1)*e;return{bottom:t+e,top:t}}get pageHeight(){const e=this.boundingClientRect;return(e.bottom-e.top)*(this.props.itemsPerPage/this.props.itemsLoadedCount)}get windowHeight(){return m()(window,"innerHeight")||m()(document,"documentElement.clientHeight")||m()(document,"body.clientHeight")||0}get isCurrentPageVisible(){return n()(this.visiblePages,this.props.currentPage)}get visiblePages(){const{pageHeight:e}=this,t=-this.boundingClientRect.top,s=t+this.windowHeight,a=[];for(let i=1;i<=this.props.pagesLoadedCount;i+=1){const o=(i-1)*e,n=o+e-5,r=o<t&&n>t,l=o>t&&n<s;(o<s&&n>s||r||l)&&a.push(i)}return a}get firstVisiblePage(){return b()(this.visiblePages)}set currentPage(e){const{currentPage:t,onPageChange:s}=this.props;s&&e!==t&&s(e)}get isScrollBeforeList(){return this.boundingClientRect.top>0}get isScrollAfterList(){return this.boundingClientRect.bottom<0}get isActive(){return this.props.currentPage>1||this.props.pagesLoadedCount>1||this.props.hasMore}_Ic(){const{children:e,hasMore:t,isLoading:s,stubClassName:a}=this.props,i=t&&s;return!l.a.Children.count(e)||i?l.a._("div",{className:a},i&&l.a._(C.a,{isCentered:!0})):null}render(){const{children:e,className:t}=this.props;return l.a._("div",{ref:e=>{this.wrapperRef=e},className:t},e,this._Ic())}}k.displayName="InfiniteScroll",k.defaultProps={pagesLoadedCount:1,threshold:500};var j=Object(f.c)(e=>{const{ui:{windowWidth:t,windowHeight:s}}=e;return{windowWidth:t,windowHeight:s}})(k),I=s(102),T=s(10),P=s(1),M=s(61);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class A extends l.a.Component{constructor(...e){super(...e),this.shouldComponentUpdate=Object(M.b)(),this.editButtonClickHandler=()=>{const{deletedIds:e,isEditMode:t}=this.state;this.setState({deletedIds:[],isEditMode:!t}),t&&this.editHandler(e)},this.toggleDeleteClickHandler=e=>{const{deletedIds:t}=this.state;this.setState({deletedIds:n()(t,e)?i()(t,e):[...t,e]})},this.state={deletedIds:[],isEditMode:!1},this.editHandler=e=>{const{onEdit:t}=this.props;t?t(e):c.c.warn("EditableList.editHandler() has onEdit prop",{deletedIds:e,onEdit:t})}}get listItems(){return this.props.children}get isListEmpty(){return!l.a.Children.count(this.listItems)}get hasMore(){return this.props.hasMore}get isLoadingMore(){return this.props.isLoading}get onLoadMore(){return this.props.onLoadMore}get additionalClassNames(){return this.props.className}get additionalInfiniteScrollProps(){return this.props.infiniteScroll}_Id(){const{isPending:e,isScrollable:t,selectedId:s}=this.props,{deletedIds:a,isEditMode:i}=this.state,o=l.a.Children.map(this.listItems,e=>e?l.a.cloneElement(e,{isDeleted:e&&n()(a,e.props.id),isEditMode:i,isSelected:s&&e.props.id===s,onDeleteClick:this.toggleDeleteClickHandler}):null);return t||!this.onLoadMore?l.a._(I.a,null,l.a._("div",{className:"list-items-container"},o)):l.a._(j,E({className:"list-items-container",stubClassName:"list-item list-item-stub"},this.additionalInfiniteScrollProps,{hasMore:this.hasMore&&!e,isLoading:this.isLoadingMore,onLoadMore:this.onLoadMore}),o)}_Dt(){return l.a._("div",{className:"list-items-container"},l.a._("p",{className:"empty-text"},Object(P.d)("empty")))}_D(){const{title:e}=this.props;return e?l.a._("h2",null,e):null}_Ie(){const{isEditMode:e}=this.state;return l.a._(d.a,{isActive:e,onClick:this.editButtonClickHandler})}render(){const{isEditable:e,isPending:t,isScrollable:s}=this.props,{isEditMode:a}=this.state,i=this.hasMore||t||!this.isListEmpty,o=i&&e;return l.a._("div",{className:Object(T.c)("editable-list",this.additionalClassNames,{"is-pending":t,"is-edit-mode":a,"is-empty":!i,scrollable:s})},l.a._("div",{className:"list-header"},this._D(),o&&this._Ie()),t&&l.a._(C.a,{isCentered:!0}),i&&!t?this._Id():this._Dt())}}A.displayName="EditableList";t.a=A},,,,,,,,,,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(18),r=s(13),l=s(6),c=s(43),d=s(3),p=s(10),u=s(1),h=s(72),m=(s(20),s(202)),g=s(15),b=s(178),_=s(96);const v={ban:m.a,showModal:n.c,unBan:m.c};class f extends i.a.Component{constructor(...e){super(...e),this.uid=Object(h.o)(),this.clickHandler=()=>{const{currentUser:e,hasBanned:t,shouldConfirm:s,user:a}=this.props;if(t)this.props.unBan(e.id,[a.id]);else{if(s)return void this.props.showModal(d.F.BAN_CONFIRMATION,{user:a,modelId:e.id,type:g.a.BAN});this.props.ban(e.id,a.id,!1)}}}_If(){const{hasBanned:e,isPending:t}=this.props;return i.a._("button",{id:this.uid,disabled:t,className:Object(p.c)("ban-button ban-button-iconified",{banned:e}),onClick:this.clickHandler,type:"button"},i.a._(l.a,{img:"ban"}),i.a._(c.a,{targetId:this.uid,isMobileRelative:!1},Object(u.d)(`bans.${e?"unban":"ban"}`)))}_Ig(e){const{isPending:t}=this.props;return i.a._("a",{className:"btn-ban",disabled:t,onClick:this.clickHandler},e)}_Ih(e){const{isPending:t,type:s}=this.props;return i.a._(r.a,{className:"btn-ban",size:"default",disabled:t,onClick:this.clickHandler,type:s},e)}render(){const{canBan:e,hasBanned:t,isLoggedIn:s,type:a}=this.props;if(!s||!e&&!t)return null;if("icon"===a)return this._If();const i=Object(u.d)(t?"button.unblockUser":"button.blockUser");return"anchor"===a?this._Ig(i):this._Ih(i)}}f.displayName="BanButton",f.defaultProps={isIcon:!1,shouldConfirm:!1,shouldConsiderCurrentUser:!1};t.a=Object(o.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i},userBans:o}=e,{shouldConsiderCurrentUser:n,user:r}=t;return{canBan:Object(_.a)(e,n?s.id:null,r.id),currentUser:s,hasBanned:Object(b.b)(e,s.id,r.id),isLoggedIn:a&&!i,isPending:o.isPending}},v)(f)},function(e,t,s){"use strict";var a=s(2),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(5),l=s(42),c=s(18),d=s(17),p=s(13),u=s(6),h=s(3),m=s(1),g=(s(20),s(185)),b=s(15),_=s(108),v=s(96);class f extends n.a.Component{constructor(...e){super(...e),this.state=f.getDerivedStateFromProps(this.props),this.friendButtonClickHandler=()=>{const{uniqueName:e}=this.props;this.props.emitButtonEvent(e,{user:this.props.user})}}static getDerivedStateFromProps(e){const{outgoingFriendship:t}=e;return{hasFriendshipRequestSent:i()(t,"status")===b.f.REQUESTED}}render(){const{canFriend:e,currentUser:t,isBanned:s,isLoggedIn:a,isMyFriend:i,isPending:o,shouldHideRemovalState:r,size:l,style:c,type:d}=this.props,h=c||(i?"default-filled":"default"),{hasFriendshipRequestSent:g}=this.state,b=!a||!s&&t.isRegular;let _;return g?_=Object(m.d)("button.friendship.requestSent"):i?_=r?null:n.a._("span",{className:"btn-friendship-friends-caption"},n.a._(u.a,{img:"check-1",className:"btn-friendship-friends-caption-icon"}),Object(m.d)("friendsTitle")):(e||b)&&(_=Object(m.d)("button.friendship.invite")),_?"anchor"===d?n.a._("a",{className:"btn-friendship",disabled:o||g,onClick:this.friendButtonClickHandler},_):n.a._(p.a,{className:"btn-friendship",disabled:o||g,onClick:this.friendButtonClickHandler,size:l,style:h,type:d},_):null}}f.displayName="FriendshipButton";const C={addFriends:g.a,emitButtonEvent:d.b,removeFriends:g.d,showErrorNotification:l.b,showModal:c.c};f.defaultProps={shouldHideRemovalState:!1,size:"default",uniqueName:h.b.FRIENDSHIP,style:null};t.a=Object(r.c)((e,t)=>{const{auth:s,myFriends:a}=e,{user:i}=t;return{canFriend:Object(v.b)(e,i.id),currentUser:s.currentUser,isBanned:Object(v.e)(e,i.id),isLoggedIn:s.isLoggedIn&&!s.isLoggingOut,isMyFriend:Object(_.f)(e,i.id),isPending:a.isPending,outgoingFriendship:Object(_.i)(e,i.id)}},C)(f)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(146),r=s(1);class l extends i.a.Component{render(){const{tagId:e,searchString:t}=this.props;if(t||!e)return null;const s=`seo.indexHeadings.subheaders.${e}`,a=Object(r.d)(s);return a!==s?i.a._("div",{className:"index-page-subheader"},i.a._("h2",null,a)):null}}l.displayName="IndexPageHeaderSubheader";var c=l,d=s(6);function p(){return i.a._("div",{className:"index-page-header-container"},i.a._("div",{className:"model-list no-results"},i.a._(d.a,{img:"search-3",size:44}),i.a._("span",{className:"no-search-results"},Object(r.d)("searchResultsIsEmpty"))),i.a._("div",{className:"index-page-header"},i.a._("h1",null,Object(r.d)("seo.indexHeadings.searchNoResults"))))}p.displayName="IndexPageSearchNothingFoundHeader";var u=s(508),h=s(509),m=s(434),g=s(7),b=s(46),_=s(26),v=s(97);class f extends i.a.Component{render(){const{gender:e,isSC:t,tag:s}=this.props;let a=e;e===g.kc&&t&&(a=`${e}_sc`);const o="verified"===s.mlStatus;return i.a._("div",{className:"index-page-header-container"},i.a._("div",{className:"index-page-header"},i.a._("div",{className:"index-page-title-wrapper"},i.a._(v.a,{className:"index-page-vr-header"},i.a._("span",{className:"vr-seo-badge"},"VR"),Object(r.d)(`seo.indexHeadings.vr.${a}`)),o&&i.a._(h.a,null)),i.a._(m.a,null)),i.a._("div",{className:"index-page-subheader"},i.a._("h2",null,Object(r.d)("seo.indexHeadings.subheaders.vr"))),i.a._(m.a,null))}}f.displayName="IndexPageVRHeader";var C=Object(o.c)(e=>({gender:Object(b.i)(e),isSC:Object(_.h)(e)}))(f),N=s(58),O=s(205),y=s(31);class w extends i.a.Component{constructor(...e){super(...e),this.getIndexPageTitleType=e=>"verified&&willingToDo"===e?"willingToDo":e}_Ed(){const{tag:e,searchString:t,isNonNudeWL:s,isOnMoreRoute:a,isOnStripbotRecommendedPage:i,modelsCount:o,primaryTag:n,isRecommendedPage:l}=this.props;if(a)return Object(r.d)(`multipleCategories.titles.${e.primaryTagId}.mostPopularModels`);if(i)return Object(r.e)("seo.stripbotRecommendedPage.header",{number:o});if(e.isMixed){const t=Object(r.d)(`tagGenders.${e.primaryTagId}.${e.id}`,{stripTags:!0});return Object(r.e)(`seo.indexHeadings.mixedTag.${e.primaryTagId}`,{tagTranslated:t})}if(l)return Object(r.e)("seo.indexHeadings.tags.recommended");if(e===g.wc)return Object(r.e)("seo.indexHeadings.tags.preferred");if(s)return Object(r.e)("seo.indexHeadings.tags.nonNudeWL");if(e.id===g.Gb)return Object(r.d)(`multipleCategories.titles.${n}.mostPopularModels`);if(t)return Object(r.d)("seo.indexHeadings.searchResults");if(!e.id)return Object(r.e)(`seo.indexHeadings.tags.${e.primaryTagId}`);const c=Object(r.e)(`${e.primaryTagId}.${e.id}`,{seoExtra:!0});return c&&c.heading?c.heading:Object(r.e)(`seo.indexHeadings.tagGenders.${e.primaryTagId}`,{tag:Object(r.d)(`tagGenders.${e.primaryTagId}.${e.id}`,{stripTags:!0})})}render(){const{hasSearchNoResults:e,isVrBranch:t,searchString:s,tag:a,indexPageTitleClassName:o,indexPageTitleLabelClassName:n}=this.props;if(t)return i.a._(C,{tag:a});if(s&&e)return i.a._(p,null);const r=this.getIndexPageTitleType(a.mlStatus);return i.a._("div",{className:"index-page-header-container"},i.a._(u.a,{text:this._Ed(),type:r,additionalClassName:o,labelAdditionalClassName:n}),i.a._(c,{searchString:s,tagId:a.id}))}}w.displayName="IndexPageHeader",w.defaultProps={indexPageTitleClassName:"",indexPageTitleLabelClassName:""};t.a=Object(n.h)(Object(o.c)((e,t)=>{const{modelSearch:{isPending:s,hasSearchNoResults:a}}=e,{match:{params:{primaryTag:i=Object(b.b)(e),secondaryTag:o="",searchString:n=""}}}=t,r=o?`${i}/${o}`:i,l=Object(b.m)(e)[r],c=Object(y.G)(e);return{isNonNudeWL:Object(_.f)(e),isMultipleCategoriesIndexAvailable:Object(O.b)(e),isOnMoreRoute:Object(y.x)(e),isOnStripbotRecommendedPage:c,isVrBranch:Object(y.M)(e),isSearching:s,searchString:n,hasSearchNoResults:a,primaryTag:i,tag:l,modelsCount:c?Object(N.m)(e):0}})(w))},function(e,t,s){"use strict";var a=s(131),i=s.n(a),o=s(8),n=s.n(o),r=s(0),l=s.n(r),c=s(5),d=s(42),p=s(40),u=s(122);const h=({message:e})=>l.a._("div",{className:"lazy-component-error"},e);h.displayName="LazyComponentError";var m=h,g=s(59),b=s(21),_=s(1),v=s(20);const f=({moduleProviderKey:e,isRestricted:t},s)=>{const a=e?s[e]:s.default;return t?Object(u.a)(a):a},C={error:d.b},N={isRestricted:n.a.bool,moduleProvider:n.a.func.isRequired,moduleProviderKey:n.a.string,preventHeaderError:n.a.bool,preventLoader:n.a.bool,loaderWrapper:n.a.element,...Object(v.a)(C)},O=Object.keys(N);class y extends l.a.Component{constructor(e,t){if(super(e,t),this.state={Component:null,errorMessage:null},Object(b.f)()){const t=e.moduleProvider();this.state={...this.state,Component:f(e,t)}}}fetchComponentModule(){return this.props.moduleProvider().then(e=>{this._isMounted&&this.setState({Component:f(this.props,e),errorMessage:null})}).catch(e=>{const{preventHeaderError:t}=this.props,s=Object(_.d)("errors.networkError");p.c.error("LazyComponent module provider error",e),this.setState({Component:null,errorMessage:l.a._(m,{message:s})}),t||this.props.error(s)})}_A(){this._isMounted=!0,this.fetchComponentModule()}componentWillUnmount(){this._isMounted=!1}injectTemporaryNode(e){const{loaderWrapper:t}=this.props;return t?l.a.cloneElement(t,{children:e}):e}render(){const{preventHeaderError:e,preventLoader:t}=this.props,{Component:s,errorMessage:a}=this.state;return s?l.a._(s,i()(this.props,O)):a?this.injectTemporaryNode(e?a:null):t?this.injectTemporaryNode(null):this.injectTemporaryNode(l.a._(g.a,{isCentered:!0}))}}y.displayName="LazyComponent",y.defaultProps={isRestricted:!1,moduleProviderKey:"",preventHeaderError:!1,preventLoader:!1,loaderWrapper:null};t.a=Object(c.c)(null,C)(y)},,,,,,,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(30),r=s(18),l=s(3),c=s(31);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const p={login:{component:"Login",className:"auth-modal-login"},signup:{component:"SignUp",className:"auth-modal-signup"}};class u extends i.a.Component{constructor(...e){super(...e),this.clickHandler=e=>{const{shouldFollowLink:t,triggerSource:s,type:a}=this.props;if(this.onClick(e),t)return;e.preventDefault();const i=a.split("/").shift();this.props.showModal(l.F.AUTH,{...p[i],triggerSource:s})},this.onClick=e=>{const{onClick:t}=this.props;t&&t(e)}}render(){const{children:e,className:t,linkProps:s,type:a}=this.props;return i.a._(n.a,d({},s,{className:t,to:`/${a}`,onClick:this.clickHandler}),e)}}u.displayName="AuthLink";const h={showModal:r.c};u.defaultProps={linkProps:{}};t.a=Object(o.c)((e,{type:t})=>({shouldFollowLink:Object(c.S)(e,t)}),h)(u)},,,,,,,,,,,,,,,function(e,t,s){"use strict";var a=s(78),i=s.n(a),o=s(244),n=s.n(o),r=s(45),l=s.n(r),c=s(174),d=s.n(c),p=(s(8),s(0)),u=s.n(p),h=s(3),m=s(22),g=s(10);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const _=[...[0,1,2,3,4,5,6,7,8,9].map(e=>({source:new RegExp(`${e}`),target:new RegExp(`[0-${e}]`)})),{source:/\d/,target:/\d/},{source:/[A-Z]/,target:/[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]/},{source:/\*/,target:/[\dA-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]/},{source:/\_/,target:/[^\_]/}],v=i()(e=>e.split("").map(e=>{const t=_.find(({source:t})=>t.test(e));return t?t.target:null})),f=(e,t,s)=>{const a=C({mask:t,placeholder:s});let i=e;if(e&&e.length){const s=[];v(t).forEach((t,i)=>{s[i]=t&&e[i]&&t.test(e[i])?e[i]:a[i]}),i=s.join("")}else i=a;return i},C=({mask:e,placeholder:t})=>t||e;class N extends u.a.Component{constructor(e){super(e),this.inputChangeHandler=e=>{const{value:t,isSuccessSymbol:s}=this.state,{mask:a,placeholder:i,onChange:o}=this.props;if(s){const s=f(this.getSolidValue(e.target.value),a,i);s===t&&this.selection.start>this.prevSelection.start&&(this.selection=d()(this.prevSelection)),this.updateSelectionLimits(s),this.updateSelection(!0),this.setState({value:s},()=>{o&&o(s)})}this.setState({isSuccessSymbol:!0})},this.inputKeyPressHandler=e=>{const{start:t}=this.selection;const s=l()(v(this.props.mask),(e,s)=>s>=t&&e),a=!s||s&&s.test(null===(i=e).which?i.keyCode<32?null:String.fromCharCode(i.keyCode):0!==i.which&&0!==i.charCode?i.which<32?null:String.fromCharCode(i.which):null);var i;return this.setState({isSuccessSymbol:a}),a},this.selectionChangeHandler=(e,t)=>{const s=()=>{this.updateSelection(),this.setInputSelection(),t&&t(e)};h.j.ie11?setTimeout(s):s()},this.onKeyUp=e=>{this.selectionChangeHandler(e,this.props.onKeyUp)},this.onMouseUp=e=>{this.selectionChangeHandler(e,this.props.onMouseUp)},this.nativeDatepickerOnChange=e=>{const t=Object(m.j)(e.target.valueAsDate,m.f.LONG_LOCAL_DATE);this.props.onChange(t)},this.selection={start:0,end:0,min:0,max:e.mask.length+1},this.prevSelection={...this.selection},this.state={value:"",isSuccessSymbol:!0,...N.getDerivedStateFromProps(this.props)}}static getDerivedStateFromProps(e){const{mask:t,value:s,placeholder:a}=e,i=s||"";return{value:h.j.androidChrome?i:f(i,t,a)}}getSolidValue(e=""){let t="";const{mask:s,placeholder:a}=this.props,i=C({mask:s,placeholder:a}),o=this.state.value||"",n=o.length>e.length,r=e.length>o.length,{start:l}=this.selection,c=this.selection.end-this.selection.start>0;let d=e.split("");const p=v(s);if(r&&""!==o)if(p[l])d.splice(l+1,1);else{const e=d.splice(l,1);d.splice(l+1,1,e)}if(n&&o!==i){let e=c?l:l-1;for(;!p[e]&&e>0;)d.splice(e-1,1,i[e-1]),e-=1;c||d.splice(l-1,0,i[l])}return d=d.join(""),i.split("").forEach((e,s)=>{p[s]&&d[s]&&p[s].test(d[s])?t+=d[s]:t+=i[s]}),t}_A(){h.j.androidChrome||this.setInputSelection()}componentDidUpdate(e){this.updateSelectionLimits(this.props.value||""),h.j.androidChrome||this.setInputSelection()}updateSelection(e=!1){const{inputRef:t}=this,s=v(this.props.mask),a=e=>s[e-1],i=e=>s[e],o=e=>a(e)||i(e),r=e=>{let t=this.selection.min;return s.forEach((s,a)=>{a>t&&a<e&&o(a)&&(t=a)}),t},l=e=>{const t=n()(s,(t,s)=>s>e&&o(s));return-1===t?this.selection.max:t};this.prevSelection={...this.prevSelection,...this.selection},this.selection={...this.selection,start:t.selectionStart,end:t.selectionEnd};const c=this.selection.start,d=this.selection.end;i(c)&&a(c)||!e||(this.selection.start<this.prevSelection.start?this.selection.start=r(c):this.selection.start=l(c),this.selection.end<this.prevSelection.end?this.selection.end=r(d):this.selection.end=l(d)),this.selection.start<this.selection.min&&(this.selection.start=this.selection.min),this.selection.end>this.selection.max&&(this.selection.end=this.selection.max,this.selection.end<this.selection.start&&(this.selection.start=this.selection.end)),this.selection.end<this.selection.start&&(this.selection.end=this.selection.start)}updateSelectionLimits(e=""){this.selection.max=e.length}setInputSelection(){const{inputRef:e}=this;e.selectionStart===this.selection.start&&e.selectionEnd===this.selection.end||e.setSelectionRange&&e.setSelectionRange(this.selection.start,this.selection.end,e.selectionDirection)}render(){const{className:e,hasDateFormat:t,...s}=this.props,{value:a}=this.state,i=C(this.props);return h.j.androidChrome&&t?u.a._("div",{className:"masked-input-wrapper"},u.a._("input",{type:"date",className:"input masked-input-invisible",value:a?Object(m.j)(Object(m.D)(a,m.g.LONG_LOCAL_DATE),m.f.ISO_8601_DATE_FORMAT):"",onChange:this.nativeDatepickerOnChange,disabled:s.disabled}),u.a._("input",b({className:"input"},s,{type:"text",value:a}))):u.a._("input",b({type:"text",...s,onChange:this.inputChangeHandler,onKeyUp:this.onKeyUp,onKeyPress:this.inputKeyPressHandler,onMouseUp:this.onMouseUp,value:a===i?"":a,ref:e=>{this.inputRef=e}},{className:Object(g.c)("input",e)}))}}N.displayName="MaskedInput",t.a=N},,,,,,,,,function(e,t,s){"use strict";var a=s(39),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(12),l=s(6),c=s(43),d=s(10);class p extends n.a.Component{render(){const{position:e,points:t,tooltipText:s,onClick:a}=this.props,p=`rating_position_${e}_${t}`;if(!e)return null;const u=s||n.a._(o.Fragment,null,n.a._(l.a,{img:"stripchat-logo"}),n.a._(r.a,{messageId:"bestModels.strippoints",parameters:{points:t},choiceParameter:"points"}));return n.a._("div",{onClick:a},n.a._("div",{className:Object(d.c)("rating-position-label-wrapper",{clickable:a!==i.a}),id:p},n.a._(l.a,{img:"best-models"}),n.a._("div",{className:"rating-position-label-count"},e)),n.a._(c.a,{isMobileRelative:!1,targetId:p,placement:"top"},u))}}p.displayName="RatingPositionLabel",p.defaultProps={onClick:i.a,points:0,tooltipText:""},t.a=p},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(32),r=s(52),l=s(7),c=s(18),d=s(13),p=s(3),u=s(1),h=s(41),m=s(80);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class b extends i.a.Component{constructor(...e){super(...e),this.clickHandler=e=>{const{isLoggedIn:t,shouldOpenChatTab:s}=this.props;if(s)return e.preventDefault(),this.props.selectChatTab(l.ib.PRIVATE),void m.a.reset();if(t)return;e.preventDefault();const{user:a,showModal:i,triggerSource:o,routerPush:n}=this.props,r=e.target.getAttribute("href");i(p.F.AUTH,{action:{backgroundImage:a.avatarUrl,type:"sendPrivateMessage",user:a,onSuccess:()=>n(r)},component:"SignUp",className:"auth-modal-signup",triggerSource:o})}}render(){const{customContent:e,className:t,shouldOpenTab:s,user:a}=this.props,o=Object(u.d)("button.sendPM"),n={};return s&&(n.target="_blank"),i.a._(d.a,g({className:t,onClick:this.clickHandler,size:"default",title:o,to:`/messages/${a.username}`,type:"link"},n),e||o)}}b.displayName="SendPrivateMessageButton",b.defaultProps={className:null,customContent:null,triggerSource:p.b.SEND_PM};t.a=Object(o.c)(({auth:e,config:t})=>({auth:e,config:t,currentUser:e.currentUser,isLoggedIn:e.isLoggedIn&&!e.isLoggingOut}),e=>Object(n.b)({selectChatTab:r.z,showModal:c.c,routerPush:h.H},e))(b)},,function(e,t,s){"use strict";var a=s(45),i=s.n(a),o=s(35),n=s.n(o),r=s(38),l=s.n(r),c=(s(8),s(0)),d=s.n(c),p=s(5),u=s(117),h=s(180),m=s(697),g=s(48),b=s(121),_=s.n(b),v=s(30),f=s(504),C=s(46),N=s(6),O=s(59),y=s(1),w=s(34),S=s(55),k=(s(20),s(80)),j=s(205),I=s(31),T=s(103),P=s(29);class M extends d.a.Component{constructor(...e){super(...e),this.state={hasMoreModels:!1,columnCount:0},this.propsUpdateToActionsMap=[{update:P.K,action:()=>{this.recalculateCapacity()}},{update:["isMultyIndexPage"],action:()=>{const{columnCount:e}=this.getDOMRelatedValues();this.setState({columnCount:e})}}],this.onScrollHandler=_()(()=>{const{defaultVisibleModelsCount:e,isMultyIndexPage:t,maxIndexPages:s,shouldStopScrollEvent:a,isPending:i,children:o}=this.props;if(a||i||0===o.size||!this.containerRef)return;const n=this.getPageNumber(),r=n>=s;this.setState({page:n,hasMoreModels:r}),r&&t||this.performUpdateLimit(e*n)},200),this.getDOMRelatedValues=()=>({columnCount:Object(P.c)()}),this.recalculateCapacity=()=>{const{columnCount:e}=this.getDOMRelatedValues(),{defaultVisibleModelsCount:t}=this.props;this.setState({columnCount:e},()=>{if(!this.containerRef)return;const e=this.getPageNumber();this.performUpdateLimit(t*e)})},this.performUpdateLimit=e=>{const{limit:t}=this.props;(!t||e>t)&&this.props.saveApiFilterParams({limit:e})},this.containerRefHandler=e=>{this.containerRef=e,this.setState({...this.getDOMRelatedValues()})},this.getFilteredChildren=()=>{const{isAllModelsLoaded:e,defaultVisibleModelsCount:t,children:s}=this.props;if(e)return s;const a=s.size,{columnCount:i}=this.state,o=a%i||0;return o>0&&a>t?s.slice(0,-o):s},this._Dt=()=>d.a._("div",{className:"model-list empty"},d.a._(N.a,{img:"user-guest-1"}),d.a._("div",{className:"empty-list-title"},Object(y.d)("noModelsOnline"))),this._Ii=()=>{const{inOnMoreRoute:e,isMultyIndexPage:t,primaryTagId:s}=this.props;if(e||!t||!this.state.hasMoreModels)return null;const a=`${s}/more`;return d.a._("div",{className:"model-filter-show-more-wrapper"},d.a._(f.a,{url:a,buttonMessageId:"button.showMoreModels",additionalClassName:"media-up-to-s-hidden"}),d.a._(v.a,{"aria-labelledby":"ModelListWrapper",className:"model-filter-show-more media-after-m-hidden",to:a},Object(y.d)("button.showMoreModels")))}}_A(){Object(S.a)(this,document,"scroll",this.onScrollHandler),Object(w.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(w.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){Object(S.b)(this),this.onScrollHandler.cancel()}getPageNumber(){const{defaultVisibleModelsCount:e}=this.props,t=this.getListItemSize();if(!t)return 1;const s=e/Object(P.c)(this.containerRef)*t,a=k.a.get(),i=Object(P.B)(),{offsetTop:o}=this.containerRef;return Math.ceil(Math.max(a-o+1.5*i,0)/s)}getListItemSize(){if(this.listItemSize)return this.listItemSize;const e=this.containerRef.querySelector(".model-list-item");if(!e)return 0;const t=e.clientHeight;return this.listItemSize=t,t}render(){const{children:e,isPending:t}=this.props;return t||0!==e.size?d.a._(c.Fragment,null,d.a._("div",{className:"model-list lazy-load-model-list",ref:this.containerRefHandler},this.getFilteredChildren(),t&&d.a._("div",{className:"loader-wrapper"},d.a._("div",{className:"loader-wrapper-content model-list-item"},d.a._("div",null,d.a._(O.a,{isCentered:!0}))))),this._Ii()):this._Dt()}}M.displayName="LazyLoadModelList";const E={saveApiFilterParams:u.e};var A=Object(p.c)((e,{children:t})=>{const{modelFilter:{limit:s},modelsOnline:{filteredCount:a,isPending:i,wasModelsOnlineLoaded:o,hasLazyLoadingFinished:n},ui:{windowOrientation:r}}=e,l=!o||i,c=n||t.size>=a,d=o&&!l&&c;return{defaultVisibleModelsCount:Object(T.i)(e),isAllModelsLoaded:d,isMultyIndexPage:Object(I.t)(e),inOnMoreRoute:Object(I.x)(e),isPending:l,limit:s,maxIndexPages:Object(T.b)(e),primaryTagId:Object(C.k)(e),shouldStopScrollEvent:c,windowOrientation:r,isNewIndexEnabled:Object(j.c)(e)}},E)(M),U=s(248),H=s(27),L=s.n(H),R=s(2),F=s.n(R),D=s(79),x=s.n(D),B=s(32);const V=()=>d.a._("div",{className:"model-list-item"},d.a._("div",{className:"model-stub-thumb"},d.a._("div",{className:"model-stub-thumb-content"}),d.a._(O.a,{isCentered:!0,loaderType:"sector-circle",size:40})));V.displayName="ModelListItemStub";var z=V,$=s(7),G=s(58),W=s(39),K=s.n(W),q=s(219),J=s(17),Y=s(234),X=s(3),Q=s(61);const Z=(e,t)=>t.isLimitExceeded,ee=(e,t)=>Math.ceil(e/t)||1;class te extends d.a.Component{constructor(e){super(e),this.propsUpdateToActionsMap=[{update:Z,action:()=>{const{itemsCount:e}=this.props,t=this.getPageSize(),s=Math.ceil(e/t);this.pageChangeHandler(s)}}],this.pageChangeHandler=e=>{const{isChildrenPerPageMode:t}=this.props,{currentPage:s}=this.state,a=this.props.children.size,i=this.getPageSize(),o=i*(e-1);let n=o+1;!t&&n>a&&(n=o+(a-o)),this.setState({currentPage:e,lastViewedItemIndex:n},()=>{this.scrollIntoView(),this.props.onPageChange(e,s,i)})},this.scrollIntoView=()=>{this.props.emitUiEvent(X.S.SCROLL_VIEWPORT_TO_ELEMENT)},this._Dt=()=>d.a._("div",{className:"paginated-list empty"}),this.getPaginationContent=()=>{const{children:e,isChildrenPerPageMode:t}=this.props,{currentPage:s,pageSize:a}=this.state;if(t){return{firstChild:e.get(0),otherChildren:e.size>1?e.slice(1,a):null}}const i=(s-1)*a,o=i+a;return{firstChild:e.get(i),otherChildren:e.size>i+1?e.slice(i+1,o):null}},this.state={currentPage:this.props.initialPage,lastViewedItemIndex:1},Object.assign(this.state,this.getPageParams(e))}_A(){Object(w.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(w.a)(this.propsUpdateToActionsMap,e,this.props);const t=this.getPageSize();if(this.state.pageSize&&this.state.pageSize!==t){const e=ee(this.state.lastViewedItemIndex,t);this.props.saveApiFilterParams({offset:(e-1)*t,limit:t})}Object(Q.i)(this,this.getPageParams(e))}getPageParams(e){const t=this.getPageSize();let{currentPage:s,lastViewedItemIndex:a}=this.state;const i=this.props.updateKey!==e.updateKey,o=!e.isChildrenPerPageMode&&this.props.children.size<a;return this.state.pageSize&&this.state.pageSize!==t&&(s=ee(a,t)),(i||o)&&(s=1,a=1),{currentPage:s,pageSize:t,lastViewedItemIndex:a}}getPageSize(){const{childRef:e,listRef:t}=this,{rows:s,defaultPageSize:a}=this.props;if(!e||!t)return a;const i=Object(q.findDOMNode)(e).clientWidth,o=Object(q.findDOMNode)(t).clientWidth;return s*Math.round(o/i)}_Id(){const{itemsCount:e,hiddenButtons:t}=this.props,{currentPage:s,pageSize:a}=this.state,{firstChild:i,otherChildren:o}=this.getPaginationContent();return i?d.a._("div",{className:"paginated-list-wrapper"},d.a._("div",{className:"paginated-list",ref:e=>{this.listRef=e}},d.a.cloneElement(i,{ref:e=>{this.childRef=e}}),o),d.a._(Y.a,{currentPage:s,itemsCount:e,pageChangeCallback:this.pageChangeHandler,pageSize:a,hiddenButtons:t})):null}render(){const{children:e}=this.props;return e&&e.size?this._Id():this._Dt()}}te.displayName="PaginatedList";const se={saveApiFilterParams:u.e,emitUiEvent:J.e};te.defaultProps={defaultPageSize:12,hiddenButtons:!1,initialPage:1,isChildrenPerPageMode:!1,isLimitExceeded:!1,onPageChange:K.a,rows:3};var ae=Object(p.c)(e=>{const{ui:{windowWidth:t,windowHeight:s,windowOrientation:a}}=e;return{windowWidth:t,windowHeight:s,windowOrientation:a}},se)(te);const ie=()=>3*Object(P.c)();class oe extends d.a.Component{constructor(...e){super(...e),this.state={isPaginationButtonsHidden:!1,isLimitExceeded:!1},this.propsUpdateToActionsMap=[{update:["isModelsOnlinePending"],action:()=>{const{isModelsOnlinePending:e}=this.props;e||(this.showStubItemsDebounced.cancel(),this.setState({isPaginationButtonsHidden:!1}))}},{update:["filteredCount","offset"],action:()=>{const{offset:e,filteredCount:t}=this.props,s=0!==e&&e>=t;this.setState({isLimitExceeded:s})}},{update:(e,t)=>!L()(e)&&(F()(e,"tag.url")!==F()(t,"tag.url")||F()(e,"searchString")!==F()(t,"searchString")||F()(e,"searchString")&&!F()(t,"searchString")),action:()=>{this.showStubItemsDebounced()}}],this.showStubItemsDebounced=x()(()=>{this.setState({isPaginationButtonsHidden:!0},this.props.showStubItems)},$.z),this.getStubItems=()=>{const e=this.props.children.count();return l.a.Seq([...new Array(e)].map((e,t)=>d.a._(z,{key:t})))},this.updateInitLimit=()=>{const e=ie();this.props.saveApiFilterParams({limit:e,initLimit:e,offset:0})},this.getPaginatedFilterParams=(e,t,s)=>({limit:s,offset:e?(e-1)*s:0}),this.onPaginatedListPageChange=(e,t,s)=>{const{limit:a,offset:i}=this.getPaginatedFilterParams(e,t,s);this.props.isPaginatedChildrenPerPageMode&&(this.props.saveApiFilterParams({limit:a,offset:i}),this.showStubItemsDebounced())},this._Dt=()=>d.a._("div",{className:"model-list empty"},d.a._(N.a,{img:"user-guest-1"}),d.a._("div",{className:"empty-list-title"},Object(y.d)("noModelsOnline")))}_A(){Object(w.a)(this.propsUpdateToActionsMap,{},this.props),this.updateInitLimit()}componentDidUpdate(e){Object(w.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this.showStubItemsDebounced.cancel()}render(){const{children:e,filteredCount:t,isPaginatedChildrenPerPageMode:s,paginatedListMemoizationKey:a,shouldShowStubItems:i}=this.props,{isLimitExceeded:o}=this.state,n=i?this.getStubItems():e;if(0===n.size&&!o)return this._Dt();const r=s?t:e.size;return d.a._("div",{className:"paginated model-list"},d.a._(ae,{defaultPageSize:ie(),isChildrenPerPageMode:s,itemsCount:r,onPageChange:this.onPaginatedListPageChange,rows:3,updateKey:a,hiddenButtons:this.state.isPaginationButtonsHidden,isLimitExceeded:o},n))}}oe.displayName="PaginatedModelList";const ne={saveApiFilterParams:u.e,showStubItems:h.g};var re=Object(p.c)(e=>{const{modelFilter:t,modelsOnline:s}=e,{filteredCount:a,isPending:i,shouldShowStubItems:o}=s,{searchString:n,tag:r,offset:l}=t;return{filteredCount:a,isModelsOnlinePending:i,offset:l,paginatedListMemoizationKey:`${n}-${r.id}-${r.primaryTagId}`,shouldShowStubItems:o,searchString:n,tag:r}},e=>Object(B.b)(ne,e))(oe),le=s(127),ce=s(172),de=s(152),pe=s(10),ue=s(21);function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class me extends d.a.Component{constructor(...e){super(...e),this.modelListItemClickHandler=(e,t)=>{const{isViewCamPage:s,sectionId:a,tagUrl:i,tag:o}=this.props,{currentTarget:{dataset:{snapshotTimestamp:n,modelId:r}}}=e;a?this.props.updateAnalyticsIndexPageSection(a,o.primaryTagId):s&&(i===$.jc?this.props.updateAnalyticsIndexPageSection("viewcamCouples"):i===$.Ub?this.props.updateAnalyticsIndexPageSection("viewcamRecommended"):i===$.Vb&&this.props.updateAnalyticsIndexPageSection("viewcamRelated")),this.props.shouldLogPopularSnapshot&&this.props.modelLogPopularSnapshot(r,t),this.props.isRecommendedPage?this.props.saveFilterParams({shouldUpdatePreviousTag:!0,sortBy:$.vb.RECOMMENDED_SCORE_SORT,tagUrl:$.Ub}):this.props.tagUrl&&this.props.saveFilterParams({shouldUpdatePreviousTag:!0,sortBy:this.props.sortBy,tagUrl:this.props.tagUrl}),this.props.changeViewCamSettings(this.getViewCamSettings(r)),this.props.onModelItemClicked(Number(r),n)},this.getViewCamSettings=e=>{const{models:t}=this.props,s=Number(e);let a=null;return a=Array.isArray(t)?i()(t,e=>e.id===s):t.get(s),a?a.broadcastSettings:{}}}filterListItems(e=[],t){const s=t.filter(t=>!n()(e,t.id));return Array.isArray(s)?s:s.valueSeq()}getListItems(){const{base64Previews:e,excludeIds:t,favoriteIds:s,isHighQualityThumb:a,models:i,isOnlineStatusVisible:o,isSsrActive:n,modelListItemClassName:r}=this.props,l=a?$.Ib.BIG:$.Ib.SMALL;return this.filterListItems(t,i).map((t,a)=>d.a._(U.a,he({},Object(ce.b)(this.props,t),{base64Preview:e[t.id],clickHandler:this.modelListItemClickHandler,isStatusVisible:o,isInFavorites:s.includes(t.id),isSsrActive:n,key:t.id,model:t,quality:l,additionalClassName:r})))}_Ij(){const{isPaginated:e,isLazyLoading:t,isSearching:s,isPaginatedChildrenPerPageMode:a,wasSearchResultsLoaded:i,isSearchMode:o,models:n,excludeIds:r,additionalClassName:l}=this.props;if(s||!i&&o&&Object(ue.d)())return d.a._("div",{className:"loader-container"},d.a._(O.a,{isCentered:!0}));const c=this.getListItems();if(e)return d.a._(re,{isPaginatedChildrenPerPageMode:a},c);if(t)return d.a._(A,null,c);if(0===c.size)return this._Dt();const p=d.a._(d.a.Fragment,null,d.a._("div",{className:"model-list-item-placeholder"}),d.a._("div",{className:"model-list-item-placeholder"})),u=this.filterListItems(r,n),h=u.length||u.size,m=Math.ceil(h/2),g=m+1;return d.a._("section",{className:Object(pe.c)("model-list",`model-list-width-${m}`,`model-list-column-count-${g}`,l)},c,p)}_Dt(){return d.a._("div",{className:"model-list empty"},d.a._(N.a,{img:"user-guest-1"}),d.a._("div",{className:"empty-list-title"},Object(y.d)("noModelsOnline")))}render(){return this._Ij()}}me.displayName="ModelList";const ge={onModelItemClicked:h.e,modelLogPopularSnapshot:m.a,changeViewCamSettings:g.d,saveFilterParams:u.f,updateAnalyticsIndexPageSection:de.g};me.defaultProps={isLazyLoading:!1,isOnlineStatusVisible:!0,isPaginated:!1,sectionId:null,isPaginatedChildrenPerPageMode:!1,isShowCTRImages:!1,modelListItemClassName:"",additionalClassName:""};t.a=Object(p.c)((e,t)=>{const{modelFilter:{searchString:s,sortBy:a,tag:i},modelsOnline:{filteredCount:o},modelSearch:{isPending:n,wasSearchResultsLoaded:r},ssr:{isSsrActive:l}}=e;return{filteredCount:o,base64Previews:Object(G.b)(e),favoriteIds:Object(le.a)(e),paginatedListMemoizationKey:`${s}-${i.id}-${i.primaryTagId}`,isSearchMode:Object(G.r)(e),isRecommendedPage:Object(I.F)(e),isViewCamPage:Object(I.L)(e),isSearching:n,isSsrActive:l,isHighQualityThumb:Object(I.M)(e),sortBy:t.sortBy||a,tag:i,wasSearchResultsLoaded:r,...Object(ce.a)(e)}},ge)(me)},,function(e,t,s){"use strict";var a=s(385),i=s.n(a),o=s(392),n=s.n(o),r=s(79),l=s.n(r),c=(s(38),s(8),s(0)),d=s.n(c),p=s(5),u=s(6),h=s(102),m=s(3),g=s(10),b=s(34),_=s(29),v=s(39),f=s.n(v),C=s(40),N=s(13),O=s(12),y=s(22),w=s(1),S=s(93),k=s(118),j=s(43),I=s(90);const T={[S.c.FRIENDS]:"users",[S.c.VERIFIED_USERS]:"user-verified",[S.c.PAID]:"lock-1",[S.c.UNPUBLISHED]:"spy-off",[S.c.FAN_CLUB]:"diamond"},P={[I.a.FAN_CLUB]:{icon:"diamond",tooltipText:"myCollection.fanClubContent"},[I.a.PAID]:{icon:"unlocked",tooltipText:"myCollection.purchasedContent"}},M=()=>d.a._("div",{className:"deleted-video-overlay"},d.a._(u.a,{img:"trash",size:26}),d.a._(O.a,{className:"deleted-video-overlay-text",messageId:"deleted"}));M.displayName="_Ik";const E=(e,t,s,a,i)=>d.a._("div",{className:"video-controls"},Boolean(!a&&i)&&d.a._("div",{className:"video-controls-icon-wrapper",onClick:t,"data-video-id":e},d.a._(u.a,{img:"settings",size:14})),d.a._("div",{className:"video-controls-icon-wrapper",onClick:s,"data-video-id":e},d.a._(u.a,{img:"trash",size:14})));E.displayName="_H";const A=(e,t)=>d.a._(N.a,{style:"pale",display:"block",onClick:t,"data-video-id":e},d.a._(u.a,{img:"recovery"}),d.a._(O.a,{messageId:"videos.restore"}));A.displayName="_Il";const U=(e,t)=>d.a._(N.a,{display:"block",style:"pale",onClick:t,"data-video-id":e},d.a._(O.a,{messageId:"tryAgain"}));U.displayName="_Im";const H=()=>d.a._("div",{className:"processing-overlay"},d.a._(u.a,{img:"limit",size:36}),d.a._(O.a,{className:"processing-overlay-text",messageId:"videos.processingStatus"}));H.displayName="_In";const L=()=>d.a._("div",{className:"failed-overlay"},d.a._(u.a,{img:"error",size:36}),d.a._(O.a,{className:"failed-overlay-text",messageId:"videos.processingFailed"}));L.displayName="_Io";const R=e=>d.a._("div",{className:"videos-list-item"},d.a._("div",{className:"video-uploader",onClick:e},d.a._("div",{className:"video-uploader-content"},d.a._(u.a,{size:28,img:"plus-unframed"}),d.a._(O.a,{messageId:"videos.uploadVideo",className:"video-uploader-text"}))));R.displayName="_Ip";const F=e=>{const{accessMode:t,id:s}=e,a=P[t];if(!a)return null;const i=`video_access_unlocked_${s}`,o=m.j.safari?"right":"top";return d.a._(d.a.Fragment,null,d.a._("div",{className:"video-access-unlocked-icon",id:i},d.a._(u.a,{img:a.icon})),d.a._(j.a,{isMobileRelative:!1,placement:o,targetId:i},Object(w.d)(a.tooltipText)))};F.displayName="_Iq";const D=(e,t,s,a)=>{const i="contentAccessModes.viewerThumbLabels",{accessMode:o,cost:n}=e;let r,l;switch(a){case S.c.PAID:r=d.a._(u.a,{size:16,img:t}),l=d.a._(O.a,{messageId:`${i}.${a}`,parameters:{cost:n},elements:{accent:d.a._("span",{className:"cost-accent"})}});break;case S.c.VERIFIED_USERS:{const e=s?"mail-filled":t,o=s?a:"registered";r=d.a._(u.a,{size:40,img:e}),l=d.a._(O.a,{messageId:`${i}.${o}`});break}case S.c.FRIENDS:case S.c.FAN_CLUB:r=d.a._(u.a,{size:40,img:t}),l=d.a._(O.a,{messageId:`${i}.${a}`})}return r||l?d.a._("div",{className:Object(g.c)(["video-access-viewer",o])},d.a._("div",{className:"video-access-viewer-inner"},r,d.a._("span",{className:"video-access-viewer-text"},l))):null};D.displayName="_Ir";const x=({className:e,currentUser:t,isDeleted:s,isEditMode:a,isLost:i,isCurrentUserFriendOfOwner:o,isOwnProfile:n,isRecordedPrivate:r,isPlaying:l,isUploader:c,selectedVideoId:p,video:h,deleteClickHandler:m,restoreClickHandler:b,settingsClickHandler:_,shouldHideCounter:v,thumbClickHandler:f,thumbMouseEnterHandler:N,thumbMouseLeaveHandler:w,tryAgainClickHandler:j,uploaderClickHandler:I,listItemRefHandler:P,videoRefHandler:x})=>{if(c)return R(I);const{accessMode:B,coverUrl:V,duration:z,id:$,microCoverUrl:G,status:W,title:K,trailerUrl:q,viewsCount:J,userId:Y}=h,X=W===S.e.PROCESSING,Q=W===S.e.ERROR,Z=p===$,ee=B===S.c.FAN_CLUB&&!Object(k.f)(h);return q||C.c.error(`There is no trailerUrl id=${$} userId=${Y}`),d.a._("div",{className:Object(g.c)("videos-list-item",e,{deleted:s||i,error:Q,selected:Z}),"data-video-id":$,ref:P},d.a._("div",{className:"videos-list-item-expander"},d.a._("div",{className:"videos-list-item-inner"},d.a._("div",{className:"video-thumb",onMouseEnter:N,onMouseLeave:w,onClick:f,"data-user-id":Y,"data-video-id":$,"data-is-processing":X||null,"data-has-failed-processing":Q||null,"data-is-lost":i||null},d.a._("div",{className:Object(g.c)("content-wrapper",ee?"content-wrapper-restricted":"")},d.a._("video",{className:"trailer",style:{display:l?null:"none"},src:q,ref:x,muted:"muted",loop:"loop","data-video-id":$}),Boolean(V)&&d.a._("img",{style:{display:l?"none":null},src:ee?G:V,className:"cover"})),((e,t,s,a)=>{const{accessMode:i,cost:o}=e,n=T[i];return t&&i!==S.c.FREE?d.a._("div",{className:"video-access-own"},d.a._(u.a,{img:n,size:14}),d.a._(O.a,{className:"video-access-own-text",messageId:`contentAccessModes.ownerThumbLabels.${i}`,elements:{cost:d.a._("strong",null,o)},choiceParameter:"cost",parameters:{cost:o}})):Object(k.f)(e)?F(e):D(e,n,s,Object(k.c)(e,s,a))})(h,n,t,o),X&&H(),Q&&L(),i&&M(),a&&(s?M():E($,_,m,Q,n)),d.a._("span",{className:"video-duration"},(e=>{const t=1e3*e;return Object(y.j)(t,y.f.HOURS_MINUTES_SECONDS).replace(/^0+:/,"")})(z))),d.a._("div",{className:"video-under-thumb"},Q&&!a&&!r&&U($,j),s&&A($,b),!s&&!Q&&d.a._("div",{className:"video-title"},d.a._("span",{className:"video-title-text",title:K},K)),!s&&!Q&&!v&&d.a._("div",{className:"video-stats"},d.a._(u.a,{img:"spy-on",size:14}),d.a._("span",null,J))))))};x.displayName="VideosListItem",x.defaultProps={className:"",deleteClickHandler:f.a,restoreClickHandler:f.a,settingsClickHandler:f.a,uploaderClickHandler:f.a,listItemRefHandler:f.a,isDeleted:!1,isEditMode:!1,isLost:!1,isCurrentUserFriendOfOwner:!1,isOwnProfile:!1,isPlaying:!1,isRecordedPrivate:!1,isUploader:!1,shouldHideCounter:!1,thumbClickHandler:f.a,thumbMouseEnterHandler:f.a,thumbMouseLeaveHandler:f.a,tryAgainClickHandler:f.a,videoRefHandler:f.a};var B=x,V=s(108);function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class $ extends d.a.Component{constructor(...e){super(...e),this.trailerRefs={},this.listItemRefs={},this.scrollContainer=null,this.leftOverflowIndicatorRef=null,this.rightOverflowIndicatorRef=null,this.listItemWidth=0,this.overflowIndicatorWidth=0,this.state={playingTrailerId:null},this.propsUpdateToActionsMap=[{update:["selectedVideoId"],action:()=>{this.props.smartXScrolling&&this.scrollToSelectedThumbIfNeeded(this.props)}},{update:["videos.length"],action:()=>{this.props.smartXScrolling&&n()(this.toggleXAxisOverflowIndicators)}},{update:_.J,action:()=>this.windowResizeHandler()}],this.getHasScroll=()=>this.scrollContainer&&this.scrollContainer.scrollWidth>this.scrollContainer.clientWidth,this.scrollToSelectedThumbIfNeeded=({selectedVideoId:e})=>{const t=this.listItemRefs[e];if(!t||!this.getHasScroll())return;const{scrollLeft:s}=this.scrollContainer,a=t.offsetLeft-s;if(a<this.overflowIndicatorWidth)return void(this.scrollContainer.scrollLeft=s-(this.overflowIndicatorWidth-a));const i=this.scrollContainer.offsetWidth-this.overflowIndicatorWidth,o=a+t.offsetWidth;o>i&&(this.scrollContainer.scrollLeft=s+(o-i))},this.toggleXAxisOverflowIndicators=()=>{if(!this.getHasScroll())return;const{scrollLeft:e}=this.scrollContainer,t=e>0,s=e+this.scrollContainer.offsetWidth<this.scrollContainer.scrollWidth;this.leftOverflowIndicatorRef&&this.rightOverflowIndicatorRef&&(t?this.leftOverflowIndicatorRef.classList.add("visible"):this.leftOverflowIndicatorRef.classList.remove("visible"),s?this.rightOverflowIndicatorRef.classList.add("visible"):this.rightOverflowIndicatorRef.classList.remove("visible"))},this.stopTrailer=e=>{e&&(e.pause(),e.currentTime&&(e.currentTime=0))},this.stopAllTrailers=()=>{i()(this.trailerRefs,e=>this.stopTrailer(e))},this.windowResizeHandler=()=>{const e=Object.keys(this.listItemRefs)[0],t=this.listItemRefs[e];t&&(this.listItemWidth=t.offsetWidth),this.toggleXAxisOverflowIndicators()},this.scrollContainerRefHandler=e=>{this.scrollContainer=e},this.leftArrowRefHandler=e=>{this.leftOverflowIndicatorRef=e},this.rightArrowRefHandler=e=>{this.rightOverflowIndicatorRef=e},this.videoRefHandler=e=>{if(!e)return;const{dataset:{videoId:t}}=e;this.trailerRefs[t]=e},this.listItemRefHandler=e=>{if(!e)return;const{dataset:{videoId:t}}=e;this.listItemRefs[t]=e},this.leftScrollArrowClickHandler=()=>{this.getHasScroll()&&(this.scrollContainer.scrollLeft=this.scrollContainer.scrollLeft-this.listItemWidth)},this.rightScrollArrowClickHandler=()=>{this.getHasScroll()&&(this.scrollContainer.scrollLeft=this.scrollContainer.scrollLeft+this.listItemWidth)},this.listClickHandler=()=>{this.stopAllTrailers()},this.listScrollHandler=l()(this.toggleXAxisOverflowIndicators,50),this.thumbMouseEnterHandler=e=>{const{currentTarget:{dataset:{videoId:t,hasFailedProcessing:s,isLost:a}}}=e,{isEditMode:i}=this.props;i||s||a||m.j.iOS||(this.trailerRefs[t].play(),this.setState({playingTrailerId:Number(t)}))},this.thumbMouseLeaveHandler=e=>{const{currentTarget:{dataset:{videoId:t}}}=e,s=this.trailerRefs[t];this.stopTrailer(s),this.setState({playingTrailerId:null})}}_A(){Object(b.a)(this.propsUpdateToActionsMap,{},this.props);const{smartXScrolling:e}=this.props;e&&(this.overflowIndicatorWidth=this.leftOverflowIndicatorRef.offsetWidth,this.windowResizeHandler(),this.toggleXAxisOverflowIndicators())}componentDidUpdate(e){Object(b.a)(this.propsUpdateToActionsMap,e,this.props)}render(){const{deletedVideoIds:e,isEditMode:t,isMobileLayout:s,isOwnProfile:a,isScrollAlwaysVisible:i,listItemClassName:o,lostVideoIds:n,scrollBarLibOptions:r,shouldShowUploader:l,smartXScrolling:c,uploaderClickHandler:p,user:m,videos:b,..._}=this.props,{playingTrailerId:v}=this.state;return d.a._("div",{className:Object(g.c)("videos-list-wrapper",{"edit-mode":t}),ref:this.rootRefHandler},d.a._(h.a,{containerRef:this.scrollContainerRefHandler,isAlwaysVisible:i,libOptions:r,onNativeScroll:this.listScrollHandler,onScrollX:this.listScrollHandler},d.a._("div",{className:"videos-list",onClick:this.listClickHandler},l&&d.a._(B,{isUploader:!0,uploaderClickHandler:p}),b.map(s=>d.a._(B,z({className:o,key:s.id,isDeleted:e&&e.has(s.id),isEditMode:t,isOwnProfile:a,isPlaying:v===s.id,isLost:n.has(s.id),video:s,videoRefHandler:this.videoRefHandler,thumbMouseEnterHandler:this.thumbMouseEnterHandler,thumbMouseLeaveHandler:this.thumbMouseLeaveHandler,listItemRefHandler:this.listItemRefHandler,isRecordedPrivate:Boolean(s.showId)},_))))),Boolean(c)&&d.a._("div",null,d.a._("div",{className:"video-list-scroller-left",ref:this.leftArrowRefHandler,style:{pointerEvents:s?"none":null},onClick:this.leftScrollArrowClickHandler},!s&&d.a._(u.a,{img:"prev-small",size:24})),d.a._("div",{className:"video-list-scroller-right",ref:this.rightArrowRefHandler,style:{pointerEvents:s?"none":null},onClick:this.rightScrollArrowClickHandler},!s&&d.a._(u.a,{img:"next-small",size:24}))))}}$.displayName="VideosList",$.defaultProps={isEditMode:!1,isScrollAlwaysVisible:!1,shouldShowUploader:!1};t.a=Object(p.c)((e,t)=>{const{auth:{currentUser:s},ui:{windowHeight:a,windowWidth:i},userVideos:{lostVideoIds:o}}=e;return{currentUser:s,isMobileLayout:Object(_.s)(e),isCurrentUserFriendOfOwner:Object(V.f)(e,t.user.id),lostVideoIds:o,windowHeight:a,windowWidth:i}})($)},,function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return r}));var a=s(0),i=s.n(a),o=s(10);let n,r;!function(e){e.default="default",e.line="line",e.striped="striped"}(n||(n={})),function(e){e.default="default",e.green="green"}(r||(r={}));const l=e=>{const{fromMessage:t,toMessage:s}=e;return t||s?i.a._("div",{className:"progress-bar-progress-range"},i.a._("div",{className:"progress-bar-progress-range-item"},t),i.a._("div",{className:"progress-bar-progress-range-item"},s)):null};l.displayName="ProgressBarRange";const c=({done:e})=>i.a._("div",{className:"progress-bar-progress",style:{flex:`0 1 ${e}%`}});c.displayName="ProgressBarProgress";const d=({isCompleted:e,successMessage:t,progressMessage:s})=>t||s?i.a._("div",{className:"progress-bar-text-wrapper"},e?t:s):null;d.displayName="ProgressBarMessage";const p=e=>{const{done:t,isCompleted:s,progressMessage:a,successMessage:n,type:r,fromMessage:p,toMessage:u,color:h,isAnimated:m}=e,g=Object(o.c)("progress-bar",`type-${r}`,`color-${h}`,{animated:m,completed:s});return i.a._("div",{className:g},i.a._(l,{fromMessage:p,toMessage:u}),i.a._("div",{className:"progress-bar-progress-wrapper"},i.a._(c,{done:t}),i.a._(d,{isCompleted:s,successMessage:n,progressMessage:a})))};p.displayName="ProgressBar",p.defaultProps={done:0,isCompleted:!1,fromMessage:"",toMessage:"",progressMessage:"",successMessage:"",isAnimated:!1,type:n.default,color:r.default},t.c=p},,,,,,,,,,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(30),n=s(13),r=s(6),l=s(10),c=s(1);class d extends i.a.Component{constructor(...e){super(...e),this.deleteClickHandler=()=>{const{id:e,onDeleteClick:t}=this.props;t(e)}}get className(){const{className:e,isDeleted:t,isEmpty:s,isSelected:a}=this.props;return Object(l.c)("list-item",e,{deleted:t,empty:s,selected:a})}get linkTo(){return this.props.linkTo}_It(){return this.props.children}_Iu(){return i.a._("span",{className:"caption"},this.props.caption)}_Iv(){const{isDeleted:e}=this.props;return e?i.a._(n.a,{className:"restore-button",onClick:this.deleteClickHandler},Object(c.d)("button.restore")):i.a._("a",{className:"delete-button",onClick:this.deleteClickHandler},i.a._(r.a,{img:"close-4"}))}_Iw(){return i.a._("div",{className:this.className,key:this.props.id},i.a._("span",{className:"item-image-container"},this._Iv(),this._It()),this._Iu())}_Ix(){const{id:e,onClick:t}=this.props,{linkTo:s}=this;return s?i.a._("div",{className:this.className,key:e},i.a._(o.a,{onClick:t,to:s},i.a._("span",{className:"item-image-container"},this._It()),this._Iu())):i.a._("div",{className:this.className,key:e},i.a._("span",{className:"item-image-container"},this._It()),this._Iu())}render(){const{isEmpty:e,isEditMode:t}=this.props;return t?e?null:this._Iw():this._Ix()}}d.displayName="EditableListItem",t.a=d},,,,,,,,,,,,,function(e,t,s){"use strict";var a=s(33),i=s.n(a),o=s(502),n=(s(8),s(0)),r=s.n(n),l=s(5),c=s(1),d=s(379),p=s(31),u=s(26),h=s(134);const m=(e="all")=>{switch(e){case"none":return"noindex, nofollow";case"all":default:return"index, follow, max-snippet:-1, max-video-preview:-1, max-image-preview:large"}};function g({alternateLangLinks:e,canonicalUrl:t,currentLocale:s,description:a,descriptionOg:n,title:l,shouldShowAlternateLinks:d,unreadNotificationsCount:p,indexingType:u}){const h=`${p>0?`(${p}) `:""}`;return r.a._(o.Helmet,{titleTemplate:`${h}%s | ${Object(c.e)("seo.title.ending")}`},r.a._("html",{lang:s}),l&&r.a._("title",null,l),a&&r.a._("meta",{name:"description",content:a}),l&&r.a._("meta",{property:"og:title",content:l}),(n||a)&&r.a._("meta",{property:"og:description",content:n||a}),r.a._("meta",{name:"robots",content:m(u)}),r.a._("link",{rel:"canonical",href:t}),d&&i()(e,e=>r.a._("link",{rel:"alternate",href:e.href,hrefLang:e.hreflang,key:e.hreflang})))}g.displayName="StripHelmet",g.defaultProps={alternateLangLinks:[],description:null,descriptionOg:null,robots:null,title:null,currentLocale:"en",canonicalUrl:null,shouldShowAlternateLinks:!1};t.a=Object(l.c)(e=>({canonicalUrl:Object(p.d)(e),currentLocale:Object(d.a)(e),alternateLangLinks:Object(p.a)(e),shouldShowAlternateLinks:Object(u.h)(e)&&!Object(p.L)(e),unreadNotificationsCount:Object(h.i)(e)}))(g)},function(e,t,s){"use strict";var a=s(150),i=s.n(a),o=s(346),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(6),d=s(43),p=s(10),u=s(1);const h=["medal-gold","medal-silver","medal-bronze"];class m extends l.a.Component{checkPlaceRange(e,t){const{place:s}=this.props;return i()(s)&&n()(s,e,t)}render(){const{htmlIdPrefix:e,hallOfFamePosition:t}=this.props,s=n()(t,1,4);if(!this.checkPlaceRange(1,4)&&!s)return null;const{isTooltipVisible:a,username:i,place:o,topMedalHeight:r}=this.props,m=`award_place_${e}_${i}_${o}`;return l.a._("div",{id:m,className:Object(p.c)("award-place award-place-top",{"award-hall-of-fame":s})},l.a._(c.a,{img:s?h[t-1]:`medal-${o}`,size:null,height:s?1.3*r:r,width:Number(((s?1.3*r:r)/(100/77)).toFixed(1))}),a&&l.a._(d.a,{isMobileRelative:!1,placement:"top",shouldPreventDefault:!0,targetId:m},s?Object(u.d)("topHallOfFamePlace",{place:t}):Object(u.d)("topBestPlace",{username:i,place:o})))}}m.displayName="AwardPlace",m.defaultProps={htmlIdPrefix:"",isTooltipVisible:!0,size:20},t.a=m},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(180),r=s(7),l=s(58),c=s(34),d=s(100),p=(s(20),s(31)),u=s(29);class h extends i.a.Component{constructor(...e){super(...e),this.state={wasMissingRequest:!1},this.propsUpdateToActionsMap=[{update:u.D,action:()=>{const{wasMissingRequest:e}=this.state;e&&this.forceUpdateModels()}},{update:["modelsOnlineHash"],action:()=>{this.updateSchedulerTimer(r.uc)}}],this.loadModelList=()=>{const{isRecommendedPage:e}=this.props;(e?this.props.loadRecommended:this.props.loadModels)({isInBackground:!0})},this.updateSchedulerTimer=e=>{d.a.stopTimeout("onlineModels"),d.a.startTimeout("onlineModels",e,this.updateModels)},this.updateModels=()=>{const{isDocumentVisible:e}=this.props;e?this.loadModelList():this.setState({wasMissingRequest:!0}),this.updateSchedulerTimer(r.uc)},this.forceUpdateModels=()=>{this.setState({wasMissingRequest:!1}),this.loadModelList(),this.updateSchedulerTimer(r.uc)}}_A(){Object(c.a)(this.propsUpdateToActionsMap,{},this.props),this.updateSchedulerTimer(r.uc)}componentDidUpdate(e){Object(c.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){d.a.stopTimeout("onlineModels")}render(){return null}}h.displayName="ModelListScheduler";const m={loadModels:n.b,loadRecommended:n.d};t.a=Object(o.c)(e=>{const{ui:{isDocumentVisible:t}}=e;return{isDocumentVisible:t,modelsOnlineHash:Object(l.n)(e),isRecommendedPage:Object(p.F)(e)}},m)(h)},,function(e,t,s){"use strict";var a=s(78),i=s.n(a),o=s(33),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(5),d=s(41),p=s(32),u=s(7),h=s(46),m=s(17),g=s(6),b=s(3),_=s(10),v=s(1),f=(s(20),s(31));const C={girls:l.a._(g.a,{img:"female"}),men:l.a._(g.a,{img:"male"}),trans:l.a._(g.a,{img:"tranny"}),couples:l.a._(g.a,{img:"maleFemale"})},N={blockInterface:m.a,releaseInterface:m.p,routerPush:d.H,routerReplace:d.I};class O extends l.a.Component{constructor(...e){super(...e),this.openDropdownHandler=e=>{e.preventDefault(),e.stopPropagation();const{blockInterface:t,isInterfaceBlocked:s,currentBlockingComponent:a,parentBlockingComponent:i}=this.props;s?this.tagsPreferenceDropdownRef!==a?t(this.tagsPreferenceDropdownRef,a):t(i):t(this.tagsPreferenceDropdownRef)},this.itemClickHandler=i()(e=>()=>{const{isOnTagsPage:t}=this.props;return t?this.props.routerReplace(`/tags/${e}`):this.props.routerPush(`/${e}`)}),this.isOpen=()=>{const{currentBlockingComponent:e,isInterfaceBlocked:t,parentBlockingComponent:s}=this.props;return t&&(this.tagsPreferenceDropdownRef===e||this.tagsPreferenceDropdownRef===s)},this.nativeSelectOnChangeHandler=e=>{const t=e.target.value,{isOnTagsPage:s}=this.props;this.props.routerPush(`/${s?"tags/":""}${t}`)},this._H4=()=>{const{preferredTagUrl:e}=this.props;return b.j.desktop?null:l.a._("select",{className:"tags-preference-mobile-select",value:e,onChange:this.nativeSelectOnChangeHandler},n()(u.S,e=>l.a._("option",{key:e,value:e},Object(v.d)(`tags.${e}`,{stripTags:!0}))))},this._H5=()=>{const{preferredTagUrl:e}=this.props,t=Object(v.d)(`tags.${e}`);return l.a._("div",{className:"tags-preference-dropdown-wrapper"},l.a._("div",{onClick:b.j.desktop?this.openDropdownHandler:null,className:Object(_.c)("tags-preference-dropdown-trigger",{active:this.isOpen()}),title:t},l.a._("div",{className:"tags-preference-current-type"},C[e],l.a._("span",{className:"media-up-to-m-hidden tags-preference-label"},t),this._H4()),l.a._("span",{className:"selectbox-arrow"},l.a._(g.a,{img:"selectbox"}))),this._Iy())}}_Iy(){return this.isOpen()&&b.j.desktop?l.a._("div",{className:"tags-preference-dropdown-content"},n()(u.S,e=>{const t=this.props.preferredTagUrl===e;return l.a._("div",{key:e,className:Object(_.c)("tags-preference-type-item",{active:t}),onClick:this.itemClickHandler(e)},C[e],Object(v.d)(`tags.${e}`,{stripTags:!0}))})):null}render(){return l.a._("div",{className:"tags-preference-dropdown",ref:e=>{this.tagsPreferenceDropdownRef=e}},l.a._("div",{className:"tags-preference-desktop-layout"},this._H5()))}}O.displayName="TagsPreferenceDropdown";t.a=Object(c.c)(e=>{const{ui:{currentBlockingComponent:t,parentBlockingComponent:s,isInterfaceBlocked:a}}=e;return{currentBlockingComponent:t,isInterfaceBlocked:a,isOnTagsPage:Object(f.J)(e),parentBlockingComponent:s,preferredTagUrl:Object(h.i)(e)}},e=>Object(p.b)(N,e))(O)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(13),n=s(6),r=s(10),l=s(1);const c=({description:e,icon:t,title:s,className:a="",preferredTagUrl:c})=>i.a._("div",{className:Object(r.c)("empty-list",a)},i.a._("div",{className:"empty-list-left"},i.a._("div",{className:"empty-list-title"},s),i.a._("div",{className:"empty-list-description"},e),i.a._(o.a,{size:"large",style:"nav",type:"link",to:"girls"===c?"/":`/${c}`},Object(l.d)("button.goToFeaturedModels"))),i.a._("div",{className:"empty-list-right"},i.a._(n.a,{img:t})));c.displayName="EmptyList",t.a=c},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(342),r=s(12),l=s(6),c=s(218),d=s(1),p=s(31),u=s(26);class h extends i.a.Component{render(){const{canonicalHost:e,isStripChat:t,isVrBranch:s,isWhiteLabel:o,vrContactUsUrl:n,vrWikiUrl:p}=this.props;return s?i.a._("div",{className:"vr-page-footer"},i.a._("div",{className:"vr-page-footer-title"},Object(d.d)("vr.vrPage.title1")),i.a._("div",{className:"vr-page-footer-text"},i.a._(r.a,{messageId:"vr.vrPage.p1",elements:{a:i.a._("a",{href:"https://gizmovr.com/#download",target:"_blank",rel:"noopener noreferrer"}),span:i.a._("span",{className:"vr-page-footer-text-bright"})},parameters:{canonicalHost:e}})),i.a._("div",null,t&&i.a._("video",{controls:!0,poster:"https://cdn.stripst.com/images/vr_preview.png",src:"https://cdn.stripst.com/videos/vr/Stripchat.mp4"})),i.a._("div",{className:"vr-page-footer-title"},Object(d.d)("vr.vrPage.title2")),i.a._("div",{className:"vr-page-footer-text"},Object(d.d)("vr.vrPage.p2")),i.a._("div",{className:"vr-page-footer-title"},Object(d.d)("vr.vrPage.title3")),i.a._("div",{className:"vr-page-footer-text"},i.a._(r.a,{messageId:"vr.vrPage.p3",elements:{p:i.a._("p",{className:"vr-page-footer-text-bright italic"})}})),!o&&i.a._(a.Fragment,null,i.a._("div",{className:"vr-page-footer-title"},Object(d.d)("vr.vrPage.title4")),i.a._("div",{className:"vr-page-footer-text"},i.a._(r.a,{messageId:"vr.vrPage.p4",elements:{p:i.a._("p",null)}})),i.a._("div",{className:"vr-page-footer-button-box"},i.a._(c.b,{className:"vr-page-footer-button",style:"pale",href:p},i.a._(l.a,{img:"question"}),i.a._("span",null,Object(d.d)("vr.vrPage.learnMore")))),i.a._("div",{className:"vr-page-footer-padding-left"},i.a._("div",{className:"vr-page-footer-title-xl"},i.a._("span",{className:"vr-seo-badge"},"VR"),i.a._("span",null,Object(d.d)("vr.vrPage.title5"))),i.a._("div",{className:"vr-page-footer-text"},Object(d.d)("vr.vrPage.p5")),i.a._("div",{className:"vr-page-footer-title"},Object(d.d)("vr.vrPage.title6")),i.a._("div",{className:"vr-page-footer-text"},Object(d.d)("vr.vrPage.p6")),i.a._("div",{className:"vr-page-footer-button-box"},i.a._(c.b,{className:"vr-page-footer-button vr-page-footer-button-contact",style:"pale",href:n},t&&i.a._(l.a,{img:"stripchat-logo"}),i.a._("span",null,Object(d.d)("vr.vrPage.contact"))))))):null}}h.displayName="IndexPageVRFooter";t.a=Object(o.c)(e=>{const t=Object(p.M)(e),{whiteLabels:{canonicalHost:s,whiteLabelHost:a}}=e;return{canonicalHost:s||a,isStripChat:Object(u.h)(e),isVrBranch:t,isWhiteLabel:Object(u.i)(e),vrContactUsUrl:t?Object(n.d)(e):null,vrWikiUrl:t?Object(n.e)(e):null}})(h)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(32),r=s(18),l=s(6),c=s(43),d=s(3),p=s(10),u=s(1),h=s(72),m=(s(20),s(202)),g=s(15),b=s(178),_=s(96);const v={ban:m.a,showModal:r.c,unBan:m.c},f={canMute:!1,hasBanned:!1,hasMuted:!1,isPending:!1,isVisible:!1};class C extends i.a.Component{constructor(...e){super(...e),this.uid=Object(h.o)(),this.clickHandler=()=>{const{hasMuted:e,modelId:t,user:s}=this.props;e?this.props.unBan(t,[s.id]):this.props.showModal(d.F.BAN_CONFIRMATION,{user:s,modelId:t,type:g.a.MUTE})}}render(){const{hasMuted:e,hasBanned:t,isVisible:s,isPending:a}=this.props;return s?i.a._("button",{id:this.uid,disabled:a||t,className:Object(p.c)("mute-button mute-button-iconified",{muted:e}),onClick:this.clickHandler,type:"button"},i.a._(l.a,{img:"mute"}),i.a._(c.a,{targetId:this.uid,isMobileRelative:!1},Object(u.d)(`bans.${e?"unmute":"mute"}`))):null}}C.displayName="MuteButton";t.a=Object(o.c)((e,t)=>{const{auth:{isLoggedIn:s},userBans:{isPending:a}}=e,{user:i,modelId:o}=t;if(!s)return{...f,isVisible:!1};const n=Object(b.b)(e,o,i.id),r=Object(b.c)(e,o,i.id),l=Object(_.c)(e,o,i),c=Object(_.a)(e,o,i.id);return{canMuteOrUnmute:l,hasBanned:n,hasMuted:r,isPending:a,isVisible:l||r||c||n,modelId:o}},e=>Object(n.b)(v,e))(C)},function(e,t,s){"use strict";var a=s(121),i=s.n(a),o=s(708),n=s.n(o),r=s(314),l=s.n(r),c=s(280),d=s.n(c),p=s(63),u=s.n(p),h=s(173),m=s.n(h),g=s(2),b=s.n(g),_=(s(38),s(8),s(0)),v=s.n(_),f=s(5),C=s(18),N=s(17),O=s(113),y=s(13),w=s(12),S=s(6),k=s(59),j=s(102),I=s(43),T=s(3),P=s(10),M=s(1),E=s(34),A=(s(20),s(61)),U=s(29),H=s(226),L=s(90),R=s(15),F=s(143),D=s(354),x=s(28);function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class V extends v.a.Component{constructor(...e){super(...e),this.state={galleryWidth:null,limit:50},this.propsUpdateToActionsMap=[{update:[U.J,U.K],action:()=>{this.throttledResizeHandler()}}],this.throttledResizeHandler=i()(()=>this.windowResizeHandler(),T.t,{leading:!1,trailing:!0}),this.addControlItems=e=>{const{isOwnProfile:t}=this.props,{limit:s}=this.state;return t?[{id:-1,aspectRatio:1.2},...e]:!t&&d()(e)>s?[...l()(e,0,s),{id:-2,aspectRatio:1.2}]:e},this.imageUploadEventHandler=({name:e,thumbName:t})=>{e===T.R.THUMB&&this.props.removeFromInProgress(t)},this.newNotificationEventHandler=({notification:e})=>{e.type===R.r.USER_PHOTO_DECLINED&&this.props.loadPhotos()},this.deleteControlClickHandler=e=>{const t=b()(e,"currentTarget.parentNode.dataset.photoId");this.props.togglePhotoDeleting(Number(t))},this.galleryRefHandler=e=>{this.galleryRef=e},this.windowResizeHandler=()=>{this.updateGalleryWidth()},this.updateGalleryWidth=()=>{this.galleryRef&&Object(A.i)(this,{galleryWidth:this.galleryRef.offsetWidth})},this.getPxValue=e=>`${e.toFixed(2)}px`,this.alignGalleryItems=(e,t)=>{const s=e=>{const s=n()(e,"width"),a=t-1*e.length;return Math.min(a/s,1)},a=(e,t)=>{const s=e.map(e=>({...e,height:e.height*t,width:e.width*t}));return m()(s).width-=1,s},i=u()(e,({itemsAligned:e,rowItems:t},i)=>{t.push({...i,height:150,width:150*i.aspectRatio});const o=s(t);return o<1&&(e.push(...a(t,o)),t.length=0),{itemsAligned:e,rowItems:t}},{itemsAligned:[],rowItems:[]}),{itemsAligned:o,rowItems:r}=i;return r.length&&o.push(...a(r,s(r))),o},this.showMoreClickHandler=()=>{this.setState({limit:9999})},this.imageClickHandler=e=>{const{currentTarget:{dataset:{photoId:t}}}=e,{albumPhotos:s,selectedAlbum:a,shouldPreventToggleCollection:i,user:o}=this.props;e.preventDefault(),this.props.showModal(T.F.USER_GALLERY_ALBUM,{selectedItemId:Number(t),userPhotos:s,user:o,selectedAlbum:a,shouldPreventToggleCollection:i})},this.addPhotoClickHandler=()=>{this.fileInputRef.click()},this.fileInputChangeHandler=e=>{const{files:t}=e.target;t.length&&this.props.addPhotos([...t]).then(()=>{this.fileInputRef&&this.fileInputRef.form.reset()})},this.buyAlbumClickHandler=()=>{const{user:e,selectedAlbum:t}=this.props;this.props.emitButtonEvent(T.b.USER_GALLERY_BUY_ALBUM,{userId:e.id,albumId:t.id})},this._Iz=()=>{this.props.emitJoinFanClubButtonEvent()},this.goToSettingsClickHandler=()=>{this.props.emitButtonEvent(T.b.USER_GALLERY_GO_TO_SETTINGS)},this.signUpClickHandler=()=>{const{user:e}=this.props;this.props.emitButtonEvent(T.b.USER_GALLERY_ALBUM_REGISTERED_SIGNUP,{model:e})},this._J0=()=>{const{currentUser:e,selectedAlbum:t,isLoggedIn:s,isCurrentUserModelOrStudio:a,user:i}=this.props,{accessMode:o}=t;let n,r,l,c;if(o===L.a.FRIENDS)n="users-in-circle",l=Object(M.d)("gallery.albums.accessModeDescription.friends.title"),c=v.a._(w.a,{messageId:"gallery.albums.accessModeDescription.friends.description",elements:{albumOwnerUsername:v.a._("strong",null,i.username)}});else if(o===L.a.PAID)n="lock-in-circle",l=v.a._(w.a,{choiceParameter:"cost",elements:{amount:v.a._("strong",null,t.cost)},messageId:"gallery.albums.accessModeDescription.paid.title",parameters:{cost:t.cost}}),c=v.a._(w.a,{messageId:"gallery.albums.accessModeDescription.paid.description",elements:{albumName:v.a._("strong",null,t.name)}}),r=v.a._(y.a,{style:"apply-alter",size:"medium",onClick:this.buyAlbumClickHandler},Object(M.d)("gallery.albums.accessModeDescription.paid.buttonTitle"));else if(o===L.a.PAID&&a)n="error",l=Object(M.d)("gallery.albums.accessModeDescription.studioOrModel.title"),c=v.a._(w.a,{messageId:"gallery.albums.accessModeDescription.studioOrModel.description",elements:{albumOwnerUsername:v.a._("strong",null,i.username)}}),r=null;else if(o===L.a.FAN_CLUB)a?(n="error",l=Object(M.d)("gallery.albums.accessModeDescription.studioOrModel.title"),c=v.a._(w.a,{messageId:"gallery.albums.accessModeDescription.studioOrModelForFanClub.description",elements:{albumOwnerUsername:v.a._("strong",null,i.username)}}),r=null):(n="diamond-circle",r=v.a._(y.a,{style:"apply-alter",size:"medium",onClick:this._Iz},Object(M.d)("gallery.albums.accessModeDescription.fanClub.buttonTitle")),l=v.a._(w.a,{elements:{accent:v.a._("strong",null)},messageId:"gallery.albums.accessModeDescription.fanClub.title"}));else if(o===L.a.UNPUBLISHED)n="spy-off",l=Object(M.d)("gallery.albums.accessModes.unpublished");else if(o===L.a.VERIFIED_USERS){let t="";if(s){if(e.isEmailVerified)return null;t="verified"}else t="registered";const a="registered"===t;n=s?"mail":"user-verified-in-circle",l=a?Object(M.d)(`gallery.albums.accessModeDescription.${t}.title`):"",c=Object(M.d)(`gallery.albums.accessModeDescription.${t}.description`),r=v.a._(y.a,{size:"medium",style:a?"signup":"default",onClick:a?this.signUpClickHandler:this.goToSettingsClickHandler},Object(M.d)(`gallery.albums.accessModeDescription.${t}.buttonTitle`))}return v.a._("div",{className:"album-access-mode-wrapper"},v.a._("div",{className:"access-mode-inner"},v.a._("div",{className:"access-mode-icon"},v.a._(S.a,{img:n})),v.a._("div",{className:"access-mode-title"},l),v.a._("div",{className:"access-mode-description"},c),v.a._("div",{className:"access-mode-action"},r)))},this.onDragEnterThrottled=i()(e=>{e.preventDefault();const{currentDraggingPhotoId:t}=this.props,s=Number(e.target.dataset.photoId);t&&s!==t&&this.props.swapPhotoOrder(t,s)},500),this.onDragEnter=e=>{e.persist(),this.onDragEnterThrottled(e)},this.onDragEnd=e=>{e.preventDefault(),this.state.dragImage&&(this.state.dragImage.remove(),this.setState({dragImage:null})),this.props.setDraggingPhotoId(null)},this.onDragStart=e=>{if(!T.j.desktop)return;const{target:t}=e,s=Number(t.dataset.photoId);this.props.setDraggingPhotoId(s);const a=t.style.backgroundImage.match(/http[a-z:/.0-9\-?]*/g).pop(),{height:i}=t.style,{x:o,y:n}=t.getBoundingClientRect(),{clientX:r,clientY:l}=e,c=document._("img");c.setAttribute("src",a),c.style.height=i,document.body.appendChild(c),e.dataTransfer.setDragImage(c,r-o,l-n),this.setState({dragImage:c}),e.dataTransfer.setData("text/plain","anything")},this._Hj=e=>{const{currentDraggingPhotoId:t,currentUser:s,deletedPhotoIds:a,isEditMode:i,isLoggedIn:o,isMyPhotosPending:n,isOwnProfile:r,photosInProgress:l,user:c}=this.props,{height:d,width:p,id:u,status:h,urlThumb:m,urlThumbMicro:g}=e,b=!!r&&l.has(m),_=h===R.I.NOT_REVIEWED,f=!b&&_&&!c.isApprovedModel&&o&&s.id===c.id,C=m||g,N=t===u,O={backgroundImage:C&&!b?`url(${C})`:void 0,height:this.getPxValue(d),width:this.getPxValue(p),opacity:N?0:1},w=`not-reviewed-photo-id-${u}`,j=Boolean(t);if(-1===u)return v.a._("li",{className:Object(P.c)("plus",{"is-updating":n}),key:"plus",onClick:this.addPhotoClickHandler,style:O},n&&v.a._(k.a,{size:80,isCentered:!0}),v.a._(S.a,{img:"plus",size:44}),v.a._("form",null,v.a._("input",{accept:"image/*",multiple:"multiple",onChange:this.fileInputChangeHandler,ref:e=>{this.fileInputRef=e},type:"file"})));if(-2===u)return v.a._("li",{className:"is-clickable show-more",key:"show-more",onClick:this.showMoreClickHandler,style:O},Object(M.d)("button.showMore"));if(i&&!n){const e=a.has(u),t={onClick:this.deleteControlClickHandler};return v.a._("li",{className:Object(P.c)({"should-be-deleted":e}),"data-photo-id":u,draggable:!0,onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDragEnd:this.onDragEnd,key:u,style:O},e?v.a._(y.a,B({className:"restore-button"},t),Object(M.d)("button.restore")):!j&&v.a._("a",B({className:"remove-button"},t),v.a._(S.a,{img:"close-4"})))}return v.a._("li",{className:"is-clickable",draggable:"false",onClick:this.imageClickHandler,key:u,style:O,"data-photo-id":u},b&&v.a._(k.a,{size:80,isCentered:!0}),f&&v.a._("div",{className:"photo-review-pending-icon-wrapper"},v.a._("span",{id:w},v.a._(S.a,{img:"hourglass",size:60})),v.a._(I.a,{className:"photo-review-pending-tooltip",isMobileRelative:!1,placement:"top",targetId:w},v.a._("div",null,v.a._("div",{className:"tooltip-header"},Object(M.d)("gallery.notReviewedPhoto.tooltipTitle")),v.a._("div",{className:"tooltip-description"},Object(M.d)("gallery.notReviewedPhoto.tooltipDescription"))))))}}_A(){Object(E.a)(this.propsUpdateToActionsMap,{},this.props),this.componentDidRender()}componentDidUpdate(e){Object(E.a)(this.propsUpdateToActionsMap,e,this.props),this.componentDidRender()}componentDidRender(){this.updateGalleryWidth()}_B6(){if(!this.props.isLoggedIn)return null;const{currentUser:e}=this.props;return v.a._(O.a,{eventsWithCallbacks:[{subscriptionKey:`image:upload:${e.id}`,callback:this.imageUploadEventHandler},{subscriptionKey:`newNotification:${e.id}`,callback:this.newNotificationEventHandler}]})}render(){const{albumPhotos:e,isAlbumAccessGranted:t,isEditMode:s,isMyPhotosPending:a,isOwnProfile:i,isScrollable:o}=this.props,{galleryWidth:n}=this.state,r=this.addControlItems(e),l=Object(P.c)("photos-gallery",this.props.className,{"gallery-access-restricted":!i&&!t,"is-edit-mode":s,"is-pending":a}),c=v.a._("ul",{className:"photos-gallery-list",ref:this.galleryRefHandler},n>0&&this.alignGalleryItems(r,n).map(this._Hj));return v.a._("div",{className:l},this._B6(),!i&&!t&&this._J0(),o?v.a._(j.a,{isAlwaysVisible:!0},c):c)}}V.displayName="PhotosGallery";const z={addPhotos:H.a,emitButtonEvent:N.b,emitJoinFanClubButtonEvent:N.c,loadPhotos:H.d,removeFromInProgress:H.f,setDraggingPhotoId:H.h,showModal:C.c,swapPhotoOrder:H.i,togglePhotoDeleting:H.j};V.defaultProps={isScrollable:!0};t.a=Object(f.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i},myPhotos:{currentDraggingPhotoId:o,deletedPhotoIds:n,inProgress:r,isPending:l},users:{isPending:c},ui:{windowWidth:d,windowHeight:p,windowOrientation:u}}=e,h=t.isOwnProfile?Object(D.b)(e):Object(D.c)(e,t),m=Object(x.d)(e);return{albumPhotos:t.albumPhotos||h,currentDraggingPhotoId:o,currentUser:s,deletedPhotoIds:n,isAlbumAccessGranted:t.isAlbumAccessGranted||Object(F.a)(t.selectedAlbum),isCurrentUserModelOrStudio:m,isLoggedIn:a&&!i,isMyPhotosPending:l,isUsersPending:c,photosInProgress:r,windowWidth:d,windowHeight:p,windowOrientation:u}},z)(V)},function(e,t,s){"use strict";var a=s(201),i=s.n(a),o=(s(8),s(0)),n=s.n(o);class r extends n.a.Component{render(){const{code:e}=this.props;return n.a._("span",{className:`smile smile-${e}`,title:i()(e)})}}r.displayName="Smile",t.a=r},,function(e,t,s){"use strict";var a=s(27),i=s.n(a),o=(s(38),s(8),s(0)),n=s.n(o),r=s(5),l=s(32),c=s(308),d=s(369),p=s(6),u=s(10),h=s(1),m=s(185),g=s(477),b=s(15),_=s(28);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class f extends n.a.Component{constructor(...e){super(...e),this.listEditHandler=e=>{i()(e)||this.props.removeFriends(e)},this._J1=e=>{const{modelFanClubTiers:t}=this.props;return n.a._(g.a,{id:e.id,key:e.id,fanClubTier:t?t[e.id]:null,user:e})},this._J2=()=>{const{isOwnProfile:e,username:t}=this.props;return n.a._(d.a,{isEmpty:!0,key:"empty",linkTo:e?"/friends":`/user/${t}/friends`},n.a._("span",{className:"item-image"},n.a._(p.a,{img:"more",size:44})))}}render(){const{className:e,counter:t,friends:s,hasMore:a,hasMoreFriends:i,isOwnProfile:o,isPending:r,isUsersPending:l,username:d,...p}=this.props,m=o?Object(h.d)("myFriends"):Object(h.d)("friendsTitle",{username:d}),g=t?` (${t})`:"",_=a&&!r;return n.a._(c.a,v({isEditable:o,isPending:r||l,title:`${m}${g}`},p,{className:Object(u.c)("user-friends",e),onEdit:this.listEditHandler}),[...s.slice(0,b.p).map(this._J1),..._?[this._J2()]:[]])}}f.displayName="UserFriends";t.a=Object(r.c)((e,t)=>{const{users:s}=e;return{isUsersPending:s.isPending,friends:Object(_.u)(e,t.friendIds),hasMoreFriends:Object(_.h)(e,t.friendIds).length>0}},e=>Object(l.b)({removeFriends:m.d},e))(f)},function(e,t,s){"use strict";var a=s(148),i=s.n(a),o=s(2),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(5),d=s(32),p=s(6),u=s(43),h=s(3),m=s(10),g=s(1),b=s(34),_=s(263),v=s(143),f=s(118);const C={addAlbum:_.a,addVideo:_.b,deleteAlbum:_.c,deleteVideo:_.e};class N extends l.a.Component{constructor(...e){super(...e),this.state={tooltipText:""},this.tooltipTimeout=null,this.propsUpdateToActionsMap=[{update:(e,t)=>e.actionSymbol&&e.actionSymbol!==t.actionSymbol,action:()=>{const{isInCollection:e,type:t}=this.props,s=`myCollection.${t}${e?"Add":"Delete"}ButtonTooltip`;clearTimeout(this.tooltipTimeout),this.setState({tooltipText:s},()=>{this.tooltipTimeout=setTimeout(()=>this.setState({tooltipText:""}),3e3)})}}],this.clickHandler=()=>{const{album:e,isInCollection:t,owner:s,video:a}=this.props;e&&t?this.props.deleteAlbum(e.id,s.id):!e||t?a&&t?this.props.deleteVideo(a.id,s.id):a&&!t&&this.props.addVideo(a.id,s.id):this.props.addAlbum(e.id,s.id)}}_A(){Object(b.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(b.a)(this.propsUpdateToActionsMap,e,this.props)}_G3(){const{tooltipText:e}=this.state,{htmlId:t}=this.props;return e?l.a._(u.a,{isForceVisible:!0,targetId:t,isMobileRelative:!1},Object(g.d)(e)):null}render(){const{currentUser:e,isLoggedIn:t,owner:s}=this.props;if(!t)return null;if(!s.isModel)return null;if(t&&e.id===s.id)return null;if(i()(h.H,t=>n()(e,t)))return null;const{album:a,isInCollection:o,isModal:r,htmlId:c,video:d}=this.props;return(a?!a.preview:!d.videoUrl)&&!o?null:l.a._(l.a.Fragment,null,l.a._("div",{id:c,className:Object(m.c)("toggle-collection-button",{added:o,light:r}),onClick:this.clickHandler},o?l.a._(p.a,{img:"check-1",size:12}):l.a._(p.a,{img:"plus-unframed",size:12})),this._G3())}}N.displayName="ToggleCollectionButton";t.a=Object(c.c)((e,t)=>{const{auth:{isLoggedIn:s,currentUser:a},myCollection:{actionSymbol:i}}=e,{album:o,isModal:n,video:r}=t,l=o?"album":"video";return{actionSymbol:i,currentUser:a,htmlId:`toggle_collection_${l}_${o?o.id:r.id}${n?"_modal":""}`,isInCollection:o?Object(v.b)(e,t):Object(f.g)(e,t),isLoggedIn:s,type:l}},e=>Object(d.b)(C,e))(N)},function(e,t,s){"use strict";var a=s(39),i=s.n(a),o=s(150),n=s.n(o),r=s(79),l=s.n(r),c=(s(8),s(0)),d=s.n(c),p=s(10),u=s(21);class h extends d.a.Component{constructor(...e){super(...e),this.state={secretKey:null},this.getIsRecaptchaAvailable=()=>window.grecaptcha&&window.grecaptcha.render,this._J3=()=>{const{recaptchaSiteKey:e}=this.props;Object(u.f)()||(this.getIsRecaptchaAvailable()?this.recaptchaRef&&(this.recaptchaId=window.grecaptcha.render(this.recaptchaRef,{sitekey:e,"expired-callback":this.resetRecaptcha,callback:this.verifyChangeHandler})):this._J4())},this._J4=l()(this._J3,1e3),this.resetRecaptcha=()=>{n()(this.recaptchaId)&&window.grecaptcha&&(this.getIsRecaptchaAvailable()&&window.grecaptcha.reset(this.recaptchaId),this.setState({secretKey:null}))},this.verifyChangeHandler=e=>{this.setState({secretKey:e})}}_A(){this._J3(),this.props.onRecaptchaRendered()}get value(){return this.state.secretKey}render(){const{className:e,recaptchaContainerId:t}=this.props;return d.a._("div",{id:t,className:Object(p.c)("recaptcha",e),ref:e=>{this.recaptchaRef=e}})}}h.displayName="Recaptcha",h.defaultProps={className:"",onRecaptchaRendered:i.a,recaptchaContainerId:null},t.a=h},function(e,t,s){"use strict";s(8);var a=s(0),i=s(240);class o extends a.Component{constructor(e){super(e),Object(i.g)()}render(){const{children:e,isVisible:t}=this.props;return t?e:null}}o.displayName="RecaptchaWrapper",o.defaultProps={isVisible:!0},t.a=o},,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(282),r=s(17),l=s(10),c=s(1),d=(s(20),s(61));const p={releaseInterface:r.p};class u extends a.Component{constructor(...e){super(...e),this.shouldComponentUpdate=Object(d.b)({props:["showCounts","groups"]}),this.releaseInterface=e=>{e.stopPropagation(),this.props.releaseInterface()}}_J5({alias:e,tags:t}){const{showCounts:s,analyticsTagSource:a}=this.props;return i.a._("div",{className:Object(l.c)("tag-group",`tag-group-${e}`),key:e},i.a._("div",{className:"group-header"},Object(c.d)(`tagGroups.${e}`,{stripTags:!0})),i.a._("ul",null,t.map(e=>i.a._("li",{className:"tag-group-item",key:e.id},i.a._(n.a,{analyticsTagSource:a,shouldReleaseInterface:!0,shouldRenderCounter:s,shouldRenderBadge:!0,tag:e})))))}render(){return i.a._(a.Fragment,null,this.props.groups.map(e=>this._J5(e)))}}u.displayName="CategoriesGroups";var h=Object(o.c)(null,p)(u),m=s(30),g=s(7),b=s(46),_=s(31);const v=e=>{const t=g.S.includes(e.primaryTag)?e.primaryTag:g.v;return i.a._(m.a,{to:`/tags/${t}`,onClick:t=>{t.stopPropagation(),e.releaseInterface()},className:"model-filter-show-more"},Object(c.d)("showMore"))};v.displayName="ShowAllTagsLink";var f=Object(o.c)(e=>({primaryTag:Object(_.P)(e)||Object(b.i)(e)}),{releaseInterface:r.p})(v),C=s(148),N=s.n(C),O=s(39),y=s.n(O),w=s(2),S=s.n(w),k=s(146),j=s(300),I=s(12),T=s(6),P=s(23),M=s(3),E=s(26);const A=({hasUnreadNews:e})=>i.a._("li",{key:"model-news"},i.a._(m.b,{className:"model-filter-main-link",to:"/model-news"},i.a._(T.a,{img:"feed",size:16}),i.a._("span",{className:"model-filter-main-link-container"},Object(c.d)("modelNews.title"),e&&i.a._("span",{className:"model-filter-main-link-indicator"}))));A.displayName="NewsLink";const U=e=>i.a._("li",{key:"recommended"},i.a._(m.b,{className:"model-filter-main-link",to:"/recommended",onClick:()=>e.emitButtonEvent(P.g.ENTER_RECOMMENDED)},i.a._(T.a,{img:"recommended",size:16}),i.a._("span",null,Object(c.d)("tags.recommended"))));U.displayName="RecommendLink";const H=Object(o.c)(null,{emitButtonEvent:r.b})(U),L=()=>i.a._("li",{key:"favorites"},i.a._(m.b,{className:"model-filter-main-link",to:"/favorites"},i.a._(T.a,{img:"favorited",size:16}),i.a._("span",null,Object(c.d)("myFavorites"))));L.displayName="FavoritesLink";const R=()=>i.a._("li",{key:"watchHistory"},i.a._(m.b,{className:"model-filter-main-link",to:"/watch-history"},i.a._(T.a,{img:"watch-history",size:16}),i.a._("span",null,Object(c.d)("watchHistory.link"))));R.displayName="WatchHistoryLink";const F=()=>i.a._("li",{key:"myCollection"},i.a._(m.b,{className:"model-filter-main-link",to:"/collection"},i.a._(T.a,{img:"album",size:16}),i.a._("span",null,Object(c.d)("myCollection.button"))));F.displayName="MyCollectionLink";const D=()=>i.a._("li",{key:"vipModels"},i.a._(m.b,{className:"model-filter-main-link",to:"/vip-models"},i.a._(T.a,{img:"star",size:16}),i.a._("span",null,Object(c.d)("tags.preferred"))));D.displayName="VipModelsLink";const x=({whiteLabelDefaultTag:{id:e,primaryTagId:t}})=>i.a._("li",{key:"preferred"},i.a._(m.b,{className:"model-filter-main-link",to:"/",exact:!0},i.a._(T.a,{img:"fire",size:16}),i.a._("span",null,i.a._(I.a,{messageId:e?`tagGenders.${t}.${e}`:`tags.${t}`,elements:{desktop:i.a._("span",{className:"media-up-to-m-hidden"}),mobile:i.a._("span",{className:"media-after-m-hidden"})}}))));x.displayName="PreferredTagLink";const B=e=>{const{currentUser:t,isLoggedIn:s,hasUnreadNews:a,hasVipModels:o,preferredTagUrl:n,shouldReleaseInterface:r,showRecommendedTab:l,whiteLabelDefaultTag:d}=e,p=s&&(t.isModel||t.isStudio),u=l&&!p&&"men"!==n&&"trans"!==n,h=!p,m=!p,g=s&&!N()(M.H,e=>S()(t,e)),b=!p&&o,_=!p&&d,v=r?e.releaseInterface:y.a;return i.a._("div",{className:"tag-group tag-group-main"},i.a._("div",{className:"group-header"},Object(c.d)("tagGroups.main")),i.a._("ul",{onClick:v},_&&i.a._(x,{whiteLabelDefaultTag:d}),p&&i.a._(A,{hasUnreadNews:a}),u&&i.a._(H,null),h&&i.a._(L,null),g&&i.a._(F,null),m&&i.a._(R,null),b&&i.a._(D,null)))};B.displayName="ModelFilterMain",B.defaultProps={currentUser:null,hasVipModels:!1,isLoggedIn:!1,preferredTagUrl:"",shouldReleaseInterface:!1,showRecommendedTab:!0,whiteLabelDefaultTag:null};var V=Object(k.h)(Object(o.c)(e=>{const{auth:{isLoggedIn:t,currentUser:s},config:{data:{features:{showRecommendedTab:a}}}}=e;return{currentUser:s,hasUnreadNews:Object(j.b)(e),hasVipModels:Object(E.c)(e),isLoggedIn:t,preferredTagUrl:Object(b.i)(e),showRecommendedTab:a,whiteLabelDefaultTag:Object(b.t)(e)}},{releaseInterface:r.p})(B));const z=e=>{if(e.isNonNudeWL)return null;const{className:t,liveTagGroups:s,showCounts:a,analyticsTagSource:o,shouldReleaseInterface:n}=e;return i.a._("div",{className:Object(l.c)("categories",t)},i.a._("div",{className:"model-filter-header"},Object(c.d)("tagsFilterHeader")),i.a._("div",{className:"model-filter-groups"},i.a._(V,{shouldReleaseInterface:n}),i.a._(h,{analyticsTagSource:o,groups:s,showCounts:a,showIcons:!0})),i.a._(f,null))};z.displayName="Categories",z.defaultProps={className:"",isNonNudeWL:!1,showCounts:!1};t.a=Object(o.c)(e=>({isNonNudeWL:Object(E.f)(e),liveTagGroups:Object(b.e)(e)}))(z)},function(e,t,s){"use strict";var a=s(39),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(5),l=s(1),c=s(140),d=s(103),p=s(222),u=s(26),h=s(2),m=s.n(h),g=s(40),b=s(75),_=s(6),v=s(715),f=s(716),C=(s(20),s(36)),N=s(138);const O={loginViaGoogle:N.g};class y extends o.Component{constructor(...e){super(...e),this.state={authToken:null},this.signUpUserSuccess=()=>{const{onSuccess:e}=this.props;g.c.info("Auth via google success");const t=this.googleApi.getAuthToken();t&&(this.setState({authToken:t}),this.props.loginViaGoogle(t).then(t=>{m()(t,"config.user.id")&&e&&e()}))},this.signUpUserFail=e=>{g.c.error("Auth via google error",e),this.props.onFail(e)},this.googleAuthorizationClickHandler=()=>{this.googleApi&&this.googleApi.signIn?this.googleApi.signIn().then(this.signUpUserSuccess).catch(this.signUpUserFail):g.c.error("Auth via google instance not exist after click button")}}_A(){const{isGoogleSigInV2:e,googleAuthUrl:t}=this.props;this.googleApi=e?new f.a(t):new v.a}componentDidUpdate(e){if(!this.state.authToken)return;const{loginError:t}=this.props;if(t&&!e.loginErrorPrev){const e=m()(t,"details.isEmailUsed"),s=m()(t,"details.googleToken");if(e)this.props.onFail(t);else if(s)this.props.onProcess({googleToken:{googleToken:s}});else{const e=this.googleApi.getAuthToken();e&&this.props.onProcess({googleToken:e})}}}_Ce(){const{loginError:e}=this.props,t=m()(e,"details.isEmailUsed");return e&&t?n.a._(b.a,{error:{message:Object(l.d)("validation.duplicate_email")},targetId:"google_authorization_id"}):null}render(){const{isStripchat:e}=this.props,t=e?"google-white":"google";return n.a._("div",{className:"google-authorization-wrapper",id:"google_authorization_id"},n.a._("div",{className:"google-authorization",onClick:this.googleAuthorizationClickHandler},n.a._("div",{className:"google-authorization-icon"},n.a._(_.a,{img:t,size:20})),n.a._("div",{className:"google-authorization-label"},Object(l.d)("thirdPartyAuthorization.googleAuthorization.signUp"))),this._Ce())}}y.displayName="GoogleAuthorization",y.defaultProps={loginError:null,googleAuthUrl:"",isGoogleSigInV2:!1};var w=Object(r.c)(e=>{const{auth:{isLoggedIn:t,loginError:s},config:{data:{googleAuthUrl:a}}}=e,i=Object(u.h)(e),{isGoogleSigInV2:o}=Object(C.f)(e);return{googleAuthUrl:a,isGoogleSigInV2:o,isLoggedIn:t,isStripchat:i,loginError:s}},O)(y);const S={updateSuggestedUsername:s(159).j,loginError:N.f};class k extends o.PureComponent{constructor(...e){super(...e),this.twitterAuthorizationClickHandler=()=>{const e=`/api/front/auth/twitter?redirectUrl=${window.location.href}`;window.open(e,"","_blank,width=700,height=620,left=100,top=100"),window.addEventListener("message",this.messageHandler)},this.messageHandler=e=>{const t=m()(e,"data.twitterParams");if(t)if(t.userDeleted){const e={details:{userDeleted:!0}};this.props.loginError(e)}else if(t.userBlocked){const e={details:{userBlocked:!0}};this.props.loginError(e)}else t&&!t.isLoggedIn&&(this.props.onProcess({twitterParams:t}),this.props.updateSuggestedUsername(t.twitterName))}}componentWillUnmount(){window.removeEventListener("message",this.messageHandler)}_Ce(){const{loginError:e}=this.props,t=m()(e,"details.isEmailUsed");return e&&t?n.a._(b.a,{error:{message:Object(l.d)("validation.duplicate_email")},targetId:"twitter_authorization_id"}):null}render(){return n.a._("div",{className:"twitter-auth-wrapper",id:"twitter_authorization_id"},n.a._("div",{className:"twitter-auth",onClick:this.twitterAuthorizationClickHandler},n.a._("div",{className:"twitter-auth-icon"},n.a._(_.a,{img:"twitter",size:20})),n.a._("div",{className:"twitter-auth-label"},Object(l.d)("thirdPartyAuthorization.twitterAuthorization.signUp"))),this._Ce())}}k.displayName="TwitterAuthorization",k.defaultProps={loginError:null};var j=Object(r.c)(e=>{const{auth:{loginError:t}}=e;return{loginError:t}},S)(k),I=s(25);class T extends o.PureComponent{render(){const{isShowThirdPartyAuth:e,isGoogleSignUpEnabled:t,isTwitterSignUpEnabled:s,isSandbox:a,onSuccess:i,onFail:o,onProcess:r}=this.props;return!e||!t&&!s||a?null:n.a._("div",null,n.a._("div",{className:"third-party-authorization"},n.a._("div",{className:"third-party-authorization-separator"},n.a._("span",{className:"third-party-authorization-separator-label"},Object(l.d)("thirdPartyAuthorization.or"))),t&&n.a._(w,{onSuccess:i,onFail:o,onProcess:r}),s&&n.a._(j,{onProcess:r})))}}T.displayName="ThirdPartyAuthorization",T.defaultProps={onFail:i.a,onProcess:i.a,onSuccess:i.a,isSandbox:!1};t.a=Object(r.c)(e=>{const{config:t}=e;return{isShowThirdPartyAuth:(!Object(p.b)(e)||Object(d.c)(e))&&!Object(p.c)(e),isSandbox:Object(c.b)(e),isTwitterSignUpEnabled:Object(u.h)(e),isGoogleSignUpEnabled:Object(I.k)(e)}})(T)},function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return l}));var a=s(0),i=s.n(a),o=s(40);const n=i.a.createContext({tryAcquireH1Lock:()=>({success:!1}),releaseH1Lock:()=>{}}),r=({children:e,as:t,fallback:s,noWarn:o,...r})=>{const{tryAcquireH1Lock:l,releaseH1Lock:c}=Object(a.useContext)(n),d=Object(a.useRef)(void 0),{success:p,lockId:u}=l(d.current,o);return Object(a.useEffect)(()=>()=>c(d.current),[]),p?(d.current=u,i.a._(t||"h1",r,e)):i.a._(s||"h2",r,e)},l=({children:e})=>{const t=Object(a.useRef)(1),s=Object(a.useRef)(void 0),[r,l]=Object(a.useState)(0),c=Object(a.useCallback)((e,a)=>void 0===e?(o.c.debug("Trying to acquire H1 lock"),void 0===s.current?(s.current=t.current,o.c.debug(`Successfully acquired H1 lock, id ${e}`),{success:!0,lockId:s.current}):(t.current++,a||o.c.warn("More than one H1 tried to render, check if its expected and disable logging with noWarn in this place"),{success:!1})):(o.c.debug(`Checking if lock is owned by id ${e}`),s.current===e?(o.c.debug(`Lock is owned by id ${e}, success`),{success:!0,lockId:s.current}):{success:!1}),[]),d=Object(a.useCallback)(e=>{o.c.debug(`Trying to release H1 lock, id ${e}`),e&&s.current===e&&(s.current=void 0,l(e=>e+1),o.c.debug(`Lock is owned by this lock id ${e}, successfully released`))},[]),p=Object(a.useMemo)(()=>({tryAcquireH1Lock:c,releaseH1Lock:d}),[c,d,r]);return i.a._(n.Provider,{value:p},e)};l.displayName="SeoContextProvider"},,,,,,,,,,,function(e,t,s){"use strict";var a=s(2),i=s.n(a),o=s(121),n=s.n(o),r=s(39),l=s.n(r),c=(s(8),s(0)),d=s.n(c),p=s(5),u=s(75),h=s(6),m=s(56),g=s(10),b=s(1),_=(s(20),s(159)),v=s(519),f=s(15),C=s(262);const N={prepareCheck:_.d,check:_.a};class O extends c.PureComponent{constructor(...e){super(...e),this.state={isGeneratorVisible:!0},this.validateUsername=n()(()=>{const e=this.inputRef.value;e&&this.props.check(e)},1e3,{leading:!1}),this.usernameChangeHandler=({target:e})=>{const{onChange:t}=this.props,{value:s}=e;t(s)},this.onLoginKeyUp=()=>{this.setState({isGeneratorVisible:!this.inputRef.value})}}componentDidUpdate(e){const{value:t,suggestedUsername:s,onChange:a}=this.props;s!==e.suggestedUsername&&a(s),t!==e.value&&(this.props.prepareCheck(),this.validateUsername())}componentWillUnmount(){this.props.prepareCheck(),this.validateUsername.cancel()}_G(){const{isValidating:e,signUpError:t}=this.props;if(this.state.isGeneratorVisible)return d.a._(v.a,null);if(this.inputRef&&!e){if(this.inputRef.value&&!t)return d.a._(h.a,{img:"check-1",size:15});if(t)return d.a._(h.a,{img:"close-5",size:15})}return null}_Ce(){const{signUpError:e}=this.props,t=e&&!i()(e,"details.email")&&e.message;return t?d.a._(u.a,{error:{message:t},targetId:"username_input"}):null}render(){const{disabled:e,signUpError:t,value:s}=this.props,a=t&&!i()(t,"details.email")&&t.message;return d.a._("div",{className:"username-input-wrapper"},d.a._("div",{className:"username-input-wrapper-input",id:"username_input"},d.a._(m.a,{className:Object(g.c)({error:a}),maxLength:f.l,ref:e=>{this.inputRef=e},disabled:e,onChange:this.usernameChangeHandler,placeholder:Object(b.d)("usernameValidateInput.placeholder"),onKeyUp:this.onLoginKeyUp,value:s}),this._G()),this._Ce())}}O.displayName="UsernameValidateInput",O.defaultProps={disabled:!1,signUpError:null,onChange:l.a};t.a=Object(p.c)(e=>{const{signUp:{isValidating:t,error:s}}=e;return{isValidating:t,signUpError:s,suggestedUsername:Object(C.e)(e)}},N,null,{forwardRef:!0})(O)},,,,,,,,,,,,,,,function(e,t,s){"use strict";var a=s(2),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(5),l=s(30),c=s(18),d=s(3),p=s(1),u=(s(20),s(26));const h=e=>{const{isXHamsterLive:t,showModal:s,xhlConfig:a}=e;return t?n.a._("a",{href:i()(a,"url.accountSettings.recoveryUrl"),className:"link forgot-password-link",target:"_blank",rel:"nofollow"},Object(p.d)("login.forgotPassword")):n.a._(l.a,{to:"/forgot-password",onClick:e=>{e.preventDefault(),s(d.F.AUTH,{component:"ForgotPassword",className:"auth-modal-forgot-password"})},className:"link forgot-password-link"},Object(p.d)("login.forgotPassword"))};h.displayName="ForgotPasswordLink";const m={showModal:c.c};t.a=Object(r.c)(e=>{const{config:{data:{xhlConfig:t}}}=e;return{isXHamsterLive:Object(u.j)(e),xhlConfig:t}},m)(h)},,,,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(22);const n=({className:e,dateTime:t,showTime:s,locale:a})=>i.a._("span",{className:e},Object(o.j)(t,s?o.f.HUMAN_DATE_TIME:o.f.HUMAN_DATE,a));n.displayName="DateTime",n.defaultProps={className:"date-time",dateTime:new Date,showTime:!1},t.a=n},,,,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(32),r=s(48),l=s(260),c=s(18),d=s(6),p=s(23),u=(s(1),s(34)),h=(s(20),s(31)),m=s(29);class g extends i.a.Component{constructor(...e){super(...e),this.state={isOpeningGizmo:!1},this.propsUpdateToActionsMap=[{update:m.L,action:()=>{const{isWindowFocused:e}=this.props;!e&&this.state.isOpeningGizmo&&(this.watchVrModalShowDebounced&&this.watchVrModalShowDebounced.cancel(),this.props.togglePlayerAvailability(!1),this.setState({isOpeningGizmo:!1}))}}],this.watchVrClick=e=>{e.preventDefault(),e.stopPropagation();const{model:t,showAppropriateVRModal:s}=this.props;this.watchVrModalShowDebounced=s(t,p.x.VR_BTN),this.watchVrModalShowDebounced&&(this.watchVrModalShowDebounced(),this.setState({isOpeningGizmo:!0}))}}_A(){Object(u.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(u.a)(this.propsUpdateToActionsMap,e,this.props)}render(){const{isVisible:e}=this.props;return e?i.a._("div",{className:"watch-vr",onClick:this.watchVrClick},i.a._(d.a,{img:"vr"})):null}}g.displayName="WatchVr";const b={showModal:c.c,togglePlayerAvailability:r.J,showAppropriateVRModal:l.c};g.defaultProps={isVisible:!1};t.a=Object(o.c)(e=>{const{config:{data:{showVrAttributes:t}},ui:{isWindowFocused:s},viewCam:{model:a}}=e;return{isVisible:Object(h.M)(e)||a.isVr&&t,isWindowFocused:s,model:a}},e=>Object(n.b)(b,e))(g)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(6),n=s(10),r=s(1);const l=()=>{const[e,t]=Object(a.useState)(!1);return i.a._("section",{className:Object(n.c)("payments-declaimer",{close:!e})},i.a._("header",{role:"button",className:"header",onClick:()=>t(!e)},i.a._(o.a,{img:"exclamation-in-circle-2",className:"icon-exclamation"}),i.a._("h4",{className:"title"},Object(r.d)("tokensHistory.modelInfo.title")),i.a._(o.a,{img:"close-arrow",className:"icon-close"})),e&&i.a._("div",{className:"dropdown"},i.a._("ul",{className:"list"},i.a._("li",{className:"list-item"},Object(r.d)("tokensHistory.modelInfo.list.firstPart")),i.a._("li",{className:"list-item"},Object(r.d)("tokensHistory.modelInfo.list.secondPart")))))};l.displayName="PaymentsDeclaimer",t.a=l},,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(6),n=s(43),r=s(3),l=s(1),c=s(163);const d=({goal:e={},goalAmountElementId:t,topic:s})=>{const a=!r.j.touch;return i.a._("div",{className:"view-cam-info-goal"},e&&e.isEnabled&&i.a._("h2",null,Object(l.d)("goal"),i.a._("span",{id:t},i.a._("span",{className:"goal-amount"},` ${e.left} tk `),i.a._(o.a,{img:"goal"})),"string"==typeof e.description&&Object(c.d)(e.description,void 0,void 0,!0),a&&i.a._(n.a,{isMobileRelative:!1,placement:"top",shouldPreventDefault:!0,targetId:"view-cam-goal-amount"},`${e.spent} tk / ${e.goal} tk`,i.a._("div",null,`${e.left} tk `,i.a._("span",{className:"gray"},Object(l.d)("camChat.goalLeft"))))),"string"==typeof s&&i.a._("h2",{className:"view-cam-info-topic"},Object(c.d)(s,void 0,void 0,!0)))};d.displayName="GoalWrapper",d.defaultProps={goal:{description:"",goal:0,isEnabled:!0,left:0},goalAmountElementId:"view-cam-goal-amount",topic:""},t.a=d},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(13),n=s(98),r=s(10),l=s(1);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class d extends i.a.Component{constructor(...e){super(...e),this.cancelClickHandler=()=>{this.props.onCancel()},this.confirmClickHandler=()=>{this.props.onConfirm()}}render(){const{className:e,children:t,...s}=this.props;return i.a._(n.a,c({className:Object(r.c)("confirmation-modal",e),onClose:this.cancelClickHandler,source:"confirmationModal",titlePosition:"outside"},s),t,i.a._("div",{className:"confirmation-modal-controls controls"},i.a._(o.a,{onClick:this.cancelClickHandler},Object(l.d)("button.cancel")),i.a._(o.a,{className:"confirmation-modal-btn-confirm",onClick:this.confirmClickHandler,style:"primary"},Object(l.d)("button.ok"))))}}d.displayName="ConfirmationModal",t.a=d},,,,,,function(e,t,s){"use strict";var a=s(27),i=s.n(a),o=(s(38),s(8),s(0)),n=s.n(o),r=s(5),l=s(221),c=s(7),d=s(308),p=s(369),u=s(6),h=s(10),m=s(80),g=s(1),b=s(477);class _ extends n.a.Component{constructor(...e){super(...e),this.scrollToYourself=()=>{m.a.to("#profile-knights",c.Wb)},this.listEditHandler=e=>{i()(e)||this.props.removeKnights(e)},this._J6=e=>{const{modelFanClubTiers:t}=this.props;return n.a._(b.a,{id:e.id,key:e.id,user:e,fanClubTier:t?t[e.id]:null})},this._J2=()=>{const{isOwnProfile:e,user:{username:t}}=this.props;return n.a._(p.a,{isEmpty:!0,key:"empty",linkTo:e?"/model/knights":`/user/${t}/knights`},n.a._("span",{className:"item-image"},n.a._(u.a,{img:"more",size:44})))}}_A(){const{isNeedScroll:e}=this.props;e&&this.scrollToYourself()}render(){const{className:e,counter:t,hasMore:s,isOwnProfile:a,isPending:i,knights:o,user:r}=this.props,l=a?Object(g.d)("myKnights"):Object(g.d)("knightsTitle",{username:r.username}),c=t?` (${t})`:"",p=s&&!i;return n.a._("div",{id:"profile-knights"},n.a._(d.a,{isEditable:a,isPending:i,title:`${l}${c}`,className:Object(h.c)("knights",e),onEdit:this.listEditHandler},[...o.map(this._J6),...p?[this._J2()]:[]]))}}_.displayName="Knights",t.a=Object(r.c)(null,{removeKnights:l.f})(_)},function(e,t,s){"use strict";var a=s(8),i=s.n(a),o=s(0),n=s.n(o),r=s(369),l=s(124),c=s(87);class d extends r.a{get linkTo(){return this.props.linkTo||`/user/${this.props.user.username}`}_It(){return n.a._("div",null,n.a._(l.b,{user:this.props.user}),this.props.children)}_Iu(){return n.a._("span",{className:"caption"},n.a._(c.b,{fanClubTier:this.props.fanClubTier,isIconVisible:!1,isAdditionIconVisible:!1,user:this.props.user}))}}d.propTypes={...d.propTypes,user:i.a.object.isRequired},t.a=d},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(5),n=s(40);const r={apiLog:n.a};class l extends i.a.Component{constructor(e){super(e),this.state={isFailed:!1}}static getDerivedStateFromError(){return{isFailed:!0}}componentDidCatch(e,t){const{shouldLog:s}=this.props;n.c.error(e,t),s&&this.props.apiLog("error",e.name,{error:e,errorInfo:t})}render(){const{fallbackContent:e,children:t}=this.props,{isFailed:s}=this.state;return s?e:t}}l.displayName="SafeRender",l.defaultProps={fallbackContent:"",shouldLog:!1},t.a=Object(o.c)(null,r)(l)},,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(237),n=s(190),r=s(236),l=s(3);const c=({children:e,status:t})=>i.a._("div",{className:"not-found-wrapper"},i.a._(n.a,{status:t}),e,i.a._(o.a,{isPaginated:!0,className:"container"},i.a._(r.a,{isEmbedded:!0,className:"header-sub-simple header-sub-wider-menu-gaps"})));c.displayName="NotAvailableModelRedirector",c.defaultProps={status:l.A.NOT_FOUND},t.a=c},function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(13),n=s(6),r=s(10),l=s(1);const c=({onClick:e,url:t=null,isDisabled:s=!1,isSeeAllButton:a=!1,additionalClassName:c=""})=>{const d=t?"link":null,[p,u]=a?["multipleCategories.seeAll","chevron-right"]:["button.seeMore","chevron-down"];return i.a._("div",{className:Object(r.c)("see-more-models-button",c)},i.a._("div",{className:"see-more-divider"}),i.a._("div",{className:"see-more-button-background"},i.a._(o.a,{disabled:s,className:Object(r.c)("see-more-button",{"see-all-button":a}),onClick:e,to:t,type:d},Object(l.d)(p),i.a._(n.a,{className:"see-more-icon",img:u}))),i.a._("div",{className:"see-more-divider"}))};c.displayName="SeeMoreModelsButton",t.a=c},function(e,t,s){"use strict";var a=s(0),i=s.n(a);const o=i.a.memo(e=>{const{username:t,searchString:s=""}=e,a=encodeURIComponent(s.trim()).replace(/[*.()]/g,""),o=new RegExp(`(${a})`,"gi"),n=t.split(o);return a&&n.length?i.a._("span",{className:"model-name"},n.map((e,t)=>t%2!=0?i.a._("em",{key:t},e):e)):i.a._("span",{className:"model-name"},t)});t.a=o},function(e,t,s){"use strict";var a=s(0),i=s.n(a);t.a=i.a.createContext(null)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(6),n=s(1);class r extends i.a.Component{render(){const{size:e,status:t}=this.props;return i.a._("span",{className:`user-status-icon ${t}`,title:Object(n.d)(`userStatus.${t}`)},i.a._(o.a,{img:"dot",size:e}))}}r.displayName="UserStatusIcon",t.a=r},function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(509),n=s(97),r=s(10),l=s(1);const c=({text:e,type:t,additionalClassName:s="",labelAdditionalClassName:a="",isH1:c=!0})=>{const d="verified"===t,p="willingToDo"===t,u=c?n.a:n.b;return i.a._(i.a.Fragment,null,i.a._("div",{className:Object(r.c)("index-page-header",s,{"index-page-header-with-label":p})},i.a._("div",{className:"index-page-title-wrapper"},i.a._(u,null,e),d&&i.a._(o.a,null))),p&&i.a._("div",{className:Object(r.c)("index-page-header-label",a)},Object(l.d)("seo.indexHeadings.modelWillingToDo")))};c.displayName="IndexPageTitle",t.a=c},function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(43),n=s(1);const r=()=>i.a._(i.a.Fragment,null,i.a._("span",{className:"verified-icon",id:"category-verified-icon"}),i.a._(o.a,{isMobileRelative:!1,placement:"top",shouldPreventDefault:!0,targetId:"category-verified-icon",showDelay:200},Object(n.d)("seo.indexHeadings.categoryWithVerifiedContent")));r.displayName="VerifiedIcon",t.a=r},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(18),r=s(17),l=s(6),c=s(43),d=s(3),p=s(10),u=s(1),h=s(34),m=s(55),g=s(29),b=s(15);class _ extends i.a.Component{constructor(...e){super(...e),this.state={isLevelTooltipVisible:!1},this.propsUpdateToActionsMap=[{update:g.F,action:()=>this.interfaceBlockChangeHandler(this.props)}],this.interfaceBlockChangeHandler=()=>{this.setState({isLevelTooltipVisible:!1})},this.showUserLevelsModal=()=>{this.props.showModal(d.F.USER_LEVELS)},this.showLevelTooltip=e=>{const t=this.targetElement;if(t&&e.target.id===t.id){const{isLevelTooltipVisible:e}=this.state;this.props.blockInterface(t),this.setState({isLevelTooltipVisible:!e})}},this._J7=e=>b.F[e].filter(e=>e!==b.h.NOT_AVAILABLE).map((t,s)=>{const a=b.F[e][s];return i.a._("div",{className:"user-levels-icon-wrapper",key:s},i.a._(l.a,{img:a===b.h.FULL?"check-1":"check-2",size:12,className:Object(p.c)({"not-full":a===b.h.PARTIAL})}),i.a._("div",{className:"icon-title"},Object(u.d)(`userLevels.features.${b.e[s]}`)))})}_A(){const{targetElement:e}=this;e&&Object(m.a)(this,e,"click",this.showLevelTooltip),Object(h.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(h.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){Object(m.b)(this)}get targetElement(){return this.props.targetId?document.getElementById(this.props.targetId):null}render(){const{isLevelTooltipVisible:e}=this.state,{targetId:t,level:s}=this.props;return e?i.a._(c.a,{className:"benefits-tooltip",placement:"bottom",isForceVisible:!0,isMobileRelative:!1,targetId:t},i.a._("div",{className:"user-levels-header"},Object(u.d)(`userLevels.benefits.${s}`)),this._J7(s),i.a._("div",{className:"user-levels-more",onClick:this.showUserLevelsModal},Object(u.d)("userLevels.readMore"))):null}}_.displayName="BenefitsTooltip";t.a=Object(o.c)(({ui:{currentBlockingComponent:e,isInterfaceBlocked:t}})=>({currentBlockingComponent:e,isInterfaceBlocked:t}),{blockInterface:r.a,showModal:n.c})(_)},,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(146),r=s(32),l=s(145),c=s(341),d=s(18),p=s(13),u=s(6),h=s(3),m=s(1),g=(s(20),s(31)),b=s(177);class _ extends i.a.Component{constructor(...e){super(...e),this.stopBroadcastingClickHandler=()=>{this.props.stopCam("stopBroadcasting button click handler")},this.checkIfEmailConfirmed=e=>{const{isStartBroadcastAllowed:t,currentUser:s}=this.props,{isEmailVerified:a}=s;t?a||(e.preventDefault(),this.props.showModal(h.F.CONFIRM_EMAIL,{description:Object(m.d)("startBroadcasting.confirmEmailWarning")})):(e.preventDefault(),this.props.showModelWizard())},this._I7=()=>{const{withIcon:e,isBroadcasting:t,isPageAllowedToStartBroadcast:s}=this.props;return e?t?i.a._(u.a,{img:"stop",size:13}):s?i.a._(u.a,{img:"play-2",size:14}):null:null},this._J8=()=>{const{size:e,className:t}=this.props;return i.a._(p.a,{style:"apply",size:e,to:"/start-broadcasting",type:"link",className:t,onClick:this.checkIfEmailConfirmed},this._I7(),i.a._("span",null,Object(m.d)("header.startBroadcasting")))},this._J9=()=>{const{size:e,className:t}=this.props;return i.a._(p.a,{style:"end-broadcasting",size:e,className:t,onClick:this.stopBroadcastingClickHandler},this._I7(),i.a._("span",null,Object(m.d)("header.endBroadcasting")))}}render(){const{isBroadcasting:e,isLoggedIn:t,isPageAllowedToStartBroadcast:s}=this.props;return t?e?this._J9():s?this._J8():null:null}}_.displayName="BroadcastingButton";const v={stopCam:l.k,showModal:d.c,showModelWizard:c.f};_.defaultProps={size:"default",withIcon:!0,className:""};t.a=Object(n.h)(Object(o.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i},broadcast:{isCamActive:o}}=e;return{currentUser:s,isBroadcasting:o,isLoggedIn:a&&!i,isStartBroadcastAllowed:Object(b.e)(e),isPageAllowedToStartBroadcast:Object(g.C)(e,t)}},e=>Object(r.b)(v,e))(_))},,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(109),r=s(18),l=s(12),c=s(6),d=s(3),p=s(1),u=(s(20),s(37));const h={showModal:r.c};class m extends a.Component{constructor(...e){super(...e),this.connectKiirooCkickHandler=()=>{this.props.showModal(d.F.KIIROO_SETTINGS)}}_F(){const{isKiirooConnected:e,user:t}=this.props;return e?t.isModel?Object(p.d)("kiirooAlert.userConnected"):Object(p.d)("kiirooAlert.modelConnected"):i.a._(l.a,{elements:{link:i.a._("a",{className:"start-private-modal-alert-link ",onClick:this.connectKiirooCkickHandler})},messageId:"kiirooAlert.modelNotConnected"})}render(){const{isKiirooConnected:e,isPatnerKiirooConnected:t,user:s}=this.props,a=s&&s.isModel;return t&&(!a||e)?i.a._("div",{className:"start-private-modal-alert"},i.a._(c.a,{img:"lovense"}),this._F()):null}}m.displayName="KiirooAlert",m.defaultProps={isKiirooConnected:!1,isPatnerKiirooConnected:!1};t.a=Object(o.c)(e=>({isKiirooConnected:Object(n.e)(e),isPatnerKiirooConnected:Object(n.f)(e),user:Object(u.a)(e)}),h)(m)},function(e,t,s){"use strict";var a=s(2),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(5),l=s(32),c=s(154),d=s(171),p=s(18),u=s(13),h=s(12),m=s(6),g=s(3),b=s(1);class _ extends n.a.Component{constructor(...e){super(...e),this.subscribeButtonClickHandler=()=>{const{user:e,buttonLocation:t,currentUser:s,isSubscribed:a}=this.props,o=i()(s,"isEmailVerified",!1);this.props.toggleSubscription(e,t),a||!s||o||this.props.showModal(g.F.CONFIRM_EMAIL,{description:n.a._(h.a,{messageId:"modelOnlineNotifications.description",elements:{strong:n.a._("strong",null)}}),isWrapperCloseDisabled:!0})}}render(){const{isPending:e,isSubscribed:t,style:s,subscribeCaption:a,subscribedCaption:i,user:o,preventResponsiveCaption:r}=this.props;let l;return l=t&&!r?i||Object(b.d)("button.subscription.unSubscribe"):a||Object(b.d)("button.subscription.subscribe"),o.isModel?n.a._("div",{className:"subscribe-button-container"},n.a._(u.a,{className:"subscribe-button",disabled:e,onClick:this.subscribeButtonClickHandler,size:"default",type:"anchor",style:t?"default":s},n.a._(m.a,{img:t?"notifications-off":"notifications"}),l)):null}}_.displayName="SubscribeButton",_.defaultProps={style:"default",subscribeCaption:null,subscribedCaption:null,preventResponsiveCaption:!1};t.a=Object(r.c)((e,t)=>{const{auth:{isLoggedIn:s,isLoggingOut:a,currentUser:i},profile:o,subscriptions:n}=e,{user:r}=t;return{currentUser:i,isEmailVerified:o.user&&o.user.isEmailVerified,isSubscribed:Object(d.d)(e,r.id),isLoggedIn:s&&!a,isPending:n.isPending}},e=>Object(l.b)({toggleSubscription:c.d,showModal:p.c},e))(_)},function(e,t,s){"use strict";var a=s(78),i=s.n(a),o=s(39),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(10),d=s(72),p=s(55);const u="left",h="right",m=(e=0)=>`translate3d(${e}px, 0, 0)`;class g extends l.a.Component{constructor(...e){super(...e),this.deltaX=0,this.deltaY=0,this.lastDeltaX=0,this.lastShiftX=0,this.leftAppearingRef=null,this.rightAppearingRef=null,this.shiftX=0,this.slidableRef=null,this.touchMoveX=0,this.touchMoveY=0,this.touchStartTime=0,this.state={expandedSide:"",collapsedSide:"",forceAnimation:!1},this.slidableRefHandler=e=>{this.slidableRef=e},this.leftAppearingRefHandler=e=>{this.leftAppearingRef=e},this.rightAppearingRefHandler=e=>{this.rightAppearingRef=e},this.toggleAppearingContent=i()((e,t,s=!1)=>()=>{this.expandedSide=t?e:"",this.isAppearingExpanded=t,this.lastShiftX=0,t&&(this.lastShiftX=e===u?this.props.appearingContentLeftWidth:-this.props.appearingContentRightWidth),this.setState({expandedSide:t?e:"",collapsedSide:t?"":e,forceAnimation:s},()=>{const e=t&&this.state.expandedSide&&!this.state.collapsedSide,s=!t&&!this.state.expandedSide&&this.state.collapsedSide;e&&this.props.onShifted(),s&&this.props.onHidden()}),setTimeout(()=>this.setState({expandedSide:"",collapsedSide:"",forceAnimation:!1}),200)},(...e)=>JSON.stringify(e)),this.touchStartHandler=e=>{const{pageX:t,pageY:s}=e.touches[0];this.isAppearingExpanded&&e.preventDefault(),this.touchStartTime=Date.now(),this.deltaX=0,this.deltaY=0,this.touchStartX=t,this.touchStartY=s,this.props.onTouchStart(this.toggleAppearingContent("",!1,!0))},this.touchMoveHandler=e=>{if(this.isLockedUntilNextSlide)return;const{pageX:t,pageY:s}=e.touches[0],{appearingContentLeftWidth:a,appearingContentRightWidth:i}=this.props;this.touchMoveX=t,this.touchMoveY=s,this.deltaX=this.touchMoveX-this.touchStartX,this.shiftX=Object(d.j)("x",this.deltaX+this.lastShiftX,i,a,1.5),this.deltaY=this.touchStartY-this.touchMoveY;const o=Object(d.d)("x",this.deltaX,this.deltaY,45);!this.isSliding&&o&&this.breakReactMemoization(this.shiftX),this.isSliding||o?(e.preventDefault(),this.velocity=Object(d.f)(this.deltaX,this.deltaY,Date.now()-this.touchStartTime),this.isSliding=!0,this.moveSlider(this.shiftX),this.moveAppearingContent(this.shiftX)):this.isLockedUntilNextSlide=!0},this.touchEndHandler=()=>{const{appearingContentLeftWidth:e,appearingContentRightWidth:t,flickThreshold:s}=this.props,a=this.velocity>s,i=0===this.deltaX,o=this.shiftX<0;if(this.velocity=0,this.isLockedUntilNextSlide=!1,this.isSliding=!1,a)return void this.toggleAppearingContent(o?h:u,o?Boolean(t):Boolean(e));if(i)return void(this.isAppearingExpanded&&this.toggleAppearingContent(this.expandedSide===h?h:u,!1));const n=t&&this.shiftX<-t,r=e&&this.shiftX>e;if(r||n)return void this.toggleAppearingContent(o?h:u,o?n:r);const l=Math.abs(this.shiftX);(l<t||l<e)&&this.toggleAppearingContent(o?h:u,!1)}}_A(){Object(p.a)(this,this.slidableRef,"touchstart",this.touchStartHandler),Object(p.a)(this,this.slidableRef,"touchmove",this.touchMoveHandler),Object(p.a)(this,this.slidableRef,"touchend",this.touchEndHandler)}componentWillUnmount(){Object(p.b)(this)}moveSlider(e){this.slidableRef.style.transform=m(e)}moveAppearingContent(e){const{appearingContentLeftWidth:t,appearingContentRightWidth:s}=this.props;let a,i=0,o=0;e<0?i=e>-s?e:-s:o=e<t?e:t,this.leftAppearingRef&&(a=o-t,a!==this.lastLeftAppearingTransformX&&(this.leftAppearingRef.style.transform=m(a)),this.lastLeftAppearingTransformX=a),this.rightAppearingRef&&(a=i+s,a!==this.lastRightAppearingTransformX&&(this.rightAppearingRef.style.transform=m(a)),this.lastRightAppearingTransformX=a)}breakReactMemoization(e){this.lastShiftX=e,this.setState({expandedSide:"",collapsedSide:""})}getSlidableStatefulStyles(){const{appearingContentRightWidth:e,appearingContentLeftWidth:t}=this.props,{expandedSide:s,forceAnimation:a,collapsedSide:i}=this.state;let o=null,n=m(this.lastShiftX);return i&&(o="transform .200s ease",n=m(0)),s&&(o="transform .200s ease",n=m(s===h?-e:t)),a&&(o="transform .200s ease"),{transition:o,transform:n}}getAppearingStatefulStyles(e){const{appearingContentRightWidth:t,appearingContentLeftWidth:s}=this.props,{expandedSide:a,forceAnimation:i,collapsedSide:o}=this.state,n=e===h,r=n?t:-s;let l=null,c=m(this.lastShiftX+r);return e===a&&(l="transform .200s ease",c=m(0)),e===o&&(l="transform .200s ease",c=m(n?t:-s)),i&&(l="transform .200s ease"),{transition:l,transform:c}}render(){const{appearingContentLeft:e,appearingContentRight:t,children:s,className:a,onClick:i}=this.props;return l.a._("div",{onClick:i,className:Object(c.c)(a)},l.a.cloneElement(s,{className:Object(c.c)(s.props.className,"slidable"),ref:this.slidableRefHandler,style:this.getSlidableStatefulStyles()}),e&&l.a._("div",{className:"slidable-appearing-container-left",ref:this.leftAppearingRefHandler,style:this.getAppearingStatefulStyles(u)},e),t&&l.a._("div",{className:"slidable-appearing-container-right",ref:this.rightAppearingRefHandler,style:this.getAppearingStatefulStyles(h)},t))}}g.displayName="Slidable",g.defaultProps={appearingContentLeft:null,appearingContentLeftWidth:0,appearingContentRight:null,appearingContentRightWidth:0,className:"",flickThreshold:.6,onClick:n.a,onHidden:n.a,onShifted:n.a,onTouchStart:n.a},t.a=g},function(e,t,s){"use strict";var a=s(94),i=s.n(a),o=s(74),n=s.n(o),r=s(39),l=s.n(r),c=s(137),d=s.n(c),p=s(153),u=s.n(p),h=s(27),m=s.n(h),g=s(85),b=s.n(g),_=s(385),v=s.n(_),f=s(158),C=s.n(f),N=s(2),O=s.n(N),y=(s(8),s(0)),w=s.n(y),S=s(5),k=s(146),j=s(18),I=s(17),T=s(13),P=s(75),M=s(56),E=s(395),A=s(396),U=s(3),H=s(10),L=s(1),R=(s(20),s(61)),F=s(81),D=s(138),x=(s(426),s(36));const{isRequiredValidator:B}=F.i,V={performLogin:D.e,showModal:j.c,emitUiEvent:I.e};class z extends w.a.Component{constructor(...e){super(...e),this.tooltipRefsContainer={},this.state={formFieldsErrors:{}},this.getSubmitButtonText=()=>this.props.submitButtonText||Object(L.d)("login.form.submitBtn"),this.loginButtonClickHandler=e=>{e.preventDefault();const{action:t,performLogin:s}=this.props,a=this.getFormFields(this.props),i=Object(F.g)(a),o=m()(i),n=d()(a,"value");o&&s(n).then(e=>{O()(e,"data.user.id")&&t&&t.onSuccess&&t.onSuccess()}).catch(()=>this.recaptchaRef&&this.recaptchaRef.resetRecaptcha()),this.setState({formFieldsErrors:i})},this.onRecaptchaRendered=()=>{v()(this.tooltipRefsContainer,e=>e.updatePosition())}}componentDidUpdate(e){if(Object(R.g)(this.props,e))return;const{isLoggingIn:t,loginError:s}=this.props.auth;if(O()(s,"details.needCodeConfirmation"))return;const a={};if(!t&&s){const e=u()(this.getFormFields(this.props)),t=n()(s.details,e);a.formFieldsErrors=m()(t)?{[C()(e)]:s.message}:d()(t,e=>b()(e)?e.join(". "):e),Object(R.i)(this,a)}}getFormFields(e){const{isRecaptchaShown:t}=e,{loginOrEmailRef:s,passwordRef:a,recaptchaRef:o}=this,n={exists:{value:null},type:{value:null},loginOrEmail:{value:i()(s.value),validators:[B]},password:{value:i()(a.value),validators:[B]}};if(t){const e=o?o.value:"";n.recaptcha={value:i()(e),validators:[B]}}return n}_Ja(e,t){const{formFieldsErrors:s}=this.state,a=O()(s,"exists");if(a&&"loginOrEmail"===e)return w.a._(P.a,{error:{message:Object(L.d)(`errors.validation.loginExists_${a}`)},targetId:t});const i=s[e];return i?w.a._(P.a,{error:{message:i},targetId:t}):null}_J3(){const{isRecaptchaShown:e,config:t}=this.props,{data:{recaptchaSiteKey:s}}=t,a="login_irecaptcha",i=O()(this.state,"formFieldsErrors.recaptcha"),o=i&&isNaN(Date.parse(i));return w.a._(A.a,{isVisible:e},w.a._("div",{className:"field field-recaptcha",id:a},w.a._(E.a,{ref:e=>{this.recaptchaRef=e},recaptchaSiteKey:s,onRecaptchaRendered:this.onRecaptchaRendered}),o&&w.a._(P.a,{error:{message:i},targetId:a})))}render(){const{onAutoFocus:e,isLoggingIn:t,loading:s}=this.props,{formFieldsErrors:a}=this.state,{loginOrEmail:i,password:o}=a;return w.a._("form",{className:"login-form island-form"},w.a._("div",{className:"field field-loginOrEmail"},w.a._(M.a,{autoCapitalize:"none",autoFocus:!0,onFocus:e,className:Object(H.c)("input-loginOrEmail",{error:i}),disabled:t,id:"login_login_or_email",maxLength:U.q,placeholder:Object(L.d)("login.form.placeholders.usernameOrEmail"),ref:e=>{this.loginOrEmailRef=e}}),this._Ja("loginOrEmail","login_login_or_email")),w.a._("div",{className:"field field-password"},w.a._(M.a,{autoCapitalize:"none",className:Object(H.c)("input-password",{error:o}),disabled:t,id:"login_password",maxLength:U.q,placeholder:Object(L.d)("login.form.placeholders.password"),ref:e=>{this.passwordRef=e},type:"password"}),this._Ja("password","login_password")),this._J3(),w.a._("div",{className:"field field-action field-submit"},w.a._(T.a,{className:"input-submit btn-action",disabled:t||s,loading:s,onClick:this.loginButtonClickHandler,size:this.props.submitButtonSize,style:this.props.submitButtonStyle,type:"submit"},this.getSubmitButtonText())))}}z.displayName="LoginForm",z.defaultProps={onAutoFocus:l.a,onClose:l.a,submitButtonSize:"default",submitButtonStyle:"login"};t.a=Object(k.h)(Object(S.c)(e=>{const{auth:t,config:s}=e,a=Object(x.u)(e);return{auth:t,config:s,isRecaptchaShown:Boolean(O()(t,"loginError.details.recaptcha"))||a,currentUser:t.currentUser,isLoggedIn:t.isLoggedIn&&!t.isLoggingOut,isLoggingIn:t.isLoggingIn}},V)(z))},function(e,t,s){"use strict";var a=s(78),i=s.n(a),o=s(94),n=s.n(o),r=s(74),l=s.n(r),c=s(39),d=s.n(c),p=s(137),u=s.n(p),h=s(153),m=s.n(h),g=s(162),b=s.n(g),_=s(27),v=s.n(_),f=s(2),C=s.n(f),N=s(158),O=s.n(N),y=s(121),w=s.n(y),S=(s(8),s(0)),k=s.n(S),j=s(5),I=s(18),T=s(13),P=s(75),M=s(6),E=s(56),A=s(395),U=s(396),H=s(23),L=s(3),R=s(10),F=s(1),D=s(34),x=(s(20),s(81)),B=s(159),V=s(519),z=s(15),$=s(25),G=s(262);function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const{isEmailValidator:K,isLoginValidator:q,isPasswordValidator:J,isRequiredValidator:Y}=x.i,X={performSignUp:B.f,prepareCheck:B.d,showModal:I.c,updateSignupForm:B.i,validate:B.k,purgeUsernameGenerator:B.e};class Q extends k.a.Component{constructor(...e){super(...e),this.state={isGeneratorVisible:!0,formFieldsErrors:{}},this.propsUpdateToActionsMap=[{update:["suggestedUsername","suggestedEmail"],action:()=>{const{suggestedUsername:e,suggestedEmail:t}=this.props;this.loginRef.value=e,t&&(this.emailRef.value=t),this.validateChangeHandler("login")}},{update:["isSigningUp","signUpError"],action:()=>{const{isSigningUp:e,signUpError:t}=this.props;let s={};if(!e&&t){const e=m()(this.getFormFields()),a=l()(t.details,e);s=v()(a)?{[O()(e)]:t.message}:u()(a,e=>e.join(". "))}this.setState({formFieldsErrors:s})}}],this.onLoginKeyUp=()=>{const e=this.getFormFields();this.setState({isGeneratorVisible:!C()(e,"login.value")})},this.keyDownHandler=e=>{e.keyCode===L.C.enter&&this.props.updateSignupForm({email:e.currentTarget.value})},this.formSubmitHandler=e=>{e.preventDefault();const t=this.getFormFields(),s=Object(x.g)(t);if(v()(s)){const e=u()(t,"value"),{action:s,isModelsWantedPromoAvailable:a,type:i,triggerSource:o}=this.props;e.isModel=i===z.A.MODEL,e.isStudio=i===z.A.STUDIO,e.source=o,a&&e.isModel&&e.source!==H.k.US_MODELS_WANTED_HEADER&&(e.source="USModelsPromoSignupDialog");const n={success:Object(F.d)("signUp.notifications.success")};this.props.performSignUp(e,n).then(e=>{e&&s&&b()(s.onSuccess)&&s.onSuccess()})}this.setState({formFieldsErrors:s})},this.validateChangeHandler=i()(e=>()=>{const{prepareCheck:t}=this.props,s=this.getFormFields();t(),this.validateFields(s,e)}),this.validateFields=w()((e,t)=>{this.props.validate(e,t).catch(()=>{})},1e3,{leading:!1}),this._Jb=e=>{if("login"!==e)return null;const t=this.getFormFields(),s=C()(t,"login.value");if(this.state.isGeneratorVisible)return k.a._(V.a,null);const{isValidating:a}=this.props,{formFieldsErrors:i}=this.state;return Boolean(i[e])?k.a._(M.a,{img:"close-5",size:15}):a||v()(s)?null:k.a._(M.a,{img:"check-1",size:15})}}_A(){Object(D.a)(this.propsUpdateToActionsMap,{},this.props),this.props.prepareCheck()}componentDidUpdate(e){Object(D.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this.props.purgeUsernameGenerator()}getFormFields(){const{showRecaptcha:e,noPasswordMode:t}=this.props,{loginRef:s,emailRef:a,passwordRef:i,recaptchaRef:o}=this,r=e&&o?{recaptcha:{value:n()(o.value),validators:[Y]}}:{},l=!t&&i?{password:{value:n()(i.value),validators:[J]}}:{};return{login:{value:n()(C()(s,"value","")),validators:[q]},email:{value:n()(C()(a,"value","")),validators:[K]},...l,...r}}getSubmitText(){return this.props.submitButtonText||Object(F.d)(`signUp.${this.props.type}.submitBtn`)}getFormFieldsInfo(){const{email:e,noPasswordMode:t}=this.props,s="signUp.form.placeholders";return[{name:"login",type:"text",placeholder:Object(F.d)(`${s}.username`),autoFocus:!0,maxLength:z.l,enabled:!0,autoCapitalize:"none",onChange:this.validateChangeHandler("login"),onFocus:this.props.onAutoFocus,onKeyUp:this.onLoginKeyUp},{defaultValue:e,name:"email",type:"email",enabled:!0,maxLength:L.q,tooltip:"signUp.form.emailTooltip",placeholder:Object(F.d)(`${s}.email`),autoCapitalize:"none",onBlur:e=>this.props.updateSignupForm({email:e.currentTarget.value}),onKeyDown:this.keyDownHandler},{name:"password",type:"password",enabled:!t,placeholder:Object(F.d)(`${s}.password`),autoCapitalize:"none"}]}_Jc(e,t){const{enabled:s,isSigningUp:a,maxLength:i,name:o,type:n,tooltip:r,placeholder:l,...c}=e,{noPasswordMode:d}=this.props,{formFieldsErrors:p}=this.state,u=Boolean(p[o]),h=`sign_up_input_${o}`;return s?k.a._("div",{className:`field field-${o}`,key:t},k.a._("div",{className:"field-input"},k.a._(E.a,W({className:Object(R.c)(`input-${o}`,{error:u}),disabled:a,id:h,maxLength:i,placeholder:l,ref:e=>{this[`${o}Ref`]=e},type:n},c)),this._Jb(o)),Boolean(r&&d)&&k.a._("div",{className:"password-description"},Object(F.d)(r)),u&&k.a._(P.a,{error:{message:p[o]},targetId:h})):null}_J3(){const{showRecaptcha:e,recaptchaSiteKey:t}=this.props,{formFieldsErrors:s}=this.state,a=Boolean(s.recaptcha),i="sign_up_irecaptcha";return k.a._(U.a,{isVisible:e},k.a._("div",{className:"field field-recaptcha",id:i},k.a._(A.a,{className:"field",recaptchaSiteKey:t,ref:e=>{this.recaptchaRef=e}}),a&&k.a._(P.a,{error:{message:s.recaptcha},targetId:i})))}render(){const e=this.getFormFieldsInfo(),{isSigningUp:t,loading:s}=this.props;return k.a._("form",{className:"signup-form island-form",onSubmit:this.formSubmitHandler,noValidate:!0},k.a._("div",{className:"form-field-wrapper"},e.map(this._Jc.bind(this)),this._J3()),k.a._("div",{className:"field field-action field-submit"},k.a._(T.a,{className:"btn-action",disabled:t||s,loading:s,size:this.props.submitButtonSize,style:this.props.submitButtonStyle,type:"submit"},this.getSubmitText())))}}Q.displayName="SignUpForm",Q.defaultProps={canClose:!0,className:"auth-modal-signup",onAutoFocus:d.a,onSuccess:d.a,submitButtonSize:"default",submitButtonStyle:"login",submitButtonText:"",type:z.A.USER};t.a=Object(j.c)((e,t)=>{const{auth:{isLoggedIn:s,isLoggingOut:a,currentUser:i},signUp:{isPending:o,isValidating:n,error:r},config:{data:{features:{noPasswordMode:l},showRecaptcha:c,recaptchaSiteKey:d,isModelsWantedPromoAvailable:p}}}=e;return{noPasswordMode:l,recaptchaSiteKey:d,showRecaptcha:t.showRecaptchaForced||c||Object($.q)(e),currentUser:i,isLoggedIn:s&&!a,isModelsWantedPromoAvailable:p,isSigningUp:o,isValidating:n,signUpError:r,suggestedUsername:Object(G.e)(e),suggestedEmail:Object(G.d)(e)}},X)(Q)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(32),r=s(6),l=s(43),c=s(3),d=s(1),p=s(159),u=s(262);const h={getRandomNickname:p.b,hideOneTimeUsernameGeneratorTooltip:p.c};class m extends i.a.Component{constructor(...e){super(...e),this.state={isShowHoverTooltip:!0,isOneTimeTooltipShown:!1},this.state={isOneTimeTooltipShown:!1===this.props.isUsernameGeneratorTooltipVisible},this.generateLogin=()=>{this.props.getRandomNickname(),this.setState({isShowHoverTooltip:!1})},this.enableTooltip=()=>{this.setState({isShowHoverTooltip:!0})}}_A(){setTimeout(()=>{this.props.hideOneTimeUsernameGeneratorTooltip()},4e3)}render(){const{isUsernameGeneratorTooltipVisible:e}=this.props,{isShowHoverTooltip:t,isOneTimeTooltipShown:s}=this.state,o="sign_up_input_login_generator";return i.a._("div",{className:"generate-login-btn",id:`${o}_wand_icon`,onClick:this.generateLogin,onMouseLeave:this.enableTooltip},i.a._(r.a,{img:"wand"}),!c.j.touch&&i.a._(a.Fragment,null,!s&&i.a._(l.a,{key:1,placement:"top",targetId:`${o}_wand_icon`,isForceVisible:e,showDelay:1e3,isAnimated:!0,isMobileRelative:!1,className:"one-time-tooltip"},Object(d.d)("signUp.tooltip1")),!e&&t&&i.a._(l.a,{key:2,placement:"top",targetId:`${o}_wand_icon`,isAnimated:!0,isMobileRelative:!1},Object(d.d)("signUp.tooltip2"))))}}m.displayName="UsernameGenerator";t.a=Object(o.c)(e=>({isUsernameGeneratorTooltipVisible:Object(u.c)(e)}),e=>Object(n.b)(h,e))(m)},function(e,t,s){"use strict";var a=s(27),i=s.n(a),o=s(2),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(5),d=s(13),p=s(75),u=s(6),h=s(56),m=s(395),g=s(396),b=s(3),_=s(10),v=s(1),f=s(34),C=s(41),N=(s(20),s(31)),O=s(397);class y extends l.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:["requestPasswordError"],action:()=>{const{requestPasswordError:e,showRecaptcha:t}=this.props;e&&t&&this.recaptchaRef.resetRecaptcha()}}],this.requestPasswordRecoveryButtonClickHandler=e=>{e.preventDefault();const{onSuccess:t,requestPasswordRecovery:s,routerPush:a}=this.props,{recaptchaRef:i,loginOrEmailRef:o}=this;s({loginOrEmail:o.value,recaptcha:n()(i,"value","")}).then(()=>{t?t():a("/")}).catch(()=>{})}}_A(){Object(f.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(f.a)(this.propsUpdateToActionsMap,e,this.props)}_J3(){const{recaptchaSiteKey:e,showRecaptcha:t}=this.props,{requestPasswordError:s}=this.props,{recaptcha:a}=n()(s,"details",{}),o="password_recovery_recaptcha";return l.a._(g.a,{isVisible:t},l.a._("div",{className:"field field-recaptcha"},l.a._(m.a,{recaptchaContainerId:o,className:"field",recaptchaSiteKey:e,ref:e=>{this.recaptchaRef=e}}),!i()(a)&&l.a._(p.a,{error:{message:a},targetId:o})))}render(){const{isForgotPasswordPage:e,isRequestingPassword:t,onAutoFocus:s,onClose:a,requestPasswordError:o,showRecaptcha:r}=this.props,c=n()(o,"details",{}),m="forgot_password_login_or_email",g=Boolean(o)&&!i()(c.loginOrEmail);return l.a._("div",{className:Object(_.c)("forgot-password","island-wrapper",{"recaptcha-shown":r})},l.a._("div",{className:"island island-small"},l.a._("div",{className:"island-header"},l.a._("h1",{className:"island-title"},e?Object(v.d)("forgotPassword.titlePage"):Object(v.d)("forgotPassword.title")),Boolean(a)&&l.a._("a",{className:"button-close",onClick:a,role:"button"},l.a._(u.a,{img:"close"}))),l.a._("form",{className:"forgot-password-form island-form"},l.a._("div",{className:"field field-loginOrEmail"},l.a._(h.a,{autoCapitalize:"none",autoFocus:!0,onFocus:s,className:Object(_.c)("input-loginOrEmail",{error:Boolean(o)}),disabled:t,id:m,maxLength:b.q,placeholder:Object(v.d)("forgotPassword.form.placeholders.usernameOrEmail"),ref:e=>{this.loginOrEmailRef=e}}),g&&l.a._(p.a,{error:{message:c.loginOrEmail[0]},targetId:m})),this._J3(),l.a._("div",{className:"field field-action field-submit"},l.a._(d.a,{disabled:t,className:"input-submit btn-action",style:"login",type:"submit",onClick:this.requestPasswordRecoveryButtonClickHandler},Object(v.d)("button.submit"))))))}}y.displayName="ForgotPassword";const w={requestPasswordRecovery:O.b,routerPush:C.H};t.a=Object(c.c)(e=>{const{passwordRecovery:{isRequestingPassword:t,requestPasswordError:s},config:{data:{recaptchaSiteKey:a,showRecaptchaEnv:i}}}=e;return{isRequestingPassword:t,requestPasswordError:s,recaptchaSiteKey:a,showRecaptcha:i,isForgotPasswordPage:Object(N.m)(e)}},w)(y)},,function(e,t,s){"use strict";var a=s(299),i=s.n(a),o=s(2),n=s.n(o),r=(s(38),s(8),s(0)),l=s.n(r),c=s(5),d=s(30),p=s(476),u=s(7),h=s(99),m=s(151),g=s(14),b=s(18),_=s(113),v=s(6),f=s(1),C=s(34),N=s(80),O=s(140),y=s(26),w=s(194),S=s(315),k=s(39),j=s.n(k),I=s(33),T=s.n(I),P=s(45),M=s.n(P),E=s(13),A=s(12),U=s(235),H=s(59),L=s(43),R=s(3),F=s(10),D=(s(20),s(44)),x=s(272),B=s(37);function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const{PANELS:z}=D.a;class $ extends l.a.Component{constructor(...e){super(...e),this.draggingPanelId=null,this.state={dragOverColumn:null,dragOverPanelId:null,dragOverDirection:0,isEditMode:!1},this.getPanelById=e=>M()(this.props.panelsGrouped[0],t=>t.id===e)||M()(this.props.panelsGrouped[1],t=>t.id===e),this.getIsPanelAloneInColumn=(e,t)=>this.props.panelsGrouped[t].length<=1,this.imageUploadEventHandler=({name:e,thumbName:t})=>{e===R.R.NORMAL&&this.props.modelPanelImageRemovePending(t)},this.editButtonClickHandler=()=>{this.state.isEditMode?(this.props.applyPanelsDeletion(),this.setState({isEditMode:!1})):this.setState({isEditMode:!0})},this.addProfilePanel=()=>{this.props.showModal(R.F.PROFILE_PANEL,{isNew:!0})},this._Jd=(e="profile-panels-help-tooltip")=>l.a._(r.Fragment,null,l.a._("div",{className:"tooltip-info",id:e},l.a._(v.a,{img:"question"})),l.a._(L.a,{placement:"right",targetId:e,isMobileRelative:!1},l.a._(A.a,{messageId:"profile.profilePanels.headerTooltip",elements:{br:l.a._("br",null)}}))),this._Je=(e,t,s,{onMouseDown:a})=>l.a._("div",{className:Object(F.c)("control-icon-wrapper",{"control-icon-wrapper-drag-n-drop":"drag-n-drop"===t}),onClick:s,onMouseDown:a,"data-panel-id":e.id},l.a._(v.a,{img:t,size:14})),this.settingsClickHandler=e=>()=>{this.props.showModal(R.F.PROFILE_PANEL,{panel:e})},this.setToRemove=e=>()=>{this.props.setProfilePanelToRemove(e.id)},this.restorePanel=e=>()=>{this.props.unsetProfilePanelToRemove(e.id)},this._H=e=>l.a._("div",{className:"panel-controls"},this._Je(e,"settings",this.settingsClickHandler(e),{}),this._Je(e,"close-5",this.setToRemove(e),{})),this.getAspectRatio=({width:e,height:t})=>t/e*100,this.panelDragOverHandler=e=>{const t=e.currentTarget.getBoundingClientRect(),s=t.top+t.height/2,a=e.clientY>=s?1:-1;this.setState({dragOverDirection:a})},this.panelDragStartHandler=e=>{this.draggingPanelId=Number(e.target.dataset.panelId),e.dataTransfer.setData("text/plain","anything")},this.panelDragEndHandler=()=>{this.props.reorderModelPanels(this.draggingPanelId,this.state.dragOverPanelId,this.state.dragOverColumn,this.state.dragOverDirection),this.draggingPanelId=null,this.setState({dragOverPanelId:null,dragOverDirection:0})},this.panelImageLinkHandler=e=>{const t=this.getPanelById(Number(e.target.dataset.panelId));t&&this.props.showModal(R.F.EXTERNAL_URL_WARNING,{url:t.imageLink})},this.createPanelWrapperDragEnterHandler=(e,t)=>s=>{this.state.isEditMode&&!R.j.touch&&s.target?this.setState({dragOverPanelId:e,dragOverColumn:t}):s.preventDefault()}}_B6(){const{currentUser:e,isOwnProfile:t}=this.props;return t&&e?l.a._(_.a,{eventsWithCallbacks:[{subscriptionKey:`image:upload:${e.id}`,callback:this.imageUploadEventHandler}]}):null}_Jf(e){return l.a._("div",{className:"profile-panel-restore-overlay"},l.a._(E.a,{className:"restore-button",onClick:this.restorePanel(e)},Object(f.d)("button.restore")))}_Jg(e,t){const{isEditMode:s}=this.state,{isOwnProfile:a,modelPanelsToBeRemoved:i,pendingImages:o}=this.props,n=!o.has(e.id),r=i.has(e.id),c=t&&!R.j.touch?{"data-panel-id":e.id,draggable:s,onDragStart:this.panelDragStartHandler,onDragEnd:this.panelDragEndHandler,onDragOver:this.panelDragOverHandler}:{},d=Object(F.c)("profile-panel",{dropzone:!t,"edit-mode":t&&s}),{body:p,details:u,imageLink:h,imageUrl:m,title:g}=e;return l.a._("div",V({className:d},c),l.a._("div",{className:"profile-panel-bg"},t&&s&&this._H(e),t&&s&&r&&this._Jf(e),g&&l.a._("div",{className:"profile-panel-title"},g),m&&l.a._("a",{"data-panel-id":e.id,href:h&&u.isTrusted?h:void 0,target:"_blank",rel:"nofollow noopener noreferrer",className:Object(F.c)("profile-panel-image",{active:h}),onClick:h&&!u.isTrusted?this.panelImageLinkHandler:j.a,style:{backgroundImage:n?`url(${m})`:void 0,paddingBottom:`${this.getAspectRatio(u.image)}%`,pointerEvents:s?"none":"auto"}},a&&!n&&l.a._(H.a,null)),p&&l.a._("div",{className:"profile-panel-body"},p)))}_Jh(e,t){const{dragOverPanelId:s,dragOverDirection:a}=this.state,i=s===e.id&&this.draggingPanelId!==e.id,o=this.getPanelById(this.draggingPanelId),n=o&&i&&(-1===a&&"top"===t||1===a&&"bottom"===t);return l.a._("div",{className:`profile-panel-dropzone ${t}`},n&&this._Jg(o,!1))}_Ji(e,t){const s=Object(F.c)("profile-panel-wrapper",{dragging:this.draggingPanelId===e.id},{alone:this.getIsPanelAloneInColumn(e,t)});return l.a._("div",{className:s,key:e.id,onDragEnter:this.createPanelWrapperDragEnterHandler(e.id,t)},this._Jh(e,"top"),this._Jg(e,!0),this._Jh(e,"bottom"))}_Jj(e){const t=this.getPanelById(this.draggingPanelId);return t?l.a._("div",{className:"profile-panel-wrapper new",key:"panel-add-zone",onDragEnter:()=>{this.setState({dragOverPanelId:-1,dragOverColumn:e,dragOverDirection:1})}},l.a._("div",{className:"profile-panel-dropzone top"},this.state.dragOverColumn===e&&this._Jg(t,!1))):null}_Jk(){return l.a._("div",{className:"profile-panel-add"},l.a._("button",{className:"profile-panel-add-btn",onClick:this.addProfilePanel,type:"button"},l.a._(v.a,{img:"plus-unframed",size:28}),l.a._("span",null,Object(f.d)("profile.profilePanels.addPanel"))))}_Jl(e){const{panelsGrouped:t}=this.props;return l.a._("div",{className:"profile-column"},!t[e]&&this._Jj(e),T()(t[e],t=>this._Ji(t,e)))}render(){const{className:e,isOwnProfile:t,isUpdating:s,panelsCount:a}=this.props,{isEditMode:i}=this.state;return l.a._("div",{className:Object(F.c)("profile-panels",e,{"edit-mode":i,pending:s})},t&&l.a._("div",{className:"profile-panels-header"},l.a._("h2",null,Object(f.d)("profile.profilePanels.header")),this._Jd(),Boolean(a)&&(s?l.a._(H.a,{size:21}):l.a._(U.a,{isActive:i,onClick:this.editButtonClickHandler}))),t&&this._Jk(),l.a._("div",{className:"profile-panels-grid"},this._Jl(0),this._Jl(1)),this._B6())}}$.displayName="ProfilePanels";const G={applyPanelsDeletion:D.c,modelPanelImageRemovePending:D.h,reorderModelPanels:D.j,setProfilePanelToRemove:D.o,showModal:b.c,unsetProfilePanelToRemove:D.q,updatePrepare:D.s,updateProfile:D.t};var W=Object(c.c)((e,t)=>{const{auth:{currentUser:s}}=e,{isOwnProfile:a}=t;return{currentUser:s,isSucceeded:Object(B.l)(e,z),isUpdating:Object(B.n)(e,z),modelPanelsToBeRemoved:Object(x.f)(e),panelsGrouped:a?Object(x.d)(e):Object(x.a)(e),panelsCount:Object(x.c)(e),pendingImages:Object(x.e)(e),updateError:Object(B.c)(e,z)}},G)($),K=s(94),q=s.n(K),J=s(32),Y=s(478);const{DESCRIPTION:X}=D.a;class Q extends l.a.Component{constructor(...e){super(...e),this.state={isEditMode:!1},this.updateAutoSize=()=>{const{autoSizeRef:e,textareaRef:t}=this;t.value.length?/\n$/.test(t.value)?e.textContent=`${t.value}.`:e.textContent=t.value.replace(/\s$/,"."):e.textContent="."},this.editButtonClickHandler=()=>{const{updatePrepare:e,updateProfile:t}=this.props;if(this.state.isEditMode){t({description:q()(this.textareaRef.value)},X)}else e(X),this.setState({isEditMode:!0})}}_A(){!this.props.isUpdating&&this.textareaRef&&this.updateAutoSize()}componentDidUpdate(e){const t=!(e.user.id!==this.props.user.id)&&!this.props.isSucceeded&&this.state.isEditMode;t!==this.state.isEditMode&&this.setState({isEditMode:t}),!this.props.isUpdating&&this.textareaRef&&this.updateAutoSize()}_Iw(){const{isUpdating:e,maxLength:t}=this.props;return l.a._("div",{className:"textarea-container"},l.a._("div",{className:"textarea-wrapper"},l.a._("textarea",{autoFocus:!0,defaultValue:this.props.user.description,disabled:e,maxLength:t,onChange:this.updateAutoSize,ref:e=>{this.textareaRef=e}})),l.a._("div",{className:"auto-size",ref:e=>{this.autoSizeRef=e}}))}render(){const{className:e,isEditable:t,isUpdating:s,user:a}=this.props,{isEditMode:i}=this.state;return l.a._("div",{className:Object(F.c)("user-description",e,{"edit-mode":i,pending:s})},t&&l.a._("div",{className:"edit-button-container"},l.a._(U.a,{isActive:i,onClick:this.editButtonClickHandler}),s&&l.a._(H.a,{size:60})),l.a._("div",{className:"user-description-header"},l.a._("h2",null,Object(f.d)("profile.description.title"))),i?this._Iw():l.a._("p",{className:"description-text"},a.description))}}Q.displayName="UserDescription";var Z=Object(c.c)((e,t)=>{const{auth:s,availableSettings:{data:a}}=e,{user:i}=t,{currentUser:o,isLoggingOut:n}=s,r=s.isLoggedIn&&!n;return{availableSettings:a,currentUser:o,isEditable:r&&o.id===i.id,isLoggedIn:r,isUpdating:Object(B.n)(e,X),isSucceeded:Object(B.l)(e,X),maxLength:Object(Y.b)(e),updateError:Object(B.c)(e,X)}},e=>Object(J.b)({updatePrepare:D.s,updateProfile:D.t},e))(Q),ee=s(393),te=s(256),se=s(226),ae=s(394),ie=s(17),oe=s(102),ne=s(108),re=s(90),le=s(143);const ce={[re.a.FAN_CLUB]:"diamond",[re.a.PAID]:"unlocked"};class de extends l.a.PureComponent{constructor(...e){super(...e),this._Jm=()=>this.props.onDelete(this.props.album),this._Jn=()=>this.props.onSettingsClick(this.props.album),this._Jo=()=>this.props.onAlbumClick(this.props.album),this._Je=(e,t)=>{const{album:s}=this.props;return l.a._("div",{className:"control-icon-wrapper",onClick:t,"data-album-id":s.id},l.a._(v.a,{img:e,size:14}))}}_Jp(){const{album:e}=this.props;return l.a._("div",{className:"deleted-album-controls"},l.a._("div",{className:"deleted-album-indicator"},l.a._(v.a,{className:"deleted-album-icon",img:"trash",size:40}),l.a._("span",{className:"deleted-album-text"},Object(f.d)("deleted"))),l.a._("div",{className:"deleted-album-recovery","data-album-id":e.id,onClick:this._Jm},l.a._(v.a,{img:"recovery",size:14}),l.a._("span",null,"Recovery")))}_H(){const{album:e}=this.props;return e.isReserved?null:l.a._("div",{className:"album-controls"},this._Je("settings",this._Jn),this._Je("close-5",this._Jm))}_Jq(e){return"string"==typeof e?e:""}_Jr(){const{album:e}=this.props,{accessMode:t,cost:s}=e;if(t===re.a.FREE)return null;let a,i;switch(t){case re.a.FRIENDS:a="users",i=Object(f.d)(`gallery.albums.thumbs.owner.${t}`);break;case re.a.PAID:a="lock-1",i=l.a._(A.a,{choiceParameter:"cost",elements:{cost:l.a._("strong",null,s)},messageId:`gallery.albums.thumbs.owner.${t}`,parameters:{cost:s}});break;case re.a.FAN_CLUB:a="diamond",i=Object(f.d)(`gallery.albums.thumbs.owner.${t}`);break;case re.a.UNPUBLISHED:a="spy-off",i=Object(f.d)("gallery.albums.accessModes.unpublished");break;case re.a.VERIFIED_USERS:a="user-verified",i=Object(f.d)(`gallery.albums.thumbs.owner.${t}`)}return l.a._("div",null,l.a._("div",{className:"access-mode-shadow"}),l.a._("div",{className:"access-mode-content",title:this._Jq(i)},l.a._(v.a,{img:a}),i))}_Js(){const{album:e}=this.props,t=ce[e.accessMode];return t?l.a._("div",{className:"access-unlocked-icon"},l.a._(v.a,{img:t})):null}_Jt(){const{album:e}=this.props,{accessMode:t,cost:s}=e,{currentUser:a,isLoggedIn:i,isCurrentUserFriendOfOwner:o}=this.props;let n,r;if(t!==re.a.FRIENDS||o||(r="users",n=Object(f.d)(`gallery.albums.thumbs.viewer.${t}`)),t===re.a.PAID&&(r="lock-1",n=l.a._(A.a,{parameters:{cost:s},elements:{accent:l.a._("span",{className:"label-accent"})},messageId:`gallery.albums.thumbs.viewer.${t}`})),t===re.a.FAN_CLUB&&(r="diamond",n=Object(f.d)(`gallery.albums.thumbs.viewer.${t}`)),t===re.a.VERIFIED_USERS)if(i){if(a.isEmailVerified)return null;r="mail-filled",n=Object(f.d)("gallery.albums.thumbs.viewer.verified")}else r="user-verified",n=Object(f.d)("gallery.albums.thumbs.viewer.registered");return l.a._("div",{className:"access-mode-wrapper"},l.a._("div",{className:"access-mode-inner"},l.a._("div",null,l.a._(v.a,{img:r})),l.a._("div",null,n)))}_Ju(){const{currentUser:e,isLoggedIn:t,album:s}=this.props,a=t&&(e.isAdmin||e.isSupport);return Object(le.a)(s)&&!a?this._Js():this._Jt()}_Jv(){const{isOwnProfile:e,album:t}=this.props;return l.a._("div",{className:Object(F.c)(`album-access-mode ${t.accessMode}`,{owner:e,viewer:!e})},e?this._Jr():this._Ju())}render(){const{isEditMode:e,isOwnProfile:t,isDeleted:s,album:a}=this.props,i=t?a.previewUnverified:a.preview||a.previewMicro,o=t?a.photosCountUnverified:a.photosCount,n=!o;return l.a._("li",{className:"albums-list-item",key:a.id},l.a._("div",{className:Object(F.c)("album",{deleted:s,empty:n}),onClick:this._Jo,"data-album-id":a.id},this._Jv(a),e&&(s?this._Jp():this._H()),i?l.a._("div",{className:Object(F.c)("album-img",{"album-img-restricted":!t&&!Object(le.a)(a)&&a.accessMode!==re.a.PAID}),style:{backgroundImage:`url(${i})`}}):l.a._("div",{className:"album-img-empty"},l.a._(v.a,{img:"files",size:50})),l.a._("div",{className:"album-footer"},l.a._("span",{className:"album-name"},a.name),Boolean(o)&&l.a._("span",{className:"album-photos-count"},o))))}}de.displayName="AlbumsGalleryAlbum";class pe extends l.a.Component{constructor(...e){super(...e),this.albumClickHandler=e=>{const{isEditMode:t,user:s}=this.props;t||this.props.select(Number(e.id),s.id)},this.deleteControlClickHandler=e=>{this.props.toggleAlbumDeleting(Number(e.id))},this.settingsClickHandler=e=>{this.props.showModal(R.F.EDIT_ALBUM,{albumId:Number(e.id)})},this._Jw=e=>{const{isEditMode:t,isOwnProfile:s,deletedAlbumIds:a,currentUser:i,isLoggedIn:o,isCurrentUserFriendOfOwner:n}=this.props,r=a.has(e.id);return l.a._(de,{key:e.id,album:e,isEditMode:t,isOwnProfile:s,isDeleted:r,currentUser:i,isLoggedIn:o,isCurrentUserFriendOfOwner:n,onDelete:this.deleteControlClickHandler,onSettingsClick:this.settingsClickHandler,onAlbumClick:this.albumClickHandler})},this._Jx=()=>{const{createAlbumClickHandler:e}=this.props;return l.a._("li",{className:"albums-list-item album-creator-wrapper"},l.a._("div",{className:"album-creator",onClick:e},l.a._("div",{className:"album-creator-content"},l.a._(v.a,{size:28,img:"plus-unframed"}),l.a._("span",{className:"album-creator-text"},Object(f.d)("gallery.albums.createAlbum")))))},this._Jy=()=>{const{albums:e}=this.props;return l.a._("ul",{className:"albums-list"},this._Jx(),e.map(this._Jw))},this._Jz=()=>{const{albums:e}=this.props;return l.a._("ul",{className:"albums-list"},e.map(this._Jw))}}_A(){this.props.emitUiEvent(R.S.ALBUM_BLOCK_WAS_SHOWN,{userId:this.props.user.id})}render(){const{isEditMode:e,isOwnProfile:t,className:s}=this.props;return l.a._("div",{className:Object(F.c)(s,"albums-gallery-root",{"edit-mode":e})},l.a._(oe.a,{isAlwaysVisible:!0},t?this._Jy():this._Jz()))}}pe.displayName="AlbumsGallery";const ue={emitUiEvent:ie.e,select:w.e,showModal:b.c,toggleAlbumDeleting:te.h};var he=Object(c.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a},myAlbums:{deletedAlbumIds:i}}=e;return{currentUser:s,deletedAlbumIds:i,isLoggedIn:a,isCurrentUserFriendOfOwner:Object(ne.f)(e,t.user.id)}},ue)(pe),me=s(390),ge=s(25);class be extends l.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:ge.b,action:()=>{const{selectedAlbum:e,user:t,isEditMode:s}=this.props;e&&this.props.loadUserPhotos(e.id,t.id),s&&this.props.toggleEditState(!1)}},{update:["scrollToUserGalleryToken"],action:()=>{const{scrollToUserGalleryToken:e}=this.props,{userGalleryRef:t}=this;if(t&&e){const{top:e}=t.getBoundingClientRect();e<0&&N.a.set(e,500)}}}],this.createAlbumClickHandler=()=>{const{isEditMode:e}=this.props;this.props.showModal(R.F.EDIT_ALBUM),this.props.cancelDeletePreparations(),e&&this.props.toggleEditState(!e)},this.editButtonClickHandler=()=>{const{isEditMode:e,selectedAlbum:t}=this.props;e&&(t?(this.props.removeMyPhotos(),this.props.savePhotosOrders()):this.props.removeMyAlbums()),this.props.toggleEditState(!e)},this.crumbsRootClickHandler=()=>{const{isEditMode:e,selectedAlbum:t,user:s}=this.props;t&&this.props.select(null,s.id),e&&(t?this.props.cancelPhotosDeleting():this.props.cancelAlbumsDeleting(),this.props.toggleEditState(!1))},this._a0=()=>{const{albums:e,isEditMode:t,isOwnProfile:s,selectedAlbum:a,user:i}=this.props;return a?l.a._(me.a,{albumId:a.id,isEditMode:t,isOwnProfile:s,selectedAlbum:a,user:i}):l.a._(he,{albums:e,isEditMode:t,isOwnProfile:s,user:i,createAlbumClickHandler:this.createAlbumClickHandler})}}_A(){Object(C.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(C.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){const{user:e}=this.props;this.props.select(null,e.id)}_B6(){const{isOwnProfile:e,user:t}=this.props,s=[`albumUpdated:${t.id}`];return e||s.push(`albumDeleted:${t.id}`),l.a._(_.a,{events:s})}_a1(){const{selectedAlbum:e,user:t}=this.props;return e?l.a._(ae.a,{album:e,owner:t}):null}_B7(){const{isEditMode:e,isOwnProfile:t,selectedAlbum:s}=this.props;return l.a._("div",{className:"user-gallery-header"},l.a._("h2",null,l.a._("div",{className:"user-gallery-crumb-root",onClick:this.crumbsRootClickHandler},Object(f.d)(t?"myAlbums":"albumsTitle")),s&&l.a._("span",{className:"user-gallery-crumb-child"},l.a._(v.a,{img:"next-small",size:18}),l.a._("span",null,s.name))),t&&l.a._(U.a,{isActive:e,onClick:this.editButtonClickHandler}),this._a1())}render(){const{isGalleryAvailable:e,className:t}=this.props;return e?l.a._("div",{className:Object(F.c)(t,"user-gallery"),ref:e=>{this.userGalleryRef=e}},this._B7(),this._a0(),this._B6()):null}}be.displayName="UserGallery";const _e={cancelAlbumsDeleting:te.a,cancelDeletePreparations:te.b,cancelPhotosDeleting:se.c,load:te.e,loadUserPhotos:S.a,removeMyAlbums:te.f,removeMyPhotos:se.e,savePhotosOrders:se.g,select:w.e,showModal:b.c,toggleEditState:te.i};var ve=Object(c.c)((e,t)=>{const{auth:{currentUser:s},myAlbums:{isEditMode:a,isPending:i},userAlbums:{isPending:o},profile:{scrollToUserGalleryToken:n}}=e,{isOwnProfile:r}=t,l=r?Object(le.d)(e):Object(le.h)(e,t),c=r?Object(le.e)(e):Object(le.f)(e,t);return{albums:l,currentUser:s,isEditMode:a,isGalleryAvailable:r?!i:!o&&l.length>0,scrollToUserGalleryToken:n,selectedAlbum:c}},e=>Object(J.b)(_e,e))(be),fe=s(35),Ce=s.n(fe),Ne=s(515),Oe=(s(58),s(312)),ye=s(46),we=s(352),Se=s(41),ke=s(31),je=s(124),Ie=s(229),Te=s(127);class Pe extends l.a.Component{constructor(...e){super(...e),this.clickHandler=()=>{const{user:e}=this.props;this.props.toggleFavorite(e)}}render(){const{currentUser:e,isInFavorites:t,isLoggedIn:s,user:a}=this.props,i=!s||!e.isModel&&!e.isStudio;if(!(a.isModel&&i))return null;const o=Object(f.d)(t?"button.removeFromFavorites":"button.addToFavorites");return l.a._(E.a,{onClick:this.clickHandler,size:"default",title:o},o)}}Pe.displayName="FavoriteButton";const Me={toggleFavorite:Ie.f,showModal:b.c};var Ee=Object(c.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i}}=e,{user:o}=t;return{currentUser:s,isInFavorites:Object(Te.f)(e,o.id),isLoggedIn:a&&!i}},e=>Object(J.b)(Me,e))(Pe),Ae=s(319),Ue=s(353),He=s(115),Le=s.n(He),Re=s(27),Fe=s.n(Re),De=s(85),xe=s.n(De),Be=s(233),Ve=s(22),ze=s(133),$e=s(510),Ge=s(15),We=s(28);class Ke extends l.a.Component{constructor(...e){super(...e),this.getUserCountry=()=>{const{user:e,config:{countries:t}}=this.props,s=this.getIsSelfModel()?e.profileCountry:e.country;return s?M()(t,{code:s}):null},this.getUserFrom=()=>{const{config:{regions:e},user:t}=this.props,s=this.getUserCountry();if(!s)return null;const a=Object(f.d)(`country.${s.code}`),i=a===s.code?s.title:a,o=t.region&&e[t.country]?M()(e[t.country],{code:t.region}):null,n=this.getIsSelfModel()?i:Le()([i,o?o.title:null,t.city]).join(", ");return l.a._("div",{className:"country-wrapper"},l.a._("span",{className:"country"},l.a._(Be.a,{country:s.code}),n),this._a2())},this.showBuyTokensModal=()=>{this.props.showModal(R.F.USER_LEVELS)},this.renewMembershipClickHandler=()=>{this.props.emitButtonEvent(R.b.PROFILE_RENEW)},this._a3=()=>{const e=this.getUserLevel();return l.a._("div",{className:"user-status-info"},l.a._($e.a,{targetId:"user_status",level:e}),l.a._("span",{className:"status-help",id:"user_status"},"?"))},this._a4=()=>{const{isOwnProfile:e,user:t}=this.props,{isModel:s,isStudio:a,isGold:i}=t,o=e&&!(s||a||i),n=e&&t.isGoldSubscriber&&!t.isRebillEnabled,r=o||n&&t.mayRenewRebill;return o||n?l.a._("div",null,n&&l.a._(A.a,{className:"user-status-until",elements:{strong:l.a._("strong",null)},messageId:"profile.membershipTill",parameters:{date:Object(Ve.j)(t.subscriptionExpiresAt,Ve.f.DAY_AND_LONG_MONTH)}}),r&&l.a._(E.a,{className:Object(F.c)({"user-status-renew":n,"user-status-upgrade":o}),size:"small",style:"primary",onClick:o?this.showBuyTokensModal:this.renewMembershipClickHandler},l.a._(v.a,{img:o?"upgrade":"renew",size:14}),Object(f.d)(o?"profile.upgrade":"profile.renew"))):null}}getIsSelfModel(){const{user:e,isOwnProfile:t}=this.props;return e.isModel&&t}getUserLevel(){const{user:e}=this.props;return e.isGold?Ge.H.GOLD:e.isGreen?Ge.H.GREEN:e.isRegular?Ge.H.REGULAR:null}_a5(){const{user:e}=this.props,t=new Date(e.birthDate),s=new Date,a=`birth-date-${e.id}`,i=`birth-date-today-${e.id}`,o=s.getDate()===t.getDate()&&s.getMonth()===t.getMonth();return l.a._("div",{className:"birth-date-block"},l.a._("div",{id:a},l.a._(A.a,{choiceParameter:"age",messageId:"profile.yearsOld",parameters:{age:e.age}}),l.a._(L.a,{isMobileRelative:!1,placement:"top",targetId:a},Object(Ve.j)(t,Ve.f.HUMAN_DATE))),o&&l.a._("div",{id:i},l.a._(v.a,{img:"birthday-cake",size:12}),l.a._(L.a,{isMobileRelative:!1,placement:"top",targetId:i},Object(f.d)("profile.todayIsBirthDay",{modelName:e.username}))))}_G(){const{isOwnProfile:e,isStatusLevelVisible:t}=this.props,s=this.getUserLevel();return l.a._("div",{className:Object(F.c)("user-status",s)},l.a._("span",{className:"user-status-name"},Object(f.d)(`userLevels.status.${s}`)),t&&this._a3(),e&&this._a4())}_a6(){const{user:{isApprovedModel:e,amazonWishlist:t},socialLinks:s}=this.props;if(!e)return null;const a={...s,amazonWishlist:t},i=Object.keys(a).reduce((e,t)=>(a[t]&&(e[t]=Object(ze.c)(a[t]),"fancentro"===t&&(e[t]=Object(ze.e)(e[t]))),e),{}),o=Object.keys(i);if(!o.length)return null;const n=T()(o,(e,t)=>[l.a._("a",{key:t,className:"field-link",rel:"nofollow noopener noreferrer",href:i[e],target:"_blank"},Object(f.d)(`profile.info.detailsRead.${e}`)),t!==o.length-1?", ":""]);return l.a._("div",{className:"field-row",key:"socialNetworks"},l.a._("div",{className:"field-label"},Object(f.d)("profile.info.detailsRead.socialLinks"),":"),l.a._("div",{className:"field-value"},n))}_a2(){const{user:e,isOwnProfile:t}=this.props;return e.isModel&&t?l.a._("span",{className:"country-tip"},Object(f.d)(`profile.modelOwnProfileCountryTip.${e.country?"visible":"hidden"}`)," ",l.a._(A.a,{messageId:"profile.modelOwnProfileCountryTip.changeVisibility",elements:{link:l.a._(d.a,{to:"/settings",className:"privacy-link"})}})):null}render(){const{config:{languages:e},user:t}=this.props,{gender:s,isApprovedModel:a}=t,i={},o=e=>{const a=t[e];Fe()(a)||(xe()(a)?a.length&&(i[e]=a.map(e=>Object(f.d)(`preferenceValues.${e}`)).join(", ")):i[e]="bodyType"!==e?Object(f.d)(`preferenceValues.${a}`):-1!==s.toLowerCase().indexOf("female")?Object(f.d)(`preferenceValues.${a}ForFemale`):Object(f.d)(`preferenceValues.${a}`))};return t.name&&(i.name=t.name),o("interestedIn"),i.from=this.getUserFrom(),this.getUserLevel()&&(i.status=this._G()),t.languages&&t.languages.length&&(i.languages=e.filter(({code:e})=>Ce()(t.languages,e)).map(({code:e})=>Object(f.d)(`language.${e}`)).join(", ")),Object(Ve.C)(t.birthDate)&&(i.age=this._a5()),o("bodyType"),o("specifics"),o("ethnicity"),o("hairColor"),o("eyeColor"),o("subculture"),!Fe()(i)&&l.a._("div",{className:"details"},T()(i,(e,t)=>"number"!=typeof e&&!e||"amazonWishlist"===t&&!a?null:l.a._("div",{className:"field-row",key:t},l.a._("div",{className:"field-label"},Object(f.d)(`profile.info.detailsRead.${t}`),":"),l.a._("div",{className:"field-value"},e))),this._a6())}}Ke.displayName="UserInfoDetails";const qe={emitButtonEvent:ie.b,showModal:b.c};Ke.defaultProps={isOwnProfile:!1,isStatusLevelVisible:!1};var Je=Object(c.c)((e,t)=>{const{user:{id:s}}=t;return{socialLinks:Object(We.j)(e,s)}},qe)(Ke);const Ye=({name:e,link:t})=>l.a._("a",{className:"xhamster-porn-star-button",href:t,target:"_blank",rel:"noopener noreferrer"},l.a._("span",{className:"pornstar-label"},l.a._(v.a,{img:"star",className:"star-full pornstar-star",fill:"currentColor",height:12,width:12}),"Pornstar"),l.a._("span",{className:"pornstar-name"},e));Ye.displayName="XHamsterPornStarButton";var Xe=Ye,Qe=s(87);class Ze extends l.a.Component{constructor(...e){super(...e),this.ratingLabelClickHandler=()=>{const{topModelsLink:e}=this.props;this.props.routerPush(`${e}/current-month`)}}_Hf(){const{isViewCamPage:e,user:t}=this.props;return l.a._("div",{className:"action-buttons"},l.a._("div",{className:"action-buttons-container"},l.a._(Ue.a,{user:t,shouldOpenChatTab:e}),l.a._(Ee,{user:t}),l.a._(Ae.a,{user:t})))}_a7(){const{isBanned:e,isGeoBanned:t,user:s,shouldRenderWatchButton:a,viewCamUrl:i}=this.props,o=e||t;return s.isModel&&Ce()([u.lb.STATUS_PUBLIC,u.lb.STATUS_PRIVATE,u.lb.STATUS_VIRTUAL_PRIVATE],s.status)&&a&&!o&&!s.isDeleted?l.a._(E.a,{className:"watch-me-button",style:"apply",to:i,type:"link"},l.a._(v.a,{img:"webcam"}),Object(f.d)("button.watchMe")):null}render(){const{isBanned:e,isCurrentUserModelOrStudio:t,isGeoBanned:s,isNonNudeWL:a,isLoggedIn:i,isProfileAvailable:o,contestTop:n,user:r,xHamsterPornStarLinkData:c}=this.props,d=e||s,p=r.isModel&&o?{to:`/${r.username}`}:null,u=!r.isDeleted&&o&&!e&&!s&&!r.isBlocked,h=!r.isDeleted&&!d&&!r.isBlocked;let m;e?m=Object(f.d)(r.isModel?"privateMessages.cannotSend.youAreBannedByModel":"privateMessages.cannotSend.youAreBannedByUser"):s&&(m=Object(f.d)("camChat.yourCountryIsBlockedByModel"));const g=!a&&Boolean(n.position)&&n.position<=Ge.k;return l.a._("div",{className:"user-info"},l.a._("div",{className:"avatar-wrapper"},l.a._(je.b,{isAwardBadgeVisible:!0,user:r}),l.a._("div",{className:"avatar-buttons"},this._a7(),h&&l.a._(Ne.a,{buttonLocation:"profileButton",user:r,style:"apply"}))),l.a._("div",{className:"info"},l.a._("div",{className:"title"},l.a._("h2",{className:"title-text"},l.a._(Qe.b,{user:r,isLevelStatusVisible:!0,link:p})),l.a._("div",{className:"title-additional-info"},g&&l.a._(we.a,{tooltipText:Object(f.d)("profile.contestTooltip"),onClick:this.ratingLabelClickHandler,position:n.position,points:n.points}),c&&l.a._(Xe,c))),!o&&l.a._("p",null,Object(f.d)(`profile.availableOnlyTo.${r.showProfileTo}`)),Boolean(m)&&l.a._("p",null,m),u&&l.a._(Je,{config:this.props.config.data,isStatusLevelVisible:!i||!t,user:r}),h&&this._Hf()))}}Ze.displayName="UserInfo";const et={routerPush:Se.H};Ze.defaultProps={isEmbedded:!1,shouldRenderWatchButton:!0};var tt=Object(c.c)((e,{user:t})=>{const{auth:s,config:a}=e;return{config:a,isCurrentUserModelOrStudio:Object(We.d)(e),xHamsterPornStarLinkData:t.isPornStar?Object(We.i)(e,t.id):null,currentUser:s.currentUser,isLoggedIn:s.isLoggedIn&&!s.isLoggingOut,isNonNudeWL:Object(y.f)(e),isViewCamPage:Object(ke.L)(e),viewCamUrl:Object(Oe.b)(e,t.username),contestTop:Object(We.k)(e,t.id),topModelsLink:Object(ye.o)(e)}},et)(Ze),st=s(78),at=s.n(st),it=s(711),ot=s.n(it),nt=s(210),rt=s.n(nt),lt=s(373),ct=s.n(lt),dt=s(79),pt=s.n(dt),ut=s(174),ht=s.n(ut),mt=s(40),gt=s(169),bt=s(321),_t=s(470),vt=s(75),ft=s(343),Ct=s(123),Nt=s(72),Ot=s(61);function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const{AVATAR:wt,INFO:St}=D.a;class kt extends l.a.Component{constructor(e){super(e),this.uid=Object(Nt.o)(),this.imageUploadEventHandler=({name:e})=>{e===R.R.FULL&&this.setState({isImageLoading:!1})},this.scrollToInvalidField=e=>e&&e.scrollIntoView({behavior:"smooth"}),this.editButtonClickHandler=()=>{if(this.state.isEditMode){const{userModified:e}=this.state,t=Object.keys(Ge.B).reduce((t,s)=>{const a=new RegExp(Ge.B[s],"gi");return e[s]&&-1===e[s].search(a)&&(t[s]=[Object(f.d)(`errors.validation.${s}`)]),t},{});if(Object.keys(t).length)return void this.props.raiseValidationErrors({details:t});const s=e.birthDate&&Object(Ve.C)(e.birthDate,Ve.f.LONG_LOCAL_DATE);if(e.birthDate&&!s)return void this.props.raiseValidationErrors({details:{birthDate:[Object(f.d)("errors.validation.birthDate",{format:Object(Ve.t)()})]}});this.props.updateProfile({...e,birthDate:s?Object(Ve.l)(Object(Ve.D)(e.birthDate,Ve.g.LONG_LOCAL_DATE)):""},St)}else this.props.updatePrepare(St),this.setState({isEditMode:!0})},this.updatePhotoClickHandler=()=>{this.props.updatePrepare(wt),this.setState({isPhotoUploadPopupOpen:!0})},this.photoUploadPopupCloseHandler=()=>{this.setState({isPhotoUploadPopupOpen:!1})},this.photoUploadPopupSaveHandler=e=>{this.setState({isImageLoading:!0}),this.props.updateProfile({avatar:e},wt,{isMultipart:!0})},this.inputChangeHandler=at()(e=>t=>{this.setStateUserModified(e,t.target.value)}),this.optionSelectHandler=at()((e,t)=>s=>{let a;"cityId"!==e?(a=t?s?T()(s,"value"):[]:s?s.value:null,this.setStateUserModified(e,a)):this.setStateUserModified(e,s)},(...e)=>JSON.stringify(e)),this.onCityInputChange=pt()(e=>{e?this.props.loadCities({start:e,country:this.state.userModified.country}):this.props.resetCities()},500),this.deleteAvatarClickHandler=()=>{this.setState({isDeleteAvatarConfirmationOpen:!0})},this.deleteAvatarConfirm=()=>{this.props.updateProfile({avatar:""},wt,{notifications:{success:Object(f.d)("profile.deleteAvatar.success")}})},this.deleteAvatarCancel=()=>{this.setState({isDeleteAvatarConfirmationOpen:!1})},this.birthDateChangeHandler=e=>{this.setStateUserModified("birthDate",e)},this.ratingLabelClickHandler=()=>{const{topModelsLink:e}=this.props;this.props.routerPush(`${e}/current-month`)},this._a8=e=>{const{isApprovedModel:t}=this.state.userModified;return e&&t?e:null},this._Cw=({options:e,showWithoutOptions:t=!1,...s})=>t||e&&e.length?l.a._(Ct.a,yt({options:e},s)):(mt.c.warn("UserInfoEditable._Cw() has empty options provided",s),null),this._B3=({fieldName:e,settingName:t,...s})=>{const{availableSettings:a}=this.props,{userModified:i}=this.state,o=a[t]||[],n={};return s.options||(n.options=o.map(e=>({label:Object(f.d)(`preferenceValues.${e}`),value:e}))),this._Cw({isClearable:!0,onSelect:this.optionSelectHandler(e,s.isMultiple),value:s.isMultiple?ct()(ht()(i[e]),o):i[e],...s,...n})},this._a9=()=>{const{userModified:e}=this.state,{availableSettings:t,cities:s,config:a,error:i,socialLinks:o,currentUser:r}=this.props,{isModel:c}=r,{city:d,cityId:p}=e;if(this.firstErrorTooltipRef=null,!t)return l.a._(H.a,null);const u=c?e.profileCountry:e.country,h=c?null:this._Cw({isSearchable:!0,onSelect:this.optionSelectHandler("country",!1),options:a.countries.map(({code:e})=>({label:Object(f.d)(`country.${e}`),value:e})),value:u,optionRenderer:e=>l.a._("span",null,l.a._(Be.a,{country:e.value})," ",e.label)}),m=e.country&&a.regions[e.country]?a.regions[e.country]:[],g=!c&&m.length?this._Cw({isSearchable:!0,onSelect:this.optionSelectHandler("region",!1),options:m.map(({code:e,title:t})=>({label:t,value:e})),value:e.region}):null,b={name:l.a._("input",{className:"input",type:"text",maxLength:40,value:e.name,onChange:this.inputChangeHandler("name")}),gender:this._B3({fieldName:"gender",isDisabled:!e.isGenderEditable,options:(e.isGenderEditable?t.userGenders:t.genders).map(e=>({label:Object(f.d)(`gender.${e}`),value:e}))}),interestedIn:this._B3({fieldName:"interestedIn",settingName:"interestedIn"}),birthDate:l.a._(ft.a,{mask:Object(Ve.s)(),value:e.birthDate,placeholder:Object(Ve.t)(),hasDateFormat:!0,onChange:this.birthDateChangeHandler}),country:h,region:g,city:!c&&e.country?this._Cw({isClearable:!0,isSearchable:!0,onInputChange:this.onCityInputChange,onSelect:this.optionSelectHandler("cityId",!1),options:s.length>0?s.map(e=>({value:e.id,label:e.name})):Le()([d?{value:p,label:d}:null]),value:p,showWithoutOptions:!0}):null,languages:this._Cw({isMultiple:!0,onSelect:this.optionSelectHandler("languages",!0),options:a.languages.filter(({code:e})=>Ce()(t.languages,e)).map(({code:e,native:t})=>({label:`${Object(f.d)(`language.${e}`)} (${t})`,value:e})),value:e.languages}),bodyType:this._B3({fieldName:"bodyType",gender:e.gender,settingName:"bodyTypes",options:t.bodyTypes.map(t=>({label:-1!==ot()(e.gender).indexOf("female")?Object(f.d)(`preferenceValues.${t}ForFemale`):Object(f.d)(`preferenceValues.${t}`),value:t}))}),specifics:this._B3({fieldName:"specifics",isMultiple:!0,settingName:"specifics"}),ethnicity:this._B3({fieldName:"ethnicity",settingName:"ethnicities"}),hairColor:this._B3({fieldName:"hairColor",settingName:"hairColors"}),eyeColor:this._B3({fieldName:"eyeColor",settingName:"eyeColors"}),subculture:this._B3({fieldName:"subculture",settingName:"subcultures"}),...Object.keys(o).reduce((t,s)=>(t[s]=this._a8(l.a._("input",{className:"input",type:"text",value:e[s],placeholder:Ge.s[s],onChange:this.inputChangeHandler(s)})),t),{}),amazonWishlist:this._a8(l.a._("input",{className:"input",type:"text",placeholder:"https://amzn.com/w/stripchatWishlist",value:e.amazonWishlist,onChange:this.inputChangeHandler("amazonWishlist")}))};return l.a._("div",{className:"details details-edit-mode"},T()(b,(e,t)=>{if(!e)return null;const s=i?n()(i.details,t,[]):[],a=`user_info_editable_${t}_${this.uid}`;return l.a._("div",{className:"field-row",key:t},l.a._("div",{className:"field-label"},`${Object(f.d)(`profile.info.detailsRead.${t}`)}:`),l.a._("div",{className:"field-value",id:a},e),Boolean(s.length)&&l.a._("div",{className:"field-tooltip"},l.a._(vt.a,{error:{message:s.join(". ")},tooltipRefExtractor:(e,t)=>{!this.firstErrorTooltipRef&&t&&(this.firstErrorTooltipRef=t.tooltipRef.parentElement,this.scrollToInvalidField(this.firstErrorTooltipRef))},targetId:a})))}))},this.state={isDeleteAvatarConfirmationOpen:!1,isPhotoUploadPopupOpen:!1,isEditMode:!1,userModified:this.props.userProfile?{...this.props.userProfile,birthDate:Object(Ve.m)(this.props.userProfile.birthDate)}:this.props.userProfile}}componentDidUpdate(e){if(Object(Ot.g)(this.props,e))return;const{hasUserInfoUpdateSucceeded:t,hasUserAvatarUpdateSucceeded:s,userProfile:a}=this.props,{userModified:i}=this.state;let{isDeleteAvatarConfirmationOpen:o,isPhotoUploadPopupOpen:r,isEditMode:l}=this.state;const c=n()(i,"id")!==n()(a,"id")||!l;t&&(l=!1),s&&(o=!1,r=!1),Object(Ot.i)(this,{isDeleteAvatarConfirmationOpen:o||!1,isPhotoUploadPopupOpen:r||!1,isEditMode:l||!1,userModified:c?a:i})}setStateUserModified(e,t){const s=rt()(ht()(this.state.userModified),e,t),a="country"===e&&this.state.userModified.country!==t;a&&(s.region=null,s.city=null,s.cityId=0),"cityId"===e&&(s.cityId=t?t.value:0,s.city=t?t.label:""),this.setState({userModified:s},()=>{a&&this.props.resetCities()})}_B6(){if(!this.props.isLoggedIn)return null;const{currentUser:e}=this.props;return l.a._(_.a,{eventsWithCallbacks:[{subscriptionKey:`image:upload:${e.id}`,callback:this.imageUploadEventHandler}]})}render(){const{availableSettings:e,config:t,contestTop:s,error:a,isLoadingAvailableSettings:i,isUpdatingUserAvatar:o,isUpdatingUserInfo:r,userProfile:c,xHamsterPornStarLinkData:d}=this.props,{isDeleteAvatarConfirmationOpen:p,isEditMode:u,isPhotoUploadPopupOpen:h,isImageLoading:m}=this.state,g=i,b=o||r,_=`user_info_editable_edit_button_${this.uid}`;return l.a._("div",{className:"user-info-editable"},l.a._("div",{className:"edit-button-container"},l.a._(U.a,{id:_,isActive:u,onClick:this.editButtonClickHandler}),Boolean(a)&&Fe()(a.details)&&l.a._(vt.a,{error:a,targetId:_})),l.a._("h2",null,Object(f.d)("profile.myInformation")),h&&l.a._(bt.a,{moduleProvider:gt.q,avatarSettings:n()(e,"avatar"),isPending:g||b,onClose:this.photoUploadPopupCloseHandler,onSave:this.photoUploadPopupSaveHandler}),p&&l.a._(_t.a,{onConfirm:this.deleteAvatarConfirm,onCancel:this.deleteAvatarCancel},l.a._("p",null,Object(f.d)("profile.deleteAvatar.confirm"))),l.a._("div",{className:Object(F.c)("user-info",{"is-pending":g||b,"is-edit-mode":u})},l.a._("div",{className:"avatar-wrapper"},Boolean(c.avatarUrl)&&l.a._("a",{className:"delete-button",onClick:this.deleteAvatarClickHandler},l.a._(v.a,{img:"close-4"})),l.a._(je.b,{isAwardBadgeVisible:!0,isLoading:m,user:c}),l.a._("div",{className:"avatar-buttons"},l.a._(E.a,{onClick:this.updatePhotoClickHandler,disabled:g},Object(f.d)("button.updatePhoto")))),l.a._("div",{className:"info"},l.a._("div",{className:"title"},l.a._("h2",{className:"title-text"},l.a._(Qe.b,{user:c,isLevelStatusVisible:!0})),l.a._("div",{className:"title-additional-info"},s.position<=Ge.k&&l.a._(we.a,{tooltipText:Object(f.d)("profile.contestTooltip"),onClick:this.ratingLabelClickHandler,position:s.position,points:s.points}),d&&l.a._(Xe,d))),u?this._a9():l.a._(Je,{isOwnProfile:!0,isStatusLevelVisible:!0,config:t,user:{...c,birthDate:Object(Ve.l)(c.birthDate)}}))),this._B6())}}kt.displayName="UserInfoEditable";const jt={raiseValidationErrors:D.i,loadCities:D.e,resetCities:D.k,routerPush:Se.H,showModal:b.c,updatePrepare:D.s,updateProfile:D.t};var It=Object(c.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},availableSettings:{data:i,isPending:o},config:{data:n},profile:{cities:r,user:l}}=e,c=Object(B.n)(e,wt),d=Object(B.n)(e,St),p={...l,birthDate:Object(Ve.k)(l.birthDate)},u=Object(We.j)(e,l.id)||{};return{availableSettings:i,cities:r,config:n,contestTop:Object(We.k)(e,l.id),currentUser:t,xHamsterPornStarLinkData:l.isPornStar?Object(We.i)(e,l.id):null,error:Object(B.c)(e,St),hasUserAvatarUpdateSucceeded:Object(B.l)(e,wt),hasUserInfoUpdateSucceeded:Object(B.l)(e,St),isLoggedIn:s&&!a,isLoadingAvailableSettings:o,isUpdatingUserAvatar:c,isUpdatingUserInfo:d,userProfile:{...p,...u},topModelsLink:Object(ye.o)(e),socialLinks:u}},jt)(kt),Tt=s(56);const{STATUS:Pt}=D.a;class Mt extends l.a.Component{constructor(...e){super(...e),this.state={isEditMode:!1,maxLength:n()(this.props.availableSettings,"offlineStatus.maxLength",100)},this.changeStatusClickHandler=()=>{this.props.updatePrepare(Pt),this.setState({isEditMode:!0})},this.submitHandler=e=>{e.preventDefault();const t=q()(this.inputRef.value);t===this.props.user.offlineStatus?this.setState({isEditMode:!1}):this.props.updateProfile({offlineStatus:t},Pt)}}componentDidUpdate(e){const t=!this.props.isSucceeded&&e.user.id===this.props.user.id&&this.state.isEditMode,s=n()(this.props.availableSettings,"offlineStatus.maxLength",100);t===this.state.isEditMode&&s===this.state.maxLength||this.setState({isEditMode:t,maxLength:s})}get isEditable(){return this.props.isLoggedIn&&this.props.currentUser.id===this.props.user.id}get className(){return Object(F.c)("user-offline-status",this.props.className,{"edit-mode":this.state.isEditMode,pending:this.props.isUpdating})}_Iw(){const{offlineStatus:e,updateError:t}=this.props.user,{maxLength:s}=this.state,a="user_offline_status_save_button";return l.a._("div",{className:this.className},l.a._("div",{className:"title"},Object(f.d)("profile.offlineStatus.title")),l.a._("form",{onSubmit:this.submitHandler},l.a._(Tt.a,{autoFocus:!0,defaultValue:e,maxLength:s,ref:e=>{this.inputRef=e}}),l.a._(E.a,{id:a,size:"medium",style:"apply",type:"submit"},Object(f.d)("button.save")),Boolean(t)&&l.a._(vt.a,{error:t,fieldName:"offlineStatus",targetId:a})))}render(){if(this.state.isEditMode)return this._Iw();const{offlineStatus:e,offlineStatusUpdatedAt:t,isModel:s}=this.props.user;if(s||!e&&!this.isEditable)return null;const a=new Date,i=new Date(t),o=i>a?a:i;return l.a._("div",{className:this.className},l.a._(v.a,{img:"status"}),Boolean(e)&&l.a._("h1",{className:"status-text"},e),Boolean(e&&o)&&l.a._("span",{className:"status-updated-at"},Object(Ve.H)(o)),this.isEditable&&l.a._(E.a,{className:"btn-change-offline-status",onClick:this.changeStatusClickHandler,size:"small"},Object(f.d)("button.changeOfflineStatus")))}}Mt.displayName="UserOfflineStatus";var Et=Object(c.c)(e=>{const{availableSettings:{data:t},auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i}}=e;return{availableSettings:t,currentUser:s,isLoggedIn:a&&!i,isUpdating:Object(B.n)(e,Pt),isSucceeded:Object(B.l)(e,Pt),updateError:Object(B.c)(e,Pt)}},e=>Object(J.b)({updatePrepare:D.s,updateProfile:D.t},e))(Mt),At=s(42),Ut=s(257),Ht=s(211),Lt=s(357),Rt=s(93),Ft=s(118);const Dt=Rt.a.join(", ");class xt extends l.a.Component{constructor(...e){super(...e),this.fileInputRef=void 0,this.state={isEditMode:!1},this.propsUpdateToActionsMap=[{update:(e,t)=>Object(Ft.l)(e,t)||Object(Ft.n)(e,t)||Object(Ft.p)(e,t),action:()=>{const{isUploading:e}=this.props;e||this.uploadVideoClickHandler()}},{update:ge.b,action:()=>Object(Ot.i)(this,{isEditMode:!1})},{update:[ne.j,g.xb],action:()=>this.props.fetchUserVideos(this.props.user.id)}],this.fileInputRefHandler=e=>{this.fileInputRef=e},this.editButtonClickHandler=()=>{const e=!this.state.isEditMode;e||this.props.remove(),this.setState({isEditMode:e})},this.uploadVideoClickHandler=()=>{const{isApprovedModel:e}=this.props;e?(this.fileInputRef.value="",this.fileInputRef.click(),this.props.cancelDeletePreparations(),Object(Ot.i)(this,{isEditMode:!1})):this.props.errorNotification(Object(f.d)("serverErrors.video.uploaderRestriction"))},this.tryAgainClickHandler=e=>{const{currentTarget:{dataset:{videoId:t}}}=e;this.props.remove(Number(t)),this.uploadVideoClickHandler()},this.settingsClickHandler=e=>{const{currentTarget:{dataset:{videoId:t}}}=e;e.preventDefault(),e.stopPropagation(),this.props.edit(Number(t))},this.deleteControlClickHandler=e=>{const{currentTarget:{dataset:{videoId:t}}}=e;e.preventDefault(),e.stopPropagation(),this.props.toggleVideoDeleting(Number(t))},this.thumbClickHandler=e=>{const{currentTarget:{dataset:{hasFailedProcessing:t,isProcessing:s,videoId:a,userId:i}}}=e,{isOwnProfile:o,user:n}=this.props,{isEditMode:r}=this.state;r||t||s||this.props.showModal(R.F.WATCH_VIDEO,{videoId:Number(a),isOwnProfile:o,user:n,userId:Number(i)})},this.fileInputChangeHandler=e=>{const{target:{files:t}}=e,s=t[0];this.props.startUploadProcess(s)}}_A(){Object(C.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(C.a)(this.propsUpdateToActionsMap,e,this.props)}_B6(){const{isOwnProfile:e,user:t}=this.props,s=[`videoUpdated:${t.id}`];return e||s.push(`videoDeleted:${t.id}`),l.a._(_.a,{events:s})}_B7(){const{isOwnProfile:e}=this.props,{isEditMode:t}=this.state;return l.a._("div",{className:"user-videos-header"},l.a._("h2",null,Object(f.d)(e?"myVideos":"videosTitle")),e&&l.a._(U.a,{isActive:t,onClick:this.editButtonClickHandler}))}render(){const{className:e,deletedVideoIds:t,isOwnProfile:s,isVideosAvailable:a,isVideoUploadEnabled:i,videos:o,user:n}=this.props,{isEditMode:r}=this.state;if(!a)return this._B6();const c=s&&i;return l.a._("div",{className:Object(F.c)(e,"user-videos")},this._B7(),c&&l.a._("input",{className:"file-input",type:"file",accept:Dt,onChange:this.fileInputChangeHandler,ref:this.fileInputRefHandler}),l.a._(Lt.a,{deletedVideoIds:t,user:n,videos:o,isEditMode:r,isOwnProfile:s,isScrollAlwaysVisible:!0,deleteClickHandler:this.deleteControlClickHandler,restoreClickHandler:this.deleteControlClickHandler,settingsClickHandler:this.settingsClickHandler,thumbClickHandler:this.thumbClickHandler,tryAgainClickHandler:this.tryAgainClickHandler,uploaderClickHandler:this.uploadVideoClickHandler,shouldShowUploader:c}),this._B6())}}xt.displayName="UserVideos";const Bt={cancelDeletePreparations:Ut.a,edit:Ut.b,errorNotification:At.b,fetchUserVideos:Ht.b,remove:Ut.c,showModal:b.c,startUploadProcess:Ut.g,toggleVideoDeleting:Ut.h};var Vt=Object(c.c)((e,t)=>{const{isOwnProfile:s}=t,{auth:{currentUser:a},config:{data:{features:{videoUpload:i}}},myVideos:{deletedVideoIds:o,hasEditingVideoProcessingFailed:n,isPending:r,isUploading:l,preUploadError:c,uploadError:d},userVideos:{pendings:p}}=e,u=Object(Ft.k)(e,t),h=s?!r&&a.isModel:!p[t.user.id]&&u.length>0;return{currentUser:a,deletedVideoIds:o,hasEditingVideoProcessingFailed:n,isApprovedModel:Object(B.e)(e),isMyFriend:Object(ne.f)(e,t.user.id),isUploading:l,isVideosAvailable:h,isVideoUploadEnabled:i,preUploadError:c,uploadError:d,videos:u,userFanClub:Object(g.ub)(e)}},Bt)(xt),zt=s(96);const $t=(e,t)=>n()(e,"user.id")===n()(t,"user.id")&&n()(e,"isUserMyFriend")!==n()(t,"isUserMyFriend"),Gt=(e,t)=>e.viewCamProfileShowToken!==t.viewCamProfileShowToken&&t.viewCamProfileShowToken;class Wt extends l.a.Component{constructor(...e){super(...e),this.profileRef=l.a.createRef(),this.galleryRef=l.a.createRef(),this.videosRef=l.a.createRef(),this.propsUpdateToActionsMap=[{update:Gt,action:()=>{const{viewCamProfileShowToken:e}=this.props;this.scrollToSection(e)}},{update:[$t,g.xb],action:()=>{this.props.loadUserAlbums(this.props.user.id),this.props.loadCurrentAlbumPhotos(this.props.user.id)}}],this.getParsedViewCamShowToken=()=>{const{viewCamProfileShowToken:e}=this.props,t=e?e.toString():"";return t.substr(0,t.indexOf(")")+1)},this.scrollToSection=()=>{const{profileRef:e,galleryRef:t,videosRef:s}=this;switch(this.getParsedViewCamShowToken()){case"Symbol(profile)":if(!e.current)return;N.a.set(e.current,u.Wb);break;case"Symbol(#gallery)":if(!t.current)return;N.a.set(t.current,u.Wb);break;case"Symbol(#videos)":if(!s.current)return;N.a.set(s.current,u.Wb)}},this.getIsNeedScrollToKnights=()=>"Symbol(#knights)"===this.getParsedViewCamShowToken()}_A(){Object(C.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(C.a)(this.propsUpdateToActionsMap,e,this.props)}_B6(){const{isOwnProfile:e,user:t}=this.props,s=[`userBanned:${t.id}`,`userUnbanned:${t.id}`];return e||t&&s.push(`userUpdated:${t.id}`),l.a._(_.a,{events:s})}_aa(){const{user:e,isProfileAvailable:t,isBanned:s,isGeoBanned:a,isDeleted:i,isOwnProfile:o}=this.props;return o||t&&!s&&!a&&!i&&(e.isModel||e.description)?e.isModel?l.a._(W,{isOwnProfile:o}):l.a._(Z,{className:"page-block",user:e}):null}render(){const{friendIds:e,friendshipCount:t,isBanned:s,isDeleted:a,isEmbedded:o,isFriendsVisible:n,isGeoBanned:c,isNonNudeWL:u,isSandbox:h,isOwnProfile:m,isProfileAvailable:g,knights:b,modelFanClubTiers:_,shouldRenderWatchButton:C,user:N}=this.props;return l.a._(r.Fragment,null,this._B6(),o&&l.a._("div",{className:"profile-header",ref:this.profileRef},l.a._("h4",null,Object(f.d)("profile.title")),l.a._(d.a,{to:`/${N.username}`,className:"icon-wrapper"},l.a._(v.a,{img:"close-2",size:14}))),l.a._("div",{className:"profile"},l.a._("div",{className:"columns"},l.a._("div",{className:"column xs-12 s-12 m-12 l-7 xl-7 xxl-7"},!a&&l.a._(Et,{className:"page-block",user:N}),l.a._("div",{className:"page-block"},m?l.a._(It,null):l.a._(tt,{isBanned:s,isGeoBanned:c,isProfileAvailable:g,isEmbedded:o,shouldRenderWatchButton:C,user:N})),this._aa()),(g&&!s&&!c||m)&&l.a._("div",{className:"column xs-12 s-12 m-12 l-5 xl-5 xxl-5"},l.a._("div",{ref:this.galleryRef},!u&&!h&&l.a._(ve,{className:"page-block",isOwnProfile:m,user:N})),l.a._("div",{ref:this.videosRef},!u&&!h&&l.a._(Vt,{className:"page-block",isOwnProfile:m,user:N})),Boolean(b&&b.size)&&l.a._(p.a,{className:"page-block",counter:b.size>9?b.size:null,hasMore:b.size>9,isOwnProfile:m,knights:b.take(9),modelFanClubTiers:_,user:N,isNeedScroll:this.getIsNeedScrollToKnights()}),n&&l.a._(ee.a,{className:"page-block",counter:e.length>9?t:null,friendIds:i()(e,9),hasMore:t>9,isOwnProfile:m,modelFanClubTiers:_,username:N.username})))))}}Wt.displayName="Profile";const Kt={loadCurrentAlbumPhotos:S.b,loadUserAlbums:w.c,showModal:b.c};Wt.defaultProps={shouldRenderWatchButton:!0};const qt=Object(m.a)("user"),Jt=Object(ne.a)("user");t.a=Object(c.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i},viewCam:{viewCamProfileShowToken:o}}=e,{isOwnProfile:n,user:r}=t,l=!(n||!r)&&Object(zt.e)(e,r.id),c=!(n||!r)&&Object(zt.g)(e,r.id),d=r&&r.isDeleted,p=!!n||r&&("all"===r.showProfileTo||Object(zt.i)(e,r.id)),u=n?Object(ne.g)(e):Jt(e,t),m=n&&u.length>0,b=!n&&r&&Object(ne.f)(e,r.id),_=n&&r&&r.isApprovedModel,v=r?Object(h.a)(e,r.username):null;return{currentUser:s,isBanned:l,isDeleted:d,isGeoBanned:c,isFriendsVisible:m,isLoggedIn:a&&!i,isProfileAvailable:p,isNonNudeWL:Object(y.f)(e),isSandbox:Object(O.b)(e),isReferralProgramAvailable:_,isUserMyFriend:b,friendIds:u,friendshipCount:Object(ne.c)(e),knights:qt(e,t),modelFanClubTiers:v,viewCamProfileShowToken:o,userFanClub:Object(g.ub)(e)}},Kt)(Wt)},function(e,t,s){"use strict";var a=s(94),i=s.n(a),o=s(79),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(5),d=s(6),p=s(39),u=s.n(p),h=s(59),m=s(286),g=s(3),b=s(10);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class v extends l.a.Component{constructor(...e){super(...e),this.textareaRef=l.a.createRef(),this.focus=()=>{this.textareaRef.current.focus()},this.keyDownHandler=e=>{const{keyCode:t,shiftKey:s}=e;switch(t){case g.C.enter:s||(e.preventDefault(),this.props.onEnterPress());break;case g.C.escape:this.props.onEscPress()}}}_ab(){const{disabled:e,icon:t,isUpdating:s,onIconClick:a}=this.props;return s?l.a._("div",{className:"textarea-interactive-icon-box"},l.a._(h.a,{loaderType:"sector-circle",size:14})):t?l.a._("div",{className:Object(b.c)("textarea-interactive-icon-box",{disabled:e}),onClick:a},t):null}render(){const{disabled:e,onIconClick:t,...s}=this.props;return l.a._("div",{className:"textarea-interactive"},this._ab(),l.a._(m.a,_({isControlled:!0,onKeyDown:this.keyDownHandler,ref:this.textareaRef,disabled:e},s)))}}v.displayName="TextareaInteractive",v.defaultProps={icon:null,isUpdating:!1,onEscPress:u.a,onEnterPress:u.a,onIconClick:u.a};var f=s(1),C=(s(20),s(488)),N=s(89),O=s(12),y=s(72),w=s(28),S=s(43);const k=({domId:e,iconName:t,tooltip:s,unavailable:a,unavailableMessageId:i,value:o})=>l.a._("div",{className:"uipb-financial-state-item",key:e,id:e},l.a._(d.a,{className:"uipb-financial-state-item-icon",img:t}),l.a._("span",{className:Object(b.c)("uipb-financial-state-item-value",{unavailable:a})},a?l.a._(O.a,{messageId:i||"hiddenByUser"}):o),Boolean(s)&&l.a._(S.a,{targetId:e},s));k.displayName="FinancialStateItem",k.defaultProps={tooltip:null,unavailable:!1,unavailableMessageId:""};var j=k,I=s(318),T=s(319),P=s(389),M=s(353);const E=({modelId:e,user:t,isShowMuteAndBanButtons:s})=>l.a._("div",{className:"uipb-relation-actions"},l.a._("div",{className:"uipb-relation-actions-left"},l.a._(M.a,{user:t,shouldOpenTab:!0}),l.a._(T.a,{user:t})),s&&l.a._("div",{className:"uipb-relation-actions-right"},l.a._(P.a,{modelId:e,user:t,shouldConfirm:!0}),l.a._(I.a,{user:t,shouldConfirm:!0,shouldConsiderCurrentUser:!0,type:"icon"})));E.displayName="RelationActions",E.defaultProps={isShowMuteAndBanButtons:!0};var A=E;const U=({goldPoints:e,tokens:t,spentTokens:s,user:a,isShowMuteAndBanButtons:i,modelId:o})=>{const n=!a.isModel&&!a.isStudio;return l.a._("div",{className:"user-info-popup-body"},l.a._("div",{className:"uipb-financial-state"},n&&l.a._(r.Fragment,null,s&&l.a._(j,{iconName:"pricing",value:l.a._(O.a,{messageId:"userInfoPopup.spentTokens",parameters:{amount:Object(y.i)(s)}}),domId:"FinancialState_spentTokens"}),l.a._(j,{iconName:"balance",value:l.a._(O.a,{messageId:"userInfoPopup.tokens",parameters:{amount:t},elements:{amount:l.a._("span",null,Object(y.i)(t))},choiceParameter:"amount"}),domId:"FinancialState_tokens",unavailable:Object(w.v)(a),unavailableMessageId:"userInfoPopup.tokensHidden"}),l.a._(j,{iconName:"gold",value:l.a._(O.a,{messageId:"goldPoints.amount",parameters:{amount:e},elements:{amount:l.a._("span",null,Object(y.i)(e))},choiceParameter:"amount"}),domId:"FinancialState_goldPoints",tooltip:l.a._(O.a,{messageId:"goldPoints.tooltip"})}))),l.a._(A,{user:a,isShowMuteAndBanButtons:i,modelId:o}))};U.displayName="UserInfoPopupBody",U.defaultProps={tokens:0,goldPoints:0,spentTokens:void 0,isShowMuteAndBanButtons:!0};var H=U,L=s(221),R=s(151),F=s(178);const D={add:L.a,remove:L.e};class x extends l.a.Component{constructor(...e){super(...e),this.clickHandler=()=>{const{canAddKnight:e,isKnight:t,user:s}=this.props;t?this.props.remove(s.id):e&&this.props.add(s.id)}}render(){const{canAddKnight:e,isKnight:t,user:s}=this.props,a=`KnightBtn_${s.id}`;return t||e?l.a._("button",{id:a,className:Object(b.c)("knight-button",{knighted:t}),onClick:this.clickHandler},l.a._(d.a,{img:"knight",className:"knight-button-icon"}),l.a._(S.a,{targetId:a,isMobileRelative:!1},Object(f.d)(`knights.${t?"remove":"promote"}`))):null}}x.displayName="KnightButton";var B=Object(c.c)((e,t)=>{const{auth:{currentUser:s}}=e,{user:a}=t,i=Object(R.d)(e,a.id);return{hasBanned:Object(F.b)(e,s.id,a.id),isKnight:i,canAddKnight:!i&&Object(R.b)(e,a.id)}},D)(x),V=s(124),z=s(87),$=s(106),G=s.n($);class W extends l.a.PureComponent{constructor(...e){super(...e),this.state={isTooltipShown:!1},this.rootRef=l.a.createRef(),this.rootId=G()("EllipsisText_")}_A(){this.toggleTooltip()}componentDidUpdate(){this.toggleTooltip()}toggleTooltip(){const{offsetWidth:e,scrollWidth:t}=this.rootRef.current;this.setState({isTooltipShown:t>e})}render(){const{text:e}=this.props,{isTooltipShown:t}=this.state;return l.a._("div",{id:this.rootId,ref:this.rootRef,className:"ellipsis-text"},l.a._("span",{className:"ellipsis-text-inners"},e),t&&!g.j.safari&&l.a._(S.a,{className:"ellipsis-text-tooltip",targetId:this.rootId},e))}}W.displayName="EllipsisText",W.defaultProps={text:""};var K=s(22);const q=({lastActivity:e})=>{if(!e)return null;if(Object(K.w)(new Date,e,K.d.minutes)<15)return null;const t=Object(f.d)("userInfoPopup.lastOnline",{duration:Object(K.v)(e,new Date)});return l.a._("div",{className:"user-last-activity"},l.a._(W,{text:t}))};q.displayName="UserLastActivity";var J=Object(c.c)((e,{userId:t})=>({lastActivity:Object(w.o)(e,t)}))(q);const Y=({user:{id:e,city:t,country:s,languages:a}})=>{const i=Boolean(a&&a.length>0);let o;return s&&(o=[Object(f.d)(`country.${s}`)],t&&o.push(t)),l.a._("div",{className:"uiph-common-info"},Boolean(o)&&l.a._(W,{text:o.join(", ")}),i&&l.a._(W,{text:a.map(e=>Object(f.d)(`language.${e}`)).join(", ")}),l.a._(J,{userId:e}))};Y.displayName="UserCommonInfo";var X=Y;const Q=({user:e,isKing:t,isKnight:s,isMyKnight:a,isShowKnightButton:i})=>l.a._("div",{className:"user-info-popup-header"},l.a._(V.b,{size:65,user:e,showOnlineStatus:!0,isLink:!0,shouldLinkOpenNewTab:!0}),l.a._("div",{className:"uiph-avatar-description"},l.a._("div",{className:"uiph-username-info"},l.a._(z.b,{user:e,size:13,isAdditionIconVisible:!0,isKing:t,isKnight:s,isMyKnight:a,link:{to:`/user/${e.username}`,target:"_blank"}}),i&&l.a._(B,{user:e})),l.a._(X,{user:e})));Q.displayName="UserInfoPopupHeader",Q.defaultProps={isKing:!1,isKnight:!1,isMyKnight:!1,isShowKnightButton:!0};var Z=Q,ee=s(435),te=s(478);const se={updateNote:C.b,loadUserList:N.c};class ae extends l.a.Component{constructor(e,t){super(e,t),this.popupRef=l.a.createRef(),this.popupPointerRef=l.a.createRef(),this.textareaInteractiveRef=l.a.createRef(),this.adjustPositioning=()=>{const{targetId:e,windowHeight:t,windowWidth:s}=this.props,a=document.getElementById(e).getBoundingClientRect(),i=this.popupRef.current.getBoundingClientRect(),o=a.top-11,n=a.right+7,r=o+i.height>t,l=s-a.left+7;if(l+i.width>s)this.popupRef.current.style.cssText=r?`left: ${n}px; bottom: 0;`:`left: ${n}px; top: ${a.top}px;`,this.popupPointerRef.current.style.cssText="display: none";else{this.popupRef.current.style.cssText=r?`right: ${l}px; bottom: 0;`:`right: ${l}px; top: ${o}px;`;const e=a.top+a.height/2;this.popupPointerRef.current.style.cssText=`right: ${l-14}px; top: ${e-7}px;`}},this.requestNoteUpdate=()=>{const{userInfo:{id:e},note:t}=this.props,{note:s}=this.state;this.setState({isTyping:!1}),t!==s&&this.props.updateNote(e,i()(s))},this.requestNoteUpdateDebounced=n()(this.requestNoteUpdate,2e3),this.rootClickHandler=e=>{e.stopPropagation()},this.textareaChangeHandler=e=>{const{currentTarget:{value:t}}=e;this.setNoteData(t),this.requestNoteUpdateDebounced()},this.textareaEnterHandler=()=>{this.requestNoteUpdateDebounced.flush()},this.textareaIconClickHandler=()=>{this.textareaInteractiveRef.current.focus()},this.state={note:e.note,hasNoteChangedOnce:!1,isTyping:!1}}_A(){const{userInfo:e}=this.props;this.adjustPositioning(),this.props.loadUserList([e.id])}componentWillUnmount(){this.requestNoteUpdateDebounced.flush()}setNoteData(e){this.setState({note:e,hasNoteChangedOnce:!0,isTyping:!0})}getIndicatorIcon(){const{isNoteBeingUpdated:e}=this.props,{hasNoteChangedOnce:t,isTyping:s}=this.state;return t?void 0!==e||s?null:l.a._(d.a,{img:"check-1"}):l.a._(d.a,{img:"note"})}render(){const{goldPoints:e,isKing:t,isKnight:s,isMyKnight:a,isNoteBeingUpdated:i,maxNoteLength:o,onMouseLeave:n,onMouseMove:r,tokens:c,userInfo:d,isShowKnightButton:p,isShowMuteAndBanButtons:u,modelId:h,spentTokens:m}=this.props,{note:g}=this.state;return l.a._("div",{className:"user-info-popup",ref:this.popupRef,onClick:this.rootClickHandler,onMouseMove:r,onMouseLeave:n},l.a._("div",{className:"uip-pointer",ref:this.popupPointerRef}),l.a._(Z,{user:d,isKing:t,isKnight:s,isMyKnight:a,isShowKnightButton:p}),l.a._(v,{isUpdating:i,icon:this.getIndicatorIcon(),maxLength:o,onChange:this.textareaChangeHandler,onEnterPress:this.textareaEnterHandler,onIconClick:this.textareaIconClickHandler,placeholder:Object(f.d)("notes.write"),ref:this.textareaInteractiveRef,value:g}),l.a._(H,{goldPoints:e,tokens:c,spentTokens:m,user:d,isShowMuteAndBanButtons:u,modelId:h}))}}ae.displayName="UserInfoPopup",ae.defaultProps={isNoteBeingUpdated:void 0};t.a=Object(c.c)((e,t)=>{const{auth:{isLoggedIn:s,isLoggingOut:a},ui:{windowHeight:i,windowWidth:o}}=e,{user:{id:n}}=t,r=Object(w.l)(e,n)||t.user;return{goldPoints:Object(w.n)(e,n),isLoggedIn:s&&!a,isNoteBeingUpdated:Object(ee.a)(e,t),maxNoteLength:Object(te.a)(e),note:Object(ee.b)(e,t),tokens:Object(w.r)(e,n),spentTokens:Object(w.q)(e,n),userInfo:r,windowHeight:i,windowWidth:o}},se)(ae)},function(e,t,s){"use strict";var a=s(2),i=s.n(a),o=s(38),n=(s(8),s(0)),r=s.n(n),l=s(5),c=s(317),d=s(528),p=s(467),u=s(593),h=s(27),m=s.n(h),g=s(1),b=s(72);class _ extends r.a.Component{render(){const{currentUser:e,loadError:t,tokensHistory:s,total:a}=this.props;return Boolean(t)||!e.isModel||0===s.length?null:r.a._("tfoot",null,r.a._("tr",null,r.a._("td",{colSpan:"3"},r.a._("span",{className:"total-for-period-label"},Object(g.d)("tokensHistory.footer.totalForPeriod"),":")),r.a._("td",null,r.a._("span",{className:"total-for-period-value"},r.a._("span",{className:"tokens"},a.inTokens),r.a._("span",{className:"amount"},"($",Object(b.i)(a.inUsd),")")))))}}_.displayName="TokensHistoryFooter",_.defaultProps={tokensHistory:Object(o.Seq)(),total:{inTokens:0,inUsd:0}};var v=Object(l.c)(({auth:e,config:t})=>({auth:e,config:t,currentUser:e.currentUser,isLoggedIn:e.isLoggedIn&&!e.isLoggingOut}))(_),f=s(150),C=s.n(f),N=s(30),O=s(291),y=s(6),w=s(22);s(20);const S=e=>{const{value:t}=e;let s=null;return C()(t)&&0!==t&&(s=t>0?"tokens-history-tokens-plus":"tokens-history-tokens-minus"),r.a._("td",null,r.a._("span",{className:s},t>0?`+${t}`:Math.abs(t)))};S.displayName="TokensCellContent";const k=e=>{const{currentUser:t,value:s,isAnonymous:a}=e,i=t.isModel?"user":"model";return r.a._("td",null,t&&t.isModel&&a?r.a._(n.Fragment,null,r.a._(y.a,{img:"incognito"}),r.a._("span",null,Object(g.d)("userLevels.anonymous"))):r.a._(N.a,{to:`/${i}/${s}`},s))};k.displayName="UsernameCellContent";const j=e=>r.a._("td",null,r.a._("span",null,Object(w.j)(e.value,w.f.HUMAN_DATE_TIME)));j.displayName="DateCellContent";const I=e=>r.a._("td",null,r.a._("span",null,e.value));function T(e,t){switch(t.type){case O.d.MODEL_REFERRAL_PROGRAM:return r.a._(N.a,{to:"/model-referral"},Object(g.d)(e));default:return Object(g.d)(e)}}I.displayName="DefaultCellContent";const P=e=>{const{value:t,item:s,promoCampaigns:a,isAnonymous:o,currentUser:n}=e,l=i()(s,"extra.minimumDurationCharge",!1),c=i()(s,"extra.promoCampaign",""),d=a[c]||c,p=o&&!n.isModel;let u;u=c?`tokensHistory.promoCampaign.${d}`:p?"tokensHistory.type.anonymousTip":`tokensHistory.type.${t}`;let h=T(u,s);return h!==u||(h=d?T("tokensHistory.promoPurchase",s):t),r.a._("td",null,r.a._("span",null,p&&r.a._(y.a,{img:"incognito"}),h,l&&` ${Object(g.d)("tokensHistory.type.minimumDuration")}`))};P.displayName="TypeCellContent";var M=e=>{switch(e.column){case"tokens":return r.a._(S,e);case"username":return r.a._(k,e);case"date":return r.a._(j,e);case"type":return r.a._(P,e);default:return r.a._(I,e)}};class E extends r.a.Component{_Ce(){const{columns:e,loadError:t}=this.props;return r.a._("tr",null,r.a._("td",{className:"tokens-history-error",colSpan:e.length},t.message))}_Dt(){const{columns:e}=this.props;return r.a._("tr",null,r.a._("td",{className:"tokens-history-empty",colSpan:e.length},Object(g.d)("empty")))}_F(){const{columns:e,currentUser:t,promoCampaigns:s,tokensHistory:a}=this.props;return a.map((a,i)=>r.a._("tr",{key:i},e.map((e,i)=>r.a._(M,{key:i,currentUser:t,value:a[e],column:e,isAnonymous:a.isAnonymous,item:a,promoCampaigns:s}))))}render(){const{tokensHistory:e,isPending:t,loadError:s}=this.props;let a;return a=s?this._Ce():!t&&m()(e)?this._Dt():this._F(),r.a._("tbody",null,a)}}E.displayName="TokensHistoryTableBody";var A=Object(l.c)(({auth:{currentUser:e}})=>({currentUser:e}))(E);class U extends r.a.Component{render(){const{isStudio:e,column:t}=this.props,s="username"===t?"studioUserName":t;return r.a._("th",null,r.a._("span",null,Object(g.d)(`tokensHistory.table.header.${s}`)))}}U.displayName="TokensHistoryCellHead";var H=U;class L extends r.a.Component{render(){const{columns:e,isStudio:t}=this.props;return r.a._("thead",null,r.a._("tr",null,e.map((e,s)=>r.a._(H,{key:s,column:e,isStudio:t}))))}}L.displayName="TokensHistoryTableHead";var R=L,F=s(59),D=s(10);const x=e=>{const{columns:t,promoCampaigns:s,tokensHistory:a,total:i,isPending:o,loadError:n,isStudio:l}=e;return r.a._("div",{className:Object(D.c)("tokens-history-table-wrapper",{"is-loading":o})},o?r.a._(F.a,{size:90}):null,r.a._("table",{className:"tokens-history-table"},!m()(a)&&r.a._(R,{columns:t,isStudio:l}),r.a._(A,{columns:t,isPending:o,loadError:n,promoCampaigns:s,tokensHistory:a}),r.a._(v,{loadError:n,tokensHistory:a,total:i})))};x.displayName="TokensHistoryTable";var B=x;const V=["date","username","type","tokens"],z=[w.a.LAST_24_HOURS,w.a.THIS_WEEK,w.a.THIS_MONTH,w.a.LAST_MONTH],$=[w.a.THIS_WEEK,w.a.THIS_MONTH,w.a.LAST_MONTH];class G extends r.a.Component{constructor(...e){super(...e),this.onUpdateInterval=(e,t)=>{this.props.onIntervalChange(e,t)}}render(){const{isPending:e,loadError:t,promoCampaigns:s,tokensHistory:a,total:i,interval:{intervalName:o=w.a.CUSTOM,...n},isStudio:l}=this.props;return r.a._(r.a.Fragment,null,r.a._(u.a,{isPending:e,interval:n,onUpdate:this.onUpdateInterval,currentIntervalName:o,buttonIntervalNames:l?$:z}),r.a._(B,{isStudio:l,columns:V,promoCampaigns:s,tokensHistory:a,total:i,isPending:e,loadError:t}))}}G.displayName="TokensHistory";var W=G,K=s(285),q=s(234),J=s(97),Y=s(43),X=s(34),Q=s(51),Z=s(25),ee=s(37),te=s(28);class se extends r.a.Component{constructor(e){super(e),this.propsUpdateToActionsMap=[{update:Z.c,action:()=>{this.intervalChangeHandler(this.state.interval,!0)}}],this.getInterval=e=>({intervalName:e,...Object(w.u)(e)}),this.pageChangeHandler=e=>{const{interval:t}=this.state;this.setState({currentPage:e}),this.props.loadTokensHistory({...t,offset:e*Q.l-Q.l,limit:Q.l})},this.intervalChangeHandler=(e,t)=>{this.setState({interval:e,currentPage:1},()=>{t&&this.props.loadTokensHistory({...e,offset:0,limit:Q.l})})},this.getTokensAmount=()=>{const{currentUser:e,totalEarnings:t}=this.props,{isStudio:s}=e,{outTokens:a,inTokens:i}=t;return s?i+a:i},this.getUsdAmount=()=>{const{currentUser:e,totalEarnings:t}=this.props,{isStudio:s}=e,{inUsd:a,outUsd:i}=t;return s?a+i:a};const t=e.currentUser.isStudio?w.a.THIS_WEEK:w.a.LAST_24_HOURS;this.state={interval:this.getInterval(t),currentPage:1}}_A(){Object(X.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(X.a)(this.propsUpdateToActionsMap,e,this.props)}render(){const{currentUser:e,isLoggedIn:t,isPending:s,knights:a,loadError:o,totalEarnings:n,tokensHistory:l,user:c,promoCampaigns:u,numberOfTransactions:h,isStudioModel:m}=this.props;if(!t)return null;const{currentPage:_,interval:v}=this.state,{isModel:f,isStudio:C}=e,N=f||C,O=i()(c,"goldPoints",0);return r.a._("div",{className:"page container tokens-history-page"},r.a._("div",{className:"page-header"},r.a._(J.a,null,Object(g.d)(f?"tokensHistory.modelTitle":"tokensHistory.title")),!N&&r.a._("div",{className:"header-info"},r.a._("div",{className:"header-info-gold-points",id:"header_info_gold_points"},r.a._(y.a,{img:"question",size:16})),r.a._(Y.a,{placement:"bottom",targetId:"header_info_gold_points",isMobileRelative:!1},Object(g.d)("tokensHistory.goldPointTooltip")),r.a._("span",{className:"header-info-label"},Object(g.d)("tokensHistory.header.info.user"),":"),r.a._("span",{className:"header-info-value"},O)),l.size>0&&N&&r.a._("div",{className:"header-info"},r.a._("span",{className:"total-for-period-label"},Object(g.d)("tokensHistory.header.info.model"),":"),r.a._("span",{className:"total-for-period-value"},r.a._("span",{className:"tokens"},this.getTokensAmount()),r.a._("span",{className:"amount"},"($",Object(b.i)(this.getUsdAmount()),")")))),f&&r.a._(d.a,null),f&&!m&&r.a._(p.a,null),r.a._(W,{isStudio:C,isPending:s,knights:a,promoCampaigns:u,tokensHistory:l,total:n,loadError:o,interval:v,onIntervalChange:this.intervalChangeHandler}),r.a._(q.a,{currentPage:_,itemsCount:h,pageChangeCallback:this.pageChangeHandler,pageSize:Q.l,hiddenButtons:!1}))}}se.displayName="TokensHistoryPage";const ae={loadTokensHistory:c.a};t.a=Object(l.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},config:{data:{features:{promoCampaigns:i={}}}},tokensHistory:{error:o,isPending:n,totalEarnings:r}}=e;return{currentUser:t,isStudioModel:Object(te.e)(t),isLoggedIn:s&&!a,isPending:n,loadError:o,totalEarnings:r,promoCampaigns:i,tokensHistory:Object(K.e)(e),numberOfTransactions:Object(K.b)(e),user:Object(ee.a)(e)}},ae)(se)},function(e,t,s){"use strict";var a=s(74),i=s.n(a),o=s(39),n=s.n(o),r=s(27),l=s.n(r),c=s(2),d=s.n(c),p=(s(8),s(0)),u=s.n(p),h=s(5),m=s(30),g=s(18),b=s(17),_=s(6),v=s(301),f=s(23),C=s(3),N=s(10),O=s(1),y=(s(20),s(76)),w=s(31),S=s(26),k=s(137),j=s.n(k),I=s(35),T=s.n(I),P=s(12),M=s(43),E=s(29),A=s(124);const U=["sendTip","startPrivate","startSpy"];class H extends u.a.Component{constructor(...e){super(...e),this._ac=()=>{const{type:e}=this.props.action;return T()(U,e)?u.a._("a",{className:"signup-banner-invite-tooltip",id:"signup_banner_tooltip"},Object(O.d)(`signUp.banner.tooltip.${e}.title`),u.a._(M.a,{placement:"top",targetId:"signup_banner_tooltip"},Object(O.d)(`signUp.banner.tooltip.${e}.description`))):null}}_ad(e){return u.a._("div",{className:"signup-banner-invite"},u.a._("div",{className:"signup-banner-header"},u.a._("img",{src:this.props.getStaticUrl("users/components/ui/SignUp/images/signup-lottery-50.svg"),alt:"50 free tokens"}),u.a._("div",{className:"signup-banner-text"},"free",u.a._("br",null),"tokens")),u.a._("div",{className:"signup-banner-footer"},u.a._(P.a,{elements:{highlighted:u.a._("span",{className:"signup-banner-green"}),br:u.a._("br",null)},messageId:`signUp.banner.inviteAction.${e}`})))}render(){const{shouldBypassActionPrefix:e,type:t,user:s,i18nParams:a={}}=this.props.action;if(-1!==["tokenGiveaway","exitPrevention"].indexOf(t))return this._ad(t);const i=u.a._(P.a,{choiceParameter:a.choiceParameter,elements:{br:u.a._("br",null),model:s?u.a._("strong",null,s.username):null,...j()(a.elements,e=>u.a._("span",null,e))},parameters:a.parameters,messageId:`signUp.banner.inviteAction.${t}`});return u.a._("div",{className:"signup-banner-invite"},this._ac(),s?u.a._(A.b,{user:s,size:150}):null,u.a._("div",{className:"signup-banner-invite-text"},e?i:u.a._(P.a,{elements:{action:i,br:u.a._("br",null)},messageId:"signUp.banner.invite"})))}}H.displayName="BannerInvite";var L=Object(h.c)(e=>({getStaticUrl:t=>Object(E.z)(e,t)}))(H),R=s(33),F=s.n(R),D=s(15);class x extends u.a.Component{constructor(...e){super(...e),this._ae=({icon:e,text:t},s)=>u.a._("li",{className:"signup-banner-list-item",key:s},u.a._(_.a,{img:e}),u.a._("span",{className:"signup-banner-list-text"},t))}get userBannerListItems(){const e="signUp.banner.list.user";return[{icon:"dialogue",text:Object(O.d)(`${e}.chatWithModels`)},{icon:"favorited",text:Object(O.d)(`${e}.saveFavoriteModels`)},{icon:"add-friend",text:Object(O.d)(`${e}.makeFriends`)},{icon:"crown",text:Object(O.d)(`${e}.awardModels`)},{icon:"tokens-2",text:Object(O.d)(`${e}.tokenGiveaway`)}]}get modelBannerListItems(){const e="signUp.banner.list.modelOrStudio";return[{icon:"purse",text:u.a._(p.Fragment,null,Object(O.d)(`${e}.revenue`),u.a._("a",{href:"https://help.stripchat.com/support/solutions/articles/35000118004-payout-percentage",target:"_blank",className:"link-to-help"},u.a._(_.a,{img:"question",size:20})))},{icon:"rocket",text:Object(O.d)(`${e}.boost`)},{icon:"award-2",text:Object(O.d)(`${e}.contests`)},{icon:"chargeback",text:Object(O.d)(`${e}.chargeback`)},{icon:"ban",text:Object(O.d)(`${e}.ban`)}]}get studioBannerListItems(){const e="signUp.banner.list.modelOrStudio";return[{icon:"purse",text:u.a._(p.Fragment,null,Object(O.d)(`${e}.revenue`),u.a._("a",{href:"https://help.stripchat.com/support/solutions/articles/35000118004-payout-percentage",target:"_blank",className:"link-to-help"},u.a._(_.a,{img:"question",size:20})))},{icon:"rocket",text:Object(O.d)(`${e}.boost`)},{icon:"chargeback",text:Object(O.d)(`${e}.chargeback`)},{icon:"features",text:Object(O.d)(`${e}.features`)},{icon:"user-support",text:Object(O.d)(`${e}.support`)}]}render(){const e=this[`${this.props.type}BannerListItems`];return u.a._("ul",{className:"signup-banner-list"},u.a._("span",{className:"signup-banner-list-title"},Object(O.d)("signUp.banner.list.title")),F()(e,this._ae))}}x.displayName="BannerList";var B=x,V=s(201),z=s.n(V),$=s(218),G=s(140),W=s(13);function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const q=e=>{const{isStripChat:t,onClick:s,signUpType:a,returnRoute:i,modelsRegistrationUrl:o}=e,n=t?{to:{pathname:`/signup/${a}`,state:i?{returnRoute:i}:null},type:"link",onClick:s}:{href:o,target:"_blank",type:"anchor"};return u.a._(W.a,K({style:"auth-banner"},n),u.a._(_.a,{img:{model:"stripchat-logo",studio:"camera",user:"user-profile"}[a]}),Object(O.d)(`signUp.banner.signUpAs.${a}`))};q.displayName="SuggestionButton",q.defaulProps={onClick:n.a,returnRoute:null,signUpType:""};var J=Object(h.c)(e=>({isStripChat:Object(S.h)(e),modelsRegistrationUrl:Object(S.l)(e)}))(q);const Y={[D.A.MODEL]:"https://wiki.stripchat.com/Models/Studios_FAQ#Models",[D.A.STUDIO]:"https://wiki.stripchat.com/Models/Studios_FAQ#Studios"};class X extends u.a.Component{constructor(...e){super(...e),this.goToSignUp=(e,t)=>{this.props.onGoToSignUp&&this.props.onGoToSignUp(e,t)},this.goToSignUpAsModelHandler=e=>{this.goToSignUp(D.A.MODEL,e)},this.goToSignUpAsStudioHandler=e=>{this.goToSignUp(D.A.STUDIO,e)},this.goToSignUpAsUserHandler=e=>{this.goToSignUp(D.A.USER,e)}}render(){const{type:e,router:t,isWhiteLabel:s,isSandbox:a}=this.props,i=d()(t.location,"state.returnRoute"),o=Y[e],n=a?[D.A.USER,D.A.MODEL]:[D.A.USER,D.A.MODEL,D.A.STUDIO],r=!s&&T()(n,e);let l;if(r){l=(a?{[D.A.USER]:D.A.MODEL,[D.A.MODEL]:D.A.USER}:{[D.A.USER]:D.A.MODEL,[D.A.MODEL]:D.A.STUDIO,[D.A.STUDIO]:D.A.USER})[e]}return u.a._("div",{className:"signup-banner-suggestion"},Boolean(o)&&u.a._($.a,{className:"faq-link",href:o},Object(O.d)(`signUp.banner.${e}Faq`)),u.a._("div",{className:"login-suggestion-wrapper"},r&&u.a._("div",{className:"signup-suggestion"},u.a._("span",null,Object(O.d)("signUp.banner.switchTo")),u.a._(J,{onClick:this[`goToSignUpAs${z()(l)}Handler`],returnRoute:i,signUpType:l}))))}}X.displayName="BannerSuggestion";var Q=Object(h.c)(e=>{const{router:t}=e;return{isWhiteLabel:Object(S.i)(e),isSandbox:Object(G.b)(e),router:t}})(X);class Z extends u.a.Component{render(){const{action:e,isNonNudeWL:t,onGoToSignUp:s,type:a}=this.props,i=(!a||"user"===a)&&e&&!e.isDefaultBanner,o=d()(e,"type","default"),n=d()(e,"backgroundImage");return u.a._("div",{className:Object(N.c)("island-banner signup-banner",{"non-nude":t},`signup-banner-${i?"action":a}`,`signup-banner-type-${o}`)},u.a._("div",{className:"island-banner-background",style:{backgroundImage:n?`url(${n})`:null}}),i?u.a._(L,{action:e}):u.a._(B,{type:a}),!t&&u.a._(Q,{isNonNudeWL:t,type:a,onGoToSignUp:s}),u.a._("div",{className:"signup-gradient"}))}}Z.displayName="Banner";var ee=Z,te=s(518);class se extends u.a.Component{_D(){const{campaignName:e}=this.props,t=`signUp.promoBanner.${e}.title`,s=Object(O.d)(t);if(s===t){const t=this.props.getStaticUrl(`users/components/ui/SignUp/images/${e}/title.svg`);return u.a._("div",{className:"icon",style:{backgroundImage:`url(${t})`}})}return s}_Ib(){const{campaignName:e}=this.props,t=`signUp.promoBanner.${e}.subtitle`,s=Object(O.d)(t);if(s===t){const t=this.props.getStaticUrl(`users/components/ui/SignUp/images/${e}/subtitle.svg`);return u.a._("div",{className:"icon",style:{backgroundImage:t?`url(${t})`:void 0}})}return s}_I8(){const{campaignName:e}=this.props,t=`signUp.promoBanner.${e}.description`;return Object(O.d)(t)===t?null:u.a._(P.a,{messageId:t,elements:{accent:u.a._("span",{className:"accent"}),nowrap:u.a._("span",{className:"no-wrap"}),part1:u.a._("span",{className:"part1"}),part2:u.a._("span",{className:"part2"})}})}render(){const{campaignName:e,isNonNudeWL:t}=this.props;return u.a._("div",{className:Object(N.c)("island-banner signup-banner",{"non-nude":t},"signup-banner-promo",`signup-banner-promo-${e}`)},u.a._("div",{className:"signup-banner-promo-headings"},u.a._("div",{className:"signup-banner-promo-title"},this._D()),u.a._("div",{className:"signup-banner-promo-subtitle"},this._Ib())),u.a._("div",{className:"signup-banner-promo-description"},this._I8()),u.a._("div",{className:"island-banner-background"}))}}se.displayName="Banner";var ae=Object(h.c)(e=>({getStaticUrl:t=>Object(E.z)(e,t)}))(se),ie=s(399);const oe={showModal:g.c,emitUiEvent:b.e};class ne extends u.a.Component{constructor(...e){super(...e),this.goToLoginHandler=e=>{const{action:t,className:s,isModal:a,showModal:o,triggerSource:n}=this.props,r=i()(this.props,["email","showRecaptchaForced","isCloseBtnShown"]);a?(e.preventDefault(),o(C.F.AUTH,{component:"Login",className:Object(N.c)("auth-modal-login",{[s]:!l()(s)}),action:t,triggerSource:n,...r})):y.a.set("loginTriggerSource",n)},this.goToSignUpHandler=(e,t)=>{const{action:s,className:a,isModal:o,showModal:n,triggerSource:r}=this.props,c=i()(this.props,["email","canClose","showRecaptchaForced","isCloseBtnShown"]);o&&(t.preventDefault(),n(C.F.AUTH,{component:"SignUp",className:Object(N.c)("auth-modal-signup",{[a]:!l()(a)}),type:e,action:s,triggerSource:r,...c}))},this.selectOAuthUsername=(e={})=>{const{triggerSource:t,currentModalName:s}=this.props,{twitterParams:a,googleToken:i}=e;a?this.props.showModal(C.F.SELECT_USERNAME,{twitterParams:a,triggerSource:t}):this.props.showModal(C.F.SELECT_USERNAME,{googleToken:i,triggerSource:t})}}_A(){const{triggerSource:e,isModal:t,emitUiEvent:s}=this.props;t&&!f.r.includes(e)&&s(C.S.SHOW_SIGNUP_DIALOG,{source:e})}_D(){const{action:e,type:t,isOnSignupRoute:s}=this.props;return"exitPrevention"===d()(e,"type")?Object(O.d)("signUp.exitPrevention.title"):u.a._(p.Fragment,null,s?Object(O.d)(`signUp.${t}.titlePage`):Object(O.d)(`signUp.${t}.title`),u.a._("span",{className:"island-top-icon"},u.a._(_.a,{img:"lock"})))}_af(){const{action:e,type:t,isNonNudeWL:s}=this.props,a=d()(e,"campaignName",this.props.campaignName);return a?u.a._(ae,{onGoToSignUp:this.goToSignUpHandler,campaignName:a,isNonNudeWL:s}):u.a._(ee,{action:e,isNonNudeWL:s,type:t,onGoToSignUp:this.goToSignUpHandler})}_ag(){const{type:e,triggerSource:t}=this.props;return e!==D.A.USER?null:u.a._(ie.a,{onProcess:this.selectOAuthUsername,triggerSource:t})}render(){const{action:e,canClose:t,className:s,email:a,isCloseBtnShown:i,isModal:o,onAutoFocus:n,onClose:r,onProceed:l,showRecaptchaForced:c,triggerSource:p,type:h,router:g}=this.props,b=d()(g.location,"state.returnRoute"),f=b?{returnRoute:b}:null;return u.a._(v.a,{component:"SignUp"},u.a._("div",{className:Object(N.c)("signup","island-wrapper",{recaptcha:c})},u.a._("div",{className:"island-top"},u.a._("h1",{className:"island-top-title"},this._D()),Boolean(t&&r)&&u.a._("a",{className:"button-close",onClick:r,role:"button"},u.a._(_.a,{img:"close"}))),u.a._("div",{className:"island-container"},u.a._("div",{className:"island island-small"},u.a._("div",{className:"signup-form-wrapper"},u.a._(te.a,{action:e,canClose:i,className:s,email:a,isModal:o,onAutoFocus:n,onClose:r,onProceed:l,showRecaptchaForced:c,triggerSource:p,type:h}),this._ag(),u.a._("div",{className:"terms-warning"},u.a._("span",{className:"label-terms"},Object(O.d)("signUp.form.labels.agreeTo")),u.a._(m.a,{className:"link link-after-text terms-link",to:"/terms",target:"_blank"},Object(O.d)("signUp.termsAndConditions")))),u.a._("div",{className:"login-suggestion"},u.a._("span",{className:"login-suggestion-text"},Object(O.d)("signUp.banner.alreadyAMember"),u.a._(m.a,{className:"link link-after-text",to:{pathname:"/login",state:f},onClick:this.goToLoginHandler},Object(O.d)("signUp.banner.logInHere"))))),this._af())))}}ne.displayName="SignUp",ne.defaultProps={canClose:!0,className:"auth-modal-signup",isCloseBtnShown:!1,onAutoFocus:n.a,onSuccess:n.a,type:D.A.USER};t.a=Object(h.c)((e,t)=>{const{config:{data:{showRecaptcha:s}},router:a,ui:{currentModalParams:i,currentModalName:o}}=e,n=d()(i,"campaignName");return{currentModalName:o,showRecaptchaForced:t.showRecaptchaForced||s,router:a,campaignName:n,isOnSignupRoute:Object(w.z)(e),isNonNudeWL:Object(S.f)(e)}},oe)(ne)},function(e,t,s){"use strict";var a=s(2),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(5),l=s(146),c=s(58),d=s(190),p=s(6),u=s(503),h=s(3),m=s(1),g=s(41),b=(s(20),s(96));const _=e=>n.a._("div",{className:"banned-container"},n.a._(p.a,{img:"account-blocked"}),n.a._("div",{className:"banned-container-content"},n.a._("div",{className:"banned-container-title"},e)));_.displayName="_ah";const v=e=>n.a._("div",{className:"banned-container"},n.a._(p.a,{img:"country-ban"}),n.a._("div",{className:"banned-container-content"},n.a._("div",{className:"banned-container-title"},e)));v.displayName="_ai";const f=({isBanned:e,isGeoBanned:t,model:s})=>{if(!e&&!t)return null;let a;return a=t?v(Object(m.d)("camChat.yourCountryIsBlockedByModel")):_(Object(m.d)("camChat.youAreBannedByUserNotification",{username:s.username})),n.a._(u.a,{status:t?h.A.SUCCESS:h.A.FORBIDDEN},n.a._("div",{className:"page view-cam-page banned"},n.a._("div",{className:"main"},a)))};f.displayName="Banned";const C={routerPush:g.H};var N=Object(r.c)((e,{model:t})=>({isBanned:Object(b.e)(e,t.id),isGeoBanned:Object(b.g)(e,t.id)}),C)(f),O=s(246),y=s(31),w=s(26),S=s(237),k=s(65),j=s(236);class I extends n.a.Component{_aj(){return n.a._(j.a,{isEmbedded:!0,className:"header-sub-simple header-sub-wider-menu-gaps"})}render(){const{model:e,isGeoBanned:t}=this.props,s=t?"modelAccountHiddenPage":"modelAccountDeletedPage";return n.a._(k.a,{className:"account-disabled-page model-deleted-page container page"},n.a._("div",{className:"deleted-wrapper"},n.a._(p.a,{img:"account-disabled",size:100}),n.a._("div",{className:"account-disabled-header"},Object(m.d)(`${s}.title`)),n.a._("div",{className:"account-disabled-description"},Object(m.d)(`${s}.description`,{modelname:e.username}))),n.a._(S.a,{excludeIds:[e.id],isPaginated:!0,shouldLogPopularSnapshot:!0,className:"container"},this._aj()))}}I.displayName="ModelAccountDeletedPage";t.a=Object(l.h)(Object(r.c)((e,t)=>{const{match:{params:{username:s}}}=t,{auth:{isLoggedIn:a,currentUser:o},viewCam:{isModelRequestCompleted:n}}=e,r=Object(c.l)(e,s),l=i()(r,"isModel",!1);return{isBanned:a&&Boolean(r)&&Object(b.e)(e,r.id),isGeoBanned:Boolean(r)&&Object(b.g)(e,r.id),isNonNudeWL:Object(w.f)(e),isViewCamPage:Object(y.L)(e),isModelRequestCompleted:n,isModel:l,currentUser:o,profile:r}},null)(({children:e,isBanned:t,isGeoBanned:s,isModel:a,profile:i,isNonNudeWL:o,isModelRequestCompleted:r,currentUser:l,isViewCamPage:c,isModelOwnProfile:p})=>p?e:r&&c&&!a&&i&&i.username?n.a._(d.a,{to:`/user/${i.username}`}):i&&!a||!i&&!r||a&&l&&l.id===i.id&&!1===i.isApprovedModel?e:r&&!i?n.a._(O.a,{model:i}):a&&(i.isDeleted||i.isBlocked||!1===i.isApprovedModel||s)?n.a._(I,{model:i,isGeoBanned:s,isNonNudeWL:o}):i.isDeleted?n.a._(O.a,{status:h.A.GONE}):t||s?n.a._(N,{model:i}):e))},function(e,t,s){"use strict";var a=s(39),i=s.n(a),o=s(74),n=s.n(o),r=s(27),l=s.n(r),c=s(2),d=s.n(c),p=(s(8),s(0)),u=s.n(p),h=s(5),m=s(30),g=s(18),b=s(17),_=s(6),v=s(426),f=s(301),C=s(3),N=s(10),O=s(1),y=(s(20),s(31)),w=s(222),S=s(26),k=s(188),j=s.n(k);const I=({alternateAuthUrl:e,landingParams:t})=>{const s=j.a.stringify(t);return`${e}${s?`?${encodeURIComponent(s)}`:""}`},T=({alternateAuthUrl:e,isXHamsterLive:t,landingParams:s,logoUrlRule:a})=>{const i=t?"login.loginViaStripcahtButtonTitle":"login.loginViaXHButtonTitle";return u.a._("div",{className:"external-login-banner"},u.a._("a",{className:"external-login-banner-link",href:I({landingParams:s,alternateAuthUrl:e})},Boolean(a)&&u.a._("span",{className:"external-login-banner-logo",style:{backgroundImage:a}}),u.a._("span",{className:"external-login-banner-link-text"},Object(O.d)(i))))};T.displayName="ExternalLoginBanner";var P=Object(h.c)(e=>{const{config:{data:{alternateAuthUrl:t},landingParams:s},router:{location:a}}=e,i=Object(S.j)(e)?"users/components/ui/Login/head-stripchat.svg":"users/components/ui/Login/head-hamster.svg";return{alternateAuthUrl:t,isXHamsterLive:Object(S.j)(e),landingParams:s,location:a,logoUrlRule:Object(S.k)(e,{logoUrl:i})}})(T),M=s(517),E=s(399),A=s(36);class U extends u.a.Component{constructor(...e){super(...e),this.goToSignUpHandler=e=>{const{action:t,className:s,isModal:a,triggerSource:i}=this.props,o=n()(this.props,["email","showRecaptchaForced","isCloseBtnShown"]);a&&(e.preventDefault(),this.props.showModal(C.F.AUTH,{component:"SignUp",className:Object(N.c)("auth-modal-signup",{[s]:!l()(s)}),action:t,triggerSource:i,...o}))},this.selectOAuthUsername=(e={})=>{const{triggerSource:t}=this.props,{twitterParams:s,googleToken:a}=e;s?this.props.showModal(C.F.SELECT_USERNAME,{twitterParams:s,triggerSource:t}):this.props.showModal(C.F.SELECT_USERNAME,{googleToken:a,triggerSource:t})}}_A(){const{triggerSource:e,isModal:t}=this.props;t&&this.props.emitUiEvent(C.S.SHOW_LOGIN_DIALOG,{source:e})}render(){const{action:e,canClose:t,className:s,email:a,isFromVrApp:i,isModal:o,isNotWhiteLabel:n,isOnLoginRoute:r,isRecaptchaShown:l,location:c,onAutoFocus:p,onClose:h,onProceed:g,showRecaptchaForced:b,siteName:C,triggerSource:y}=this.props,w=d()(c,"state.returnRoute"),S=w?{returnRoute:w}:null,k=Boolean(n&&!i),j=Object(N.c)("login","island-wrapper",{"recaptcha-shown":l,"external-banner-show":k});return u.a._(f.a,{component:"SignUp"},u.a._("div",{className:j},u.a._("div",{className:"island-top"},u.a._("h1",{className:"island-top-title"},r?Object(O.d)("login.titlePage",{siteName:C}):Object(O.d)("login.title")),o&&t&&u.a._("a",{className:"button-close",onClick:h,role:"button"},u.a._(_.a,{img:"close"}))),u.a._("div",{className:"island island-small"},u.a._(M.a,{action:e,className:s,email:a,onAutoFocus:p,onClose:h,onProceed:g,showRecaptchaForced:b}),u.a._(E.a,{onProcess:this.selectOAuthUsername,triggerSource:y})),k&&u.a._(P,null),u.a._("div",{className:"signup-suggestion"},u.a._(m.a,{to:{pathname:"/signup",state:S},onClick:this.goToSignUpHandler,className:"link link-after-text"},Object(O.d)("login.signUpHere")),u.a._(v.a,null))))}}U.displayName="Login";const H={showModal:g.c,emitUiEvent:b.e};U.defaultProps={canClose:!0,onAutoFocus:i.a,onClose:i.a};t.a=Object(h.c)(e=>{const{auth:{loginError:t},router:{location:s}}=e,a=Object(A.u)(e);return{loginError:t,isRecaptchaShown:Boolean(d()(t,"details.recaptcha"))||a,location:s,isNotWhiteLabel:Object(S.h)(e)||Object(S.j)(e),isFromVrApp:Object(w.d)(e),isOnLoginRoute:Object(y.w)(e),siteName:e.whiteLabels.siteName}},H)(U)},function(e,t,s){"use strict";var a=s(33),i=s.n(a),o=s(0),n=s.n(o),r=s(5),l=s(317),c=s(291),d=s(12),p=s(259),u=s(359),h=s(10),m=s(1),g=s(72);const{RATING:b,PRIVATE_SHOW_RATING:_,TOKENS_PERFORMANCE:v}=c.c,f={[c.c.TOKENS_PERFORMANCE]:{number:e=>`$${Object(g.i)(e*c.a)}`,numberSecond:e=>e}},C=({type:e,data:t})=>{const s=e===_&&!(t.numberSecond&&t.number),a=f[e]?f[e].number(t.number):t.number;return s?n.a._("div",{className:"earnings-tile-body"},"—"):n.a._("div",{className:"earnings-tile-body"},Object(m.a)(`earnings.model.tiles.${e}.description`)?n.a._(d.a,{elements:{number:n.a._("span",{className:"earnings-tile-body-highlight"},a)},messageId:`earnings.model.tiles.${e}.description`}):n.a._("span",{className:"earnings-tile-body-highlight"},a))};C.displayName="EarningsTileBody";const N=({type:e,data:t})=>{const s=!(e!==b&&e!==_||t.numberSecond&&t.number);if(e===b){const e=t.number/1e3*100;return n.a._(u.c,{done:e,toMessage:"1000+",type:u.b.line,color:u.a.green})}if(s)return n.a._("div",{className:"earnings-tile-footer"},Object(m.d)(`earnings.model.tiles.${e}.footerEmpty`));const a=n.a._("span",{className:"earnings-tile-footer-highlight"},e===b?`${t.numberSecond}%`:t.numberSecond);return n.a._("div",{className:"earnings-tile-footer"},n.a._(d.a,{elements:{numberSecond:a},messageId:`earnings.model.tiles.${e}.footer`}))};N.displayName="EarningsTileFooter";const O=({type:e,data:t})=>n.a._("div",{className:Object(h.c)("earnings-tile",`earnings-tile-${e}`)},n.a._("div",{className:"earnings-tile-header"},n.a._("span",{className:"earnings-tile-header-title"},Object(m.d)(`earnings.model.tiles.${e}.title`)),n.a._(p.a,{maxWidth:350,placement:e===v?"left":"top"},Object(m.a)(`earnings.model.tiles.${e}.help.title`)&&n.a._("div",{className:"earnings-tile-header-title-tooltip-header"},Object(m.d)(`earnings.model.tiles.${e}.help.title`)),n.a._("div",{className:"earnings-tile-header-title-tooltip-description"},n.a._(d.a,{elements:{link:n.a._("a",{target:"_blank",rel:"noreferrer noopener nofollow",href:t.helpLink})},messageId:`earnings.model.tiles.${e}.help.description`})))),n.a._(C,{type:e,data:t}),n.a._(N,{type:e,data:t}));O.displayName="EarningsTile";var y=O,w=s(285);const S={loadTiles:l.c},k=({loadTiles:e,tiles:t})=>(Object(o.useEffect)(()=>{e()},[]),n.a._("div",{className:"earnings-tile-wrapper"},i()(t,(e,t)=>n.a._(y,{key:t,type:t,data:e}))));k.displayName="EarningsTileWrapper";t.a=Object(r.c)(e=>({tiles:Object(w.f)(e)}),S)(k)},,,,,,function(e,t){const s=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];e.exports=function(e){let t=e;for(let e=0;e<s.length;e+=1)t=t.replace(s[e].letters,s[e].base);return t}},function(e,t,s){"use strict";var a=s(2),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(5),l=s(65),c=s(13),d=s(6),p=s(304),u=s(1),h=s(41),m=(s(20),s(163)),g=s(138),b=s(25);const _="blocked",v="deleted",f="restore",C={restoreDeletedAccount:g.j};class N extends n.a.Component{constructor(...e){super(...e),this.restoreClickHandler=()=>{const{username:e}=this.props;this.props.restoreDeletedAccount(e)}}_I8(){const{canBeRestored:e,route:{routeParams:{accountState:t}},siteName:s,email:a}=this.props;return t===f?Object(u.d)(`accountDisabledPage.${f}.description`,{email:Object(m.b)(a)}):t===_?Object(u.d)(`accountDisabledPage.${_}.description`,{siteName:s}):t===v?e?Object(u.d)(`accountDisabledPage.${v}.restore`):Object(u.d)(`accountDisabledPage.${v}.description`,{siteName:s}):null}_B(){const{canBeRestored:e,route:{routeParams:{accountState:t}}}=this.props;return t===f?null:t===v&&e?n.a._(c.a,{onClick:this.restoreClickHandler},Object(u.d)("accountDisabledPage.restoreButton")):n.a._(p.a,{isButton:!0},Object(u.d)("accountDisabledPage.contactSupport"))}_I7(){const{route:{routeParams:{accountState:e}}}=this.props;return e===f?n.a._(d.a,{img:"mail-filled",size:100}):n.a._(d.a,{img:"account-disabled",size:100})}render(){const{route:{routeParams:{accountState:e}}}=this.props;return n.a._(l.a,null,n.a._("div",{className:"account-disabled-page container"},this._I7(),n.a._("div",{className:"account-disabled-header"},Object(u.d)(`accountDisabledPage.${e}.title`)),n.a._("div",{className:"account-disabled-description"},this._I8()),n.a._("div",{className:"button-wrapper"},this._B())))}}N.displayName="AccountDisabledPage",N.checkAccess=h.p;t.a=Object(r.c)(e=>{const{whiteLabels:{siteName:t}}=e;return{canBeRestored:Object(b.j)(e),siteName:t,username:i()(e.auth,"loginError.details.username",""),email:i()(e.auth,"loginError.details.email","")}},C)(N)},,function(e,t,s){"use strict";s.d(t,"b",(function(){return H})),s.d(t,"a",(function(){return R}));var a=s(201),i=s.n(a),o=s(111),n=s.n(o),r=s(2),l=s.n(r),c=(s(8),s(0)),d=s.n(c),p=s(5),u=s(65),h=s(161),m=s(59),g=s(526),b=s(3),_=s(10),v=s(1),f=s(41),C=(s(20),s(26)),N=s(232),O=s(44),y=s(522),w=s(25),S=s(354),k=s(37),j=s(96),I=s(28),T=s(118);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const M=()=>d.a._("div",{className:"profile-page"},d.a._("div",{className:"page"},d.a._("div",{className:"loader-container"},d.a._(m.a,{isCentered:!0}))));M.displayName="_Bm";class E extends d.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:["user"],action:()=>{Object(f.o)(this.props,this.props.history.replace)}},{update:[w.b,w.f,w.p],action:()=>{const{avoidSubsequentSSRRequest:e,isOwnProfile:t,isModelOwnProfile:s,loadAvailableSettings:a,loadProfile:i,match:{params:{username:o}},user:n}=this.props;i(s?n.username:o,{avoidSubsequentSSRRequest:e}),t&&a()}}]}getMeta(){const{isOwnProfile:e,location:t,match:{params:s},isModelOwnProfile:a,titleLimit:o,siteName:n,photosCount:r,videosCount:c,modelStatus:d,user:p}=this.props,{username:u}=s,h=a?"model":l()(t,"pathname","").split("/")[1],m="model"===h,g="user"===h,_=m?"model":"user",f=i()(a?p.username:u),C=m?"profile.model":"default",N=e?"my":_;return{title:Object(v.f)(`seo.title.profile.${N}`,{username:f},{limit:o}),description:Object(v.f)(`seo.description.${C}`,{username:f,siteName:n,photos:r,videos:c,status:d},{limit:b.J,shouldShowEllipsis:!0}),indexingType:g?"none":"all"}}render(){const{isNotFound:e,isOwnProfile:t,isProfileAvailable:s,user:a}=this.props;return d.a._(h.a,P({propsUpdateToActionsMap:this.propsUpdateToActionsMap},this.props),d.a._(u.a,P({isDataPending:!e&&!a,isDataFailed:e,_Bm:M},this.getMeta()),d.a._("div",{className:Object(_.c)("profile-page",{"not-available":!s})},d.a._("div",{className:"page"},d.a._(g.a,{isModelOwnProfile:!0},d.a._(y.a,{isOwnProfile:t,user:a}))))))}}E.displayName="ProfilePage",E.checkAccess=f.o;const A={loadAvailableSettings:N.a,loadProfile:O.f},U=Object(I.a)();var H=Object(p.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i}}=e,{match:{params:{username:o}},isModelOwnProfile:r}=t,l=r||a&&n()(s.username)===n()(o),c=l?Object(k.a)(e):U(e,t),d=!r&&Object(I.f)(e,o);let p={};return c&&c.isModel&&(p={photosCount:Object(S.a)(e,c),videosCount:Object(T.i)(e,c.id),modelStatus:c.offlineStatus}),{avoidSubsequentSSRRequest:Boolean(d||c),currentUser:s,isLoggedIn:a&&!i,isNotFound:d,isOwnProfile:l,isProfileAvailable:!!c&&Object(j.i)(e,c.id),user:c,titleLimit:Object(C.q)(e),siteName:e.whiteLabels.siteName,...p}},A)(E);function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const R=e=>d.a._(H,L({},e,{isModelOwnProfile:!0}));R.displayName="ModelProfilePage",R.checkAccess=(e,t,s)=>{const a=s(),i=Object(w.h)(a);return(!i||!i.isModel)&&(t("/"),!0)}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";var a=s(2),i=s.n(a),o=s(714),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(5),d=s(32),p=s(17),u=s(13),h=s(6),m=s(56),g=s(59),b=s(43),_=s(10),v=s(1),f=s(72),C=s(34),N=(s(20),s(29));class O extends l.a.Component{constructor(e,t){super(e,t),this.uid=Object(f.o)(),this.clipboard=void 0,this.tooltipInstance=void 0,this.inputId=void 0,this.btnId=void 0,this.state={isTooltipShown:!1},this.propsUpdateToActionsMap=[{update:N.F,action:()=>this.interfaceBlockChangeHandler(this.props)}],this.setupClipboard=()=>{this.clipboard=new n.a(`#${this.btnId}`),this.clipboard.on("success",e=>{const t=i()(this.tooltipInstance,"tooltipRef");this.props.clearSelection&&e.clearSelection(),this.setState({isTooltipShown:!0}),t&&this.props.blockInterface(this.tooltipRef)})},this.interfaceBlockChangeHandler=({currentBlockingComponent:e,isInterfaceBlocked:t})=>{const s=i()(this.tooltipInstance,"tooltipRef");this.setState({isTooltipShown:t&&e===s})},this.tooltipRefHandler=e=>{this.tooltipInstance=e},this.inputBlurHandler=()=>{this.setState({isInputFocused:!1})},this.inputFocusHandler=()=>{this.setState({isInputFocused:!0})};const{id:s}=e;this.inputId=s||`input${this.uid}`,this.btnId=s?`btn${s}`:`btn${this.uid}`}_A(){Object(C.a)(this.propsUpdateToActionsMap,{},this.props),this.setupClipboard()}componentDidUpdate(e){Object(C.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this.clipboard.destroy()}render(){const{className:e,isLoading:t,value:s}=this.props,{isInputFocused:a,isTooltipShown:i}=this.state;return l.a._("div",{className:Object(_.c)("clipboardable-input-wrapper",e,{focused:a})},t&&l.a._(g.a,{isCentered:!0,size:40}),l.a._(m.a,{className:"clipboardable-input",id:this.inputId,onBlur:this.inputBlurHandler,onFocus:this.inputFocusHandler,readOnly:!0,type:"text",value:s}),i&&l.a._(b.a,{isForceVisible:!0,placement:"bottom",ref:this.tooltipRefHandler,targetId:this.btnId},l.a._(h.a,{img:"check",fill:"#93bb3b"}),Object(v.d)("clipboardableInput.copied")),l.a._(u.a,{disabled:t,className:"clipboardable-btn","data-clipboard-target":`#${this.inputId}`,id:this.btnId,onClick:e=>e.stopPropagation()},Object(v.d)("clipboardableInput.copy")))}}O.displayName="ClipboardableInput";const y={blockInterface:p.a};O.defaultProps={className:"",clearSelection:!1,id:"",value:""};t.a=Object(c.c)(({ui:{currentBlockingComponent:e,isInterfaceBlocked:t}})=>({currentBlockingComponent:e,isInterfaceBlocked:t}),e=>Object(d.b)(y,e))(O)},function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s(0),i=s.n(a);class o extends a.Component{constructor(e){super(e),this._handleTouchStart=e=>{if(this._emitEvent("onTouchStart",e),e.touches){this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var t=this.preV;if(e.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var s={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};t.x=s.x,t.y=s.y,this.pinchStartLen=this.getLen(t),this._emitEvent("onMultipointStart",e)}else this.isSingleTap=!0;this.longTapTimeout=setTimeout(()=>{this._emitEvent("onLongTap",e),this.afterLongTap=!0,this.afterLongTapTimeout=setTimeout(()=>{this.afterLongTap=!1},1e3)},750)}},this._handleTouchMove=e=>{this._emitEvent("onTouchMove",e);var t=this.preV,s=e.touches.length,a=e.touches[0].pageX,i=e.touches[0].pageY;if(this.isSingleTap=!1,this.isDoubleTap=!1,s>1){var o={x:e.touches[1].pageX-a,y:e.touches[1].pageY-i};null!==t.x&&(this.pinchStartLen>0&&(e.center={x:(e.touches[1].pageX+a)/2,y:(e.touches[1].pageY+i)/2},e.scale=e.zoom=this.getLen(o)/this.pinchStartLen,this._emitEvent("onPinch",e)),e.angle=this.getRotateAngle(o,t),this._emitEvent("onRotate",e)),t.x=o.x,t.y=o.y,this.multiTouch=!0}else null!==this.x2?(e.deltaX=a-this.x2,e.deltaY=i-this.y2):(e.deltaX=0,e.deltaY=0),this._emitEvent("onPressMove",e);this._cancelLongTap(),this.x2=a,this.y2=i,s>1&&e.preventDefault()},this._handleTouchCancel=e=>{this._emitEvent("onTouchCancel",e),clearInterval(this.singleTapTimeout),clearInterval(this.tapTimeout),clearInterval(this.longTapTimeout),clearInterval(this.swipeTimeout)},this._handleTouchEnd=e=>{this._emitEvent("onTouchEnd",e),this.end=Date.now(),this._cancelLongTap(),!0===this.multiTouch&&e.touches.length<2&&this._emitEvent("onMultipointEnd",e),e.origin=[this.x1,this.y1],!1===this.multiTouch&&(this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),e.distance=Math.abs(this.x1-this.x2),this.swipeTimeout=setTimeout(()=>{this._emitEvent("onSwipe",e)},0)):this.afterLongTap?(clearTimeout(this.afterLongTapTimeout),this.afterLongTap=!1):this.tapTimeout=setTimeout(()=>{this._emitEvent("onTap",e),this.isDoubleTap?(this._emitEvent("onDoubleTap",e),clearTimeout(this.singleTapTimeout),this.isDoubleTap=!1):this.isSingleTap&&(this.singleTapTimeout=setTimeout(()=>{this._emitEvent("onSingleTap",e)},250),this.isSingleTap=!1)},0)),this.preV.x=0,this.preV.y=0,this.scale=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null,this.multiTouch=!1},this.preV={x:null,y:null},this.pinchStartLen=null,this.scale=1,this.isSingleTap=!1,this.isDoubleTap=!1,this.delta=null,this.last=null,this.now=null,this.end=null,this.multiTouch=!1,this.tapTimeout=null,this.longTapTimeout=null,this.singleTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null},this.afterLongTap=!1,this.afterLongTapTimeout=null}getLen(e){return Math.sqrt(e.x*e.x+e.y*e.y)}dot(e,t){return e.x*t.x+e.y*t.y}getAngle(e,t){var s=this.getLen(e)*this.getLen(t);if(0===s)return 0;var a=this.dot(e,t)/s;return a>1&&(a=1),Math.acos(a)}cross(e,t){return e.x*t.y-t.x*e.y}getRotateAngle(e,t){var s=this.getAngle(e,t);return this.cross(e,t)>0&&(s*=-1),180*s/Math.PI}_resetState(){this.setState({x:null,y:null,swiping:!1,start:0})}_emitEvent(e,...t){this.props[e]&&this.props[e](...t)}_cancelLongTap(){clearTimeout(this.longTapTimeout)}_cancelSingleTap(){clearTimeout(this.singleTapTimeout)}_swipeDirection(e,t,s,a){return Math.abs(e-t)>80||this.end-this.now<250?Math.abs(e-t)>=Math.abs(s-a)?e-t>0?"Left":"Right":s-a>0?"Up":"Down":"Nochange"}render(){return i.a.cloneElement(i.a.Children.only(this.props.children),{onTouchStart:this._handleTouchStart,onTouchMove:this._handleTouchMove,onTouchCancel:this._handleTouchCancel,onTouchEnd:this._handleTouchEnd})}}o.displayName="AlloyFinger"},function(e,t,s){"use strict";s.d(t,"b",(function(){return I})),s.d(t,"a",(function(){return T.a}));var a=s(2),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(5),l=s(13),c=s(75),d=s(426),p=s(56),u=s(301),h=s(10),m=s(1),g=s(34),b=(s(20),s(138)),_=s(159),v=s(517),f=s(518),C=s(411),N=s(399),O=s(25);const y="login",w="signup",S="username";class k extends n.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:["isRecaptchaShown"],action:()=>{const{isRecaptchaShown:e}=this.props,t=document.querySelector("html");e?t.classList.remove("disable-scroll"):t.classList.add("disable-scroll")}},{update:O.d,action:()=>{this.signUpSuccess()}}],this.state={authMode:w,twitterParams:{},email:"",username:""},this.selectAuthMode=e=>{this.setState({authMode:e})},this.selectLoginMode=()=>{this.selectAuthMode(y)},this.selectSignUpMode=()=>{this.selectAuthMode(w)},this.signUpSuccess=()=>{this.props.onSignUpSuccess()},this.signUpViaGoogle=()=>{const{triggerData:{triggerSource:e}}=this.props,{username:t,googleToken:s}=this.state;this.props.signUpViaGoogle(t,s,e).then(e=>{i()(e,"data.user.id")&&this.signUpSuccess()})},this.signUpEventHandler=()=>{const{triggerData:{triggerSource:e}}=this.props,{googleToken:t,username:s,email:a,twitterParams:i}=this.state;t&&this.signUpViaGoogle(),i.hash&&this.props.signUpViaTwitter(s,a,i,e)},this.changeUsernameHandler=e=>{this.setState({username:e})},this.changeEmailHandler=e=>{this.setState({email:e.target.value})},this.selectOAuthUsername=(e={})=>{const{twitterParams:t={},googleToken:s}=e;t.hash?this.setState({twitterParams:t}):this.setState({googleToken:s}),this.selectAuthMode(S)},this._ak=()=>{const{isPending:e,signUpError:t,outerIsPending:s}=this.props,{username:a,email:r}=this.state,d=e||s||!a||!r,u=e||s,g=i()(t,"details.email.0");return n.a._(o.Fragment,null,n.a._(C.a,{onChange:this.changeUsernameHandler,disabled:u,value:a}),n.a._("div",{className:"username-input-wrapper-input field-email"},n.a._(p.a,{autoCapitalize:"none",className:Object(h.c)({error:g}),onChange:this.changeEmailHandler,disabled:u,id:"select_username_email_input",placeholder:Object(m.d)("signUp.form.placeholders.email")}),g&&n.a._(c.a,{error:{message:g},targetId:"select_username_email_input"})),n.a._(l.a,{style:"login",size:"medium",disabled:d,loading:s,onClick:this.signUpEventHandler},Object(m.d)("buyTokens.tokensWizard.continue")))},this._al=()=>{const{isPending:e,outerIsPending:t}=this.props,{username:s,twitterParams:a}=this.state,i=e||t||!s,r=e||t;return a.hash&&!a.twitterEmail?this._ak():n.a._(o.Fragment,null,n.a._(C.a,{onChange:this.changeUsernameHandler,disabled:r,value:s}),n.a._(l.a,{style:"login",size:"medium",disabled:i,loading:t,onClick:this.signUpEventHandler},Object(m.d)("buyTokens.tokensWizard.continue")))}}_A(){Object(g.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(g.a)(this.propsUpdateToActionsMap,e,this.props)}_B4(){const{authMode:e}=this.state,{triggerData:{triggerSource:t},outerIsPending:s}=this.props,a={onSuccess:this.signUpSuccess};let i;switch(e){case w:i=n.a._(u.a,{component:"SignUp"},n.a._(f.a,{action:a,submitButtonSize:"medium",submitButtonText:Object(m.d)("buyTokens.tokensWizard.signupButtonText"),triggerSource:t,loading:s}));break;case y:i=n.a._(u.a,{component:"SignUp"},n.a._("div",{className:"login-form-wrapper"},n.a._(v.a,{action:a,submitButtonSize:"medium",submitButtonText:Object(m.d)("buyTokens.tokensWizard.loginButtonText"),triggerSource:t,loading:s}),n.a._("div",{className:"field-forgot-password"},n.a._(d.a,null))));break;case S:i=n.a._("div",{className:"username-form-wrapper"},n.a._("div",{className:"username-form-wrapper-header"},Object(m.d)("buyTokens.tokensWizard.selectUsername")),this._al())}return n.a._("div",{className:Object(h.c)("auth-form",{signup:e===w,login:e===y})},i)}_ag(){const{triggerData:{triggerSource:e}}=this.props,{authMode:t}=this.state;return t===S?null:n.a._(N.a,{onProcess:this.selectOAuthUsername,onSuccess:this.signUpSuccess,triggerSource:e})}_am(){const{authMode:e}=this.state;return e===S?null:n.a._("div",{className:"auth-mode-toggler-wrapper"},n.a._("div",{className:Object(h.c)("auth-mode-signup",{selected:e===w}),onClick:this.selectSignUpMode},Object(m.d)("buyTokens.tokensWizard.signup")),n.a._("div",{className:Object(h.c)("auth-mode-login",{selected:e===y}),onClick:this.selectLoginMode},Object(m.d)("buyTokens.tokensWizard.login")))}render(){const{header:e,footer:t,className:s}=this.props;return n.a._("div",{className:Object(h.c)("wizard-auth-step",s)},n.a._("div",{className:"wrapper"},e,n.a._("div",{className:"wizard-auth-step-wrapper"},this._am(),this._B4(),this._ag()),t))}}k.displayName="WizardAuthStep";const j={signUpViaGoogle:_.g,signUpViaTwitter:_.h,performLogin:b.e,performSignUp:_.f};var I=Object(r.c)(e=>{const{auth:{isLoggedIn:t,loginError:s},config:{data:{showRecaptcha:a}},router:{location:o},signUp:{error:n,isPending:r}}=e;return{isLoggedIn:t,isRecaptchaShown:a||Boolean(i()(s,"details.recaptcha")),isPending:r,loginError:s,location:o,signUpError:n}},j)(k),T=s(595)},,,,,,,,,,,,function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(5),n=s(65),r=s(23),l=s(1),c=s(41),d=s(76),p=s(527);class u extends i.a.Component{constructor(...e){super(...e),this.getTriggerSource=()=>d.a.get("loginTriggerSource")||r.k.LOGIN_PAGE}render(){return i.a._(n.a,{titleKey:"seo.title.login",description:Object(l.d)("seo.description.login",{siteName:this.props.siteName})},i.a._("div",{className:"container island-page login-page"},i.a._(p.a,{triggerSource:this.getTriggerSource()})))}}u.displayName="LoginPage",u.checkAccess=c.A;t.a=Object(o.c)(e=>({siteName:e.whiteLabels.siteName}))(u)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(65),r=s(23),l=s(1),c=s(41),d=s(26),p=s(525),u=s(15);const h={[u.A.MODEL]:r.k.SIGNUP_MODEL_PAGE,[u.A.STUDIO]:r.k.SIGNUP_STUDIO_PAGE,[u.A.USER]:r.k.SIGNUP_USER_PAGE};class m extends i.a.Component{render(){const{isStripChat:e,pageType:t}=this.props,s=!e&&(t===u.A.MODEL||t===u.A.STUDIO);return i.a._(n.a,{description:Object(l.e)(`seo.description.signup.${t}`,{siteName:this.props.siteName}),isDataPending:s,titleKey:`seo.title.signup.${t}`},i.a._("div",{className:"container island-page signup-page"},i.a._(p.a,{triggerSource:h[t],type:t})))}}m.displayName="SignUpPage",m.checkAccess=c.B,m.defaultProps={pageType:u.A.USER};t.a=Object(o.c)((e,t)=>{const{auth:s}=e,{match:{params:{type:a}}}=t;return{auth:s,isStripChat:Object(d.h)(e),pageType:a,siteName:e.whiteLabels.siteName}})(m)},function(e,t,s){"use strict";s(33);var a=s(82),i=s.n(a),o=s(27),n=s.n(o),r=s(45),l=s.n(r),c=s(428),d=s.n(c),p=(s(8),s(0)),u=s.n(p),h=s(5),m=s(30),g=s(701),b=s(10),_=s(1);class v extends u.a.Component{_an(){const{position:e}=this.props;return e?u.a._(u.a.Fragment,null,e," ",Object(_.d)("bestModels.place")):null}render(){const{children:e,isBoost:t,isEmbedded:s,boostMultiplierComponent:a,position:i}=this.props;return u.a._("div",{className:Object(b.c)("award-header",{"award-header-boost":t,first:1===i,second:2===i,third:3===i,embedded:s})},u.a._("div",{className:"award-header-place"},this._an(),e),a)}}v.displayName="AwardHeader",v.defaultProps={boost:null,hourlyTop:{}};var f=s(128),C=s.n(f),N=s(32),O=s(17),y=s(6),w=s(3),S=(s(20),s(26));function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const j={emitButtonEvent:O.b};class I extends u.a.Component{constructor(...e){super(...e),this.stripchatLinkClickHandler=e=>{const{emitButtonEvent:t,isModalOrNewTab:s}=this.props;s&&(e.preventDefault(),t(w.b.CONTEST_RULES_MODEL_SIGNUP))}}getRootClasses(){return Object(b.c)("become-model-button",this.props.className)}_ao(){return u.a._(p.Fragment,null,u.a._(y.a,{img:"stripchat-logo"}),Object(_.d)("bestModels.rules.becomeModel"))}_ap(){return u.a._(m.a,{className:this.getRootClasses(),to:"/signup/model",onClick:this.stripchatLinkClickHandler},this._ao())}_aq(){const{isModalOrNewTab:e,modelsRegistrationURL:t}=this.props,s=e?{target:"_blank",rel:"noopener noreferrer"}:{};return u.a._("a",k({className:this.getRootClasses(),href:t},s),this._ao())}render(){const{modelsRegistrationURL:e}=this.props;return C()(e,"http")?this._aq():this._ap()}}I.displayName="BecomeModelButton",I.defaultProps={className:null,isModalOrNewTab:!1,isNewTab:!1},I.defaultProps={isModalOrNewTab:!1};var T=Object(h.c)(e=>({modelsRegistrationURL:Object(S.l)(e)}),e=>Object(N.b)(j,e))(I),P=s(12),M=s(22),E=s(21);const A=({className:e,messageId:t,boost:s})=>{const a=Object(E.d)()?u.a._("span",null,Object(M.n)(s.start),"—",Object(M.n)(s.end)):null;return u.a._(P.a,{className:e,messageId:t,elements:{icon:u.a._(y.a,{img:"stripchat-logo"}),time:a},parameters:{multiplier:s.multiplier}})};A.displayName="BoostTime";var U=A,H=s(7),L=s(249);const R=e=>{const{contestType:t,menuItem:s}=e;return u.a._(m.b,{className:L.a.DEFAULT_ITEM_CLASS,to:`/top/${s.route}/${t}`,activeClassName:"active",exact:!0},u.a._(P.a,{messageId:`tags.${s.route}`}))};R.displayName="NavLinkTab";const F=e=>{const t=H.g.map(t=>u.a._(R,{menuItem:t,contestType:e.contestType,key:t.id}));return u.a._("div",{className:"gender-tabs"},u.a._(L.a,{shouldShowMoreButton:!1,className:"nav-left"},t))};F.displayName="GenderTabs";var D=F,x=s(218);const B=[{amount:1e3,hasIcon:!0,range:null,transKey:"firstPlace"},{amount:500,hasIcon:!0,range:null,transKey:"secondPlace"},{amount:250,hasIcon:!0,range:null,transKey:"thirdPlace"},{amount:100,hasIcon:!1,range:"4-10",transKey:"place"},{amount:75,hasIcon:!1,range:"11-20",transKey:"place"},{amount:50,hasIcon:!1,range:"21-40",transKey:"place"},{amount:40,hasIcon:!1,range:"41-60",transKey:"place"},{amount:30,hasIcon:!1,range:"61-80",transKey:"place"},{amount:20,hasIcon:!1,range:"81-100",transKey:"place"}],V=[{amount:1e3,hasIcon:!0,range:null,transKey:"firstPlace"},{amount:500,hasIcon:!0,range:null,transKey:"secondPlace"},{amount:250,hasIcon:!0,range:null,transKey:"thirdPlace"},{amount:100,hasIcon:!1,range:"4-5",transKey:"place"},{amount:50,hasIcon:!1,range:"6-10",transKey:"place"},{amount:25,hasIcon:!1,range:"11-20",transKey:"place"}],z={[H.j.FEMALE]:100,[H.j.TRANNY]:20,[H.j.MALE]:20},$=[{place:"one",order:1,hasAltText:!1,hasDescription:!0},{place:"two",order:2,hasAltText:!0,hasDescription:!1},{place:"three",order:3,hasAltText:!1,hasDescription:!1},{place:"four",order:4,hasAltText:!1,hasDescription:!1}];class G extends u.a.Component{constructor(...e){super(...e),this._ar=e=>{const{amount:t,hasIcon:s,range:a,transKey:i}=e;return u.a._("div",{className:"table-cell",key:t},u.a._("span",null,s&&u.a._(y.a,{img:"crown-2"}),a&&`${a} `,Object(_.d)(`bestModels.rules.places.${i}`)),u.a._("span",null,`$ ${t}`))}}_B7(){const{isLoggedIn:e}=this.props;return u.a._("div",{className:"header"},u.a._("div",{className:"header-container"},u.a._("div",{className:"amount"}),u.a._("div",{className:"header-text-wrapper"},u.a._("div",null,u.a._(P.a,{elements:{span:u.a._("span",{className:"alt-text"})},messageId:"bestModels.rules.header"})),!e&&u.a._(T,{isModalOrNewTab:!0}))))}_as(e=!1){const{isStripChat:t}=this.props,s=t?"https://wiki.stripchat.com/Contests_for_Models":"https://wiki.xhamsterlive.com/Contests_for_Models",a=Object(b.c)("btn btn-decline btn-large wiki-link",{"media-after-tablet-hidden":e,"media-up-to-mobile-l-hidden":!e});return u.a._(x.a,{className:a,href:s},Object(_.d)("bestModels.rules.wiki"))}_at(){const{gender:e}=this.props,t=e.id===H.j.FEMALE?B:V;return u.a._("div",{className:"rules-table"},u.a._("div",{className:"rules-table-header"},Object(_.d)("bestModels.rules.tableHeader",{count:z[e.id]})),u.a._("div",{className:"rules-table-gender-tabs-container"},u.a._(D,{contestType:H.c.RULES})),u.a._("div",{className:"rules-table-body"},t.map(this._ar)),this._as(!0))}render(){const{boost:e}=this.props;return u.a._("div",{className:"best-models-rules"},this._B7(),u.a._("div",{className:"rules"},u.a._("div",{className:"rules-container"},u.a._("div",{className:"rules-list"},$.map(({place:t,order:s,hasAltText:a,hasDescription:i})=>u.a._("div",{className:"list-item",key:s},u.a._("span",{className:"order"},s),a?u.a._(P.a,{elements:{span:u.a._("span",{className:"alt-text"})},messageId:`bestModels.rules.benefits.${t}`}):u.a._("span",null,Object(_.d)(`bestModels.rules.benefits.${t}`),i&&u.a._(U,{className:"description-text",boost:e,messageId:`bestModels.rules.additional.${t}`})))),this._as()),this._at())))}}G.displayName="BestModelsRules";var W=Object(h.c)(e=>{const{auth:{isLoggedIn:t,isLoggingOut:s},config:{data:{features:{top:{boost:a}}}}}=e;return{boost:a,isLoggedIn:t&&!s,isStripChat:Object(S.h)(e)}})(G),K=s(43);class q extends u.a.Component{_au(){const{winner:e,hourlyTop:t,boost:s}=this.props,{isBoost:a}=t;if(!(a&&s))return null;const i=`winner_header_${t.time}_${e.user.id}_boost`;return u.a._("div",{className:"boost-multiplier-badge",id:i},`${s.multiplier}x`,u.a._(K.a,{isMobileRelative:!1,targetId:i,placement:"top"},u.a._(U,{boost:s,messageId:"bestModels.boostTime.tooltip"})))}render(){const{position:e,winner:t,hourlyTop:s,contestTypeId:a}=this.props,{isBoost:i,time:o}=s,n="current-month"!==a?`: $${t.prize},`:" -",r=`winner_header_${o||e}_${t.user.id}`;return u.a._(v,{position:e,boostMultiplierComponent:this._au(),isBoost:i},n," ",u.a._("span",{className:"points-block",id:r},u.a._(y.a,{img:"stripchat-logo"})," ",t.points),u.a._(K.a,{isMobileRelative:!1,targetId:r,placement:"top"},u.a._(y.a,{img:"stripchat-logo"})," ",u.a._(P.a,{messageId:"bestModels.strippoints",parameters:{points:t.points},choiceParameter:"points"})))}}q.displayName="WinnerHeader",q.defaultProps={boost:null,hourlyTop:{}};var J=q,Y=s(248),X=s(383);class Q extends u.a.Component{render(){const{model:e,position:t,scores:s}=this.props;return u.a._("div",{className:Object(b.c)("model-list-item-header-score",{first:1===t,second:2===t,third:3===t})},["first","second","third"].map((t,a)=>s[a]?u.a._("div",{className:`model-list-item-header-score-icon ${t}`,key:t},u.a._(X.a,{key:"award-place",htmlIdPrefix:a+1,place:a+1,username:e.username,topMedalHeight:24}),u.a._("span",{className:"model-list-item-header-score-count"},s[a])):null))}}Q.displayName="ModelListItemHeaderScore";var Z=s(172);function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function te(e){const{model:t,htmlIdPrefix:s,scores:a,position:i}=e;return u.a._(Y.a,ee({},Object(Z.b)(e,t),{model:t,htmlIdPrefix:s,quality:H.Ib.BIG,isStatusVisible:!0}),u.a._(v,{position:i,isEmbedded:!0}),u.a._(Q,{position:i,scores:a,model:t}))}te.displayName="ModelListItemFame";var se=s(330),ae=s(65),ie=s(59),oe=s(352),ne=s(97);function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const le=[H.c.RECENT_MONTH,"hallOfFame"],ce=e=>H.g.find(({route:t})=>t===e.match.params.gender);class de extends u.a.Component{_A(){this.loadData()}componentDidUpdate(e){(e.gender!==this.props.gender||((e,t)=>{const{contestType:s}=e,{contestType:a}=t,o=!i()(s,a);return a&&o&&"rules"!==a.id})(e,this.props))&&this.loadData()}loadData(){const{contestType:e,gender:t,loadBestModels:s}=this.props;s(e.route,t?t.id:null)}getMeta(){const{match:e,gender:t}=this.props,s=d()(e.params.type||H.f),a=t?t.id:null,i=`seo.title.topModels.${s}${a?`_${a}`:""}`,o=`seo.description.topModels.${s}${a?`_${a}`:""}`;return{title:Object(_.e)(i,{prizeAmount:2e4}),description:Object(_.e)(o,{prizeAmount:2e4})}}_av(e){const{isLoggedIn:t,currentUser:s}=this.props,a="recent"===e;return t&&s.isModel&&a?u.a._(m.a,{to:"/top/rules",className:"boost-time-announcement"},u.a._(P.a,{messageId:"bestModels.announcement.boostTime",elements:{icon:u.a._(y.a,{img:"stripchat-logo"})},choiceParameter:"points"})):null}_aw(e){const{isPending:t,currentPosition:s,currentPoints:a,prevPosition:i,prevPoints:o}=this.props,n="recent"===e,r="recent-month"===e,l=r?i:s,c=r?o:a;return!t&&!n&&l&&l<=(n?1e3:1e4)?u.a._("div",{className:"page-header-award"},u.a._("div",{className:"award-label"},Object(_.d)("bestModels.yourPlaceLabel"),":",u.a._(oe.a,{position:l,points:c}))):null}_B7(e){const{isLoggedIn:t,siteName:s,gender:a}=this.props;let i=`bestModels.listTitle.${e}`;return a&&a.id&&(i+=`-${a.id}`),u.a._("div",{className:"page-header-wrapper"},u.a._("div",{className:"page-header-description"},u.a._("div",{className:"page-header"},u.a._(ne.a,{className:"best-models-title"},Object(_.e)(i,{sitename:s}))),u.a._("div",{className:"page-sub-header"},Object(_.d)(`bestModels.ratingDescription.${e}`,{sitename:s}),t&&e!==H.c.HALL_OF_FAME&&this._aw(e))),this._av(e),!t&&u.a._(T,{className:"become-model-button-specific media-up-to-m-hidden"}))}_ax(){const{contestType:e,bestModels:t,isPending:s}=this.props;return s?u.a._("div",{className:"loader-container"},u.a._(ie.a,{isCentered:!0})):n()(t)?null:u.a._("div",{className:"monthly-top model-list"},t.map((t,s)=>u.a._(Y.a,re({},Object(Z.b)(this.props,t.user),{htmlIdPrefix:s,key:t.user.id,model:t.user,quality:H.Ib.BIG}),u.a._(J,{position:s+1,winner:t,contestTypeId:e.id}))))}_ay(){const{boost:e,hourlyTops:t,contestType:s}=this.props;return n()(t)?null:u.a._("div",{className:"hourly-top"},t.map((t,a)=>{const i=`id${t.time.replace(/[-:]/g,"")}`,{isBoost:o,position:n,points:r}=t,l=`${i}_boost`;return u.a._("div",{className:"hourly-top-row model-list",key:i},u.a._("div",{className:"model-list-item model-list-time"},u.a._(v,null,Object(M.j)(t.time,M.f.WEEK_DAY)),u.a._("div",{className:Object(b.c)("award-head-block",{"boost-time":o})},u.a._("div",{className:"award-container",id:l},u.a._("div",{className:"award-date"},Object(M.j)(t.time,M.f.TIME)),u.a._("div",{className:"award-boost"},u.a._(y.a,{img:"rocket-up",size:27}),`${e.multiplier}x`," ",Object(_.d)("bestModels.boostTime.title")),o&&u.a._(K.a,{isMobileRelative:!1,targetId:l,placement:"top"},u.a._(U,{boost:e,messageId:"bestModels.boostTime.tooltip"}))),Boolean(n&&n<=1e3)&&u.a._("div",{className:"award-label"},Object(_.d)("bestModels.yourPlaceLabel"),":",u.a._(oe.a,{position:n,points:r})))),t.winners.map((i,o)=>u.a._(Y.a,re({},Object(Z.b)(this.props,i.user),{htmlIdPrefix:`${a}_${o}`,key:i.user.id,isStatusVisible:!0,model:i.user,quality:H.Ib.BIG}),u.a._(J,{boost:e,position:o+1,winner:i,hourlyTop:t,contestType:s}))))}))}_az(e){switch(e){case H.c.RECENT:return this._ay();case H.c.HALL_OF_FAME:return this._b0();default:return this._ax()}}_b0(){const{bestOfFameModels:e,isPending:t}=this.props;return t?u.a._("div",{className:"loader-container"},u.a._(ie.a,{isCentered:!0})):n()(e)?null:u.a._("div",{className:"model-list"},e.map((e,t)=>u.a._(te,re({},Object(Z.b)(this.props,e.user),{htmlIdPrefix:t,position:t+1,key:e.user.id,model:e.user,scores:e.scores}))))}_b1(e){const{loadError:t,isPending:s,isPrevMonthForGendersAvailable:a}=this.props;if(t)return u.a._("div",{className:"text-center"},t.message);if(!e.supportsGender&&s)return u.a._("div",{className:"loader-container"},u.a._(ie.a,{isCentered:!0}));const i=e.supportsGender&&(!le.includes(e.id)||a);return u.a._("div",{className:Object(b.c)("page",{"model-list-container":!0})},this._B7(e.id),i&&u.a._(D,{contestType:e.id}),this._az(e.id))}render(){const{contestType:e,gender:t}=this.props,{HALL_OF_FAME:s,RULES:a}=H.c,i=e.id===s;return u.a._(ae.a,this.getMeta(),u.a._("div",{className:Object(b.c)("best-models-page",{"hall-of-fame":i})},i&&u.a._("div",{className:"decorated"}),e.id===a?u.a._(W,{gender:t}):this._b1(e)))}}de.displayName="BestModelsPage";const pe={loadBestModels:g.a};t.a=Object(h.c)((e,t)=>{const{auth:s,config:{data:{features:{top:{boost:a},topModelGendersPreviousMonth:i}}},modelsTop:{isPending:o,loadError:n},whiteLabels:{siteName:r}}=e;return{bestModels:Object(se.a)(e),bestOfFameModels:Object(se.b)(e),boost:a,contestType:(c=t,l()(H.b,{id:c.match.params.type||H.f})),gender:ce(t),currentUser:s.currentUser,hourlyTops:Object(se.c)(e)||[],isPending:o,isLoggedIn:s.isLoggedIn&&!s.isLoggingOut,isStripChat:Object(S.h)(e),loadError:n,currentPosition:Object(se.e)(e),currentPoints:Object(se.d)(e),prevPosition:Object(se.g)(e),prevPoints:Object(se.f)(e),isPrevMonthForGendersAvailable:i,siteName:r,...Object(Z.a)(e)};var c},pe)(de)},,,,,,,,,,,,,,function(e,t,s){"use strict";var a=s(78),i=s.n(a),o=s(33),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(13),d=s(343),p=s(22),u=s(10),h=s(1);const m=e=>Boolean(e)&&(Object(p.C)(e,p.f.LONG_LOCAL_DATE)||Object(p.C)(e,p.f.ISO_8601_DATE_FORMAT));class g extends l.a.Component{constructor(...e){super(...e),this.state={isIntervalValid:!0},this.intervalChangeHandler=(e,t=!1)=>{const s=(e=>{if("custom"!==e.intervalName)return!0;if(!m(e.from)||!m(e.until))return!1;const t=new Date(e.from).getTime(),s=new Date(e.until).getTime();return t<Date.now()&&t<s})(e),{onUpdate:a}=this.props;this.setState({isIntervalValid:s},()=>{a(e,t&&s)})},this.buttonClickHandler=i()(e=>()=>{this.intervalChangeHandler({...Object(p.u)(e),intervalName:e},!0)}),this.inputChangeHandler=i()(e=>t=>{const{interval:s}=this.props;let a;if(Object(p.C)(t,p.f.LONG_LOCAL_DATE)){const s=Object(p.D)(t,p.g.LONG_LOCAL_DATE);a="from"===e?Object(p.F)(s,p.e.day):Object(p.i)(s,p.e.day),a=Object(p.I)(a)}else a=t;this.intervalChangeHandler({...s,[e]:a,intervalName:"custom"})}),this.intervalSubmitHandler=e=>{e.preventDefault();const{interval:t}=this.props;this.intervalChangeHandler({...t,intervalName:"custom"},!0)}}render(){const{isPending:e,buttonIntervalNames:t,interval:s,currentIntervalName:a}=this.props,{isIntervalValid:i}=this.state;return l.a._("div",{className:"table-filter"},l.a._("div",{className:"table-filter-interval-button"},n()(t,(t,s)=>l.a._(c.a,{key:s,disabled:e,className:Object(u.c)({active:a===t}),onClick:this.buttonClickHandler(t),style:"tokens"},Object(h.d)(`tableFilter.buttons.${t}`)))),l.a._("form",{onSubmit:this.intervalSubmitHandler,className:"table-filter-interval-custom"},l.a._("label",null,Object(h.d)("tableFilter.customDates.label")),n()(s,(t,s)=>{const i=Object(p.C)(t,p.f.LONG_LOCAL_DATE)?t:Object(p.C)(t)?Object(p.j)(t,p.f.LONG_LOCAL_DATE):t;return l.a._(d.a,{key:s,mask:Object(p.s)(),placeholder:Object(p.t)(),hasDateFormat:!0,type:"text",value:"custom"===a?i:"",onChange:this.inputChangeHandler(s),disabled:e})}),l.a._(c.a,{disabled:e||!i,style:"apply",type:"submit"},Object(h.d)("tableFilter.customDates.request"))))}}g.displayName="TableFilter",t.a=g},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(1);class n extends i.a.Component{render(){if(!this.props.error)return null;const{error:e,fieldName:t}=this.props,{details:s}=e;let a=this.props.defaultMessage||Object(o.d)("errors.unknownError");return t&&s&&s[t]?a=Array.isArray(s[t])?s[t].join(". "):s[t]:e.message&&(a=e.message),a?i.a._("span",{className:"error-message",dangerouslySetInnerHTML:{__html:a}}):null}}n.displayName="ErrorMessage",n.defaultProps={defaultMessage:null,fieldName:null},t.a=n},function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a=s(0),i=s.n(a),o=s(10);function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const r=({title:e,subtitle:t,content:s,className:a,...r})=>i.a._("div",n({},r,{className:Object(o.c)("wizard-auth-step-notice-container",a)}),i.a._("div",{className:"wizard-auth-step-notice-title"},e),i.a._("div",{className:"wizard-auth-step-notice-subtitle"},t),i.a._("div",{className:"wizard-auth-step-notice-content"},s));r.displayName="WizardAuthStepNotice"},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(7),r=s(13),l=s(98),c=s(75),d=s(259),p=s(6),u=s(56),h=s(59),m=s(10),g=s(309),b=s(1),_=s(72),v=s(34),f=s(29);class C extends i.a.Component{constructor(...e){super(...e),this.uid=Object(_.o)(),this.state={fileDataUrl:null,isExampleImagePopupOpen:!1,isChanged:!1,isDataUrlPending:!1},this.propsUpdateToActionsMap=[{update:["document"],action:()=>{this.setState({fileDataUrl:null})}},{update:["error"],action:()=>{this.setState({isChanged:!1,isDataUrlPending:!1})}}],this.exampleLinkClickHandler=e=>{e.preventDefault(),this.setState({isExampleImagePopupOpen:!0})},this.examplePopupCloseHandler=()=>{this.setState({isExampleImagePopupOpen:!1})},this.selectFileButtonClickHandler=e=>{this.fileInputRef.click(e)},this.fileInputChangeHandler=e=>{const t=e.target.files&&e.target.files.length?e.target.files[0]:null;t&&this.setState({isDataUrlPending:!0,isChanged:!0},()=>this.processFile(t))},this.statusClickHandler=e=>{e.preventDefault(),this.setState({isDocumentImagePopupOpen:!0})},this.documentImagePopupCloseHandler=()=>{this.setState({isDocumentImagePopupOpen:!1})},this._b2=({backgroundImage:e,className:t,onClose:s})=>i.a._(l.a,{className:Object(m.c)("default-modal",t),onClose:s,source:"documentUploadModal",titlePosition:"outside"},i.a._("div",{className:"modal-body-image",style:{backgroundImage:e}}))}_A(){Object(v.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(v.a)(this.propsUpdateToActionsMap,e,this.props)}processFile(e){const{type:t}=this.props;return this.props.onChange({file:e,isReady:!0,type:t}),Object(g.a)(e).then(e=>{this.setState({fileDataUrl:e.dataUrl,isDataUrlPending:!1})})}get isPending(){return this.props.isPending||this.state.isDataUrlPending}_Ck(){return this.props.isReadOnly?null:i.a._("div",{className:"button"},i.a._(r.a,{onClick:this.selectFileButtonClickHandler},Object(b.d)("button.selectFile")),i.a._(u.a,{onChange:this.fileInputChangeHandler,ref:e=>{this.fileInputRef=e},type:"file"}))}_b3(){const e=n.B[this.props.document.type];if(!e)return null;const t=this.props.getStaticUrl(e),{isExampleImagePopupOpen:s}=this.state;return i.a._("div",{className:"example"},i.a._("a",{href:t,onClick:this.exampleLinkClickHandler},Object(b.d)("documentUpload.showExample")),s&&this._b2({backgroundImage:`url(${t})`,className:"document-upload-example-image-modal",onClose:this.examplePopupCloseHandler}))}_G(){const{document:e,isShowPreview:t}=this.props,{url:s,status:a,reason:o}=e,{fileDataUrl:n,isDocumentImagePopupOpen:r}=this.state,l=t?n||s:"",c=l?this.statusClickHandler:null;return i.a._("div",{className:Object(m.c)("body-pane",{clickable:c}),onClick:c},i.a._("div",{className:"image",style:{backgroundImage:l?`url(${l})`:"none"}}),this.isPending?i.a._(h.a,{isCentered:!0}):i.a._("div",{className:"text"},i.a._("div",{className:"statusText"},Object(b.d)(`documentUpload.document.status.${a||"notUploadedYet"}`)),i.a._("div",{className:"reasonText"},o)),r&&this._b2({backgroundImage:`url(${l})`,className:"default-modal document-upload-image-modal",onClose:this.documentImagePopupCloseHandler}))}render(){const{error:e,isReadOnly:t,type:s,document:a,isLayoutUpToM:o}=this.props,{status:n}=a,r=Object(m.c)("document-upload",`document-type-${s}`,{"is-pending":this.isPending,"read-only":t}),l=e&&!this.state.isChanged,u=`document_upload_pane_${s}_${this.uid}`;return i.a._("div",{className:r},i.a._("div",{className:"header"},i.a._("div",{className:"upload"},i.a._("span",null,Object(b.d)(`documentUpload.headers.${s}`),":",i.a._(d.a,{placement:o?"left":"top",className:"document-upload-helper-header-tooltip",messageId:`documentUpload.tooltip.${s}`}))),i.a._("div",{className:"status"},i.a._("span",null,Object(b.d)("documentUpload.status"),":"))),i.a._("div",{className:"body"},i.a._("div",{className:Object(m.c)("upload",{error:l})},i.a._("div",{className:"body-pane",id:u},i.a._("div",{className:"image"},i.a._(p.a,{img:`upload-${s}`})),this._Ck(),this._b3(),l&&i.a._(c.a,{error:{message:e},targetId:u}))),i.a._("div",{className:Object(m.c)("status",n)},this._G())))}}C.displayName="DocumentUpload",C.defaultProps={document:{id:null,personId:null,type:null,status:null,reason:null,url:null},isShowPreview:!0};t.a=Object(o.c)(e=>{const{availableSettings:{data:t}}=e;return{isLayoutUpToM:Object(f.r)(e),availableSettings:t,getStaticUrl:t=>Object(f.z)(e,t)}})(C)},function(e,t,s){"use strict";s(38),s(8);var a=s(0),i=s.n(a),o=s(5),n=s(32),r=s(316),l=s(39),c=s.n(l),d=s(22),p=s(10);class u extends i.a.Component{constructor(...e){super(...e),this.clickHandler=e=>{this.props.onNewsClick(e)}}render(){const{modelNews:e,isClickable:t}=this.props;return i.a._("ul",{className:"model-news-list"},e.valueSeq().map(e=>{const s=Object(d.r)(e.publishedAt);return i.a._("li",{className:Object(p.c)("model-news-list-item",{clickable:t}),key:e.id,onClick:this.clickHandler},i.a._("header",{className:"model-news-list-header"},i.a._("h4",{className:"model-news-list-title"},e.subject,e.isNew&&i.a._("div",{className:"model-news-list-label"},"New"))),i.a._("div",{className:"model-news-list-date"},s),i.a._("div",{className:"model-news-list-content",dangerouslySetInnerHTML:{__html:(a=e.body,a.replace(/(\b(https?):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*)/gi,"<a href='$1' target='_blank'>$1</a>"))}}));var a}))}}u.displayName="ModelNewsList",u.defaultProps={isClickable:!1,onNewsClick:c.a};var h=u,m=s(7),g=s(300),b=s(13),_=s(59),v=s(1),f=s(41);s(20);class C extends i.a.Component{constructor(...e){super(...e),this.newsClickHandler=e=>{const{shouldShowLatestOnly:t}=this.props;e.stopPropagation(),t&&"A"!==e.target.tagName&&this.props.routerPush("/model-news")}}_A(){const{loadModelNews:e,shouldShowLatestOnly:t,shouldBeMarkedAsRead:s}=this.props;e({limit:t?m.ab:m.tb,shouldBeMarkedAsRead:s})}_D(){const{shouldShowLatestOnly:e}=this.props;return e?i.a._("h3",{className:"model-news-title"},Object(v.d)("startBroadcasting.latestNews.title")):null}_b4(){const{isPending:e,shouldShowLatestOnly:t}=this.props;return t&&!e?i.a._("div",{className:"model-news-btn-row"},i.a._(b.a,{to:"/model-news",type:"link",style:"decline"},Object(v.d)("startBroadcasting.latestNews.allNewsBtn"))):null}_b5(){const{isPending:e,shouldShowLatestOnly:t,news:s}=this.props;return e?i.a._(_.a,{isCentered:!0}):i.a._(h,{modelNews:s,isClickable:t,onNewsClick:this.newsClickHandler})}render(){const{className:e}=this.props;return i.a._("div",{className:Object(p.c)("start-broadcasting-island","model-news",e)},this._D(),this._b5(),this._b4())}}C.displayName="ModelNews";const N={loadModelNews:r.a,routerPush:f.H};C.defaultProps={shouldShowLatestOnly:!1,shouldBeMarkedAsRead:!1};t.a=Object(o.c)((e,t)=>{const{shouldShowLatestOnly:s}=t,{modelNews:{isPending:a}}=e;return{isPending:a,news:s?Object(g.c)(e):Object(g.a)(e)}},e=>Object(n.b)(N,e))(C)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(5),n=s(183),r=s(6),l=s(3);s(20);const c={changeFacingMode:n.b};class d extends a.PureComponent{constructor(...e){super(...e),this.changeFacingMode=e=>{e.stopPropagation(),this.props.changeFacingMode()}}render(){return l.j.touch?i.a._("div",{className:"player-toolbox-icon camera",onClick:this.changeFacingMode},i.a._("div",{className:"player-toolbox-icon-item"},i.a._(r.a,{img:"facing-mode",size:22}))):null}}d.displayName="PlayerToolboxMobileCamera",t.a=Object(o.c)(null,c)(d)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(183),r=s(6),l=s(3);s(20);const c={changeBroadcastSettingsVisible:n.a};class d extends a.PureComponent{constructor(...e){super(...e),this.changeBroadcastSettings=e=>{const{isBroadcastSettingsVisible:t}=this.props;e.stopPropagation(),this.props.changeBroadcastSettingsVisible(!t)}}render(){return l.j.touch?null:i.a._("div",{className:"player-toolbox-icon settings",onClick:this.changeBroadcastSettings},i.a._("div",{className:"player-toolbox-icon-item"},i.a._(r.a,{img:"broadcast-settings",size:17})))}}d.displayName="PlayerToolboxSettings",d.defaultProps={isBroadcastSettingsVisible:!1};t.a=Object(o.c)(e=>{const{player:{isBroadcastSettingsVisible:t}}=e;return{isBroadcastSettingsVisible:t}},c)(d)},function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(6);function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const r=({...e})=>i.a._("div",n({className:"play-button"},e),"Live",i.a._(o.a,{img:"play-3"}));r.displayName="PlayButton",t.a=r},,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";var a=s(0),i=s.n(a);const o=()=>i.a._("svg",{className:"company-address-static-svg",xmlns:"http://www.w3.org/2000/svg",width:"276",height:"14"},i.a._("path",{fill:"currentColor",d:"M4 11H2.8V3.9H.2v-1h1l.9-.3A2 2 0 0 0 3 1H4V11zm4.7-7.3v.7l.5.5.5.2.7.1c.5 0 .9 0 1.2-.4.3-.3.5-.6.5-1.1 0-.6-.2-1-.5-1.2-.3-.2-.7-.4-1.2-.4l-.7.1c-.2 0-.4.2-.5.3l-.4.5-.1.6zm-1.3 0c0-.5 0-.9.2-1.2l.7-.8a3 3 0 0 1 1-.5l1-.1c.5 0 1 0 1.4.2.4.1.7.3 1 .6l.4.8c.2.3.2.6.2 1s-.1.8-.4 1.1c-.2.4-.5.7-1 .9.6.2 1 .5 1.4.9.3.4.4 1 .4 1.5s0 1-.3 1.3a2.8 2.8 0 0 1-1.7 1.6l-1.3.2-1.3-.2a3 3 0 0 1-1-.6c-.4-.2-.6-.6-.8-1a3.2 3.2 0 0 1 .2-2.8c.3-.4.7-.7 1.3-1-.4-.1-.8-.4-1-.8-.3-.3-.4-.7-.4-1.2zm.9 4.5c0 .6.2 1 .6 1.4.4.3.9.5 1.5.5l.8-.1.7-.4.4-.6a2 2 0 0 0 0-1.6l-.5-.6a2.1 2.1 0 0 0-1.4-.5l-.8.1a2 2 0 0 0-.7.4 1.8 1.8 0 0 0-.6 1.4zm12.6-6h-3.3V1h8v1.1h-3.4V11H21V2.1zM26.2 1h1.2v3.8l.4-.5.6-.4a3 3 0 0 1 1.3-.3c.5 0 .9 0 1.2.2A2 2 0 0 1 32 5.2V11H31V6.1c0-.4-.1-.8-.4-1-.3-.3-.6-.5-1-.5l-1 .2-.7.5a2 2 0 0 0-.4.7l-.1 1v4h-1.2V1zm12.5 5.7c0-.3 0-.6-.2-.8a2 2 0 0 0-1.9-1.3 2 2 0 0 0-1.5.6l-.4.7-.2.8h4.2zm1.1 2c-.1.8-.5 1.4-1 1.8-.5.4-1.2.7-2 .7-.6 0-1.1-.1-1.5-.3a3 3 0 0 1-1.1-.8c-.3-.3-.5-.7-.7-1.2l-.2-1.5c0-.6 0-1 .2-1.6l.7-1.1a3.2 3.2 0 0 1 2.5-1.1 3 3 0 0 1 1.6.4c.4.3.8.6 1 1 .3.4.4.9.5 1.4l.2 1.3h-5.5c0 .4 0 .7.2 1l.4.7c.1.2.4.4.7.5.3.2.6.2 1 .2.5 0 1-.1 1.2-.3.4-.3.6-.6.7-1.1h1.1zm2-1.3l.1 1.2.5.8a2.1 2.1 0 0 0 1.6.7 2.1 2.1 0 0 0 2-1.5l.3-1.2c0-.5 0-.8-.2-1.2l-.5-.8a2 2 0 0 0-1.6-.8 2.1 2.1 0 0 0-1.6.8l-.5.8-.1 1.2zm-1.3 0c0-.5 0-1 .2-1.5s.4-.9.7-1.2l1.1-.8c.4-.2 1-.3 1.5-.3.6 0 1.1 0 1.5.3a3.2 3.2 0 0 1 1.8 2 4.8 4.8 0 0 1 0 3c-.1.4-.4.8-.7 1.2l-1 .8c-.5.2-1 .3-1.6.3-.6 0-1-.1-1.5-.3a3 3 0 0 1-1.1-.8l-.7-1.2-.2-1.5zm8.2-3.6h1.2v1c.2-.5.5-.8 1-1l1.3-.2c.6 0 1 .1 1.5.3l1 .8.6 1.2a5 5 0 0 1 0 3l-.6 1.2-1 .8a3.4 3.4 0 0 1-2 .2l-.7-.2-.6-.3a2 2 0 0 1-.5-.6v3.8h-1.2v-10zm5.6 3.5c0-.3 0-.6-.2-1 0-.3-.2-.6-.4-.8a2 2 0 0 0-1.7-.9 2 2 0 0 0-1 .3 2 2 0 0 0-.7.6l-.4.9a4.2 4.2 0 0 0 0 2l.4.9a2 2 0 0 0 1.8.8c.4 0 .8 0 1-.2l.7-.7.4-.8v-1zM56.6 1h1.2v3.8l.4-.5.6-.4a3 3 0 0 1 1.3-.3c.5 0 .9 0 1.2.2a2 2 0 0 1 1.2 1.4l.1 1V11h-1.2V6.1c0-.4-.1-.8-.4-1-.2-.3-.6-.5-1-.5l-1 .2-.6.5a2 2 0 0 0-.4.7l-.2 1v4h-1.2V1zm8.8 1.5h-1.2V1h1.2v1.5zm-1.2 1.3h1.2V11h-1.2V3.8zM67 1h1.2v10H67V1zm3.6 6.4c0 .4 0 .8.2 1.2 0 .3.3.6.5.8a2.1 2.1 0 0 0 1.6.7 2.1 2.1 0 0 0 2-1.5l.2-1.2c0-.5 0-.8-.2-1.2 0-.3-.2-.6-.5-.8a2 2 0 0 0-1.5-.8 2.1 2.1 0 0 0-1.6.8l-.5.8-.2 1.2zm-1.3 0l.3-1.5c.1-.5.3-.9.6-1.2l1.1-.8c.5-.2 1-.3 1.6-.3.5 0 1 0 1.5.3a3.2 3.2 0 0 1 1.7 2 4.8 4.8 0 0 1 0 3l-.6 1.2-1.1.8-1.5.3c-.6 0-1.1-.1-1.6-.3a3 3 0 0 1-1-.8c-.4-.4-.6-.8-.7-1.2l-.3-1.5zM83.5 11h-1.2V9.9c-.2.4-.6.7-1 1-.3.1-.8.3-1.3.3l-1.2-.2a1.9 1.9 0 0 1-1.2-1.4l-.1-1V3.7h1.2v4.9c0 .4 0 .8.3 1 .3.3.7.4 1.1.4.4 0 .7 0 1-.2.2 0 .5-.2.6-.4l.4-.7.2-1v-4h1.2V11zm5.8-2.3c0 .3 0 .5.2.7 0 .2.2.3.4.4l.6.2a3.5 3.5 0 0 0 1.9 0l.4-.4.2-.6c0-.3-.1-.5-.4-.7a3 3 0 0 0-.9-.3l-1.1-.3a6 6 0 0 1-1.1-.3l-1-.7c-.1-.2-.3-.6-.3-1s.1-.7.3-1l.6-.6.9-.4a4 4 0 0 1 1-.1l1 .1c.4 0 .7.2 1 .4.3.1.5.4.6.7.2.3.3.6.3 1h-1.2c0-.2 0-.4-.2-.5 0-.2-.2-.3-.4-.4l-.5-.2a2.7 2.7 0 0 0-1.1 0l-.5.1a1 1 0 0 0-.4.3l-.1.5c0 .2 0 .3.2.5l.6.3.7.2a54.3 54.3 0 0 1 2.5.8l.5.6c.2.3.2.5.2.9s0 .8-.2 1c-.2.4-.5.6-.8.8a3 3 0 0 1-1 .3 5.9 5.9 0 0 1-2.2 0c-.4 0-.7-.2-1-.4-.2-.2-.5-.4-.6-.7-.2-.4-.3-.7-.3-1.2h1.2zm7.6-5h1.4v1.1H97v4.8l.2.2.2.1h1V11H96.6l-.5-.3a1 1 0 0 1-.3-.5V4.8h-1.3v-1h1.2V1.6H97v2.2zm2.4 0h1.1v1.6c.3-.6.7-1 1.1-1.3.4-.3 1-.4 1.6-.4v1.3L102 5a2 2 0 0 0-.8.6l-.5 1-.1 1.2V11h-1.2V3.8zm3.4 5.7h1.5V11c0 .5 0 1-.3 1.3a2 2 0 0 1-1.2.8v-.7c.2 0 .3 0 .4-.2a1.4 1.4 0 0 0 .4-1.1h-.8V9.4zm7.8-2c0 .4 0 .8.2 1.2 0 .3.2.6.4.8a2.1 2.1 0 0 0 1.6.7 2.1 2.1 0 0 0 2.1-1.5l.2-1.2c0-.5 0-.8-.2-1.2l-.5-.8a2 2 0 0 0-1.6-.8 2.1 2.1 0 0 0-1.6.8l-.4.8c-.2.4-.2.7-.2 1.2zm-1.3 0c0-.5 0-1 .2-1.5s.4-.9.7-1.2l1.1-.8 1.5-.3c.6 0 1.1 0 1.6.3a3.2 3.2 0 0 1 1.7 2 4.8 4.8 0 0 1 0 3l-.6 1.2-1.1.8c-.5.2-1 .3-1.6.3l-1.5-.3a3 3 0 0 1-1-.8c-.4-.4-.6-.8-.8-1.2l-.2-1.5zm12.6-2.6H119V11h-1.2V4.8h-1.2v-1h1.2V2.7c0-.6.2-1 .5-1.4.4-.3.9-.4 1.5-.4a3 3 0 0 1 .8.1v1h-.3a3 3 0 0 0-.4 0l-.6.1c-.2.1-.3.3-.3.7v1h2.8V2.7c0-.6.1-1 .5-1.4.3-.3.8-.4 1.5-.4a3 3 0 0 1 .7.1v1h-.3a3 3 0 0 0-.3 0l-.7.1c-.2.1-.2.3-.2.7v1h1.4v1H123V11h-1.2V4.8zm4.9-2.3h-1.2V1h1.2v1.5zm-1.2 1.3h1.2V11h-1.2V3.8zm7.6 2.3c0-.5-.2-.8-.5-1-.3-.3-.7-.5-1.2-.5s-.8.1-1.1.3a2 2 0 0 0-.7.6l-.4 1a5 5 0 0 0 0 2l.4.8a1.9 1.9 0 0 0 1.6.8c.6 0 1-.1 1.4-.4.3-.4.5-.8.6-1.3h1.2c-.1.9-.4 1.5-1 2-.5.5-1.2.8-2.2.8-.5 0-1-.1-1.4-.3-.5-.2-.8-.4-1.1-.8-.3-.3-.5-.7-.6-1.1l-.3-1.5c0-.6.1-1 .3-1.5 0-.5.3-1 .6-1.3a3 3 0 0 1 1-.8 4.4 4.4 0 0 1 2.7-.2l1 .5c.2.2.5.5.6.8l.4 1H133zm7.4.6l-.2-.8a2 2 0 0 0-2-1.3 2 2 0 0 0-1.5.6l-.3.7-.2.8h4.2zm1.1 2c-.1.8-.5 1.4-1 1.8-.6.4-1.2.7-2 .7-.6 0-1.1-.1-1.6-.3a3 3 0 0 1-1-.8c-.3-.3-.6-.7-.7-1.2l-.2-1.5c0-.6 0-1 .2-1.6l.7-1.1a3.2 3.2 0 0 1 2.5-1.1 3 3 0 0 1 1.6.4l1 1 .5 1.4c.1.4.2.9.1 1.3h-5.4l.1 1 .4.7.8.5c.2.2.6.2 1 .2.5 0 .9-.1 1.2-.3.3-.3.5-.6.6-1.1h1.2zm4.4-4.1l.1-1.4.6-1.1 1-.8 1.5-.2c.4 0 .8 0 1.2.2.4 0 .7.3 1 .5.3.2.5.5.6.9l.3 1.2a3 3 0 0 1-.8 2.1l-.7.7a15.2 15.2 0 0 1-1.9 1.2l-.8.6-.7.6c-.1.3-.3.5-.3.8h5V11h-6.4c0-.6.2-1 .3-1.5a4 4 0 0 1 1.5-1.9l1-.7a27.7 27.7 0 0 0 1.9-1.3l.5-.8.1-.9a1.7 1.7 0 0 0-.5-1.3l-.7-.4h-.7a1.7 1.7 0 0 0-1.5.7c-.2.2-.3.5-.3.8l-.1.9H146zm11.8 6.4h-1.2V3.9h-2.5v-1h1c.3 0 .6-.2.8-.3a2 2 0 0 0 1-1.5h1V11zm3.7-1.6h1.6V11c0 .5-.2 1-.4 1.3a2 2 0 0 1-1.2.8v-.7c.2 0 .3 0 .4-.2a1.4 1.4 0 0 0 .4-1.1h-.8V9.4zM175.6 4c-.1-.7-.4-1.2-1-1.6a3 3 0 0 0-1.8-.5c-.6 0-1 .1-1.5.3a3 3 0 0 0-1 1c-.3.3-.5.7-.7 1.2l-.2 1.5.2 1.6.7 1.4a3 3 0 0 0 2.6 1.2c.4 0 .8 0 1.1-.2a2.6 2.6 0 0 0 1.5-1.5l.2-1.2h1.4a4.5 4.5 0 0 1-1.3 3c-.8.7-1.8 1-3 1-.8 0-1.5-.1-2-.4a4 4 0 0 1-1.5-1c-.4-.5-.7-1-.9-1.7a7 7 0 0 1 0-4.1 5 5 0 0 1 1-1.7c.3-.5.8-.8 1.4-1.1.6-.3 1.3-.4 2-.4.6 0 1 0 1.5.2.5.1 1 .3 1.3.6A3.5 3.5 0 0 1 177 4h-1.4zm7 3v4h-1.4V7l-3.8-6h1.5l3 4.8 3-4.8h1.5l-3.9 6zm6.6-1.7h1.2l.6-.4a1.5 1.5 0 0 0 .6-1.2c0-.5-.2-1-.5-1.2a2 2 0 0 0-1.3-.4c-.3 0-.6 0-.8.2-.3.1-.5.3-.6.5a2 2 0 0 0-.4.7v.8h-1.3c0-.5.1-1 .3-1.3 0-.4.3-.7.5-1l1-.7 1.3-.2 1.2.1 1 .5.6.8.2 1.2c0 .5-.1.9-.4 1.2-.2.4-.6.6-1 .8.7.2 1.1.5 1.4.9.3.4.4 1 .4 1.5s0 1-.2 1.4l-.8.9c-.3.3-.6.4-1 .6a4.5 4.5 0 0 1-2.8 0l-1-.7-.7-1-.2-1.4h1.2c0 .7.2 1.2.6 1.6.3.4.8.6 1.5.6l.8-.1.7-.4a1.8 1.8 0 0 0 .7-1.4c0-.3 0-.6-.2-.8a1.8 1.8 0 0 0-1.1-1l-.8-.1h-.8v-1zm6.2.8a25 25 0 0 0 .3 2.6c.1.4.3.7.6 1 .3.3.7.4 1.2.4s.9-.1 1.2-.4l.6-1 .2-1.3a25 25 0 0 0 0-3l-.2-.8-.4-.8-.6-.5-.8-.2c-.4 0-.6 0-.9.2l-.6.5-.3.8a6.6 6.6 0 0 0-.3 1.7v.8zm-1.2 0a23.9 23.9 0 0 1 .1-2.3l.4-1c.1-.4.3-.6.5-.9.3-.3.6-.5 1-.6.3-.2.8-.2 1.3-.2s1 0 1.3.2a2.6 2.6 0 0 1 1.5 1.5l.3 1 .2 1.2a23.9 23.9 0 0 1-.2 3.4c0 .4-.2.7-.3 1-.2.4-.3.7-.6 1-.2.2-.5.4-.9.5-.4.2-.8.3-1.3.3s-1-.1-1.3-.3a2.5 2.5 0 0 1-1.5-1.4l-.4-1-.1-1.2V6zm14-3.8c-.5.5-1 1-1.4 1.7a15.7 15.7 0 0 0-2.4 7H203a12.3 12.3 0 0 1 1.2-4.8 14.5 14.5 0 0 1 2.7-3.8h-5.2V1.2h6.4v1zm7 0h-4l-.6 2.8.9-.5 1-.1c.4 0 .8 0 1.2.2a2.8 2.8 0 0 1 1.7 1.7 4 4 0 0 1 0 2.7 3 3 0 0 1-1.7 1.8 4 4 0 0 1-1.5.3L211 11c-.4-.2-.7-.3-1-.6-.3-.2-.5-.5-.7-.9a3 3 0 0 1-.3-1.2h1.2a2 2 0 0 0 .7 1.3c.1.2.3.3.6.4a2.4 2.4 0 0 0 1.6 0l.7-.5.4-.7a2.9 2.9 0 0 0 0-2 2.1 2.1 0 0 0-1.1-1.1 2.4 2.4 0 0 0-2 0 3 3 0 0 0-.8.8l-1-.1 1-5.2h4.8v1zm2 7.1h1.6V11c0 .5-.2 1-.4 1.3a2 2 0 0 1-1.2.8v-.7c.2 0 .3 0 .4-.2a1.4 1.4 0 0 0 .4-1.1h-.8V9.4zm7.1-8.4h1.3v8.9h5.3V11h-6.6V1zm8.6 1.5h-1.2V1h1.2v1.5zm-1.2 1.3h1.2V11h-1.2V3.8zm2.7 0h1.1v1c.6-.8 1.4-1.2 2.4-1.2.4 0 .8 0 1.2.3.4.2.6.5.8 1 .2-.5.5-.8 1-1 .3-.2.8-.3 1.2-.3l1 .1c.3 0 .6.2.8.4l.5.6.2 1V11h-1.2V6.3v-.7l-.3-.5a1 1 0 0 0-.4-.3l-.7-.2c-.6 0-1 .2-1.4.5-.4.4-.5.8-.5 1.4V11h-1.2V6.3v-.7l-.3-.5a1 1 0 0 0-.4-.3l-.7-.2-.9.3a2 2 0 0 0-1 1.6V11h-1.2V3.8zm18 7.2l-.8.2a1 1 0 0 1-.7-.3c-.2-.2-.3-.5-.3-.9-.3.4-.7.7-1.1.9a3.8 3.8 0 0 1-2.4.1c-.3 0-.5-.1-.7-.3l-.6-.6-.1-1c0-.4 0-.7.2-1l.5-.6.8-.4a9.4 9.4 0 0 1 1.8-.3l.8-.2.5-.2c.2-.2.2-.3.2-.6l-.1-.6a1 1 0 0 0-.4-.3l-.5-.2a4 4 0 0 0-.6 0c-.5 0-.9 0-1.2.2-.4.2-.5.6-.6 1.1H246c0-.4.1-.8.3-1.1l.7-.8 1-.4a6.8 6.8 0 0 1 2.1 0c.3 0 .6.1.8.3.3.1.5.3.7.6l.2 1v4.3c.1.2.2.2.4.2h.4v.9zm-1.9-3.7l-.6.2a25.6 25.6 0 0 0-2.3.4l-.5.4-.2.8.1.5.3.3.5.2h.5l1-.1.7-.4.4-.6.1-.5V7.3zm3.5 1.4c0 .3 0 .5.2.7 0 .2.2.3.4.4l.6.2a3.5 3.5 0 0 0 1.9 0l.4-.4.2-.6c0-.3-.1-.5-.4-.7a3 3 0 0 0-.8-.3l-1.2-.3a6 6 0 0 1-1.1-.3c-.4-.2-.7-.4-.9-.7-.2-.2-.3-.6-.3-1s0-.7.2-1l.6-.6.9-.4a4 4 0 0 1 1-.1l1 .1c.4 0 .7.2 1 .4.3.1.5.4.6.7.2.3.3.6.3 1h-1.2l-.1-.5-.4-.4-.6-.2a2.7 2.7 0 0 0-1 0l-.6.1a1 1 0 0 0-.3.3l-.2.5c0 .2 0 .3.2.5l.6.3.7.2a54.3 54.3 0 0 1 2.5.8l.5.6c.2.3.3.5.3.9s-.1.8-.3 1c-.2.4-.4.6-.7.8a3 3 0 0 1-1 .3 5.9 5.9 0 0 1-2.3 0c-.3 0-.7-.2-1-.4l-.6-.7c-.2-.4-.3-.7-.3-1.2h1.2zm6.7 0c0 .3 0 .5.2.7 0 .2.2.3.4.4l.6.2a3.5 3.5 0 0 0 1.9 0l.4-.4.2-.6c0-.3-.1-.5-.4-.7a3 3 0 0 0-.8-.3l-1.2-.3a6 6 0 0 1-1.1-.3c-.4-.2-.7-.4-.9-.7-.2-.2-.3-.6-.3-1s0-.7.2-1l.6-.6.9-.4a4 4 0 0 1 1-.1l1 .1c.4 0 .7.2 1 .4.3.1.5.4.6.7.2.3.3.6.3 1h-1.2l-.1-.5-.4-.4-.6-.2a2.7 2.7 0 0 0-1 0l-.6.1a1 1 0 0 0-.3.3l-.2.5c0 .2 0 .3.2.5l.6.3.7.2a54.3 54.3 0 0 1 2.5.8l.5.6c.2.3.3.5.3.9s-.1.8-.3 1c-.2.4-.4.6-.7.8a3 3 0 0 1-1 .3 5.9 5.9 0 0 1-2.3 0c-.3 0-.7-.2-1-.4l-.6-.7c-.2-.4-.3-.7-.3-1.2h1.2zm6.8-1.3c0 .4 0 .8.2 1.2l.5.8a2.1 2.1 0 0 0 1.6.7 2.1 2.1 0 0 0 2-1.5c.2-.4.2-.8.2-1.2l-.1-1.2-.5-.8a2 2 0 0 0-1.6-.8 2.1 2.1 0 0 0-1.6.8l-.5.8-.2 1.2zm-1.2 0c0-.5 0-1 .2-1.5.1-.5.4-.9.7-1.2l1-.8c.5-.2 1-.3 1.6-.3.6 0 1 0 1.5.3a3.2 3.2 0 0 1 1.8 2 4.8 4.8 0 0 1 0 3l-.7 1.2-1 .8c-.5.2-1 .3-1.6.3-.6 0-1-.1-1.5-.3a3 3 0 0 1-1.1-.8c-.3-.4-.6-.8-.7-1.2-.2-.5-.2-1-.2-1.5zm8.2-6.4h1.2v10h-1.2V1z"}));o.displayName="CompanyAddress",t.a=o},function(e,t,s){"use strict";var a=s(0),i=s.n(a);const o=()=>i.a._("svg",{className:"company-name-static-svg",width:"83",height:"12",xmlns:"http://www.w3.org/2000/svg"},i.a._("path",{d:"M3.36 1.12H.03V0h8v1.12H4.68V10H3.36V1.12zM12.4 5.7a2.43 2.43 0 0 0-.19-.8 2.04 2.04 0 0 0-1.9-1.25c-.3 0-.58.06-.83.17-.24.1-.45.25-.63.44-.18.18-.32.4-.42.65-.1.24-.17.5-.18.79h4.15zm1.15 2.01a2.9 2.9 0 0 1-1.05 1.84c-.54.4-1.22.61-2.04.61-.58 0-1.08-.09-1.5-.28a2.97 2.97 0 0 1-1.08-.78c-.29-.34-.5-.74-.65-1.2A5.8 5.8 0 0 1 7 6.36c0-.55.08-1.05.25-1.51.17-.46.4-.86.7-1.2A3.2 3.2 0 0 1 10.4 2.6c.64 0 1.18.14 1.6.4.43.27.77.6 1.02 1.02.26.4.44.86.54 1.34.1.49.13.95.11 1.39H8.25c-.01.32.02.62.1.9a2 2 0 0 0 1.12 1.28c.3.13.64.2 1.03.2.5 0 .92-.12 1.24-.35.32-.24.53-.59.64-1.07h1.17zm6.26-2.61c-.1-.46-.29-.82-.59-1.07a1.8 1.8 0 0 0-1.2-.38c-.43 0-.8.08-1.08.24-.29.16-.52.37-.7.63-.17.26-.29.56-.36.9a4.92 4.92 0 0 0 0 2.04c.08.32.2.6.37.85a1.88 1.88 0 0 0 1.63.82c.59 0 1.05-.16 1.38-.46.33-.31.53-.75.6-1.3h1.22c-.13.89-.46 1.58-1 2.07-.53.48-1.26.72-2.19.72-.55 0-1.04-.08-1.46-.26a2.84 2.84 0 0 1-1.06-.76c-.29-.32-.5-.71-.65-1.17a5.31 5.31 0 0 1 0-3.01c.13-.47.35-.88.63-1.23.29-.35.64-.62 1.07-.83.43-.2.93-.3 1.5-.3.41 0 .8.05 1.15.15.36.1.68.25.96.46.27.2.5.46.68.77.17.32.29.69.33 1.12h-1.23zM22.41 0h1.2v3.83h.02c.1-.23.23-.42.4-.57.16-.16.35-.28.56-.38a2.94 2.94 0 0 1 1.32-.29c.48 0 .88.07 1.2.2a1.96 1.96 0 0 1 1.18 1.38c.08.32.12.68.12 1.07V10h-1.2V5.1c0-.45-.12-.8-.39-1.06-.26-.27-.62-.4-1.07-.4-.37 0-.68.06-.95.17-.27.11-.49.27-.66.48-.18.2-.31.44-.4.72-.1.27-.14.58-.14.9V10h-1.19V0zm7.79 2.76h1.12v1.15h.03a2.5 2.5 0 0 1 2.35-1.32c.47 0 .87.07 1.19.2a1.96 1.96 0 0 1 1.18 1.38c.08.32.12.68.12 1.07V10H35V5.1c0-.45-.13-.8-.4-1.06-.25-.27-.61-.4-1.07-.4-.36 0-.68.06-.95.17-.26.11-.48.27-.66.48-.18.2-.31.44-.4.72-.09.27-.13.58-.13.9V10h-1.2V2.76zm9.04-1.3h-1.19V0h1.2v1.46zm-1.19 1.3h1.2V10h-1.2V2.76zM47.08 10h-1.12V8.85h-.03c-.25.45-.57.78-.96.99-.4.2-.86.31-1.39.31-.47 0-.87-.06-1.19-.19a1.9 1.9 0 0 1-1.18-1.37 4.48 4.48 0 0 1-.12-1.07V2.76h1.19v4.9c0 .45.13.8.4 1.07.25.26.61.39 1.07.39.36 0 .68-.06.95-.17.26-.11.48-.27.66-.48.18-.2.31-.44.4-.72.09-.27.13-.57.13-.9V2.76h1.2V10zm2.52-2.28c.01.26.07.48.18.66.12.19.26.33.45.44.18.1.38.18.61.23a3.53 3.53 0 0 0 1.86-.13c.18-.07.32-.18.43-.33a.88.88 0 0 0 .17-.55.8.8 0 0 0-.35-.7 2.98 2.98 0 0 0-.88-.38c-.35-.1-.73-.2-1.14-.27-.4-.08-.79-.2-1.14-.34a2.36 2.36 0 0 1-.87-.6 1.58 1.58 0 0 1-.35-1.1c0-.36.08-.67.24-.94a2 2 0 0 1 .63-.63c.26-.17.55-.29.87-.37a4 4 0 0 1 .96-.12c.4 0 .79.04 1.13.1.35.08.65.2.92.37.27.18.48.4.64.7.15.3.25.66.28 1.1h-1.2a1.2 1.2 0 0 0-.18-.58 1.2 1.2 0 0 0-.39-.37c-.16-.1-.33-.16-.52-.2a2.7 2.7 0 0 0-1.12-.02c-.19.02-.35.07-.5.14a1 1 0 0 0-.36.28.7.7 0 0 0-.14.46c0 .2.07.37.21.5.15.14.33.26.56.34.22.1.47.17.75.23l.84.19c.3.06.6.14.88.24.28.09.53.21.75.37.22.15.4.34.53.58.14.23.2.52.2.87 0 .43-.08.8-.27 1.09-.18.29-.41.52-.7.7-.3.18-.63.3-1 .37a5.88 5.88 0 0 1-2.25-.02 2.82 2.82 0 0 1-.97-.41 2.1 2.1 0 0 1-.67-.76c-.17-.31-.26-.7-.28-1.14h1.2zM59.96 0h1.33v8.88h5.3V10h-6.63V0zm9.24 2.76h1.44v1.05H69.2v4.5c0 .14.01.25.04.33.02.09.06.15.13.2.07.04.16.07.27.09l.46.02h.54V10h-.9c-.31 0-.58-.02-.8-.06-.22-.05-.4-.12-.53-.23a.99.99 0 0 1-.3-.48c-.07-.2-.1-.48-.1-.81v-4.6h-1.23V2.75h1.23V.6h1.2v2.17zm3.63 3.68c0 .34.04.67.13 1 .09.31.22.6.4.85a1.99 1.99 0 0 0 1.7.83c.4 0 .75-.08 1.03-.24.28-.16.5-.37.69-.62.17-.26.3-.55.38-.88a4.2 4.2 0 0 0 0-2.02 2.55 2.55 0 0 0-.4-.88A2.04 2.04 0 0 0 75 3.64a1.9 1.9 0 0 0-1.7.87c-.16.26-.29.56-.36.9-.07.33-.11.68-.11 1.03zm5.6 3.56h-1.2v-.98h-.02c-.2.4-.5.7-.92.87-.42.18-.89.26-1.39.26a3.01 3.01 0 0 1-2.5-1.13 3.6 3.6 0 0 1-.62-1.2 4.95 4.95 0 0 1 0-2.92 2.97 2.97 0 0 1 1.65-2 3.3 3.3 0 0 1 2.04-.25 3.06 3.06 0 0 1 1.26.54c.19.14.35.32.48.54h.03V0h1.19v10zm2.1-1.55h1.55V10h-1.55V8.45z",fill:"currentColor"}));o.displayName="CompanyName",t.a=o},function(e,t,s){"use strict";var a=s(0),i=s.n(a);const o=()=>i.a._("svg",{className:"full-company-address-static-svg",width:"374",height:"14",xmlns:"http://www.w3.org/2000/svg"},i.a._("path",{d:"M3.36 2.12H.03V1h8v1.12H4.68V11H3.36V2.12zM12.4 6.7a2.43 2.43 0 0 0-.19-.8 2.04 2.04 0 0 0-1.9-1.25c-.3 0-.58.06-.83.17-.24.1-.45.25-.63.44-.18.18-.32.4-.42.65-.1.24-.17.5-.18.79h4.15zm1.15 2.01a2.9 2.9 0 0 1-1.05 1.84c-.54.4-1.22.61-2.04.61-.58 0-1.08-.09-1.5-.28a2.97 2.97 0 0 1-1.08-.78c-.29-.34-.5-.74-.65-1.2A5.8 5.8 0 0 1 7 7.36c0-.55.08-1.05.25-1.51.17-.46.4-.86.7-1.2A3.2 3.2 0 0 1 10.4 3.6c.64 0 1.18.14 1.6.4.43.27.77.6 1.02 1.02.26.4.44.86.54 1.34.1.49.13.95.11 1.39H8.25c-.01.32.02.62.1.9a2 2 0 0 0 1.12 1.28c.3.13.64.2 1.03.2.5 0 .92-.12 1.24-.35.32-.24.53-.59.64-1.07h1.17zm6.26-2.61c-.1-.46-.29-.82-.59-1.07a1.8 1.8 0 0 0-1.2-.38c-.43 0-.8.08-1.08.24-.29.16-.52.37-.7.63-.17.26-.29.56-.36.9a4.92 4.92 0 0 0 0 2.04c.08.32.2.6.37.85a1.88 1.88 0 0 0 1.63.82c.59 0 1.05-.16 1.38-.46.33-.31.53-.75.6-1.3h1.22c-.13.89-.46 1.58-1 2.07-.53.48-1.26.72-2.19.72-.55 0-1.04-.08-1.46-.26a2.84 2.84 0 0 1-1.06-.76c-.29-.32-.5-.71-.65-1.17a5.31 5.31 0 0 1 0-3.01c.13-.47.35-.88.63-1.23.29-.35.64-.62 1.07-.82.43-.2.93-.3 1.5-.3.41 0 .8.04 1.15.14.36.1.68.25.96.46.27.2.5.46.68.77.17.32.29.69.33 1.12h-1.23zM22.41 1h1.2v3.83h.02c.1-.23.23-.42.4-.57.16-.16.35-.28.56-.38a2.94 2.94 0 0 1 1.32-.29c.48 0 .88.07 1.2.2a1.96 1.96 0 0 1 1.18 1.38c.08.32.12.68.12 1.07V11h-1.2V6.1c0-.45-.12-.8-.39-1.06-.26-.27-.62-.4-1.07-.4-.37 0-.68.06-.95.17-.27.11-.49.27-.66.48-.18.2-.31.44-.4.72-.1.27-.14.58-.14.9V11h-1.19V1zm7.79 2.76h1.12v1.15h.03a2.5 2.5 0 0 1 2.35-1.32c.47 0 .87.07 1.19.2a1.96 1.96 0 0 1 1.18 1.38c.08.32.12.68.12 1.07V11H35V6.1c0-.45-.13-.8-.4-1.06-.25-.27-.61-.4-1.07-.4-.36 0-.68.06-.95.17-.26.11-.48.27-.66.48-.18.2-.31.44-.4.72-.09.27-.13.58-.13.9V11h-1.2V3.76zm9.04-1.3h-1.19V1h1.2v1.46zm-1.19 1.3h1.2V11h-1.2V3.76zM47.08 11h-1.12V9.85h-.03c-.25.45-.57.78-.96.99-.4.2-.86.31-1.39.31-.47 0-.87-.06-1.19-.19a1.9 1.9 0 0 1-1.18-1.37 4.48 4.48 0 0 1-.12-1.07V3.76h1.19v4.9c0 .45.13.8.4 1.07.25.26.61.39 1.07.39.36 0 .68-.06.95-.17.26-.11.48-.27.66-.48.18-.2.31-.44.4-.72.09-.27.13-.57.13-.9V3.76h1.2V11zm2.52-2.28c.01.26.07.48.18.66.12.19.26.33.45.44.18.1.38.18.61.23a3.53 3.53 0 0 0 1.86-.13c.18-.07.32-.18.43-.33a.88.88 0 0 0 .17-.55.8.8 0 0 0-.35-.7 2.98 2.98 0 0 0-.88-.38c-.35-.1-.73-.2-1.14-.27-.4-.08-.79-.2-1.14-.34a2.36 2.36 0 0 1-.87-.6 1.58 1.58 0 0 1-.35-1.1c0-.36.08-.67.24-.94a2 2 0 0 1 .63-.63c.26-.17.55-.29.87-.37a4 4 0 0 1 .96-.12c.4 0 .79.04 1.13.1.35.08.65.2.92.37.27.18.48.4.64.7.15.3.25.66.28 1.1h-1.2a1.2 1.2 0 0 0-.18-.58 1.2 1.2 0 0 0-.39-.37c-.16-.1-.33-.16-.52-.2a2.7 2.7 0 0 0-1.12-.02c-.19.02-.35.07-.5.14a1 1 0 0 0-.36.28.7.7 0 0 0-.14.46c0 .2.07.37.21.5.15.14.33.26.56.34.22.1.47.17.75.23l.84.19c.3.06.6.14.88.24.28.09.53.21.75.37.22.15.4.34.53.58.14.23.2.52.2.87 0 .43-.08.8-.27 1.09-.18.29-.41.52-.7.7-.3.18-.63.3-1 .37a5.88 5.88 0 0 1-2.25-.02 2.82 2.82 0 0 1-.97-.41 2.1 2.1 0 0 1-.67-.76c-.17-.31-.26-.7-.28-1.14h1.2zM59.96 1h1.33v8.88h5.3V11h-6.63V1zm9.24 2.76h1.44v1.05H69.2v4.5c0 .14.01.25.04.33.02.09.06.15.13.2.07.04.16.07.27.09l.46.02h.54V11h-.9c-.31 0-.58-.02-.8-.06-.22-.05-.4-.12-.53-.23a.99.99 0 0 1-.3-.48c-.07-.2-.1-.48-.1-.81v-4.6h-1.23V3.75h1.23V1.6h1.2v2.17zm3.63 3.68c0 .34.04.67.13 1 .09.31.22.6.4.85a1.99 1.99 0 0 0 1.7.83c.4 0 .75-.08 1.03-.24.28-.16.5-.37.69-.62.17-.26.3-.55.38-.88a4.2 4.2 0 0 0 0-2.02 2.55 2.55 0 0 0-.4-.88A2.04 2.04 0 0 0 75 4.64a1.9 1.9 0 0 0-1.7.87c-.16.26-.29.56-.36.9-.07.33-.11.68-.11 1.03zm5.6 3.56h-1.2v-.98h-.02c-.2.4-.5.7-.92.87-.42.18-.89.26-1.39.26a3.01 3.01 0 0 1-2.5-1.13 3.6 3.6 0 0 1-.62-1.2 4.95 4.95 0 0 1 0-2.92 2.97 2.97 0 0 1 1.65-2 3.3 3.3 0 0 1 2.04-.25 3.06 3.06 0 0 1 1.26.54c.19.14.35.32.48.54h.03V1h1.19v10zm2.1-1.55h1.55V11h-1.55V9.45zM92.13 11h-1.19V3.89h-2.57v-.95c.33 0 .66-.03.98-.08.32-.05.6-.15.86-.29a1.96 1.96 0 0 0 1.01-1.5h.91V11zm4.97-7.35c0 .27.05.5.14.7.1.2.22.37.38.5s.35.23.56.3c.22.06.45.1.69.1.47 0 .87-.14 1.17-.42.31-.28.47-.68.47-1.18 0-.5-.16-.88-.47-1.14a1.82 1.82 0 0 0-1.2-.39c-.23 0-.46.04-.67.1a1.5 1.5 0 0 0-.92.77c-.1.19-.15.4-.15.66zm-1.26-.04a2.36 2.36 0 0 1 .88-1.88c.28-.21.59-.38.94-.49a3.93 3.93 0 0 1 2.48.05c.38.15.7.34.93.57.24.24.42.51.53.82.11.3.17.61.17.93a2.3 2.3 0 0 1-1.37 2.06c.6.18 1.03.49 1.32.91.3.43.44.95.44 1.56 0 .49-.09.92-.26 1.3a2.8 2.8 0 0 1-1.74 1.52 4.67 4.67 0 0 1-2.62.01c-.41-.12-.77-.3-1.07-.56-.3-.25-.54-.56-.72-.94a3.16 3.16 0 0 1 .2-2.86c.3-.43.72-.75 1.28-.94a2.14 2.14 0 0 1-1-.82c-.26-.38-.39-.8-.39-1.24zm.91 4.59c0 .6.2 1.07.6 1.4.4.35.9.52 1.52.52.3 0 .57-.05.82-.15.24-.1.46-.23.64-.4.18-.18.32-.38.42-.61a1.97 1.97 0 0 0-.01-1.52c-.11-.23-.26-.43-.44-.6a2.14 2.14 0 0 0-1.45-.54c-.29 0-.56.04-.81.13a2 2 0 0 0-.68.38 1.78 1.78 0 0 0-.6 1.39zm13.22-6.08h-3.33V1h8v1.12h-3.34V11h-1.33V2.12zM115.54 1h1.2v3.83h.02c.1-.23.22-.42.4-.57.16-.16.35-.28.56-.38a2.94 2.94 0 0 1 1.32-.29c.48 0 .87.07 1.2.2a1.96 1.96 0 0 1 1.18 1.38c.07.32.11.68.11 1.07V11h-1.19V6.1c0-.45-.13-.8-.39-1.06-.26-.27-.62-.4-1.08-.4-.36 0-.67.06-.94.17-.27.11-.49.27-.67.48-.17.2-.3.44-.4.72-.08.27-.13.58-.13.9V11h-1.19V1zm12.81 5.69a2.43 2.43 0 0 0-.19-.8 2.04 2.04 0 0 0-1.9-1.25c-.3 0-.58.06-.83.17-.24.1-.46.25-.63.44-.18.18-.32.4-.42.65-.1.24-.17.5-.19.79h4.16zm1.15 2.01a2.9 2.9 0 0 1-1.05 1.84c-.54.4-1.22.61-2.04.61-.58 0-1.08-.09-1.5-.28a2.97 2.97 0 0 1-1.08-.78c-.29-.34-.5-.74-.65-1.2a5.8 5.8 0 0 1-.25-1.53c0-.55.09-1.05.26-1.51.16-.46.4-.86.7-1.2a3.2 3.2 0 0 1 2.45-1.06c.64 0 1.17.14 1.6.4.42.27.76.6 1.02 1.02.26.4.44.86.53 1.34.1.49.14.95.12 1.39h-5.42c0 .32.03.62.12.9.08.29.22.54.4.76a2 2 0 0 0 .72.52c.29.13.63.2 1.02.2.5 0 .91-.12 1.24-.35.32-.24.53-.59.63-1.07h1.18zm2.21-1.31c0 .44.06.83.18 1.17.11.34.27.62.48.85a2.1 2.1 0 0 0 1.6.7 2.15 2.15 0 0 0 2.07-1.55c.12-.34.18-.73.18-1.17 0-.44-.06-.83-.18-1.17a2.52 2.52 0 0 0-.48-.86 2.06 2.06 0 0 0-1.6-.72 2.15 2.15 0 0 0-1.59.72c-.2.23-.37.52-.48.86a3.6 3.6 0 0 0-.18 1.17zm-1.26 0c0-.53.08-1.03.23-1.5a3.17 3.17 0 0 1 1.78-2c.43-.2.94-.3 1.5-.3.58 0 1.1.1 1.53.3a3.18 3.18 0 0 1 1.77 2 4.82 4.82 0 0 1 0 2.98c-.15.46-.38.86-.68 1.2-.3.34-.66.6-1.1.8-.43.19-.94.28-1.51.28-.57 0-1.08-.1-1.52-.28a3.1 3.1 0 0 1-1.1-.8c-.3-.34-.52-.74-.67-1.2a4.75 4.75 0 0 1-.23-1.48zm8.47-3.63h1.2v.98h.02c.2-.4.5-.7.92-.87.42-.19.89-.28 1.39-.28.56 0 1.05.1 1.46.31.42.2.76.48 1.04.84.27.35.48.75.62 1.2a4.95 4.95 0 0 1 0 2.92c-.13.46-.33.85-.6 1.2-.28.34-.63.6-1.04.8a3.36 3.36 0 0 1-2.05.24 3.3 3.3 0 0 1-.65-.18c-.21-.09-.42-.2-.6-.35-.2-.14-.36-.32-.49-.54h-.03v3.73h-1.19v-10zm5.6 3.56c0-.34-.04-.67-.13-.99-.09-.32-.22-.6-.4-.86a1.99 1.99 0 0 0-1.7-.83c-.4 0-.75.08-1.03.24-.28.16-.5.37-.69.63-.17.25-.3.54-.38.87a4.2 4.2 0 0 0 0 2.02c.09.33.22.63.4.88a2.04 2.04 0 0 0 1.76.84c.41 0 .76-.08 1.03-.24.28-.16.5-.37.67-.63.16-.26.29-.56.36-.9.07-.33.11-.68.11-1.03zM147.18 1h1.2v3.83h.02c.1-.23.22-.42.4-.57.16-.16.35-.28.56-.38a2.94 2.94 0 0 1 1.32-.29c.48 0 .87.07 1.2.2a1.96 1.96 0 0 1 1.18 1.38c.07.32.11.68.11 1.07V11h-1.19V6.1c0-.45-.13-.8-.39-1.06-.26-.27-.62-.4-1.08-.4-.36 0-.67.06-.94.17-.27.11-.49.27-.67.48-.17.2-.3.44-.4.72-.08.27-.13.58-.13.9V11h-1.19V1zm9.05 1.46h-1.2V1h1.2v1.46zm-1.2 1.3h1.2V11h-1.2V3.76zM158.15 1h1.2v10h-1.2V1zm3.91 6.39c0 .44.06.83.17 1.17.12.34.28.62.49.85a2.1 2.1 0 0 0 1.6.7 2.15 2.15 0 0 0 2.07-1.55c.12-.34.18-.73.18-1.17 0-.44-.06-.83-.18-1.17a2.52 2.52 0 0 0-.48-.86 2.06 2.06 0 0 0-1.6-.72 2.15 2.15 0 0 0-1.6.72c-.2.23-.36.52-.47.86a3.6 3.6 0 0 0-.18 1.17zm-1.26 0c0-.53.07-1.03.22-1.5a3.17 3.17 0 0 1 1.78-2c.44-.2.94-.3 1.51-.3.58 0 1.09.1 1.52.3a3.18 3.18 0 0 1 1.77 2 4.82 4.82 0 0 1 0 2.98 3.1 3.1 0 0 1-1.77 2c-.43.19-.94.28-1.52.28-.57 0-1.07-.1-1.5-.28a3.1 3.1 0 0 1-1.11-.8c-.3-.34-.53-.74-.68-1.2a4.75 4.75 0 0 1-.22-1.48zM175.21 11h-1.12V9.85h-.03c-.25.45-.57.78-.96.99-.4.2-.86.31-1.39.31-.48 0-.87-.06-1.19-.19a1.9 1.9 0 0 1-1.18-1.37 4.48 4.48 0 0 1-.12-1.07V3.76h1.19v4.9c0 .45.13.8.39 1.07.26.26.62.39 1.08.39.36 0 .68-.06.94-.17.27-.11.5-.27.67-.48.18-.2.3-.44.4-.72.09-.27.13-.57.13-.9V3.76h1.19V11zm2.06-1.55h1.55v1.41c0 .53-.12.99-.36 1.37-.24.38-.64.66-1.18.81v-.7c.16-.05.3-.13.4-.24a1.42 1.42 0 0 0 .41-1.1h-.82V9.45zm7.24-4.86c-.03-.5.02-.97.15-1.4a2.86 2.86 0 0 1 1.64-1.85 3.8 3.8 0 0 1 2.61-.08c.38.13.7.31.99.55.28.24.5.53.66.89.16.35.25.76.25 1.23a3.1 3.1 0 0 1-.75 2.06c-.22.27-.48.51-.77.73a15.19 15.19 0 0 1-1.82 1.17c-.3.18-.59.37-.84.58-.26.2-.48.42-.66.66-.18.24-.3.51-.36.82h5.1V11h-6.48c.04-.59.15-1.09.31-1.5a4.02 4.02 0 0 1 1.48-1.9c.32-.24.65-.45 1-.66l1.1-.72c.32-.22.58-.44.79-.67.2-.22.37-.46.47-.72.11-.27.17-.57.17-.91a1.71 1.71 0 0 0-.57-1.3 1.78 1.78 0 0 0-.61-.37 2.17 2.17 0 0 0-.74-.13 1.73 1.73 0 0 0-1.5.79c-.16.23-.27.5-.34.79-.07.3-.1.59-.1.89h-1.18zM196.66 11h-1.2V3.89h-2.57v-.95c.34 0 .66-.03.98-.08.32-.05.6-.15.86-.29a1.96 1.96 0 0 0 1.02-1.5h.9V11zm3.96-1.55h1.55v1.41c0 .53-.12.99-.36 1.37-.24.38-.63.66-1.18.81v-.7c.16-.05.3-.13.4-.24a1.42 1.42 0 0 0 .42-1.1h-.83V9.45zM215.36 4a2.47 2.47 0 0 0-.99-1.6 3.09 3.09 0 0 0-1.8-.52c-.6 0-1.12.1-1.54.33-.43.23-.78.53-1.05.9a3.9 3.9 0 0 0-.61 1.3 6.48 6.48 0 0 0 0 3.13c.13.5.33.95.6 1.33a3 3 0 0 0 2.6 1.24c.44 0 .83-.07 1.18-.22a2.65 2.65 0 0 0 1.46-1.52c.14-.35.22-.74.25-1.15h1.33a4.54 4.54 0 0 1-1.3 2.94 4.21 4.21 0 0 1-3.03 1.05c-.77 0-1.45-.13-2.03-.4a3.99 3.99 0 0 1-1.44-1.1 4.72 4.72 0 0 1-.86-1.65 7.05 7.05 0 0 1 .02-4.1c.2-.63.5-1.19.9-1.66.4-.48.9-.86 1.49-1.13.6-.28 1.27-.41 2.04-.41.52 0 1.01.07 1.48.2.47.15.88.35 1.25.62a3.46 3.46 0 0 1 1.38 2.42h-1.33zm7.21 2.9V11h-1.33V6.91l-3.86-5.9h1.58l3 4.75L224.88 1h1.51l-3.82 5.91zm3-.36h4.04v1.12h-4.04V6.55zm7.8-1.22l.12.01h.4c.25 0 .49-.03.72-.1.22-.07.42-.17.6-.3a1.48 1.48 0 0 0 .56-1.22c0-.53-.16-.93-.5-1.2-.34-.26-.76-.4-1.26-.4-.32 0-.6.06-.83.18-.24.12-.44.27-.6.47-.15.2-.26.42-.33.68a3 3 0 0 0-.12.83h-1.19c.02-.48.1-.91.24-1.3a2.6 2.6 0 0 1 1.53-1.67c.37-.16.8-.24 1.3-.24.43 0 .83.06 1.2.17.37.1.69.26.96.48.27.21.48.49.63.82.16.34.23.74.23 1.2 0 .44-.13.84-.39 1.18-.26.35-.59.61-.98.79v.03c.6.13 1.06.41 1.35.85.3.44.44.96.44 1.55a2.73 2.73 0 0 1-1 2.25c-.31.26-.67.45-1.09.58a4.53 4.53 0 0 1-2.7-.03 2.73 2.73 0 0 1-1.72-1.64c-.14-.4-.22-.85-.2-1.37h1.18c.02.65.2 1.17.56 1.58.36.4.88.6 1.56.6.29 0 .56-.04.82-.13.27-.08.5-.21.69-.37a1.81 1.81 0 0 0 .64-1.41 1.82 1.82 0 0 0-1.28-1.78 2.8 2.8 0 0 0-.83-.12c-.25 0-.49.01-.71.04V5.33zm6.58.78c0 .38 0 .8.03 1.26.02.46.1.9.23 1.3.12.4.32.75.6 1.03.28.28.68.42 1.18.42.5 0 .9-.14 1.18-.42.28-.28.48-.62.6-1.03.13-.4.2-.84.23-1.3a25.05 25.05 0 0 0 .03-2.06 7.02 7.02 0 0 0-.25-1.74c-.08-.28-.2-.53-.35-.74a1.8 1.8 0 0 0-.59-.51c-.23-.13-.51-.2-.85-.2-.34 0-.62.07-.85.2-.24.13-.43.3-.58.51-.16.21-.28.46-.35.74a6.56 6.56 0 0 0-.26 1.74v.8zm-1.26.02c0-.37 0-.74.02-1.14.02-.39.07-.77.14-1.14.08-.38.19-.73.33-1.07a2.61 2.61 0 0 1 1.5-1.48c.36-.15.8-.23 1.31-.23s.95.08 1.32.23a2.61 2.61 0 0 1 1.5 1.48 7.72 7.72 0 0 1 .46 2.21 23.86 23.86 0 0 1 0 2.27c-.02.4-.07.78-.14 1.15-.08.37-.19.73-.33 1.06a2.55 2.55 0 0 1-1.48 1.47c-.36.14-.8.21-1.33.21-.51 0-.95-.07-1.32-.21a2.54 2.54 0 0 1-1.5-1.47 5.46 5.46 0 0 1-.32-1.06 7.72 7.72 0 0 1-.14-1.15l-.02-1.13zM253 2.26c-.5.5-.98 1.09-1.42 1.77A15.7 15.7 0 0 0 249.2 11h-1.33c.06-.84.2-1.66.41-2.46a14.2 14.2 0 0 1 2.05-4.37c.45-.66.94-1.26 1.46-1.8h-5.2V1.23H253v1.02zm7.24.03h-4l-.54 2.86.03.03c.21-.25.49-.43.83-.54.34-.12.68-.18 1.02-.18.43 0 .85.07 1.24.21a2.76 2.76 0 0 1 1.71 1.7 4.04 4.04 0 0 1 .03 2.72 3.06 3.06 0 0 1-1.73 1.8 3.9 3.9 0 0 1-1.52.26 3.8 3.8 0 0 1-1.21-.19 3.1 3.1 0 0 1-1-.54 2.54 2.54 0 0 1-.69-.89 2.92 2.92 0 0 1-.26-1.2h1.19a1.91 1.91 0 0 0 .62 1.28c.18.16.4.29.64.38a2.41 2.41 0 0 0 1.63-.02c.25-.1.48-.24.67-.44.19-.2.34-.44.45-.73a2.88 2.88 0 0 0 .01-1.94 2.1 2.1 0 0 0-1.16-1.18 2.41 2.41 0 0 0-1.96.1c-.3.16-.57.39-.8.67l-1.03-.06.93-5.15h4.9V2.3zM266.43 1h1.33v8.88h5.3V11h-6.63V1zm8.85 1.46h-1.19V1h1.2v1.46zm-1.19 1.3h1.2V11h-1.2V3.76zm3.04 0h1.12v1.07h.03a2.63 2.63 0 0 1 2.34-1.24c.44 0 .85.1 1.21.28.37.2.62.5.77.96.25-.4.57-.7.96-.91.4-.22.84-.33 1.31-.33.37 0 .7.04.99.12.3.08.54.2.75.37.22.17.38.39.5.66.11.26.17.58.17.95V11h-1.19V6.25c0-.22-.02-.43-.06-.63-.03-.2-.1-.36-.2-.5-.1-.15-.25-.27-.43-.35a1.7 1.7 0 0 0-.71-.13c-.59 0-1.05.17-1.39.5-.33.34-.5.8-.5 1.35V11h-1.19V6.25c0-.23-.02-.44-.06-.64-.05-.2-.12-.37-.22-.51-.1-.15-.24-.26-.41-.34a1.6 1.6 0 0 0-.67-.12c-.34 0-.64.07-.89.21a2.01 2.01 0 0 0-1.04 1.64V11h-1.19V3.76zm18.35 7.21c-.2.12-.49.18-.85.18-.3 0-.55-.08-.74-.26-.18-.17-.27-.45-.27-.84-.32.39-.7.67-1.14.84a3.77 3.77 0 0 1-2.34.15c-.3-.07-.55-.19-.76-.35a1.68 1.68 0 0 1-.51-.62 2.1 2.1 0 0 1-.19-.93 1.83 1.83 0 0 1 .76-1.64c.23-.17.5-.3.79-.38a10.9 10.9 0 0 1 1.83-.36c.3-.03.55-.07.78-.13.22-.07.4-.15.53-.27.13-.12.2-.29.2-.51 0-.26-.05-.47-.15-.63a1 1 0 0 0-.38-.37 1.54 1.54 0 0 0-.52-.16c-.19-.03-.38-.05-.56-.05-.5 0-.93.1-1.26.3-.34.18-.52.54-.55 1.08h-1.19c.02-.45.11-.83.28-1.14.17-.3.4-.56.67-.75.28-.19.6-.33.96-.41.36-.08.75-.13 1.16-.13.32 0 .65.03.97.07.32.05.61.15.87.3.27.14.48.34.63.6.16.26.24.6.24 1.02v3.73c0 .28.02.48.05.61.03.13.14.2.33.2.1 0 .22-.03.36-.07v.92zm-1.93-3.7c-.15.1-.34.19-.59.24-.24.05-.5.09-.76.12l-.8.12c-.27.04-.52.1-.73.2-.22.1-.4.22-.53.4-.13.17-.2.4-.2.7 0 .2.04.37.12.5a1 1 0 0 0 .3.33c.13.08.28.14.45.18a2.82 2.82 0 0 0 1.54-.1c.28-.11.5-.25.68-.4.18-.17.31-.35.4-.54.08-.2.12-.37.12-.54V7.26zm3.77 1.45a1.27 1.27 0 0 0 .62 1.1c.18.1.39.18.62.23a3.53 3.53 0 0 0 1.86-.13c.17-.07.31-.18.43-.33a.88.88 0 0 0 .16-.55.8.8 0 0 0-.35-.7 2.98 2.98 0 0 0-.87-.38c-.35-.1-.73-.2-1.14-.27-.41-.08-.8-.2-1.14-.34a2.36 2.36 0 0 1-.88-.6 1.58 1.58 0 0 1-.35-1.1c0-.36.08-.67.25-.94a2 2 0 0 1 .63-.63c.25-.17.54-.29.86-.37a4 4 0 0 1 .96-.12c.41 0 .8.04 1.14.1.34.08.65.2.92.37.26.18.47.4.63.7.16.3.25.66.28 1.1h-1.19a1.2 1.2 0 0 0-.18-.58 1.2 1.2 0 0 0-.4-.37c-.15-.1-.33-.16-.52-.2a2.7 2.7 0 0 0-1.12-.02c-.18.02-.34.07-.5.14a1 1 0 0 0-.36.28.7.7 0 0 0-.14.46c0 .2.07.37.22.5.14.14.33.26.55.34.23.1.48.17.76.23l.84.19c.3.06.59.14.87.24.29.09.54.21.76.37.22.15.4.34.53.58.14.23.2.52.2.87 0 .43-.09.8-.27 1.09-.18.29-.42.52-.71.7-.3.18-.63.3-1 .37a5.88 5.88 0 0 1-2.24-.02 2.82 2.82 0 0 1-.97-.41 2.1 2.1 0 0 1-.67-.76c-.17-.31-.26-.7-.28-1.14h1.19zm7 0a1.27 1.27 0 0 0 .62 1.1c.18.1.39.18.62.23a3.53 3.53 0 0 0 1.86-.13c.17-.07.31-.18.43-.33a.88.88 0 0 0 .16-.55.8.8 0 0 0-.35-.7 2.98 2.98 0 0 0-.87-.38c-.35-.1-.73-.2-1.14-.27-.41-.08-.8-.2-1.14-.34a2.36 2.36 0 0 1-.88-.6 1.58 1.58 0 0 1-.35-1.1c0-.36.08-.67.25-.94a2 2 0 0 1 .63-.63c.25-.17.54-.29.86-.37a4 4 0 0 1 .96-.12c.41 0 .8.04 1.14.1.34.08.65.2.92.37.26.18.47.4.63.7.16.3.25.66.28 1.1h-1.19a1.2 1.2 0 0 0-.18-.58 1.2 1.2 0 0 0-.4-.37c-.15-.1-.33-.16-.52-.2a2.7 2.7 0 0 0-1.12-.02c-.18.02-.34.07-.5.14a1 1 0 0 0-.36.28.7.7 0 0 0-.14.46c0 .2.07.37.22.5.14.14.33.26.55.34.23.1.48.17.76.23l.84.19c.3.06.59.14.87.24.29.09.54.21.76.37.22.15.4.34.53.58.14.23.2.52.2.87 0 .43-.09.8-.27 1.09-.18.29-.42.52-.71.7-.3.18-.63.3-1 .37a5.88 5.88 0 0 1-2.24-.02 2.82 2.82 0 0 1-.97-.41 2.1 2.1 0 0 1-.67-.76c-.17-.31-.26-.7-.28-1.14h1.19zm7.14-1.33c0 .44.06.83.17 1.17.12.34.28.62.49.85a2.1 2.1 0 0 0 1.6.7 2.15 2.15 0 0 0 2.07-1.55c.12-.34.18-.73.18-1.17 0-.44-.06-.83-.18-1.17a2.52 2.52 0 0 0-.48-.86 2.06 2.06 0 0 0-1.6-.72 2.15 2.15 0 0 0-1.6.72c-.2.23-.36.52-.48.86a3.6 3.6 0 0 0-.17 1.17zm-1.26 0c0-.53.07-1.03.22-1.5a3.17 3.17 0 0 1 1.78-2c.44-.2.94-.3 1.51-.3.58 0 1.09.1 1.52.3a3.18 3.18 0 0 1 1.77 2 4.82 4.82 0 0 1 0 2.98 3.1 3.1 0 0 1-1.77 2c-.43.19-.94.28-1.52.28-.57 0-1.07-.1-1.51-.28a3.1 3.1 0 0 1-1.1-.8c-.3-.34-.53-.74-.68-1.2a4.75 4.75 0 0 1-.22-1.48zM318.7 1h1.19v10h-1.2V1zm3.3 8.45h1.55v1.41c0 .53-.12.99-.36 1.37-.24.38-.63.66-1.18.81v-.7c.16-.05.3-.13.4-.24a1.42 1.42 0 0 0 .42-1.1H322V9.45zM336.74 4a2.47 2.47 0 0 0-.99-1.6 3.09 3.09 0 0 0-1.8-.52c-.6 0-1.12.1-1.54.33-.43.23-.78.53-1.05.9a3.9 3.9 0 0 0-.61 1.3 6.48 6.48 0 0 0 0 3.13c.13.5.33.95.6 1.33a3 3 0 0 0 2.6 1.24c.44 0 .83-.07 1.18-.22a2.65 2.65 0 0 0 1.46-1.52c.14-.35.22-.74.25-1.15h1.33a4.54 4.54 0 0 1-1.3 2.94 4.21 4.21 0 0 1-3.03 1.05c-.77 0-1.45-.13-2.03-.4a3.99 3.99 0 0 1-1.44-1.1 4.72 4.72 0 0 1-.86-1.65 7.05 7.05 0 0 1 .02-4.1c.2-.63.5-1.19.9-1.66.4-.48.9-.86 1.49-1.13.6-.28 1.27-.41 2.04-.41.52 0 1.01.07 1.48.2.47.15.88.35 1.25.62a3.46 3.46 0 0 1 1.38 2.42h-1.33zm5.73 7.96c-.14.35-.28.65-.42.9-.13.23-.28.43-.44.59-.17.15-.35.26-.55.33-.2.07-.43.1-.7.1-.13 0-.27 0-.41-.02a1.98 1.98 0 0 1-.4-.1v-1.09a2 2 0 0 0 .7.17c.23 0 .44-.06.6-.18.16-.11.29-.28.37-.5l.5-1.21-2.88-7.2h1.35l2.11 5.92h.03l2.03-5.92h1.26l-3.15 8.2zm4.2-8.2h1.19v.97h.03c.2-.4.5-.7.92-.87.42-.19.88-.28 1.39-.28.56 0 1.04.1 1.46.31.41.2.76.48 1.03.84.28.35.49.75.63 1.2a4.95 4.95 0 0 1 0 2.92c-.13.46-.34.85-.61 1.2-.28.34-.62.6-1.04.8a3.36 3.36 0 0 1-2.04.24 3.3 3.3 0 0 1-.65-.18c-.22-.09-.42-.2-.61-.35-.2-.14-.35-.32-.48-.54h-.03v3.73h-1.2v-10zm5.6 3.55c0-.34-.05-.67-.13-.99-.1-.32-.23-.6-.41-.86a1.99 1.99 0 0 0-1.7-.83c-.4 0-.74.08-1.02.24-.28.16-.51.37-.69.63-.18.25-.3.54-.38.87a4.2 4.2 0 0 0 0 2.02c.09.33.22.63.4.88a2.04 2.04 0 0 0 1.76.84c.4 0 .75-.08 1.03-.24.27-.16.5-.37.66-.63.17-.26.3-.56.37-.9.07-.33.1-.68.1-1.03zm2.62-3.56H356V5.3h.02c.3-.59.65-1.02 1.07-1.3.42-.28.95-.41 1.6-.4v1.26c-.48 0-.89.07-1.22.2-.34.13-.61.32-.82.57-.2.26-.35.56-.44.92-.1.36-.14.77-.14 1.24V11h-1.2V3.76zm10.7 7.24h-1.13V9.85h-.03c-.25.45-.57.78-.96.99-.4.2-.86.31-1.39.31-.47 0-.87-.06-1.19-.19a1.9 1.9 0 0 1-1.18-1.37 4.48 4.48 0 0 1-.12-1.07V3.76h1.19v4.9c0 .45.13.8.4 1.07.25.26.61.39 1.07.39.36 0 .68-.06.94-.17.27-.11.5-.27.67-.48.18-.2.31-.44.4-.72.09-.27.13-.57.13-.9V3.76h1.2V11zm2.51-2.28c.01.26.07.48.18.66.12.19.26.33.45.44.18.1.38.18.61.23a3.53 3.53 0 0 0 1.86-.13c.18-.07.32-.18.43-.33a.88.88 0 0 0 .17-.55.8.8 0 0 0-.35-.7 2.98 2.98 0 0 0-.88-.38c-.35-.1-.73-.2-1.14-.27-.4-.08-.79-.2-1.14-.34a2.36 2.36 0 0 1-.87-.6 1.58 1.58 0 0 1-.35-1.1c0-.36.08-.67.24-.94a2 2 0 0 1 .63-.63c.26-.17.55-.29.87-.37a4 4 0 0 1 .96-.12c.4 0 .79.04 1.13.1.35.08.65.2.92.37.27.18.48.4.64.7.15.3.25.66.28 1.1h-1.2a1.2 1.2 0 0 0-.18-.58 1.2 1.2 0 0 0-.39-.37c-.16-.1-.33-.16-.52-.2a2.7 2.7 0 0 0-1.12-.02c-.19.02-.35.07-.5.14a1 1 0 0 0-.36.28.7.7 0 0 0-.14.46c0 .2.07.37.21.5.15.14.33.26.56.34.22.1.47.17.75.23l.84.19c.3.06.6.14.88.24.28.09.53.21.75.37.22.15.4.34.54.58.13.23.2.52.2.87 0 .43-.1.8-.27 1.09-.19.29-.42.52-.72.7-.3.18-.62.3-1 .37a5.88 5.88 0 0 1-2.24-.02 2.82 2.82 0 0 1-.97-.41 2.1 2.1 0 0 1-.67-.76c-.17-.31-.26-.7-.28-1.14h1.2z",fill:"#E1E1E1"}));o.displayName="CompanyName",t.a=o},,,function(e,t,s){"use strict";var a=s(313),i=s.n(a),o=s(2),n=s.n(o),r=s(0),l=s.n(r),c=s(5),d=s(40),p=s(13),u=s(72);const h=e=>{const{supportUrl:t,uniqToken:s}=e,a=`${t}?hash=${s}`;return l.a._("div",{className:"error-boundary"},l.a._("div",{className:"content"},l.a._("h1",{className:"title"},l.a._("div",null,"Sorry, an error has occurred"),l.a._("div",null,"Please, reload the page.")),l.a._(p.a,{className:"button",onClick:()=>location.reload()},"Reload Page"),l.a._("div",{className:"text"},"If this error occurs again,"," ",l.a._("a",{href:a,target:"_blank"},"contact support")," ","or try again later."),l.a._("div",{className:"text-error"},"Error number:",l.a._("span",{className:"text-error-number"},s))))};h.displayName="ErrorBoundaryLayout";const m={apiLog:d.a};class g extends l.a.Component{constructor(e){super(e),this.state={hasError:!1,uniqToken:""}}componentDidCatch(e,t){const s=(()=>{const e=[];for(let t=0;t<24;t+=1)e.push(Math.floor(36*Math.random()).toString(36));return e.join("")+Date.now().toString(36)})();this.setState({hasError:!0,uniqToken:s});const{windowHeight:a,windowWidth:o,currentModalName:r}=this.props;e.details=i()(e.details,{message:e.message,stack:e.stack},t,{currentModalName:r,location:location.href,stackHash:Object(u.a)(n()(t,"componentStack","")),uniqToken:s,windowHeight:a,windowWidth:o}),d.c.error(e),this.props.apiLog("error","Black screen",e.details)}render(){return this.state.hasError?l.a._(h,{supportUrl:this.props.supportUrl,uniqToken:this.state.uniqToken}):this.props.children}}g.displayName="ErrorBoundary";t.a=Object(c.c)(({config:{data:{freshdeskAuthorizeUrl:e}},ui:{windowHeight:t,windowWidth:s,currentModalName:a}})=>({currentModalName:a,supportUrl:e||"https://stripchat.com/api/front/support/login",windowHeight:t,windowWidth:s}),m)(g)},,,,,,,,,function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(274),r=s(65),l=s(13),c=s(12),d=s(6),p=s(56),u=s(1),h=s(41),m=(s(20),s(232)),g=s(37);class b extends i.a.Component{constructor(...e){super(...e),this.selectFileButtonClickHandler=e=>{this.fileInputRef.click(e)},this.fileInputChangeHandler=e=>{const{uploadDocument:t}=this.props,s=e.target.files&&e.target.files.length?e.target.files[0]:null;s&&t(s)}}_A(){this.props.loadAvailableSettings()}render(){const{isLoggedIn:e,shouldShowDocumentsValidation:t}=this.props;let s;return s=e?t?i.a._("div",{className:"account-verification-page"},i.a._("div",{className:"wrapper"},i.a._("div",{className:"title"},Object(u.d)("accountVerification.verifyTitle")),i.a._("span",null,Object(u.d)("accountVerification.verifyText")),i.a._("div",{className:"subtitle"},Object(u.d)("accountVerification.uploadTitle")),i.a._("div",{className:"upload-block"},i.a._("ul",{className:"upload-block-list"},i.a._(c.a,{messageId:"accountVerification.uploadText",elements:{li:i.a._("li",null)}})),i.a._(l.a,{size:"medium",onClick:this.selectFileButtonClickHandler},Object(u.d)("accountVerification.button"),i.a._(p.a,{accept:"image/*",onChange:this.fileInputChangeHandler,ref:e=>{this.fileInputRef=e},type:"file"}))),i.a._("div",{className:"hint"},i.a._(d.a,{img:"lock"}),Object(u.d)("accountVerification.uploadHint")))):i.a._("div",{className:"account-verification-page"},i.a._("div",{className:"wrapper"},i.a._("span",null,Object(u.d)("accountVerification.noVerificationRequired")))):null,i.a._(r.a,{titleKey:"seo.title.verification"},s)}}b.displayName="AccountVerificationPage",b.checkAccess=h.j;const _={uploadDocument:n.f,loadAvailableSettings:m.a};t.a=Object(o.c)(e=>{const{auth:{isLoggedIn:t,isLoggingOut:s}}=e;return{isLoggedIn:t&&!s,shouldShowDocumentsValidation:Object(g.g)(e)}},_)(b)},,function(e,t,s){"use strict";var a=s(38),i=s(0),o=s.n(i),n=s(5),r=s(320),l=s(508),c=s(206),d=s(355),p=s(384),u=s(7),h=s(141),m=s(58),g=s(46),b=s(65),_=s(246),v=s(283),f=s(284),C=s(269),N=s(247),O=s(10),y=s(1),w=s(31),S=s(26);class k extends o.a.Component{constructor(...e){super(...e),this._b6=()=>{const{isStripChat:e,tag:t}=this.props;if(!e)return null;const s=Object(y.e)(`${t.primaryTagId}.${t.id}`,{seoExtra:!0});return(null==s?void 0:s.description)?o.a._("div",{className:"category-seo-description"},s.description):null},this.getSplitedModels=()=>{const{tag:e,models:t}=this.props;if(!("verified&&willingToDo"===e.mlStatus))return[Object(a.OrderedMap)([]),t];const s=({isTagVerified:e})=>e;return[t.filter(s),t.filterNot(s)]},this._b7=(e,t)=>{const{mixedTags:s}=this.props;return 0===s.length?null:o.a._(C.a,{className:`index-page-mixed-tags ${e}`,shouldRoute:!0,tags:s,variant:t?"with-scroll":"single-line"})}}getMeta(){const{isIndexNotFound:e,primaryTag:t,tag:s}=this.props;if(e)return{title:Object(y.e)("seo.title.404")};if(s.isMixed){const e=Object(y.d)(`tagGenders.${s.primaryTagId}.${s.id}`,{stripTags:!0});return{title:Object(y.e)(`seo.title.mixedTag.${s.primaryTagId}`,{tagTranslated:e}),description:"None",descriptionOg:Object(y.e)(`seo.description.mixedTag.${s.primaryTagId}`,{tagTranslated:e})}}if(s.id===u.Gb){const e=Object(y.e)(`seo.indexHeadings.categories.${t}.popular.title`);return{description:Object(y.e)(`seo.indexHeadings.categories.${t}.popular.description`),title:e}}if(!s.id){return{title:Object(y.e)(`seo.title.tag.${s.primaryTagId}`),description:Object(y.e)(`seo.description.tag.${s.primaryTagId}`)}}const a=Object(y.d)(`tagGenders.${s.primaryTagId}.${s.id}`,{stripTags:!0}),i=Object(y.e)(`${s.primaryTagId}.${s.id}`,{seoExtra:!0}),o=(null==i?void 0:i.metaDescription)?i.metaDescription:Object(y.e)(`seo.description.tagGenders.${s.primaryTagId}`,{tag:a});return{title:(null==i?void 0:i.metaTitle)?i.metaTitle:Object(y.e)(`seo.title.tagGenders.${s.primaryTagId}`,{tag:a}),description:o}}getMainTitle(){const{tag:e,primaryTag:t}=this.props;return e&&e.id===u.Gb?Object(y.d)(`multipleCategories.titles.${t}.mostPopularModels`):`${Object(y.d)(`tagGenders.${e.primaryTagId}.${e.id}`,{stripTags:!0})} ${Object(y.d)("tagPage.camsLive")}`}render(){const{isIndexNotFound:e,isVrBranch:t,sortBy:s,tag:a}=this.props;if(e)return o.a._("div",{className:"index-page"},o.a._(_.a,null));const[i,n]=this.getSplitedModels(),u=`cv${a.id}`;return o.a._(b.a,this.getMeta(),o.a._(v.a,null),o.a._("div",{className:Object(O.c)("tag-page index-page page page-columns",{"vr-index-page":t})},o.a._(f.a,null),o.a._(c.a,null),o.a._("div",{className:"index-page-content-wrapper"},o.a._("div",{className:"model-list-wrapper multiple-categories-wrapper"},o.a._(p.a,null),o.a._("div",{className:"model-list-container"},o.a._("div",{className:"media-after-l-hidden"},o.a._(N.a,null),this._b7("verified-models-tags",!0)),i.size>0&&o.a._(o.a.Fragment,null,o.a._(l.a,{text:this.getMainTitle(),type:"verified",additionalClassName:"tag-page-title",isH1:!1}),o.a._(d.a,{sectionId:u,models:i,isOnlineStatusVisible:!1,shouldShowPopularSnapshot:!0,shouldLogPopularSnapshot:!1,sortBy:this.props.sortBy,tagUrl:a.url,additionalClassName:"tag-page-model-list"})),o.a._(o.a.Fragment,null,o.a._(r.a,{isMultipleCategoriesIndex:!1,indexPageTitleClassName:"tag-page-title",indexPageTitleLabelClassName:"tag-page-title-label"}),this._b7("no-verified-models-tags",!1),o.a._(d.a,{isLazyLoading:!0,models:n,isOnlineStatusVisible:!1,shouldShowPopularSnapshot:!0,shouldLogPopularSnapshot:!1,sortBy:s,tagUrl:a.url,additionalClassName:"tag-page-model-list"})))),this._b6())))}}k.displayName="TagPage";t.a=Object(n.c)((e,t)=>{const{match:{params:{primaryTag:s=Object(g.b)(e),secondaryTag:a=""}}}=t,i=a?`${s}/${a}`:s,o=Object(g.m)(e)[i],n=!Object(w.p)(e)||!o,r=Object(S.h)(e),l=Object(m.d)(e);return{sortBy:Object(h.b)(o,t.url,e),isStripChat:r,isIndexNotFound:n,isVrBranch:Object(w.M)(e),mixedTags:Object(g.l)(e),tag:o,primaryTag:s,models:l,modelsCount:0}})(k)},function(e,t,s){"use strict";s(38),s(8);var a=s(0),i=s.n(a),o=s(5),n=s(32),r=s(221),l=s(476),c=s(151),d=s(65),p=s(161),u=s(41),h=s(25),m=s(28);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class b extends i.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:[h.b,h.p],action:()=>{const{loadModelWithKnights:e,match:{params:{username:t}}}=this.props;e(t)}}]}render(){const{isLoadingUsers:e,isUserNotFound:t,user:s,modelKnights:a}=this.props;return i.a._(p.a,g({propsUpdateToActionsMap:this.propsUpdateToActionsMap},this.props),i.a._(d.a,{isDataPending:!s,isDataFailed:t,titleKey:"seo.title.knights"},i.a._("div",{className:"page page-without-header knights-page"},i.a._(l.a,{className:"page-block",knights:a,isPending:e,user:s}))))}}b.displayName="UserKnightsPage",b.checkAccess=u.D;const _=Object(m.a)(),v=Object(c.a)("match.params.username");t.a=Object(o.c)((e,t)=>{const{auth:s,modelKnights:a,users:i}=e,o=_(e,t);return{currentUser:s.currentUser,isLoadingUsers:i.isPending||a.isPending,isLoggedIn:s.isLoggedIn&&!s.isLoggingOut,isUserNotFound:Object(m.f)(e,t.match.params.username),modelKnights:o?v(e,t):null,user:o}},e=>Object(n.b)({loadModelWithKnights:r.d},e))(b)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(32),r=s(316),l=s(398),c=s(597),d=s(7),p=s(300),u=s(65),h=s(97),m=s(234),g=s(1),b=s(41),_=(s(20),s(80));class v extends i.a.Component{constructor(...e){super(...e),this.state={currentPage:1},this.pageChangeHandler=e=>{this.setState({currentPage:e}),_.a.reset(),this.props.loadModelNews({limit:d.tb,offset:e*d.tb-d.tb,shouldBeMarkedAsRead:!0})}}render(){const{total:e}=this.props,{currentPage:t}=this.state;return i.a._(u.a,{titleKey:"seo.title.modelNews"},i.a._("div",{className:"page model-news-page"},i.a._("div",{className:"media-up-to-m-hidden"},i.a._(l.a,{key:"categoriesInLeftColumn",showCounts:!0,className:"model-list-filter"})),i.a._("div",{className:"model-news-page-content"},i.a._("div",{className:"page-header"},i.a._(h.a,null,Object(g.d)("seo.title.modelNews"))),i.a._(c.a,{shouldBeMarkedAsRead:!0}),i.a._(m.a,{currentPage:t,itemsCount:e,pageChangeCallback:this.pageChangeHandler,pageSize:d.tb,hiddenButtons:!1}))))}}v.displayName="ModelNewsPage",v.checkAccess=b.v;const f={loadModelNews:r.a};t.a=Object(o.c)(e=>({total:Object(p.d)(e)}),e=>Object(n.b)(f,e))(v)},function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(5),n=s(180),r=s(320),l=s(206),c=s(237),d=s(65),p=s(382),u=s(283),h=s(284),m=s(1);class g extends i.a.Component{_A(){this.props.clearOnlineModels(),this.props.loadRecommended()}_b8(){const e=Object(m.e)("seo.title.tag.recommended"),t=Object(m.e)("seo.description.tag.recommended");return i.a._(p.a,{title:e,description:t})}render(){return i.a._(d.a,{titleKey:"seo.title.tag.recommended",descriptionKey:"seo.description.tag.recommended"},i.a._(i.a.Fragment,null,i.a._(u.a,null),i.a._("div",{className:"index-page page page-columns"},i.a._(h.a,null),i.a._(l.a,null),i.a._("div",{className:"index-page-content-wrapper"},i.a._(c.a,{isLazyLoading:!0,hasFiltersColumn:!0,shouldShowPopularSnapshot:!0},i.a._(r.a,{isRecommendedPage:!0}))))))}}g.displayName="RecommendedPage";const b={loadRecommended:n.d,clearOnlineModels:n.a};t.a=Object(o.c)(null,b)(g)},,function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var a=s(0),i=s.n(a),o=s(5),n=s(524),r=s(65),l=s(190),c=s(41),d=s(37);const p=({isModel:e})=>e?i.a._(l.a,{to:"/earnings/tokens-history",status:200}):i.a._(r.a,{titleKey:"seo.title.tokensHistory"},i.a._(n.a,null));p.displayName="UserTokensHistoryPageComp",p.checkAccess=c.s;const u=Object(o.c)(e=>({isModel:Object(d.i)(e)}))(p)},,,,,,,,,,,,function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(65),n=s(246),r=s(41);class l extends i.a.Component{render(){return i.a._(o.a,{titleKey:"seo.title.404"},i.a._("div",{className:"page not-found-page"},i.a._(n.a,null)))}}l.displayName="NotFoundPage",l.checkAccess=r.l,t.a=l},function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(65),n=s(97);const r=()=>i.a._(o.a,{titleKey:"seo.title.billing"},i.a._("section",{className:"page limited-width"},i.a._("div",{className:"page-header"},i.a._(n.a,null,"Billing Support")),i.a._("div",{className:"page-content"},i.a._("h3",null,"Paymentico members:"),i.a._("div",{className:"spacer"}),i.a._("p",null,"Billing support:"," ",i.a._("a",{href:"https://help.paymentico.com/",target:"_blank",rel:"noopener noreferrer"},"https://help.paymentico.com/")),i.a._("p",null,"Email:"," ",i.a._("a",{href:"mailto:billing@epoch.com"},"help@paymentico.com")),i.a._("p",null,"Phone: 1-855-877-7020 (USA/Canada Toll Free)"),i.a._("p",null,"Phone: +441344586020 (UK/International)"),i.a._("br",null),i.a._("h3",null,"Epoch members:"),i.a._("div",{className:"spacer"}),i.a._("p",null,"Billing support:"," ",i.a._("a",{href:"https://www.epoch.com/billing_support/find_purchase",target:"_blank",rel:"noopener noreferrer"},"https://www.epoch.com/billing_support",i.a._("wbr",null),"/find_purchase")),i.a._("p",null,"Email:"," ",i.a._("a",{href:"mailto:billing@epoch.com"},"billing@epoch.com")),i.a._("p",null,"Phone Toll Free: +1 800 893 8871"),i.a._("p",null,"Phone Worldwide: +1 310 664 5810"),i.a._("br",null),i.a._("h3",null,"SegPay members:"),i.a._("div",{className:"spacer"}),i.a._("p",null,"Billing support:"," ",i.a._("a",{href:"http://cs.segpay.com/",target:"_blank",rel:"noopener noreferrer"},"http://cs.segpay.com/")),i.a._("p",null,"Email:"," ",i.a._("a",{href:"mailto:help@segpay.com"},"help@segpay.com")),i.a._("p",null,"Phones: +1-954-414-1610 and 1-888-376-0948"),i.a._("br",null),i.a._("h3",null,"CentroBill members:"),i.a._("div",{className:"spacer"}),i.a._("p",null,"Customer self service:"," ",i.a._("a",{href:"http://centrobill.com/consumer/index.php",target:"_blank",rel:"noopener noreferrer"},"http://centrobill.com/consumer/index.php")),i.a._("p",null,"Email:"," ",i.a._("a",{href:"mailto:support@centrobill.com"},"support@centrobill.com")),i.a._("p",null,"Phone support: +1-877-778-8382"),i.a._("br",null),i.a._("h3",null,"Webbiling members:"),i.a._("div",{className:"spacer"}),i.a._("p",null,"Contact email:"," ",i.a._("a",{href:"mailto:usersupport@webbilling.com"},"usersupport@webbilling.com")))));r.displayName="BillingSupportPage",t.a=r},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(156),r=s(65),l=s(163),c=s(276);class d extends i.a.Component{_A(){this.props.loadStaticContent(n.a.CHILD_PROTECTION)}render(){const{content:e}=this.props,t=Object(l.e)({content:e});return i.a._(r.a,{titleKey:"seo.title.2257"},i.a._("section",{className:"page static-page limited-width"},i.a._("div",{className:"page-content"},i.a._("div",{dangerouslySetInnerHTML:{__html:t}}))))}}d.displayName="ChildProtectionPage";t.a=Object(o.c)(e=>({content:Object(c.a)(e,n.b.CHILD_PROTECTION)}),{loadStaticContent:n.d})(d)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(156),r=s(65),l=s(163),c=s(276),d=s(26);class p extends i.a.Component{_A(){this.props.loadStaticContent(n.a.COOKIE)}render(){const{isXHamsterLive:e,isWhiteLabel:t,canonicalHost:s,content:a}=this.props,o=Object(l.e)({content:a,canonicalHost:s,isXHamsterLive:e,isWhiteLabel:t});return i.a._(r.a,{titleKey:"seo.title.cookiePrivacy"},i.a._("section",{className:"page static-page limited-width cookie-privacy-page"},i.a._("div",{className:"page-content"},i.a._("div",{dangerouslySetInnerHTML:{__html:o}}))))}}p.displayName="CookiePrivacyPage";t.a=Object(o.c)(e=>({content:Object(c.a)(e,n.b.COOKIE),canonicalHost:e.whiteLabels.whiteLabelHost,isXHamsterLive:Object(d.j)(e),isWhiteLabel:Object(d.i)(e)}),{loadStaticContent:n.d})(p)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(32),r=s(156),l=s(65),c=s(430),d=s(97),p=s(276);class u extends i.a.Component{_A(){this.props.loadStaticContent(r.b.COPYRIGHT)}render(){return i.a._(l.a,{titleKey:"seo.title.copyrights"},i.a._("section",{className:"page limited-width"},i.a._("div",{className:"page-header"},i.a._(d.a,null,"DMCA / Copyrights"),i.a._("div",{className:"header-notes"},i.a._("p",null,"Effective date:"," ",i.a._(c.a,null)),i.a._("p",null,"Last modified:"," ",i.a._(c.a,{dateTime:new Date(2015,11,1)})))),i.a._("div",{className:"page-content",dangerouslySetInnerHTML:{__html:this.props.content}})))}}u.displayName="CopyrightPage";t.a=Object(o.c)(e=>({content:Object(p.a)(e,r.b.COPYRIGHT)}),e=>Object(n.b)({loadStaticContent:r.c},e))(u)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(156),r=s(65),l=s(163),c=s(276),d=s(26);class p extends i.a.Component{_A(){this.props.loadStaticContent(n.a.PRIVACY)}render(){const{isXHamsterLive:e,isWhiteLabel:t,canonicalHost:s,content:a,termsLanguage:o}=this.props,n=Object(l.e)({content:a,canonicalHost:s,isXHamsterLive:e,isWhiteLabel:t,termsLanguage:o});return i.a._(r.a,{titleKey:"seo.title.privacy"},i.a._("section",{className:"page static-page limited-width privacy-page"},i.a._("div",{className:"page-content"},i.a._("div",{dangerouslySetInnerHTML:{__html:n}}))))}}p.displayName="PrivacyPage";t.a=Object(o.c)(e=>({canonicalHost:e.whiteLabels.whiteLabelHost,content:Object(c.a)(e,n.b.PRIVACY),isXHamsterLive:Object(d.j)(e),isWhiteLabel:Object(d.i)(e),termsLanguage:e.config.data.i18n.current}),{loadStaticContent:n.d})(p)},function(e,t,s){"use strict";var a=s(201),i=s.n(a),o=(s(8),s(0)),n=s.n(o),r=s(5),l=s(156),c=s(65),d=s(163),p=s(36),u=s(276);class h extends n.a.Component{_A(){this.props.loadStaticContent(l.a.TERMS)}render(){const{content:e,canonicalHost:t,termsLanguage:s}=this.props,a=Object(d.e)({content:e,canonicalHost:t,termsLanguage:s});return n.a._(c.a,{titleKey:"seo.title.terms"},n.a._("section",{className:"page static-page limited-width"},n.a._("div",{className:"page-content"},n.a._("div",{dangerouslySetInnerHTML:{__html:a}}))))}}h.displayName="TermsPage";t.a=Object(r.c)(e=>({content:Object(u.a)(e,l.b.TERMS),canonicalHost:e.whiteLabels.canonicalHost||i()(Object(p.h)(e)),termsLanguage:e.config.data.i18n.current}),{loadStaticContent:l.d})(h)},,function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(5),n=s(65),r=s(1),l=s(41),c=s(520);class d extends i.a.Component{render(){return i.a._(n.a,{description:Object(r.d)("seo.description.forgotPassword",{siteName:this.props.siteName}),titleKey:"seo.title.forgotPassword"},i.a._("div",{className:"container island-page forgot-password-page"},i.a._(c.a,null)))}}d.displayName="ForgotPasswordPage",d.checkAccess=l.p;t.a=Object(o.c)(e=>({siteName:e.whiteLabels.siteName}))(d)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(65),r=s(161),l=s(234),c=s(41),d=(s(20),s(185)),p=s(393),u=s(15),h=s(25),m=s(108);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class b extends i.a.Component{constructor(...e){super(...e),this.state={currentPage:1},this.propsUpdateToActionsMap=[{update:h.c,action:()=>{const{currentPage:e}=this.state;this.props.initMyFriends({offset:e*u.p-u.p,limit:u.p})}},{update:["friendIds"],action:()=>{const{friendIds:e}=this.props,{currentPage:t}=this.state;if(t>1&&!e.length){const e=t-1;this.setState({currentPage:e}),this.props.initMyFriends({offset:e*u.p-u.p,limit:u.p})}}}],this.pageChangeHandler=e=>{this.setState({currentPage:e}),this.props.loadFriends({offset:e*u.p-u.p,limit:u.p})}}render(){const{friendIds:e,isLoggedIn:t,isPending:s,friendshipCount:a}=this.props;let o;if(t){const{currentPage:t}=this.state;o=i.a._("div",{className:"friends-page"},i.a._("div",{className:"page page-without-header"},i.a._(p.a,{className:"page-block",friendIds:e,isPending:s,isOwnProfile:!0}),i.a._(l.a,{currentPage:t,itemsCount:a,pageChangeCallback:this.pageChangeHandler,pageSize:u.p,hiddenButtons:!1})))}else o=null;return i.a._(r.a,g({propsUpdateToActionsMap:this.propsUpdateToActionsMap},this.props),i.a._(n.a,{titleKey:"seo.title.friends"},o))}}b.displayName="MyFriendsPage",b.checkAccess=c.j;const _={loadFriends:d.c,initMyFriends:d.b};t.a=Object(o.c)(e=>{const{auth:t,myFriends:s}=e,a=Object(m.h)(e),i=Object(m.c)(e);return{currentUser:t.currentUser,isLoggedIn:t.isLoggedIn&&!t.isLoggingOut,isPending:s.isPending,friendIds:a,friendshipCount:i}},_)(b)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(65),r=s(161),l=s(59),c=s(234),d=s(41),p=(s(20),s(576)),u=s(393),h=s(15),m=s(25),g=s(108),b=s(28);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const v=()=>i.a._("div",{className:"friends-page"},i.a._("div",{className:"page page-without-header"},i.a._("div",{className:"loader-container"},i.a._(l.a,{isCentered:!0}))));v.displayName="_Bm";class f extends i.a.Component{constructor(...e){super(...e),this.state={currentPage:1,isDataFailed:!1,isDataPending:this.props.isPending},this.propsUpdateToActionsMap=[{update:[m.b,m.p],action:()=>{const{match:{params:{username:e}}}=this.props,{currentPage:t}=this.state;this.props.initFriends(e,{offset:t*h.p-h.p,limit:h.p})}}],this.pageChangeHandler=e=>{const{match:{params:{username:t}}}=this.props;this.setState({currentPage:e}),this.props.loadFriends({username:t},{offset:e*h.p-h.p,limit:h.p})}}static getDerivedStateFromProps(e){const{isUserNotFound:t,match:{params:{username:s}},routerReplace:a,user:i}=e;if(!i)return{isDataFailed:t,isDataPending:!t};i.isModel&&a(`/${i.username}`),i.username!==s&&a(`/user/${i.username}/friends`);return{isDataPending:!1}}render(){const{friendIds:e,friendshipCount:t,isPending:s,match:{params:a}}=this.props,{currentPage:o,isDataFailed:l,isDataPending:d}=this.state;return i.a._(r.a,_({propsUpdateToActionsMap:this.propsUpdateToActionsMap},this.props),i.a._(n.a,{isDataFailed:l,isDataPending:d,titleKey:"seo.title.friends",_Bm:v,indexingType:"none"},i.a._("div",{className:"friends-page"},i.a._("div",{className:"page page-without-header"},i.a._(u.a,{className:"page-block",friendIds:e,isPending:s,username:a.username}),i.a._(c.a,{currentPage:o,itemsCount:t,pageChangeCallback:this.pageChangeHandler,pageSize:h.p,hiddenButtons:!1})))))}}f.displayName="UserFriendsPage",f.checkAccess=d.C;const C=Object(b.a)(),N=Object(g.a)("match.params.username"),O=Object(g.b)("match.params.username"),y={initFriends:p.a,loadFriends:p.b,routerReplace:d.I};t.a=Object(o.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i},userFriends:o}=e,n=C(e,t);return{currentUser:s,isLoggedIn:a&&!i,isPending:o.isPending,isUserNotFound:Object(b.f)(e,t.match.params.username),friendIds:N(e,t),friendshipCount:O(e,t),user:n}},y)(f)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(17),r=s(65),l=s(161),c=s(13),d=s(6),p=s(59),u=s(3),h=s(1),m=s(41),g=(s(20),s(406)),b=s(37);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const v="subscribe";class f extends i.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:["canSubscribe","params"],action:()=>{const{canSubscribe:e,match:{params:{action:t}}}=this.props;e&&t===v&&this.props.renew()}}],this.cancelMembershipClickHandler=()=>{this.props.cancel()},this.stayGoldClickHandler=()=>{const{currentUser:e,routerPush:t}=this.props;t(`/user/${e.username}`)},this.renewClickHandler=()=>{this.props.emitButtonEvent(u.b.GOLD_MEMBERSHIP_PAGE_RENEW)},this.goToMainPageClickHandler=()=>{this.props.routerPush("/")}}componentWillUnmount(){this.props.reset()}_b9(){return i.a._("div",{className:"gold-membership-unsubscribe"},i.a._(d.a,{img:"unsubscribe",size:94}),i.a._("div",{className:"gold-membership-header"},Object(h.d)("goldMembershipPage.unsubscribe.header")),i.a._("div",{className:"gold-membership-description"},Object(h.d)("goldMembershipPage.unsubscribe.description")),i.a._("div",{className:"button-wrapper"},i.a._(c.a,{size:"medium",onClick:this.cancelMembershipClickHandler,overflowVisible:!0},Object(h.d)("goldMembershipPage.unsubscribe.cancelMembership")),i.a._(c.a,{size:"medium",style:"primary",onClick:this.stayGoldClickHandler,overflowVisible:!0},Object(h.d)("goldMembershipPage.unsubscribe.stayGold"))))}_ba(){const{currentUser:{mayRenewRebill:e}}=this.props;return i.a._("div",{className:"gold-membership-unsubscribed"},i.a._(d.a,{img:"success",size:94}),i.a._("div",{className:"gold-membership-header"},Object(h.d)("goldMembershipPage.unsubscribed.header")),i.a._("div",{className:"gold-membership-description"},Object(h.d)("goldMembershipPage.unsubscribed.description")),i.a._("div",{className:"button-wrapper"},e&&i.a._(c.a,{size:"medium",style:"primary",onClick:this.renewClickHandler},Object(h.d)("goldMembershipPage.unsubscribed.renew")),i.a._(c.a,{size:"medium",style:"auth-banner",className:"gold-membership-btn-second",onClick:this.goToMainPageClickHandler},Object(h.d)("goldMembershipPage.unsubscribed.goToMainPage"))))}_Ce(){const{hasGoldMembershipSubscription:e}=this.props;return i.a._("div",{className:"gold-membership-error"},i.a._(d.a,{img:"error",size:94}),i.a._("div",{className:"gold-membership-header"},Object(h.d)("goldMembershipPage.error.header")),i.a._("div",{className:"gold-membership-description"},e?Object(h.d)("goldMembershipPage.error.unsubscriptionDescription"):Object(h.d)("goldMembershipPage.error.subscriptionDescription")),i.a._(c.a,{size:"medium",style:"auth-banner",onClick:e?this.cancelMembershipClickHandler:this.renewClickHandler},Object(h.d)("goldMembershipPage.error.tryAgain")))}_bb(){const{hasGoldMembershipSubscription:e}=this.props;return i.a._("div",{className:"gold-membership-loading"},i.a._(p.a,{isInline:!0}),i.a._("div",{className:"gold-membership-description"},e?Object(h.d)("goldMembershipPage.unsubscriptionProgress"):Object(h.d)("goldMembershipPage.subscriptionProgress")))}_bc(){return i.a._("div",{className:"gold-membership-subscribed"},i.a._(d.a,{img:"success",size:94}),i.a._("div",{className:"gold-membership-header"},Object(h.d)("goldMembershipPage.subscribed.header")),i.a._("div",{className:"gold-membership-description"},Object(h.d)("goldMembershipPage.subscribed.description")),i.a._(c.a,{size:"medium",style:"auth-banner",className:"gold-membership-btn-second",onClick:this.goToMainPageClickHandler},Object(h.d)("goldMembershipPage.subscribed.goToMainPage")))}render(){const{error:e,hasCancelSucceeded:t,hasRenewSucceeded:s,isPending:a}=this.props;let o;return o=a?this._bb():e?this._Ce():s?this._bc():t?this._ba():this._b9(),i.a._(l.a,_({propsUpdateToActionsMap:this.propsUpdateToActionsMap},this.props),i.a._(r.a,{isWrappedContent:!1},i.a._("div",{className:"gold-membership-page container"},o)))}}f.displayName="GoldMembershipPage",f.checkAccess=m.k;const C={cancel:g.a,emitButtonEvent:n.b,renew:g.c,reset:g.d,routerPush:m.H};t.a=Object(o.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},goldMembership:i}=e,{canSubscribe:o,error:n,hasCancelSucceeded:r,hasRenewSucceeded:l,isPending:c}=i;return{canSubscribe:o,currentUser:t,error:n,hasCancelSucceeded:r,hasRenewSucceeded:l,hasGoldMembershipSubscription:Object(b.d)(e),isLoggedIn:s&&!a,isPending:c}},C)(f)},,function(e,t,s){"use strict";var a=s(111),i=s.n(a),o=s(128),n=s.n(o),r=s(2),l=s.n(r),c=s(8),d=s.n(c),p=s(0),u=s.n(p),h=s(5),m=s(52),g=s(295);const b={addWelcomeBotMessage:m.n};var _=Object(h.c)(null,b)(({addWelcomeBotMessage:e})=>(Object(p.useEffect)(()=>(g.a.addCallableMethod("sendChatMessage",({sender:t,messageFormat:s})=>{e(t,s)}),g.a.addCallableMethod("matchRole",({userRoles:e,botRoles:t})=>e.some(e=>t.includes(e))),()=>{g.a.terminate()}),[]),null)),v=s(48),f=s(120),C=s.n(f),N=s(129),O=s(18),y=s(13),w=s(6),S=s(3),k=s(22),j=s(390);const I={installApp:N.d,showModal:O.c,openAppSettings:N.j};class T extends u.a.Component{constructor(...e){super(...e),this.install=()=>{const{app:e}=this.props;this.props.installApp(e.id),this.props.closeDescription()},this.uninstall=()=>{const{app:e}=this.props;this.props.showModal(S.F.APP_BOT_REMOVE,{app:e})},this.showSettings=()=>{const{app:e}=this.props;this.props.openAppSettings(e.id)}}_Hf(){const{app:{modelSettings:e,isInstalled:t}}=this.props;return u.a._("div",{className:"buttons"},!t&&u.a._(y.a,{onClick:this.install,style:"apply"},u.a._(w.a,{img:"plus-unframed"}),"Install"),e&&t&&u.a._(y.a,{onClick:this.showSettings,style:"default"},u.a._(w.a,{img:"settings"}),"Setup"),t&&u.a._(y.a,{onClick:this.uninstall,style:"pale"},u.a._(w.a,{img:"trash"}),"Remove"))}_B7(){const{app:e}=this.props;return u.a._("div",{className:"header"},u.a._("div",{className:"info"},u.a._("img",{className:"app-image",src:e.imageUrl,alt:""}),u.a._("div",{className:"name-container"},u.a._("div",{className:"name"},e.title),u.a._("div",{className:"author"},u.a._(w.a,{img:"stripchat-logo"}),"Stripchat"))),this._Hf())}_bd(){const{app:{screenshots:e}}=this.props;return e.length?u.a._("div",{className:"screenshots"},u.a._(j.a,{albumPhotos:e,isAlbumAccessGranted:!0,shouldPreventToggleCollection:!0})):null}_F(){const{app:e}=this.props;return u.a._("div",{className:"content"},u.a._("div",{className:"details"},u.a._("h6",null,"Description"),u.a._("p",{className:"description"},e.description),u.a._("p",null,"Version:"," ",Object(k.j)(e.approvedAt,k.f.HUMAN_DATE_TIME)),u.a._("p",null,"Category:"," ",e.category),u.a._("p",null,"Support:"," ",e.contact)),this._bd())}render(){return u.a._("div",{className:"app-description"},u.a._("div",{className:"breadcrumbs"},u.a._("a",{onClick:this.props.closeDescription},u.a._(w.a,{img:"chevron-right"}),"Back")),u.a._("div",{className:"block"},this._B7(),this._F()))}}T.displayName="AppDescription",T.defaultProps={app:{}};var P=Object(h.c)(null,I)(T),M=s(24),E=s(42),A=s(110);const U={updateAppSettings:N.n,showSuccessNotification:E.f,addExtensionActiveMessage:m.c,openAppSettings:N.j};class H extends u.a.Component{constructor(...e){super(...e),this.switcherClickHandler=(e,t)=>{const{app:s}=this.props,{title:a}=s;t.preventDefault(),t.stopPropagation(),this.props.updateAppSettings(s.id,e),e&&this.props.showSuccessNotification(`"${a}" is active`,`activate${a}`,{timeout:3e3}),this.props.addExtensionActiveMessage(M.h.EXTENSION_ACTIVE,s,e)},this.showSettings=e=>{const{app:t}=this.props;e.preventDefault(),e.stopPropagation(),this.props.openAppSettings(t.id)},this.tileClickHandler=()=>{const{app:e}=this.props;this.props.tileClickHandler(e)}}_be(){const{app:{modelSettings:e,isInstalled:t},isLibrary:s}=this.props;return e&&!s?u.a._("div",{className:"actions"},u.a._(A.a,{size:"default",theme:"light",isChecked:e.isEnabled,onChange:this.switcherClickHandler}),u.a._("div",{className:"settings",onClick:this.showSettings},u.a._(w.a,{img:"settings"}))):t?u.a._("div",{className:"actions"},u.a._(w.a,{img:"check-2"})):null}_E0(){const{app:e}=this.props;return u.a._("div",{className:"info"},u.a._("div",{className:"title"},e.title),u.a._("div",{className:"author"},u.a._(w.a,{img:"stripchat-logo"}),"Stripchat"),u.a._("div",{className:"category"},"Chat Bot"))}render(){const{app:e}=this.props,{imageUrl:t}=e;return u.a._("div",{className:"app-tile",onClick:this.tileClickHandler},u.a._("div",{className:"app-image"},u.a._("img",{src:t,alt:""}),u.a._("span",{className:"app-description"},e.summary)),u.a._("div",{className:"info-wrapper"},this._E0(),this._be()))}}H.displayName="AppTile",H.defaultProps={app:{}};var L=Object(h.c)(null,U)(H),R=s(84),F=s(80);class D extends u.a.Component{constructor(...e){super(...e),this.tileClickHandler=e=>{this.props.selectAppDescription(e),F.a.to(`#${R.b}`)},this.closeDescription=()=>{this.props.selectAppDescription(null)}}_A(){this.props.loadAvailableApps(),this.props.loadInstalledApps()}render(){const{library:e=[],installedApps:t=[],selectedApp:s}=this.props,a=e.map(e=>u.a._(L,{key:e.id,app:e,tileClickHandler:this.tileClickHandler,isLibrary:!0})),i=t.map(e=>u.a._(L,{key:e.id,app:e,tileClickHandler:this.tileClickHandler}));return s?u.a._(P,{app:s,closeDescription:this.closeDescription}):u.a._("div",{className:"app-store"},Boolean(t.length)&&u.a._("h4",null,"Installed Extensions"),u.a._("div",{className:"show-settings"},i),u.a._("h4",null,"Extensions Library"),u.a._("div",{className:"show-settings"},a))}}D.displayName="AppStore";const x={loadAvailableApps:N.h,loadInstalledApps:N.i,selectAppDescription:N.k};var B=Object(h.c)(e=>{const{extensions:{library:t,installedApps:s,selectedApp:a}}=e;return{library:t,installedApps:s,selectedApp:a}},x)(D),V=s(104),z=s(513),$=s.n(z),G=s(27),W=s.n(G),K=s(82),q=s.n(K),J=s(32),Y=s(10);const X=({id:e,className:t,content:s,header:a})=>u.a._("div",{id:e,className:"broadcast-settings-block-wrapper"},u.a._("div",{className:Object(Y.c)("broadcast-settings-block",t)},u.a._("div",{className:"broadcast-settings-block-header"},a),u.a._("div",{className:"broadcast-settings-block-content"},s)));X.displayName="BroadcastSettingsBlock",X.defaultProps={id:""},X.defaultProps={className:""};var Q=X,Z=s(1);class ee extends p.PureComponent{constructor(...e){super(...e),this.state={isOpen:!1},this.toggle=e=>{e.preventDefault(),this.setState(e=>({isOpen:!e.isOpen}))},this._F=()=>{const{messageId:e,expandMessageId:t}=this.props,{isOpen:s}=this.state;return s?`${Object(Z.d)(e)} ${Object(Z.d)(t)}`:Object(Z.d)(e)},this._bf=()=>{const{expandMessageId:e}=this.props,{isOpen:t}=this.state;return e?u.a._("span",{className:"broadcast-settings-hint-toggle-btn",onClick:this.toggle,role:"button"},t?Object(Z.d)("broadcastSettings.hint.showLess"):Object(Z.d)("broadcastSettings.hint.showMore")):null}}render(){const{className:e}=this.props;return u.a._("div",{className:Object(Y.c)("broadcast-settings-hint",e)},this._F(),this._bf())}}ee.displayName="Hint",ee.defaultProps={expandMessageId:"",className:""};var te=ee,se=s(14),ae=s(75),ie=s(56),oe=s(43);s(20);const ne={announceGoal:V.c,setGoal:V.q};class re extends p.Component{constructor(e){super(e),this.setInitialGoal=()=>{const{goalData:{description:e,left:t}}=this.props;this.setState({hasSettingsChanged:!1,goalLeft:t,description:e})},this.enableGoal=()=>{const{goalData:{isEnabled:e}}=this.props;e||this.props.setGoal({isEnabled:!0,description:this.state.description})},this.switcherClickHandler=()=>{const{goalData:{isEnabled:e,left:t}}=this.props;this.props.setGoal({isEnabled:!e,description:this.state.description,goal:t})},this.cancelClickHandler=()=>{this.setInitialGoal(this.props)},this.resetError=()=>{this.setState({error:{}})},this.saveSettings=()=>{const{goalLeft:e,description:t}=this.state,s=this.getError();this.setState({error:s}),W()(s)&&(this.setState({hasSettingsChanged:!1}),this.props.setGoal({goal:e,isEnabled:this.props.goalData.isEnabled,description:t}))},this.getError=()=>{const{goalLeft:e,description:t}=this.state;return e&&!t?{message:Object(Z.d)("broadcastSettings.blocks.goal.validation.goal"),field:"activity"}:!e&&t?{message:Object(Z.d)("broadcastSettings.blocks.goal.validation.price"),field:"price"}:{}},this.goalAmountChangeHandler=e=>{this.setState({hasSettingsChanged:!0,goalLeft:$()(e.target.value)||0})},this.goalChangeHandler=e=>{this.setState({hasSettingsChanged:!0,description:e.target.value})},this.inputGoalFocusHandler=()=>{this.setState({isGoalAmountActive:!0}),this.resetError()},this.inputGoalBlurHandler=()=>{this.setState({isGoalAmountActive:!1})},this._bg=()=>{const{isEnabled:e}=this.props.goalData,{description:t,goalLeft:s,error:a}=this.state;return u.a._("div",{className:"settings",onClick:this.enableGoal},u.a._("div",{className:"items"},u.a._(ie.a,{placeholder:Object(Z.d)("broadcastSettings.blocks.goal.placeholder.goal"),className:Object(Y.c)("col-activity",{error:"activity"===a.field}),maxLength:"40",size:"small",onChange:this.goalChangeHandler,onFocus:this.resetError,value:t||"",id:"set-goal-activity",disabled:!e}),u.a._(ie.a,{placeholder:Object(Z.d)("broadcastSettings.blocks.goal.placeholder.price"),className:Object(Y.c)("col-price",{error:"price"===a.field}),size:"small",maxLength:"6",value:s||"",theme:"default",onBlur:this.inputGoalBlurHandler,onChange:this.goalAmountChangeHandler,onFocus:this.inputGoalFocusHandler,id:"set-goal-price",disabled:!e}),a.message&&u.a._(ae.a,{error:a,targetId:`set-goal-${a.field}`,placement:"top",isMobileRelative:!1})))};const{goalData:{description:t,left:s}}=e;this.state={hasSettingsChanged:!1,description:t,goalLeft:s,error:{},isGoalAmountActive:!1}}componentDidUpdate(e,t,s){const{isGoalAmountActive:a}=this.state;q()(e,this.props)||a||this.setInitialGoal()}_B7(){const{isEnabled:e}=this.props.goalData;return u.a._(p.Fragment,null,u.a._("div",{className:" broadcast-settings-block-title broadcast-settings-block-title-main broadcast-settings-block-title-with-icon "},u.a._(w.a,{img:"goal"}),Object(Z.d)("broadcastSettings.blocks.goal.header")),u.a._(A.a,{size:"default",theme:"light",isChecked:e,onChange:this.switcherClickHandler}))}_Hf(){const{hasSettingsChanged:e}=this.state,{announceGoal:t,goalData:{isEnabled:s}}=this.props;return u.a._(p.Fragment,null,u.a._("div",{className:"broadcast-settings-block-buttons goal-buttons"},u.a._("div",null,u.a._(y.a,{onClick:this.saveSettings,style:"apply",disabled:!e},Object(Z.d)("button.save")),u.a._(y.a,{onClick:this.cancelClickHandler,style:"default",disabled:!e},Object(Z.d)("button.cancel"))),u.a._(y.a,{type:"anchor",id:"broadcast-settings-goal-announce",className:"goal-announce",onClick:t,style:"default",disabled:!s||e},u.a._(w.a,{img:"send"}),Object(Z.d)("broadcastSettings.blocks.goal.announce"),u.a._(oe.a,{isMobileRelative:!1,placement:"top",shouldPreventDefault:!0,targetId:"broadcast-settings-goal-announce",showDelay:200},Object(Z.d)("broadcastSettings.blocks.goal.announceTooltip")))))}_F(){return u.a._("div",null,this._bg(),this._Hf(),u.a._(te,{messageId:"broadcastSettings.blocks.goal.hint",expandMessageId:"broadcastSettings.blocks.goal.expandedHint",className:"broadcast-settings-block-hint-bottom"}))}render(){return u.a._(Q,{className:"goal",header:this._B7(),content:this._F()})}}re.displayName="Goal";var le=Object(h.c)(e=>({goalData:Object(se.f)(e)}),e=>Object(J.b)(ne,e))(re),ce=s(139),de=s(35),pe=s.n(de),ue=s(12);const he=["al","au","at","be","bg","ca","cz","dk","ee","fi","fr","de","gr","hk","hu","is","ie","il","it","jp","lt","nl","nz","no","pl","pt","ro","sg","sk","sl","es","se","ch","tw","gb","us"],me=({userCountry:e})=>{const[t,s]=Object(p.useState)(!1);return pe()(he,e)?u.a._("div",{className:Object(Y.c)("interactive-toy-special-offer",{close:!t})},u.a._("div",{onClick:()=>s(!t),className:"interactive-toy-special-offer-header"},Object(Z.d)("broadcastSettings.blocks.interactiveToys.kiiroo.specialOffer.header"),u.a._(w.a,{img:"close-arrow",className:"icon-close"})),t&&u.a._("div",{className:"interactive-toy-special-offer-content"},u.a._(ue.a,{messageId:"broadcastSettings.blocks.interactiveToys.kiiroo.specialOffer.content",elements:{strong:u.a._("strong",null),b:u.a._("b",null)}})," ",u.a._("a",{href:"http://shrsl.com/20gq2",target:"_blank",rel:"noopener noreferrer nofollow"},Object(Z.d)("broadcastSettings.blocks.interactiveToys.kiiroo.specialOffer.link")))):null};me.displayName="KiirooSpecialDeal";var ge=me,be=s(109),_e=s(132);const ve={showModal:O.c,updateKiirooDevices:ce.g};class fe extends p.Component{constructor(...e){super(...e),this.settingsClickHandler=()=>{this.props.showModal(S.F.KIIROO_SETTINGS)}}_A(){this.props.updateKiirooDevices()}_bh(){const{isKiirooConnected:e}=this.props;return e?Object(Z.d)("broadcastSettings.blocks.interactiveToys.kiiroo.connected"):Object(Z.d)("broadcastSettings.blocks.interactiveToys.kiiroo.default")}_bi(){const{isKiirooConnected:e}=this.props;return e?u.a._("div",{className:"interactive-toy-status connected"},Object(Z.d)("broadcastSettings.blocks.interactiveToys.status.connected")):null}render(){const{userCountry:e}=this.props;return u.a._("div",{className:"interactive-toy kiiroo"},u.a._("div",{className:"kiiroo-container"},u.a._("div",{className:"interactive-toy-content"},u.a._("div",{className:"broadcast-settings-block-title-sub"},"Kiiroo",this._bi()),u.a._("div",{className:"interactive-toy-description"},this._bh())),u.a._("div",{className:"interactive-toy-actions"},u.a._("div",{className:"interactive-toy-action-settings",onClick:this.settingsClickHandler},u.a._(w.a,{img:"settings"})))),u.a._(ge,{userCountry:e}))}}fe.displayName="KiirooToy",fe.defaultProps={isKiirooConnected:!1,userCountry:""};var Ce=Object(h.c)(e=>({isKiirooConnected:Object(be.e)(e),userCountry:Object(_e.h)(e)}),ve)(fe);class Ne extends p.Component{constructor(...e){super(...e),this.tooltipId="lovense_toy_tooltip"}_bi(){const{isExtensionActive:e}=this.props;return e?u.a._("div",{className:"interactive-toy-status extension"},Object(Z.d)("broadcastSettings.blocks.interactiveToys.status.extension")):null}_bh(){const{isExtensionActive:e}=this.props,t="broadcastSettings.blocks.interactiveToys.lovense";return e?Object(Z.d)(`${t}.extension`):Object(Z.d)(`${t}.default`)}_G3(){const{isExtensionActive:e}=this.props;return e?null:u.a._(oe.a,{placement:"left",targetId:this.tooltipId,isMobileRelative:!1,shouldPreventDefault:!0,lazyTouchEventHandling:!0},u.a._(ue.a,{elements:{link:u.a._("a",{href:"https://lovense.com/cam-model/download",target:"_blank",rel:"noopener noreferrer nofollow"})},messageId:"lovense.tooltip"}))}render(){const{isExtensionActive:e}=this.props;return u.a._("div",{className:"interactive-toy lovense"},u.a._("div",{className:"interactive-toy-content"},u.a._("div",{className:"broadcast-settings-block-title-sub"},"Lovense",this._bi()),u.a._("div",{className:"interactive-toy-description"},this._bh())),!e&&u.a._("div",{className:"interactive-toy-actions"},u.a._("div",{className:"interactive-toy-action-settings",onClick:this.settingsClickHandler,id:this.tooltipId},u.a._(w.a,{img:"exclamation-in-circle"}),this._G3())))}}Ne.displayName="LovenseToy",Ne.defaultProps={isExtensionActive:!1};var Oe=Object(h.c)(e=>({isExtensionActive:Object(be.b)(e)}))(Ne);class ye extends p.Component{_B7(){return u.a._(p.Fragment,null,u.a._("div",{className:" broadcast-settings-block-title broadcast-settings-block-title-main broadcast-settings-block-title-with-icon "},u.a._(w.a,{img:"lovense"}),Object(Z.d)("broadcastSettings.blocks.interactiveToys.header")))}_F(){return u.a._(p.Fragment,null,u.a._(Oe,null),u.a._(Ce,null),u.a._(te,{messageId:"broadcastSettings.blocks.interactiveToys.hint",expandMessageId:"broadcastSettings.blocks.interactiveToys.expandedHint"}))}render(){return u.a._(Q,{className:"interactive-toys",header:this._B7(),content:this._F()})}}ye.displayName="InteractiveToys";var we=ye,Se=s(78),ke=s.n(Se),je=s(131),Ie=s.n(je),Te=s(63),Pe=s.n(Te),Me=s(106),Ee=s.n(Me),Ae=s(33),Ue=s.n(Ae),He=s(70),Le=s.n(He);const Re={loadTipMenu:V.l,updateTipMenu:V.A,toggleTipMenu:V.u},Fe={id:Number(Ee()()),activity:null,price:null};class De extends p.Component{constructor(e){super(e),this.inputChangeHandler=ke()(({fieldName:e,id:t})=>s=>{this.changeLevel({id:t,[e]:s.target.value})}),this.inputPriceHandler=ke()(({fieldName:e,id:t})=>s=>{this.changeLevel({id:t,[e]:$()(s.target.value)||0})}),this.resetError=ke()(e=>()=>{const{errors:t}=this.state;this.setState({errors:Ie()(t,e)})}),this.getSettingListFromProps=()=>{const{tipMenu:e}=this.props;return W()(e.settings)?[Fe]:e.settings},this.addLevel=()=>{const{settings:e}=this.state,t={...Fe,id:Number(Ee()())};this.setState({hasSettingsChanged:!0,settings:[...e,t]})},this.enableTipMenu=()=>{const{isEnabled:e}=this.props.tipMenu;e||this.props.toggleTipMenu(!0)},this.changeLevel=e=>{const{settings:t}=this.state,s=Pe()(t,(t,s)=>s.id===e.id?(t.push({...s,...e}),t):(t.push(s),t),[]);this.setState({hasSettingsChanged:!0,settings:s})},this.switcherClickHandler=()=>{const{isEnabled:e}=this.props.tipMenu;this.props.toggleTipMenu(!e)},this.cancelClickHandler=()=>{this.setSettings(this.props.tipMenu)},this.getSettingsWithoutId=e=>Ue()(e,e=>Ie()(e,"id")),this.getSettingsWithId=e=>Ue()(e,e=>({...e,id:Number(Ee()())})),this.getIsSettingFieldsEmpty=e=>!e.activity&&!e.price,this.getSettingsWithoutEmpty=()=>{const{settings:e}=this.state;if(e.length>1){const t=Le()(e,e=>!this.getIsSettingFieldsEmpty(e));return t.length>=1?t:[Fe]}return e},this.getValidateLevels=e=>Pe()(e,(e,t)=>(t.activity?t.price?t.price.length>5&&(e[t.id]={message:Object(Z.d)("broadcastSettings.blocks.tipMenu.settings.validation.maxLength"),field:"price"}):e[t.id]={message:Object(Z.d)("broadcastSettings.blocks.tipMenu.settings.validation.price"),field:"price"}:e[t.id]={message:Object(Z.d)("broadcastSettings.blocks.tipMenu.settings.validation.activity"),field:"activity"},e),{}),this.saveSettings=e=>{const{isEnabled:t}=this.props.tipMenu;this.props.updateTipMenu({settings:this.getSettingsWithoutId(e),isEnabled:t})},this.updateSettings=()=>{const e=this.getSettingsWithoutEmpty(),t=this.getValidateLevels(e);this.setState({settings:e,errors:t}),W()(t)&&this.saveSettings(e)},this.removeItem=e=>{const{settings:t}=this.state,{target:{dataset:{id:s}}}=e,a=Le()(t,e=>String(e.id)!==String(s));this.setState({hasSettingsChanged:!0,settings:a})},this._bg=e=>{const{isEnabled:t}=this.props.tipMenu,{activity:s,price:a,id:i}=e,{errors:{[i]:o={}},settings:n}=this.state,r=n.length<=1;return u.a._("div",{className:"items",key:i},u.a._(ie.a,{placeholder:Object(Z.d)("broadcastSettings.blocks.tipMenu.settings.placeholder.activity"),className:Object(Y.c)("col-activity",{error:"activity"===o.field}),maxLength:"30",size:"small",onChange:this.inputChangeHandler({fieldName:"activity",id:i}),onFocus:this.resetError(i),value:s||"",id:`${i}.activity`,disabled:!t}),u.a._(ie.a,{placeholder:Object(Z.d)("broadcastSettings.blocks.tipMenu.settings.placeholder.price"),className:Object(Y.c)("col-price",{error:"price"===o.field}),size:"small",maxLength:"5",value:a||"",theme:"default",onChange:this.inputPriceHandler({fieldName:"price",id:i}),onFocus:this.resetError(i),id:`${i}.price`,disabled:!t}),!r&&t&&u.a._("div",{className:"remove-menu-item","data-id":i,onClick:this.removeItem},u.a._(w.a,{img:"close-5"})),o.message&&u.a._(ae.a,{error:o,targetId:`${i}.${o.field}`,placement:"top",isMobileRelative:!1}))},this.state={hasSettingsChanged:!1,settings:this.getSettingsWithId(this.getSettingListFromProps()),errors:{}}}_A(){this.props.loadTipMenu()}componentDidUpdate(e){q()(e,this.props)||this.setSettings()}setSettings(){this.setState({hasSettingsChanged:!1,settings:this.getSettingsWithId(this.getSettingListFromProps())})}_B7(){const{isEnabled:e}=this.props.tipMenu;return u.a._(p.Fragment,null,u.a._("div",{className:" broadcast-settings-block-title broadcast-settings-block-title-main broadcast-settings-block-title-with-icon "},u.a._(w.a,{img:"categories"}),Object(Z.d)("broadcastSettings.blocks.tipMenu.header")),u.a._(A.a,{size:"default",theme:"light",isChecked:e,onChange:this.switcherClickHandler}))}_k(){const{settings:e}=this.state;return u.a._("div",{className:"settings",onClick:this.enableTipMenu},u.a._("div",{className:"header"},u.a._("div",{className:"col-activity"},Object(Z.d)("broadcastSettings.blocks.tipMenu.settings.header.activity")),u.a._("div",{className:"col-price"},Object(Z.d)("broadcastSettings.blocks.tipMenu.settings.header.price"))),u.a._("div",{className:"rows"},e.map(this._bg)))}_bj(){const{isEnabled:e}=this.props.tipMenu,{settings:t}=this.state;return!e||t.length>=15?null:u.a._("div",{className:"add-more",onClick:this.addLevel},u.a._(w.a,{img:"plus-unframed"}),Object(Z.d)("broadcastSettings.blocks.tipMenu.settings.addMore"))}_Hf(){const{hasSettingsChanged:e}=this.state;return u.a._(p.Fragment,null,this._bj(),u.a._("div",{className:"broadcast-settings-block-buttons buttons"},u.a._(y.a,{onClick:this.updateSettings,style:"apply",disabled:!e},Object(Z.d)("button.save")),u.a._(y.a,{onClick:this.cancelClickHandler,style:"default",disabled:!e},Object(Z.d)("button.cancel"))))}_F(){return u.a._("div",null,this._k(),this._Hf(),u.a._(te,{messageId:"broadcastSettings.blocks.tipMenu.hint",expandMessageId:"broadcastSettings.blocks.tipMenu.expandedHint",className:"broadcast-settings-block-hint-bottom"}))}render(){return u.a._(Q,{className:"tip-menu",header:this._B7(),content:this._F()})}}De.displayName="TipMenu",De.defaultProps={tipMenu:{settings:[Fe],isEnabled:!1}};var xe=Object(h.c)(e=>{const{broadcast:{tipMenu:t}}=e;return{tipMenu:t}},Re)(De);const Be={setTopic:V.r};class Ve extends p.Component{constructor(e){super(e),this.setInitialGoal=()=>{const{topic:e}=this.props;this.setState({hasSettingsChanged:!1,topic:e})},this.cancelClickHandler=()=>{this.setInitialGoal(this.props)},this.saveSettings=()=>{const{topic:e}=this.state;this.setState({hasSettingsChanged:!1}),this.props.setTopic({topic:e})},this.topicChangeHandler=e=>{this.setState({hasSettingsChanged:!0,topic:e.target.value})},this._bg=()=>{const{topic:e}=this.state;return u.a._("div",{className:"settings"},u.a._("div",{className:"items"},u.a._(ie.a,{placeholder:Object(Z.d)("broadcastSettings.blocks.topic.placeholder"),className:"'col-activity'",maxLength:"100",size:"small",onChange:this.topicChangeHandler,value:e||""})))};const{topic:t}=e;this.state={hasSettingsChanged:!1,topic:t}}componentDidUpdate(e,t,s){const{topic:a}=e,{topic:i}=this.props;a!==i&&this.setInitialGoal()}_B7(){return u.a._("div",{className:" broadcast-settings-block-title broadcast-settings-block-title-main broadcast-settings-block-title-with-icon "},u.a._(w.a,{img:"megaphone"}),Object(Z.d)("broadcastSettings.blocks.topic.header"))}_Hf(){const{hasSettingsChanged:e}=this.state;return u.a._("div",{className:"broadcast-settings-block-buttons"},u.a._("div",null,u.a._(y.a,{onClick:this.saveSettings,style:"apply",disabled:!e},Object(Z.d)("button.save")),u.a._(y.a,{onClick:this.cancelClickHandler,style:"default",disabled:!e},Object(Z.d)("button.cancel"))))}_F(){return u.a._(u.a.Fragment,null,this._bg(),this._Hf(),u.a._(te,{messageId:"broadcastSettings.blocks.topic.hint",expandMessageId:"broadcastSettings.blocks.topic.expandedHint",className:"broadcast-settings-block-hint-bottom"}))}render(){return u.a._(Q,{className:"topic",header:this._B7(),content:this._F()})}}Ve.displayName="Topic";var ze=Object(h.c)(e=>({topic:Object(se.mb)(e)}),e=>Object(J.b)(Be,e))(Ve),$e=s(489),Ge=s.n($e),We=s(473),Ke=s.n(We),qe=s(72),Je=s(29);const Ye=1,Xe=2,Qe=3,Ze=({className:e,items:t,isLayoutUpToXL:s,isLayoutUpToL:a})=>{const i=Ge()(t,null),o=(e,t)=>{const s=Ke()(t,Array);return e.forEach((e,a)=>{s[a%t].push(e)}),s};return u.a._("div",{className:e},o(i,a?Ye:s?Xe:Qe).map((e,t)=>{const s=`group-${t}`;return u.a._("div",{key:s,className:"broadcast-settings-group-wrapper"},e)}))};Ze.displayName="SettingsLayout",Ze.defaultProps={className:"",isLayoutUpToL:!1,isLayoutUpToXL:!1};var et=Object(h.c)(e=>({isLayoutUpToL:Object(Je.q)(e),isLayoutUpToXL:Object(Je.t)(e)}),null)(Ze);const tt=()=>u.a._(et,{className:"show-settings",items:[u.a._(le,{key:"Goal"}),u.a._(ze,{key:"Topic"}),u.a._(xe,{key:"TipMenu"}),u.a._(we,{key:"InteractiveToys"})]});tt.displayName="ShowSettings";var st=tt,at=s(243),it=s.n(at),ot=s(74),nt=s.n(ot),rt=s(85),lt=s.n(rt),ct=s(174),dt=s.n(ct),pt=s(210),ut=s.n(pt),ht=s(113),mt=s(59),gt=s(44);class bt extends p.PureComponent{constructor(...e){super(...e),this.uid=Object(qe.o)(),this.uploadPreviewInputRef=u.a.createRef(),this.state={isUpdating:!1},this.uploadClickHandler=e=>{this.uploadPreviewInputRef.current&&this.uploadPreviewInputRef.current.click(e)},this.uploadInputChangeHandler=e=>{e.preventDefault();const t=e.target.files[0];t&&(this.setState({isUpdating:!0}),this.props.updateProfile({preview:t},gt.a.PREVIEW,{isMultipart:!0,notifications:{success:null}}))},this._B7=()=>u.a._("div",{className:" broadcast-settings-block-title broadcast-settings-block-title-main broadcast-settings-block-title-with-icon "},u.a._(w.a,{img:"cover-picture"}),Object(Z.d)("broadcastSettings.blocks.coverPicture.header")),this._bk=()=>{const{currentUser:{previewUrl:e}}=this.props,{isUpdating:t}=this.state;return t?u.a._(mt.a,{size:50}):e?null:u.a._("div",{className:"broadcast-settings-cover-picture-thumb"},u.a._(w.a,{img:"cover-picture",size:80,className:"broadcast-settings-cover-picture-thumb-icon"}))},this._bl=()=>{const{userPreviewError:e,currentUser:{previewUrl:t}}=this.props,{isUpdating:s}=this.state,a=`broadcast_settings_cover_picture_${this.uid}`,i=!s&&t?`url("${t}")`:void 0;return u.a._("div",{className:"broadcast-settings-cover-picture"},u.a._("div",{id:a,className:Object(Y.c)("broadcast-settings-cover-picture-image",{"is-updating":s},{error:e}),style:{backgroundImage:i},onClick:this.uploadClickHandler},this._bk()),Boolean(e)&&u.a._(ae.a,{error:e,fieldName:"preview",placement:"right",targetId:a}))},this._Hf=()=>{const{currentUser:{previewUrl:e}}=this.props,{isUpdating:t}=this.state,s=e?Object(Z.d)("broadcastSettings.blocks.coverPicture.actions.replace"):Object(Z.d)("broadcastSettings.blocks.coverPicture.actions.upload");return u.a._("div",{className:"broadcast-settings-block-buttons"},u.a._(y.a,{style:"default",onClick:this.uploadClickHandler,disabled:t},s),u.a._("input",{className:"broadcast-settings-cover-picture-upload-input",onChange:this.uploadInputChangeHandler,type:"file",disabled:t,ref:this.uploadPreviewInputRef}))},this._F=()=>u.a._(u.a.Fragment,null,this._bl(),this._Hf(),this._B6(),u.a._(te,{messageId:"broadcastSettings.blocks.coverPicture.hint",className:"broadcast-settings-block-hint-bottom"})),this.imageUploadEventHandler=({name:e})=>{e===S.R.FULL&&this.setState({isUpdating:!1})}}componentDidUpdate(e){const{userPreviewError:t}=this.props;t&&!q()(e.userPreviewError,t)&&this.setState({isUpdating:!1})}_B6(){const{currentUser:e}=this.props;return u.a._(ht.a,{eventsWithCallbacks:[{subscriptionKey:`image:upload:${e.id}`,callback:this.imageUploadEventHandler}]})}render(){return u.a._(Q,{id:R.h,header:this._B7(),content:this._F()})}}bt.displayName="CoverPicture",bt.defaultProps={userPreviewError:null};var _t=bt,vt=s(123);class ft extends p.Component{constructor(...e){super(...e),this.getSelectOptions=e=>{const{availableSettings:t}=this.props;return t?Ue()(t[e],e=>({label:Object(Z.d)(`broadcast.activities.${e}`),value:e})):[]},this._bm=e=>{const{startBroadcastError:t,userModified:s,activitiesErrors:a,selectHandler:i,selectBlurHandler:o}=this.props,n=a[e]||l()(t,`details.${e}`),r=this.getSelectOptions(e),c=`tags_select_${e}_${this.uid}`;return u.a._("div",{className:"do-in-my-shows-block"},u.a._("div",{className:"broadcast-settings-block-title-sub do-in-my-shows-title"},Object(Z.d)(`broadcastSettings.blocks.doInMyShows.settings.${e}.title`)),Boolean(n)&&u.a._(ae.a,{error:{message:n},targetId:c}),u.a._(vt.a,{id:c,isClearable:!0,isMultiple:!0,options:r,value:s[e],size:"small",isDisabled:!s||!r.length,onSelect:i(e),onBlur:o(e)}))},this._bn=()=>u.a._("div",{className:"do-in-my-shows-settings"},this._bm("publicActivities"),this._bm("privateActivities")),this._Hf=()=>{const{saveClickHandler:e,cancelClickHandler:t,hasChanged:s}=this.props;return u.a._("div",{className:"broadcast-settings-block-buttons"},u.a._(y.a,{style:"apply",disabled:!s,onClick:e},Object(Z.d)("button.save")),u.a._(y.a,{style:"default",disabled:!s,onClick:t},Object(Z.d)("button.cancel")))},this._F=()=>u.a._(u.a.Fragment,null,this._bn(),this._Hf(),u.a._(te,{messageId:"broadcastSettings.blocks.doInMyShows.hint",expandMessageId:"broadcastSettings.blocks.doInMyShows.expandedHint",className:"broadcast-settings-block-hint-bottom"}))}_B7(){return u.a._("div",{className:" broadcast-settings-block-title broadcast-settings-block-title-main broadcast-settings-block-title-with-icon "},u.a._(w.a,{img:"do-in-my-shows"}),Object(Z.d)("broadcastSettings.blocks.doInMyShows.header"))}render(){return u.a._(Q,{id:R.a,header:this._B7(),content:this._F()})}}ft.displayName="DoInMyShows",ft.defaultProps={availableSettings:null,activitiesErrors:null,startBroadcastError:null};var Ct=ft;class Nt extends p.Component{getSelectOptions(){const{availableSettings:e}=this.props;return Ue()(e.broadcastGenders,e=>({label:Object(Z.d)(`broadcastSettings.blocks.gender.options.${e}`),value:e}))}isRenderComponent(){const{availableSettings:e}=this.props;return e&&this.getSelectOptions().length>1}_B7(){return u.a._(p.Fragment,null,u.a._("div",{className:" broadcast-settings-block-title broadcast-settings-block-title-main broadcast-settings-block-title-with-icon "},u.a._(w.a,{img:"gender"}),Object(Z.d)("broadcastSettings.blocks.gender.header")))}_bn(){const{selectHandler:e,userGender:t}=this.props;return u.a._(vt.a,{onSelect:e,options:this.getSelectOptions(),size:"small",value:t,className:"gender-select"})}_Hf(){const{hasChanged:e,saveClickHandler:t,cancelClickHandler:s}=this.props;return u.a._("div",{className:"broadcast-settings-block-buttons"},u.a._(y.a,{style:"apply",onClick:t,disabled:!e},Object(Z.d)("button.save")),u.a._(y.a,{style:"default",onClick:s,disabled:!e},Object(Z.d)("button.cancel")))}_F(){return u.a._(p.Fragment,null,this._bn(),this._Hf(),u.a._(te,{messageId:"broadcastSettings.blocks.gender.hint",expandMessageId:"broadcastSettings.blocks.gender.expandedHint",className:"broadcast-settings-block-hint-bottom"}))}render(){return this.isRenderComponent()?u.a._(Q,{header:this._B7(),content:this._F()}):null}}Nt.displayName="Gender",Nt.defaultProps={availableSettings:null,activitiesErrors:null};var Ot=Nt;class yt extends p.Component{constructor(...e){super(...e),this.changeHandler=e=>{this.props.changeHandler(e.target.value)},this._bg=()=>{const{userModified:e,availableSettings:t}=this.props,s=l()(e,"offlineStatus"),a=l()(t,"offlineStatus.maxLength",100);return u.a._("div",{className:"settings"},u.a._("div",{className:"items"},u.a._(ie.a,{placeholder:Object(Z.d)("broadcastSettings.blocks.offlineStatus.placeholder"),className:"'col-activity'",maxLength:a,size:"small",onChange:this.changeHandler,value:s||""})))}}_B7(){return u.a._("div",{className:" broadcast-settings-block-title broadcast-settings-block-title-main broadcast-settings-block-title-with-icon "},u.a._(w.a,{img:"megaphone-border"}),Object(Z.d)("broadcastSettings.blocks.offlineStatus.header"))}_Hf(){const{hasChanged:e,saveClickHandler:t,cancelClickHandler:s}=this.props;return u.a._("div",{className:"broadcast-settings-block-buttons"},u.a._("div",null,u.a._(y.a,{onClick:t,style:"apply",disabled:!e},Object(Z.d)("button.save")),u.a._(y.a,{onClick:s,style:"default",disabled:!e},Object(Z.d)("button.cancel"))))}_F(){return u.a._(p.Fragment,null,this._bg(),this._Hf(),u.a._(te,{messageId:"broadcastSettings.blocks.offlineStatus.hint",expandMessageId:"broadcastSettings.blocks.offlineStatus.expandedHint",className:"broadcast-settings-block-hint-bottom"}))}render(){return u.a._(Q,{className:"broadcast-offline-status",header:this._B7(),content:this._F()})}}yt.displayName="OfflineStatus";const wt=e=>{const{id:t,availableSettings:s,userModified:a,optionSelectHandler:i,fieldName:o,userFieldName:n,isDisabled:r}=e,c=`pricing-settings_${o}_tooltip`;return u.a._("div",{className:"pricing-settings-input pricing-settings-select-min-duration"},u.a._(vt.a,{id:t,value:l()(a,o),onSelect:i(o),options:Ue()(l()(s,n),e=>({value:e,label:Object(Z.d)("settings.pricing.labels.option",{option:e})})),isDisabled:!s||r,size:"small"}),u.a._("div",{className:"pricing-settings-min-duration-tooltip",id:c},u.a._(w.a,{img:"question",className:"pricing-settings-tooltip-icon"}),u.a._(oe.a,{isMobileRelative:!1,placement:"left",targetId:c},u.a._("p",{className:"pricing-settings-min-duration-tooltip-header"},Object(Z.d)("settings.pricing.labels.minDuration")),u.a._("p",{className:"pricing-settings-min-duration-tooltip-header"},Object(Z.d)("settings.pricing.labels.minDurationTT")))))};wt.displayName="SelectMinDuration",wt.defaultProps={availableSettings:null};var St=wt,kt=s(7);function jt(){return(jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const It={[kt.lb.STATUS_PRIVATE]:"settings.pricing.tooltips.rates.private",[kt.lb.STATUS_VIRTUAL_PRIVATE]:"settings.pricing.tooltips.rates.virtualPrivate",[kt.lb.STATUS_GROUP_SHOW]:"settings.pricing.tooltips.rates.groupShow",[kt.lb.STATUS_P2P]:"settings.pricing.tooltips.rates.p2p",[kt.lb.STATUS_P2P_VOICE]:"settings.pricing.tooltips.rates.p2pVoice"},Tt=({id:e,availableSettings:t,userProfileStatus:s,optionSelectHandler:a,fieldName:i,userFieldName:o,fieldClassName:n,labelClassName:r,isDisabled:c,...d})=>{const p=dt()(d);ut()(p,"inputProps.id",e);const h=It[s];return u.a._("div",{className:Object(Y.c)("pricing-settings-select-with-label",n),key:i},u.a._("label",{className:Object(Y.c)("pricing-settings-label",r),htmlFor:e},Object(Z.d)(`settings.pricing.labels.${i}`)),u.a._("span",{className:"pricing-settings-input"},u.a._(vt.a,jt({id:e,onSelect:a(o),options:Ue()(l()(t,i),e=>{const t=`settings.pricing.options.${i}.${e}`,s=Object(Z.d)(t);return{value:e,label:s===t?e:s}}),isDisabled:c||!t,size:"small"},p)),Boolean(c&&h)&&u.a._(oe.a,{placement:"left",targetId:e},Object(Z.d)(h))))};Tt.displayName="SelectWithLabel",Tt.defaultProps={availableSettings:null,fieldClassName:"",labelClassName:"",isDisabled:!1};var Pt=Tt,Mt=s(146);function Et(){return(Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const At=({id:e,children:t,...s})=>{const a=Object(Mt.g)();return Object(p.useEffect)(()=>{if(!e)return;const t=`#${e}`;a.hash===t&&F.a.to(t)},[a.hash]),u.a._("div",Et({id:e},s),t)};At.displayName="Anchor";const Ut=[kt.lb.STATUS_PRIVATE,kt.lb.STATUS_P2P,kt.lb.STATUS_P2P_VOICE,kt.lb.STATUS_VIRTUAL_PRIVATE,kt.lb.STATUS_GROUP_SHOW];class Ht extends p.Component{constructor(...e){super(...e),this.state={isOpenAdditional:!1},this.toggleAdditional=()=>{this.setState(e=>({isOpenAdditional:!e.isOpenAdditional}))},this.getIsBlockDisabled=()=>{const{userProfileStatus:e}=this.props;return Ut.includes(e)},this.getSelectId=e=>`pricing_${e}`,this.getSelectWithLabelProps=(e,t)=>{const{userModified:s,availableSettings:a,userProfileStatus:i,optionSelectHandler:o}=this.props;return{id:this.getSelectId(e),availableSettings:a,userProfileStatus:i,optionSelectHandler:o,fieldName:e,userFieldName:t,value:s[t],isDisabled:this.getIsBlockDisabled()}},this.getSelectMinDurationProps=(e,t)=>{const{availableSettings:s,userProfileStatus:a,userModified:i,optionSelectHandler:o}=this.props;return{id:this.getSelectId(e),availableSettings:s,userModified:i,userProfileStatus:a,optionSelectHandler:o,fieldName:e,userFieldName:t,isDisabled:this.getIsBlockDisabled()}},this._bo=(e,t)=>{const s=this.getSelectMinDurationProps(e,t);return u.a._(St,s)},this._bp=(e,t)=>{const s=this.getSelectWithLabelProps(e,t);return u.a._(Pt,s)},this._B7=()=>u.a._("div",{className:" broadcast-settings-block-title broadcast-settings-block-title-main broadcast-settings-block-title-with-icon "},u.a._(w.a,{img:"pricing"}),Object(Z.d)("broadcastSettings.blocks.pricing.header")),this._bq=()=>u.a._("div",{className:"pricing-settings-main"},Ue()(R.i,({fieldName:e,userFieldName:t,minDuration:s})=>u.a._("div",{key:this.getSelectId(e),className:"pricing-settings-row"},this._bp(e,t),s?this._bo(s.fieldName,s.userFieldName):u.a._("div",{className:"pricing-settings-select-min-duration-empty"})))),this._br=()=>{const{userModified:e,availableSettings:t,userProfileStatus:s,optionSelectHandler:a}=this.props,{isOpenAdditional:i}=this.state;return u.a._("div",{className:Object(Y.c)("pricing-settings-additional",{show:i})},u.a._("div",{className:"pricing-settings-additional-header",role:"button",onClick:this.toggleAdditional},Object(Z.d)("settings.pricing.additional.title"),u.a._("div",{className:"pricing-settings-additional-dropdown-arrow"},u.a._(w.a,{img:"show-more",size:12}))),u.a._("div",{className:"pricing-settings-row pricing-settings-additional-content"},Pt({id:this.getSelectId("p2pVoice"),availableSettings:t,userProfileStatus:s,optionSelectHandler:a,fieldName:"rates.p2pVoice",userFieldName:"p2pVoiceRate",settingName:"pricing",value:e.p2pVoiceRate,isDisabled:this.getIsBlockDisabled()}),u.a._("div",{className:"pricing-settings-select-min-duration-empty"})),u.a._("div",{className:"pricing-settings-additional-description"},Object(Z.d)("settings.pricing.additional.description")))},this._bs=()=>u.a._("div",{className:"pricing-settings"},this._bq(),this._br()),this._Hf=()=>{const{hasChanged:e,cancelClickHandler:t,saveClickHandler:s}=this.props,a=this.getIsBlockDisabled();return u.a._("div",{className:"broadcast-settings-block-buttons"},u.a._(y.a,{style:"apply",disabled:!e||a,onClick:s},Object(Z.d)("button.save")),u.a._(y.a,{style:"default",disabled:!e||a,onClick:t},Object(Z.d)("button.cancel")))},this._F=()=>u.a._(p.Fragment,null,this._bs(),this._Hf())}render(){return u.a._(At,{id:R.k},u.a._(Q,{header:this._B7(),content:this._F()}))}}Ht.displayName="Pricing",Ht.defaultProps={availableSettings:null};var Lt=Ht,Rt=s(37);class Ft extends p.Component{constructor(...e){super(...e),this.state={userModified:nt()(dt()(this.props.user),[...R.e,...R.f,...R.j,...R.g]),activitiesErrors:{}},this.optionSelectHandler=ke()(e=>t=>{const s=lt()(t)?Ue()(t,"value"):t.value;this.setState(t=>{const{userModified:a}=t,i=dt()(a);return ut()(i,e,s),{...t,userModified:i}})}),this.changeHandler=ke()(e=>t=>{this.setState(s=>{const{userModified:a}=s,i=dt()(a);return ut()(i,e,t),{...s,userModified:i}})}),this.doInMyShowsSelectBlurHandler=ke()(e=>()=>{const{activitiesErrors:t}=this.state;this.setState({activitiesErrors:Ie()(t,e)})}),this.doInMyShowsSelectHandler=ke()(e=>t=>{const{resetStartBroadcastingErrorActivities:s}=this.props,{activitiesErrors:a}=this.state;if(t.length>10){const t=Object(Z.d)("broadcastSettings.tagsLimitationError",{tagsCount:10});this.setState({activitiesErrors:{...a,[e]:t}})}else this.optionSelectHandler(e)(t),s()}),this.genderSelectHandler=e=>{this.optionSelectHandler("broadcastGender")(e)},this.hasChanged=e=>{const{user:t}=this.props,{userModified:s}=this.state,a=nt()(s,e),i=nt()(t,e);return!q()(a,i)},this.getUserGender=()=>{const{user:e}=this.props,{userModified:t}=this.state;if(t.broadcastGender)return t.broadcastGender;const s=t.gender||e.gender;return pe()(kt.k,s)?kt.j.GROUP:t.gender||e.gender},this.getUserWithModifiedFields=e=>{const{user:t}=this.props,{userModified:s}=this.state;return{...t,...nt()(s,e)}},this.getUserWithDefaultFields=e=>{const{user:t}=this.props,{userModified:s}=this.state;return{...s,...nt()(t,e)}},this.cancelUserFieldsModification=e=>{this.setState({userModified:this.getUserWithDefaultFields(e)})},this.cancelClickHandler=e=>t=>{t.preventDefault(),this.cancelUserFieldsModification(e)},this.doInMyShowsCancelClickHandler=e=>{const{resetStartBroadcastingErrorActivities:t}=this.props;this.cancelClickHandler(R.e)(e),t()},this.doInMyShowsSaveClickHandler=e=>{e.preventDefault();const{isUpdatingUserStartBroadcasting:t,updateStartBroadcastingWithValidateActivities:s}=this.props;t||s(this.getUserWithModifiedFields(R.e))},this.saveClickHandler=e=>t=>{t.preventDefault();const{isUpdatingUserStartBroadcasting:s,updateStartBroadcastingWithoutValidations:a}=this.props;s||a(this.getUserWithModifiedFields(e))},this.getDoInMyShowsAvailableSettings=()=>{const{availableSettings:e}=this.props,{userModified:t}=this.state;if(!e)return null;const s=it()(e[R.m],t[R.l]),a=it()(e[R.l],t[R.m]);return{[R.m]:s,[R.l]:a}},this.isRenderGender=()=>{const{availableSettings:e}=this.props;return l()(e,"broadcastGenders.length")>1}}componentDidUpdate(e){const{isCamActive:t}=this.props,{isCamActive:s}=e;t&&t!==s&&this.cancelUserFieldsModification([...R.e,...R.f])}render(){const{user:e,startBroadcastError:t,availableSettings:s,userPreviewError:a,updateProfile:i}=this.props,{activitiesErrors:o,userModified:n}=this.state,r=this.hasChanged(R.e),l=this.hasChanged(R.f),c=this.hasChanged(R.j),d=this.hasChanged(R.g),p=this.isRenderGender()?u.a._(Ot,{key:"Gender",availableSettings:s,activitiesErrors:o,startBroadcastError:t,hasChanged:l,userGender:this.getUserGender(),selectHandler:this.genderSelectHandler,saveClickHandler:this.saveClickHandler(R.f),cancelClickHandler:this.cancelClickHandler(R.f)}):null;return u.a._(et,{className:"show-settings",items:[u.a._(Ct,{key:"DoInMyShows",userModified:n,availableSettings:this.getDoInMyShowsAvailableSettings(),activitiesErrors:o,startBroadcastError:t,hasChanged:r,selectHandler:this.doInMyShowsSelectHandler,selectBlurHandler:this.doInMyShowsSelectBlurHandler,saveClickHandler:this.doInMyShowsSaveClickHandler,cancelClickHandler:this.doInMyShowsCancelClickHandler}),u.a._(Lt,{key:"Pricing",userModified:n,userProfileStatus:e.status,availableSettings:s,hasChanged:c,optionSelectHandler:this.optionSelectHandler,cancelClickHandler:this.cancelClickHandler(R.j),saveClickHandler:this.saveClickHandler(R.j)}),p,u.a._(yt,{key:"OfflineStatus",availableSettings:s,changeHandler:this.changeHandler(R.g),userModified:n,hasChanged:d,saveClickHandler:this.saveClickHandler(R.g),cancelClickHandler:this.cancelClickHandler(R.g)}),u.a._(_t,{key:"CoverPicture",currentUser:e,previewUrl:e.previewUrl,userPreviewError:a,updateProfile:i})]})}}Ft.displayName="StreamSettings";const Dt={updateStartBroadcastingWithValidateActivities:V.y,updateStartBroadcastingWithoutValidations:V.z,resetStartBroadcastingErrorActivities:V.n,updateProfile:gt.t};Ft.defaultProps={isCamActive:!1,isUpdatingUserStartBroadcasting:!1,availableSettings:{},userPreviewError:null};var xt=Object(h.c)(e=>{const{availableSettings:{data:t},broadcast:{startBroadcastError:s,isCamActive:a}}=e,{START_BROADCASTING:i}=gt.a;return{isCamActive:a,availableSettings:t,user:Object(Rt.b)(e),startBroadcastError:s,isUpdatingUserStartBroadcasting:Object(Rt.n)(e,i),userPreviewError:Object(Rt.c)(e,gt.a.PREVIEW)}},Dt)(Ft),Bt=s(249),Vt=s(36),zt=s(25);class $t extends u.a.Component{constructor(...e){super(...e),this.openInformationTabWhenBroadcastError=e=>{const{startBroadcastError:t,activeSettingsTab:s,setActiveTab:a}=this.props,{activeSettingsTab:i}=e;t&&s!==R.c.INFORMATION&&i===s&&a(R.c.INFORMATION)}}_A(){const{startBroadcastError:e,setActiveTab:t}=this.props;e&&t(R.c.INFORMATION)}componentDidUpdate(e){this.openInformationTabWhenBroadcastError(e)}_B6(){return u.a._(ht.a,{events:[`interactiveToyStatusChanged:${this.props.currentUserId}`]})}_Hm(){const{isAppBotsEnabled:e,setActiveTab:t,activeSettingsTab:s}=this.props;return C()(R.c).filter(t=>!(t===R.c.APPS&&!e)).map((e,a)=>u.a._("div",{className:Object(Y.c)("broadcast-settings-nav-item",{active:s===e}),"data-nav-item":e,onClick:()=>t(e),key:e},u.a._("div",{className:"broadcast-settings-nav-item-label"},Object(Z.d)(`broadcastSettings.nav.${e}`))))}_F(){const e=this.props.activeSettingsTab;return e===R.c.SHOW_SETTINGS?u.a._(st,null):e===R.c.INFORMATION?u.a._(xt,null):e===R.c.APPS?u.a._(B,null):null}render(){return u.a._("div",{id:R.b,className:"broadcast-settings-wrapper"},u.a._(Bt.a,{className:"broadcast-settings-nav"},this._Hm()),u.a._("div",{className:"broadcast-settings-container"},this._F()),this._B6())}}$t.displayName="BroadcastSettings",$t.defaultProps={startBroadcastError:null};var Gt=Object(h.c)(e=>{const{broadcast:{startBroadcastError:t,activeSettingsTab:s}}=e;return{activeSettingsTab:s,startBroadcastError:t,currentUserId:Object(zt.i)(e),isAppBotsEnabled:Object(Vt.f)(e).appBots}},e=>({setActiveTab:t=>e(Object(V.p)(t))}))($t),Wt=s(142),Kt=s(99);const qt=e=>{const{viewersCount:t}=e;return u.a._("div",{className:"cam-members-header"},u.a._(w.a,{img:"user-tab"}),Object(Z.d)("camMembers.users"),u.a._("span",{className:"cam-members-header-count"},t))};qt.displayName="CamMembersHeader";var Jt=Object(h.c)(e=>({viewersCount:Object(Kt.k)(e)}))(qt);const Yt=u.a.memo(e=>u.a._("div",{className:"model-chat-users-info-item"},`${Object(Z.d)("camMembers.invisibles")}:`,u.a._("span",{className:"info-item-invisibles"},e.invisibles,u.a._(w.a,{img:"invisible",size:15}))));Yt.propTypes={invisibles:d.a.number.isRequired};var Xt=Yt,Qt=s(87);var Zt=u.a.memo(e=>{const{fanClubTier:t,isKnight:s,king:a,kingAmount:i,model:o,clickUserNameHandler:n}=e;return u.a._("div",{className:"model-chat-users-info-item"},u.a._("span",{className:"info-item-label"},Object(Z.d)("camMembers.king"),i?u.a._("b",null,` ${i} tk:`):":"),u.a._("span",{className:"info-item-king"},u.a._(Qt.b,{fanClubTier:t,isAdminIconVisible:!0,isColored:!0,isGenderIconHidden:!0,isKing:!0,isKnight:s,isMyKnight:!0,isNoteIndicatorVisible:!0,modelId:o,size:12,user:a,onUserNameContentClick:n})))});const es=u.a.memo(e=>u.a._("div",{className:"model-chat-users-info-item"},`${Object(Z.d)("camMembers.knights")}:`,u.a._("span",{className:"info-item-knights"},e.knightUsersOnlineCount,u.a._(w.a,{img:"knight",size:14}))));es.propTypes={knightUsersOnlineCount:d.a.number.isRequired};var ts=es;class ss extends p.PureComponent{render(){const{isKnight:e,fanClubTier:t,king:s,tipInfo:a,model:i,clickUserNameHandler:o}=this.props,n=s&&a&&a.user&&a.user.id===s.id;return u.a._("div",{className:"model-chat-users-info-item"},u.a._("span",{className:"info-item-label"},`${Object(Z.d)("camMembers.lastTip")}`,u.a._("b",null,` ${a.amount} tk: `)),u.a._("span",{className:"info-item-last-tip"},u.a._(Qt.b,{fanClubTier:t,isAdminIconVisible:!0,isColored:!0,isGenderIconHidden:!0,isKing:n,isKnight:e,isMyKnight:!0,isNoteIndicatorVisible:!0,modelId:i,size:12,user:a.user,onUserNameContentClick:o})))}}ss.displayName="LastTipElement",ss.defaultProps={king:null};var as=ss;class is extends p.PureComponent{render(){const{spies:e}=this.props;return u.a._("div",{className:"model-chat-users-info-item"},u.a._(w.a,{img:"spy-on-new",size:16}),`${Object(Z.d)("camMembers.spies")}:`,u.a._("span",{className:"info-item-spies"},e))}}is.displayName="SpiesElement";var os=is,ns=s(61),rs=s(28);class ls extends p.Component{constructor(...e){super(...e),this.shouldComponentUpdate=Object(ns.b)({props:["invisibles","isInPrivate","king","kingInfo","knightUsersOnlineCount","knights","model","modelFanClubTiers","shouldShowUsersInfo","spies","tipInfo"]}),this.clickUserNameHandler=e=>{e&&this.props.setPrivateMessageToUser(e)}}_bt(){const{king:e,knights:t,modelFanClubTiers:s,modelFanClubTiersTerm:a,tipInfo:i,model:o}=this.props;return i&&i.user?u.a._(as,{tipInfo:i,king:e,isKnight:Boolean(t)&&t.includes(i.user.id),fanClubTier:s?s[i.user.id]:null,fanClubTierTerm:a?a[i.user.id]:null,model:o,clickUserNameHandler:this.clickUserNameHandler}):null}_bu(){const{king:e,kingInfo:t,knights:s,modelFanClubTiers:a,modelFanClubTiersTerm:i,model:o}=this.props;return e?u.a._(Zt,{fanClubTier:a?a[e.id]:null,fanClubTierTerm:i?i[e.id]:null,king:e,kingAmount:t.kingAmount,isKnight:Boolean(s)&&s.includes(e.id),model:o,clickUserNameHandler:this.clickUserNameHandler}):null}_bv(){const{knightUsersOnlineCount:e}=this.props;return e?u.a._(ts,{knightUsersOnlineCount:e}):null}_bw(){const{invisibles:e}=this.props;return e?u.a._(Xt,{invisibles:e}):null}_bx(){const{spies:e}=this.props;return u.a._(os,{spies:e})}_by(){const{isInPrivate:e}=this.props;return e?null:u.a._(p.Fragment,null,this._bu(),this._bt(),this._bv(),this._bw())}_bz(){const{isInGroupShow:e,isInPrivate:t}=this.props;return t?u.a._(p.Fragment,null,e?this._bw():this._bx()):null}render(){const{shouldShowUsersInfo:e}=this.props;return e?u.a._("div",{className:"cam-members-info"},this._bz(),this._by()):null}}ls.displayName="CamMembersInfo";const cs={setPrivateMessageToUser:m.H};ls.defaultProps={invisibles:0,isInPrivate:!1,isInGroupShow:!1,king:null,tipInfo:null,shouldShowUsersInfo:!1,spies:0};var ds=Object(h.c)(e=>{const{broadcast:{model:t},viewCam:{kingInfo:s},camMembers:{invisibles:a,spies:i},tipInfo:o}=e,n=s?Object(rs.l)(e,s.kingId):null,r=Object(Kt.g)(e),l=Object(se.D)(e),c=Object(se.y)(e);return{invisibles:a,isInGroupShow:Object(se.I)(e),isInPrivate:l,king:n,kingInfo:s,knightUsersOnlineCount:r,tipInfo:o,model:t,shouldShowUsersInfo:l?!c&&t.doSpy:Boolean(o||a||r||n),spies:i}},cs)(ls),ps=s(92),us=s(102),hs=s(79),ms=s.n(hs),gs=s(39),bs=s.n(gs),_s=s(34),vs=s(523),fs=s(134);class Cs extends u.a.Component{constructor(...e){super(...e),this.state={isPopupVisible:!1},this.uid=Ee()("cam_member_username"),this._Hd=void 0,this.propsUpdateToActionsMap=[{update:Je.F,action:()=>this.interfaceBlockChangeHandler(this.props)}],this.mouseEnterHandler=ms()(()=>{this.showPopupNow()},300),this.interfaceBlockChangeHandler=({currentBlockingComponent:e})=>{this._Hd.contains(e)&&this.hidePopupNow()},this.clearPopupTimeouts=()=>{this.hidePopupTimeout&&clearTimeout(this.hidePopupTimeout)},this.showPopupNow=()=>{this.setState({isPopupVisible:!0})},this.hidePopupNow=()=>{this.setState({isPopupVisible:!1})},this.hidePopupDelayed=()=>{this.clearPopupTimeouts(),this.hidePopupTimeout=setTimeout(this.hidePopupNow,300)},this.clickButtonHandler=e=>{e.stopPropagation()},this.mouseLeaveHandler=()=>{this.hidePopupDelayed(),this.mouseEnterHandler.cancel()},this.popupMouseLeaveHandler=()=>{this.hidePopupDelayed()},this.popupMouseMoveHandler=()=>{this.clearPopupTimeouts()},this.onClickHandler=()=>{const{user:e}=this.props;this.props.onClick(e)}}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this.mouseEnterHandler.cancel(),this.clearPopupTimeouts()}_He(){const{isPopupVisible:e}=this.state;return e?u.a._(vs.a,{key:"popup",modelId:this.props.modelId,onMouseLeave:this.popupMouseLeaveHandler,onMouseMove:this.popupMouseMoveHandler,isKing:this.props.isKing,targetId:this.uid,user:this.props.user}):null}_c0(){const{isInitiatedPMIconVisible:e,hasInitiatedPm:t,hasUnreadMessages:s}=this.props;return e?u.a._("div",{className:Object(Y.c)("view-cam-username-dot",{unread:s})},t&&u.a._(w.a,{img:"dot"})):null}render(){const{fanClubTier:e,fanClubTierTerm:t,isKnight:s,isKing:a,isColored:i,modelId:o,user:n}=this.props;return u.a._("div",{className:"cam-member-username",id:this.uid,ref:e=>{this._Hd=e},onClick:this.onClickHandler,onMouseLeave:this.mouseLeaveHandler},u.a._("div",{className:"cam-member-username-wrapper"},this._c0(),u.a._(Qt.b,{fanClubTier:e,fanClubTierTerm:t,isAdminIconVisible:!0,isGenderIconHidden:!0,isNoteIndicatorVisible:!0,isIconVisible:!0,isVrIconVisible:!0,isKnight:s,isMyKnight:!0,isKing:a,isColored:i,modelId:o,size:14,user:n})),u.a._("div",{className:"cam-member-popup-button","data-user-id":n.id,onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler,onClick:this.clickButtonHandler},u.a._(w.a,{img:"menu-mobile",size:12})),this._He())}}Cs.displayName="CamMemberUserNamePure",Cs.defaultProps={hasInitiatedPm:!1,hasUnreadMessages:!1,isIconVisible:!0,isInitiatedPMIconVisible:!1,onClick:bs.a};const Ns=Object(h.c)((e,t)=>{const{member:s}=t,a=Object(rs.l)(e,s.id)||s;return{hasInitiatedPm:Object(Kt.f)(e,{userId:s.id}),hasUnreadMessages:Object(fs.b)(e,s.id),user:a}})(Cs);Ns.propTypes={member:d.a.object.isRequired};var Os=Ns;class ys extends u.a.Component{constructor(...e){super(...e),this.clickUserNameHandler=e=>{e&&this.props.setPrivateMessageToUser(e)}}_c1(){const{moreGreyAndGuestUsersCount:e,isCurrentUserInGroupShow:t}=this.props;return!e||t?null:u.a._("div",{className:"more-users"},Object(Z.d)("camMembers.moreUsers",{count:e}))}_c2(e){const{counterpartId:t,currentUserId:s,modelFanClubTiers:a,modelFanClubTiersTerm:i,kingId:o,knights:n}=this.props;return u.a._("li",{key:e.username,className:Object(Y.c)("cam-members-list-item",{selected:t===e.id})},u.a._(Os,{fanClubTier:a?a[e.id]:null,fanClubTierTerm:i?i[e.id]:null,isColored:!e.isModel||e.id===s,isKing:o===e.id,isKnight:Boolean(n)&&n.includes(e.id),isModelIconVisible:e.id===s,isVrIconVisible:!0,isInitiatedPMIconVisible:!0,modelId:s,member:e,onClick:this.clickUserNameHandler}))}render(){const{members:e}=this.props;return e.length?u.a._("div",{className:"cam-members-list"},u.a._(us.a,null,u.a._("ul",null,e.map(e=>this._c2(e))),this._c1())):null}}ys.displayName="CamMembersList";const ws={setPrivateMessageToUser:m.H};ys.defaultProps={kingId:null,members:[],moreGreyAndGuestUsersCount:0};var Ss=Object(h.c)(e=>{const{auth:{currentUser:{id:t}},viewCam:{kingInfo:s}}=e,a=Object(Kt.j)(e),i=Object(se.v)(e),o=Object(Kt.i)(e);return{counterpartId:Object(ps.e)(e),currentUserId:t,kingId:s?s.kingId:null,members:a,moreGreyAndGuestUsersCount:o,isCurrentUserInGroupShow:i}},ws)(ys),ks=s(151),js=s(100);class Is extends u.a.Component{constructor(...e){super(...e),this.loadMyMembers=()=>{this.props.loadMyMembers()}}_A(){const{loadCamMembersInterval:e}=this.props;js.a.startInterval("loadMyMembersInterval",e,this.loadMyMembers)}componentWillUnmount(){js.a.stopInterval("loadMyMembersInterval")}render(){const{isDisabled:e,knights:t,modelFanClubTiers:s,modelFanClubTiersTerm:a}=this.props;return u.a._("div",{className:Object(Y.c)("cam-members",{"cam-members-disabled":e})},u.a._(Jt,null),u.a._(Ss,{knights:t,modelFanClubTiers:s,modelFanClubTiersTerm:a}),u.a._(ds,{knights:t,modelFanClubTiers:s,modelFanClubTiersTerm:a}))}}Is.displayName="CamMembers";const Ts={loadMyMembers:Wt.b};Is.defaultProps={isDisabled:!1};var Ps=Object(h.c)(e=>{const{auth:{currentUser:t},config:{data:{features:{intervals:{modelCamMembers:s=0}}}}}=e;return{isDisabled:!Object(se.I)(e)&&(Object(se.A)(e)||Object(se.D)(e)),knights:Object(ks.e)(e,t.id),loadCamMembersInterval:s?1e3*s:3e4,modelFanClubTiers:Object(Kt.a)(e,t.username),modelFanClubTiersTerm:Object(Kt.b)(e,t.username)}},Ts)(Is),Ms=s(30),Es=s(145),As=s(41);const Us={routerPush:As.H};class Hs extends u.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:["model.status"],action:()=>{const{model:e,timeoutChangeModelStatus:t}=this.props;e&&e.status===kt.lb.STATUS_IDLE&&t?this.startScheduler():this.stopScheduler()}}],this.moveModelToStartBroadcastingPage=()=>{this.props.routerPush("/start-broadcasting")},this.stopScheduler=()=>{js.a.stopTimeout("idleTimeout")},this.startScheduler=()=>{const{timeoutChangeModelStatus:e}=this.props;this.stopScheduler(),js.a.startTimeout("idleTimeout",e,this.moveModelToStartBroadcastingPage)}}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this.stopScheduler()}render(){return null}}Hs.displayName="ModelBroadcastScheduler";var Ls=Object(h.c)(e=>{const{config:{data:{features:{modelIdleTimeout:t=0}}}}=e;return{timeoutChangeModelStatus:1e3*t}},e=>Object(J.b)(Us,e))(Hs),Rs=s(514);class Fs extends u.a.Component{constructor(...e){super(...e),this.state={timer:this.props.privateRequest.proposeTimer},this.acceptClickHandler=e=>{e.preventDefault(),this.props.acceptCallback()},this.declineClickHandler=()=>{this.props.declineCallback()}}_A(){this.proposeTimer=setInterval(()=>{this.state.timer<=0&&this.declineClickHandler(),this.setState({timer:this.state.timer-1})},1e3)}componentWillUnmount(){clearInterval(this.proposeTimer)}render(){const{isPrivatePending:e,modelRates:{spyRate:t,privateRate:s,p2pRate:a},privateRequest:{proposeMode:i,user:o}}=this.props,n={p2p:a,p2pAudio:a,p2pVoice:a,private:s,spy:t},r={p2p:Object(Z.d)("privateRequest.cam2CamShow"),p2pAudio:Object(Z.d)("privateRequest.cam2CamShow"),p2pVoice:Object(Z.d)("privateRequest.cam2CamVoice"),private:Object(Z.d)("privateRequest.privateShow"),spy:Object(Z.d)("privateRequest.spyShow")},l=u.a._(ue.a,{elements:{br:u.a._("br",null),strong:u.a._("strong",null)},messageId:"privateRequest.requestQuestion",parameters:{mode:r[i],username:o.username,tokens:n[i]}}),c=Object(Z.d)("privateRequest.requestTimer",{seconds:this.state.timer});return u.a._("form",{className:Object(Y.c)("private-request",i),onSubmit:this.acceptClickHandler},u.a._("p",null,l),u.a._("div",{className:"spacer"}),u.a._("p",null,Object(Z.d)("privateRequest.acceptQuestion")),u.a._("p",{className:"request-timer"},c),u.a._(Rs.a,null),u.a._("div",{className:"controls"},u.a._("button",{className:"btn btn-medium btn-accept",disabled:e,type:"submit"},Object(Z.d)("button.accept")),u.a._("button",{className:"btn btn-medium btn-decline",disabled:e,onClick:this.declineClickHandler,type:"button"},Object(Z.d)("button.decline"))))}}Fs.displayName="PrivateRequest";var Ds=Fs,xs=s(86),Bs=s(73),Vs=s(17),zs=s(125),$s=s.n(zs),Gs=s(21),Ws=s(436);class Ks extends u.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:["variablesStyles"],action:()=>{const{variablesStyles:e}=this.props;this.setStyle(e)}},{update:Je.G,action:()=>this.elementPositionChangeHandler(this.props)}],this.setStyle=e=>{const{cSSVariablesWrapperRef:t}=this;t&&$s()(e,(e,s)=>{t.style.setProperty(s,e)})},this.elementPositionChangeHandler=()=>{const{cSSVariablesWrapperRef:e}=this;if(Object(Gs.f)()||!e)return;const{prefix:t}=this.props,s=e.getBoundingClientRect(),a={[`--${t}-top`]:`${s.top+window.pageYOffset}px`,[`--${t}-left`]:`${s.left}px`,[`--${t}-height`]:`${s.height}px`,[`--${t}-width`]:`${s.width}px`,[`--${t}-layout-width`]:`${window.innerWidth}px`,[`--${t}-layout-height`]:`${window.innerHeight}px`};this.setStyle(a)}}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}render(){const{className:e}=this.props;return u.a._("div",{className:e,ref:e=>{this.cSSVariablesWrapperRef=e}},this.props.children)}}Ks.displayName="CSSVariablesWrapper",Ks.defaultProps={variables:{},prefix:Ws.a};var qs=Object(h.c)((e,{prefix:t,variables:s})=>{const{ui:{windowOrientation:a,windowHeight:i,windowWidth:o}}=e;return{windowOrientation:a,windowHeight:i,windowWidth:o,variablesStyles:Object(Ws.b)(e,{variables:s,prefix:t})}})(Ks);class Js extends u.a.Component{constructor(...e){super(...e),this.timerName=Ee()("Timer_"),this.handledTicks={},this.propsUpdateToActionsMap=[{update:["endTime"],action:()=>{const{onTimeEnd:e}=this.props;this.startTimer({onTimeEnd:e})}},{update:Je.L,action:()=>{const{isWindowFocused:e}=this.props;e&&this.updateTimer()}}],this.startTimer=({onTimeEnd:e})=>{this.cancelTimer(),js.a.startInterval(this.timerName,1e3,()=>{if(this.timerRef){const e=this.getTime();this.timerRef.textContent!==e&&(this.timerRef.textContent=e)}this.getIsTimerEnded()&&(this.cancelTimer(),e&&e())})},this.cancelTimer=()=>{js.a.stopInterval(this.timerName)},this.updateTimer=()=>{const{onTimeEnd:e}=this.props;e&&this.getIsTimerEnded()&&e()},this.getTime=()=>{const{endTime:e,ticks:t,timeDelta:s}=this.props,a=Object(k.w)(e,Date.now())-s,i=Math.ceil(a/1e3);t[i]&&!this.handledTicks[i]&&(this.handledTicks[i]=!0,t[i]());const o=a>0;return Object(k.j)(o?a:0,k.f.MINUTES_SECONDS)},this.getIsTimerEnded=()=>{const{endTime:e,timeDelta:t}=this.props;return Object(k.B)(e,t)}}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}_A(){this.startTimer(this.props),Object(_s.a)(this.propsUpdateToActionsMap,{},this.props)}componentWillUnmount(){this.cancelTimer()}render(){const{endTime:e,className:t}=this.props;if(!e)return null;const s=this.getTime();return u.a._("span",{className:t,ref:e=>{this.timerRef=e}},s)}}Js.displayName="Timer",Js.defaultProps={className:"",endTime:null,ticks:{}};var Ys=Object(h.c)(e=>{const{appSettings:{data:{timeDelta:t}},ui:{isWindowFocused:s}}=e;return{isWindowFocused:s,timeDelta:t}})(Js),Xs=s(69),Qs=s(55);const Zs=e=>Object(Gs.f)()?u.a._(p.Fragment,null,e.children):u.a._(p.Suspense,{fallback:u.a._(mt.a,{isCentered:!0})},e.children);Zs.displayName="LazyLoader";var ea=Zs;const ta=Object(p.lazy)(()=>s.e(13).then(s.bind(null,1383))),sa=Object(p.lazy)(()=>s.e(12).then(s.bind(null,1385))),aa=Object(p.lazy)(()=>s.e(12).then(s.bind(null,1305))),ia=Object(p.lazy)(()=>Promise.all([s.e(0),s.e(5)]).then(s.bind(null,1380))),oa=Object(p.lazy)(()=>Promise.all([s.e(0),s.e(1),s.e(2),s.e(20)]).then(s.bind(null,1384))),na=Object(p.lazy)(()=>Promise.all([s.e(0),s.e(1),s.e(2),s.e(3)]).then(s.bind(null,1382)));class ra extends u.a.Component{constructor(...e){super(...e),this.getErrorMessage=()=>{const{isAlreadyBroadcasting:e}=this.props;return e?Object(Z.d)("broadcast.alreadyBroadcasting"):S.j.iPhoneOrIPod?Object(Z.d)("broadcast.broadcastNotAvailable"):Object(Z.d)("errors.unknownError")}}_A(){S.j.touch&&this.props.updateBroadcastSettings({forcedBroadcastPlayer:kt.Eb.WEBRTC})}_Ce(){const e=this.getErrorMessage();return u.a._("div",{className:"poster"},u.a._("div",{className:"error"},e))}_c3(e){const{playerType:t}=this.props;switch(t){case kt.l.EXTERNAL:return u.a._(na,e);case kt.Eb.WEBRTC:return u.a._(oa,e);case kt.Eb.FLASH:default:return u.a._(ia,e)}}_c4(){return u.a._(p.Fragment,null,u.a._("div",{className:"pause"},"❙❙"),u.a._("div",{className:"description"},u.a._(ue.a,{elements:{br:u.a._("br",null)},messageId:"broadcast.alreadyBroadcastingExternalPaused"})),u.a._(y.a,{size:"medium",onClick:this.props.resumeCam},Object(Z.d)("broadcast.resumeBroadcasting")))}_c5(){const{model:e,playerVolume:t}=this.props,s={isOnlyVoice:!0,volume:t};return u.a._(p.Fragment,null,this._c3(s),u.a._(sa,{isBroadcast:!0,model:e}))}_c6(){const{isInCam2Voice:e,isInIdle:t,isInPrivate:s,model:a}=this.props;return e||t?u.a._("div",{className:"poster"},u.a._("div",{className:"external-app"},e&&this._c5(),t&&this._c4())):u.a._("div",{className:"poster"},u.a._("div",{className:"external-app"},u.a._("div",{className:"error"},Object(Z.d)("broadcast.alreadyBroadcastingExternal")),s&&u.a._(sa,{model:a})))}_Ic(){return this.props.isExternalBroadcast?this._c6():this._Ce()}_c7(){const{isInP2P:e,isInCam2Voice:t,isExternalBroadcast:s,model:a,playerType:i,playerVolume:o}=this.props,n=i===kt.l.EXTERNAL&&e,r=i===kt.Eb.WEBRTC||n||t,l={isOnlyVoice:t,volume:o};return u.a._(p.Fragment,null,r&&u.a._(aa,{status:a.status,isExternalBroadcast:s}),this._c3(l),r&&u.a._(sa,{model:a}))}render(){return u.a._(ea,null,u.a._(ta,{className:"broadcast-player"},this.props.shouldRenderPlayer?this._c7():this._Ic()))}}ra.displayName="BroadcastPlayer";const la={updateBroadcastSettings:Es.p,resumeCam:Es.h};var ca=Object(h.c)(e=>({isExternalBroadcast:Object(Bs.q)(e),isInCam2Voice:Object(se.A)(e),isInP2P:Object(se.y)(e),isInPrivate:Object(se.D)(e),isInIdle:Object(se.C)(e),playerVolume:Object(Bs.z)(e),playerType:Object(Bs.x)(e),shouldRenderPlayer:Object(xs.r)(e),isAlreadyBroadcasting:Object(xs.i)(e)}),la)(ra);class da extends u.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:["isExternalBroadcast"],action:()=>{const{isExternalBroadcast:e,isObsEnabled:t}=this.props;if(t)e&&this.props.changeBroadcastType(kt.l.EXTERNAL);else{const t=e?kt.l.EXTERNAL:kt.l.REGULAR;this.props.changeBroadcastType(t)}}}],this.switchBroadcast=()=>{const{isDisabled:e,broadcastType:t}=this.props,s=t===kt.l.EXTERNAL;if(e)return;const a=s?kt.l.REGULAR:kt.l.EXTERNAL;this.props.changeBroadcastType(a)}}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}render(){const{isObsEnabled:e,broadcastType:t,isDisabled:s}=this.props,a=t===kt.l.EXTERNAL,i=a?"externalBroadcast.switcher.regular":"externalBroadcast.switcher.external",o=Object(Y.c)("external-broadcast-switcher",{external:a,disabled:s});return e?u.a._("div",{id:"external-switcher",className:o,onClick:this.switchBroadcast},u.a._("div",{className:"switcher-content-wrapper"},a?u.a._(w.a,{img:"arrow-left",size:12}):u.a._(w.a,{img:"camera",size:15}),u.a._("span",{className:"switcher-title"},Object(Z.d)(i)))):null}}da.displayName="ExternalBroadcastSwitcher";const pa={changeBroadcastType:V.h};var ua=Object(h.c)(e=>{const{broadcast:{model:t}}=e,{STATUS_IDLE:s,STATUS_OFF:a}=kt.lb,i=!t||pe()([s,a],t.status),o=Object(Bs.q)(e);return{isOffline:i,isExternalBroadcast:o,broadcastType:Object(xs.d)(e),isObsEnabled:Object(Bs.s)(e),isDisabled:o||!i}},pa)(da);const ha=(e,t)=>{const{isCamActive:s,isExternalBroadcast:a,privateRequest:i}=t,{proposeMode:o,proposeTimer:n,user:r}=i;return!(!o||!n)&&(!(!s&&!a)&&(!(!o||e.privateRequest.proposeMode)||l()(r,"id")!==l()(e.privateRequest.user,"id")))};class ma extends u.a.Component{constructor(...e){super(...e),this.state={isAudioPrefetched:!1,virtualPrivateModeStarted:!1},this.propsUpdateToActionsMap=[{update:["isSocketReady"],action:()=>{const{cancelPrivateRequest:e,isSocketReady:t,privateMode:s,privateRequest:a,shadeLayout:i,stopPrivate:o}=this.props;t||(s&&(Xs.c.addSource(Xs.b.MODEL_SOCKET_NOT_WORKING),o("socketReadyError"),i(!1)),a.proposeMode&&e())}},{update:ha,action:()=>{const{privateRequest:e}=this.props,t=l()(e,"proposeMode","private")===kt.Nb.MODE_PRIVATE?kt.Ob.PRIVATE:kt.Ob.CAM2CAM;this.props.playRequestSound(t)}},{update:["privateMode"],action:()=>{const{privateMode:e,shadeLayout:t}=this.props;t(Boolean(e)),this.setState({virtualPrivateModeStarted:e===kt.Nb.MODE_VIRTUAL_PRIVATE})}},{update:["previewUrl"],action:({previewUrl:e})=>{const{previewUrl:t}=this.props;e&&!t&&(this.props.stopCam("cover picture rejected"),this.props.updateBroadcastingAndStartCam(this.props.profile))}}],this.onBeforeUnloadEventHandler=e=>{const{shouldShowPrivateAlert:t}=this.props;t&&(e.preventDefault(),e.returnValue="")},this.prefetchSounds=()=>{const{allSoundFilenames:e}=this.props;S.j.touch||(this.props.prefetchAudioPlay(e),this.props.prefetchSounds())},this.prefetchSoundsForMobile=()=>{const{allSoundFilenames:e}=this.props,{isAudioPrefetched:t}=this.state;t||(S.j.touch&&(this.props.prefetchAudioPlay(e),this.props.prefetchSounds()),this.setState({isAudioPrefetched:!0}))},this.groupShowModesClickHandler=()=>{const{isInGroupShow:e}=this.props;e?this.props.stopGroupShow():this.props.showModal(S.F.GROUP_SHOW_MODES)},this.startVirtualPrivate=ms()(this.props.startVirtualPrivate,1e3,{leading:!0}),this.stopVirtualPrivate=ms()(this.props.stopVirtualPrivate,1e3,{leading:!0}),this.startSpyMode=()=>{this.setState({virtualPrivateModeStarted:!0}),this.startVirtualPrivate()},this.stopSpyMode=()=>{this.setState({virtualPrivateModeStarted:!1}),this.stopVirtualPrivate()},this.onTimerEnd=()=>{const{isCamActive:e,isExternalBroadcast:t,topic:s,isTicketShow:a}=this.props;e||t?this.props.startGroupShow(a?"":s):this.props.cancelGroupShowAnnouncement()},this.beforeShowStartAlert=()=>{this.props.playSound(kt.Ob.PRIVATE),setTimeout(()=>{this.props.playSound(kt.Ob.PRIVATE)},1e3)}}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props),Object(Qs.a)(this,window,"beforeunload",this.onBeforeUnloadEventHandler),this.prefetchSounds(),this.props.initBroadcast();const e=Pe()(this.props.timerPoints,(e,t)=>(e[t]=()=>this.props.addGroupShowMessageStartInNMinutes(t/60),e),{15:this.beforeShowStartAlert});this.setState({timerPoints:e})}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this.resetBroadcast("ModelBroadcast componentWillUnmount"),Object(Qs.b)(this),this.startVirtualPrivate.cancel(),this.stopVirtualPrivate.cancel()}resetBroadcast(e){this.props.resetBroadcast(e)}_B6(){if(!this.props.isLoggedIn)return null;const{counterpart:e,currentUser:{id:t},privateMode:s}=this.props,a=[];return s===kt.Nb.MODE_P2P&&e&&a.push(`userBroadcastServerChanged:${e.id}`),u.a._(ht.a,{events:[`canBanChanged:${t}`,`goalChanged:${t}`,`knightAdded:${t}`,`knightDeleted:${t}`,`modelStatusChanged:${t}`,`modelWarning:${t}`,`modelWarningDeleted:${t}`,`privateProposed:${t}`,`privateProposalCanceled:${t}`,`privateStopped:${t}`,`privateRecordingSaveConfirmation:${t}`,`userBanned:${t}`,`userBroadcastServerChanged:${t}`,`broadcastSettingsChanged:${t}`,`userUnbanned:${t}`,`groupShow:${t}`,`deleteChatMessages:${t}`,...a]})}_c8(){const{isCamActive:e,isExternalBroadcast:t,isPrivatePending:s,model:a,privateRequest:i}=this.props;return(e||t)&&i.proposeTimer?u.a._(Ds,{acceptCallback:this.props.confirmPrivate,declineCallback:this.props.cancelPrivateRequest,isPrivatePending:s,modelRates:a,privateRequest:i}):null}_c9(){const{isVirtualPrivateModeAllowed:e,isGroupShowsAllowed:t,groupShowStartTime:s,model:a,isGroupShowAnnounced:i,isInGroupShow:o,isTicketShow:n,isLayoutUpToS:r,joinedUsersAmount:l,privateMode:c}=this.props,{virtualPrivateModeStarted:d}=this.state,p=o||!e||i||!d&&c;let h=Object(Z.d)("button.groupShowModes");const m=n?"ticketShow":"groupShow";o&&(h=u.a._(ue.a,{messageId:`privateModes.${m}.stopShow`})),i&&(h=u.a._(ue.a,{messageId:`privateModes.${m}.announcementTimerButton`,elements:{timer:u.a._(Ys,{className:"private-show-timer",endTime:s,onTimeEnd:this.onTimerEnd,ticks:this.state.timerPoints}),accent:u.a._("span",{className:"pale"})}}));const g=d?!t||d:!t&&!o&&!i;return u.a._("div",{className:"private-modes-block"},u.a._("div",{className:"spy-mode-button-wrapper"},d?u.a._(y.a,{className:"private-modes-btn",style:"accept",disabled:!c,onClick:this.stopSpyMode},u.a._(ue.a,{messageId:"button.endSpyMode"})):u.a._(y.a,{className:"private-modes-btn",style:"default",disabled:!!p,onClick:this.startSpyMode},u.a._(ue.a,{messageId:"button.startSpyMode"})),u.a._("div",{className:"spy-mode-button-tooltip",id:"start_spy_button_id",onClick:this.keepDropdownOpenElementClickHandler},u.a._(w.a,{img:"question"})," ",u.a._(oe.a,{placement:r?"left":"top",targetId:"start_spy_button_id",isMobileRelative:!1},Object(Z.d)("privateModes.spyMode.text"),u.a._("br",null),a&&u.a._(ue.a,{messageId:"privateModes.spyMode.price",parameters:{tokens:a.spyRate},elements:{link:u.a._(Ms.a,{className:"underline",target:"_blank",to:"/settings"})}})))),u.a._("div",{className:"group-show-button-and-users"},u.a._(y.a,{disabled:g,className:"private-modes-btn",style:o?"accept":"default",onClick:this.groupShowModesClickHandler},h),i&&u.a._(ue.a,{className:"private-mode-joined",messageId:`privateModes.${m}.usersJoined`,parameters:{amount:l},choiceParameter:"amount"})))}_ca(){return u.a._("div",{className:"model-broadcast-features"},this._c9())}render(){const{model:e}=this.props;return u.a._("div",{className:"model-broadcast",onClick:this.prefetchSoundsForMobile},u.a._(Ls,{model:e}),u.a._("div",{className:"model-broadcast-player-wrapper"},u.a._(qs,{className:"broadcast-player-wrapper",prefix:"broadcast"},u.a._(ca,{model:e})),u.a._(ua,null)),this._ca(),this._c8(),this._B6())}}ma.displayName="ModelBroadcast";const ga={addGroupShowMessageStartInNMinutes:V.b,cancelGroupShowAnnouncement:V.e,cancelPrivateRequest:V.f,confirmPrivate:V.i,initBroadcast:Es.d,playRequestSound:Vs.k,playSound:Vs.l,prefetchAudioPlay:Vs.n,prefetchSounds:Vs.o,resetBroadcast:Es.g,shadeLayout:Vs.u,showModal:O.c,startGroupShow:V.s,stopGroupShow:Es.m,stopPrivate:Es.n,startVirtualPrivate:V.t,stopVirtualPrivate:Es.o,stopCam:Es.k,updateBroadcastingAndStartCam:V.x};var ba=Object(h.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},appSettings:{data:{isSocketReady:i}},broadcast:{counterpart:o,isCamActive:n,isPrivatePending:r,privateRequest:l}}=e,c=Object(Rt.a)(e),d=Object(Rt.q)(e),p=Object(Je.a)(e);return{profile:c,counterpart:Object(rs.l)(e,o.id),currentUser:t,previewUrl:d,groupShowStartTime:Object(se.k)(e),isCamActive:n,isExternalBroadcast:Object(Bs.q)(e),isGroupShowAnnounced:Object(se.w)(e),isGroupShowsAllowed:Object(xs.n)(e),isInGroupShow:Object(se.I)(e),isLoggedIn:s&&!a,isLoggingOut:a,isPrivatePending:r,isSocketReady:i,isTicketShow:Object(se.yb)(e)||Object(xs.l)(e),isVirtualPrivateModeAllowed:Object(xs.p)(e),joinedUsersAmount:Object(se.m)(e),privateMode:Object(se.bb)(e),privateRequest:l,timerPoints:Object(xs.h)(e),topic:Object(se.i)(e),shouldShowPrivateAlert:Object(xs.s)(e),isLayoutUpToS:Object(Je.s)(e),allSoundFilenames:p}},ga)(ma),_a=s(136),va=s.n(_a),fa=s(167),Ca=s(147),Na=s(230),Oa=s(68);class ya extends p.Component{constructor(...e){super(...e),this.sendTipClickHandler=e=>{const{currentTarget:{dataset:{amount:t}}}=e,{model:s,isCurrentUserModel:a}=this.props;a||(this.props.saveTipAmount(+t),this.props.emitButtonEvent(S.b.VIEWCAM_SEND_ONLINE_TIP,{modelId:s.id,additionalParam:{amplitudeEventProps:{prodType:kt.Qb.TOY,prodSubtype:kt.Pb.KIIROO,isFromMenu:!0},source:kt.oc.INTERACTIVE_TOY}}))},this.connectKiirooClickHandler=()=>{const{isLoggedIn:e,startWizard:t,showModal:s,model:a}=this.props;return e?s(S.F.KIIROO_SETTINGS):t(S.F.KIIROO_SETTINGS,{component:"SignUp",action:{backgroundImage:a.avatarUrl,type:"sendTip",user:a},user:a})},this._cb=e=>{const{isLayoutUpToL:t}=this.props,{min:s,max:a,duration:i,vibration:o}=e,n=Object(Z.d)(`actionList.interactiveToy.levels.power.${o}`),r=o===kt.V.ULTRA_HIGH?u.a._(w.a,{img:"lightning"}):null,l=Object(Z.d)("actionList.interactiveToy.levels.sec"),c=Object(Y.c)("power",`power-${o}`);return u.a._("tr",{onClick:this.sendTipClickHandler,"data-amount":s,key:s},t?u.a._("td",{className:c},u.a._("span",{className:"wrapper"},u.a._("span",{className:"duration"},`${i} ${l}`),u.a._("span",{className:"splitter"},"|"),n,r)):u.a._(p.Fragment,null,u.a._("td",{className:"duration"},`${i} ${l}`),u.a._("td",{className:c},n,r)),u.a._("td",{className:"tokens",title:`${s} ~ ${a}`},u.a._("span",null,`${Object(Na.e)(s)} ~ ${Object(Na.e)(a)}`)))}}_cc(){const{isKiirooConnected:e,isCurrentUserModel:t}=this.props;if(t)return null;const s=e?"camChat.kiiroo.haveToy":"camChat.kiiroo.notHaveToy";return u.a._("div",{className:"interactive-toy-alert"},u.a._(ue.a,{messageId:s,elements:{link:u.a._("a",{className:"kiiroo-toy-message-link",onClick:this.connectKiirooClickHandler})}}))}_cd(){const{isCurrentUserModel:e}=this.props;return e?null:u.a._("div",{className:"hint-wrapper"},u.a._("div",{className:"hint"},u.a._("div",{className:"icon-wrapper"},u.a._(w.a,{img:"lovense",size:18})),u.a._("div",null,Object(Z.d)("actionList.interactiveToy.hint")),u.a._("div",null,Object(Z.d)("actionList.interactiveToy.hint2"))))}render(){const{kiirooLevels:e,isCurrentUserModel:t,isLayoutUpToL:s}=this.props,a=Object(Y.c)("interactive-toy",{"is-model":t});return u.a._("div",{className:a},this._cc(),u.a._("table",null,u.a._("thead",null,u.a._("tr",null,!s&&u.a._("th",{className:"duration"},Object(Z.d)("actionList.interactiveToy.headers.duration")),u.a._("th",{className:"power"},Object(Z.d)("actionList.interactiveToy.headers.power")),u.a._("th",null,Object(Z.d)("actionList.interactiveToy.headers.tokens")))),u.a._("tbody",null,Ue()(e,this._cb))),this._cd())}}ya.displayName="KiirooToyActions";const wa={emitButtonEvent:Vs.b,saveTipAmount:Vs.q,showModal:O.c,startWizard:Oa.f};ya.defaultProps={isKiirooConnected:!1,kiirooLevels:{},isLoggedIn:!1};var Sa=Object(h.c)(e=>({model:Object(se.W)(e),isCurrentUserModel:Object(rs.c)(e),isKiirooConnected:Object(be.e)(e),isLayoutUpToL:Object(Je.q)(e),isLoggedIn:Object(zt.l)(e),kiirooLevels:Object(Ca.g)(e)}),e=>Object(J.b)(wa,e))(ya);const ka=["wave","pulse","earthquake","fireworks","random"];class ja extends p.Component{constructor(...e){super(...e),this.sendTipClickHandler=e=>{const{currentTarget:{dataset:{amount:t}}}=e,{model:s,isCurrentUserModel:a}=this.props;a||(this.props.saveTipAmount(+t),this.props.emitButtonEvent(S.b.VIEWCAM_SEND_ONLINE_TIP,{modelId:s.id,additionalParam:{amplitudeEventProps:{prodType:kt.Qb.TOY,prodSubtype:kt.Pb.LOVENSE,isFromMenu:!0},source:kt.oc.INTERACTIVE_TOY}}))},this._cb=e=>{const{isLayoutUpToL:t}=this.props,{min:s,max:a,time:i,vLevel:o}=e,n=kt.db[o],r=Object(Z.d)(`actionList.interactiveToy.levels.power.${n}`),l=4===Number(o)?u.a._(w.a,{img:"lightning"}):null,c=Object(Z.d)("actionList.interactiveToy.levels.sec"),d=Object(Y.c)("power",`power-${n}`);return u.a._("tr",{onClick:this.sendTipClickHandler,"data-amount":s,key:s},t?u.a._("td",{className:d},u.a._("span",{className:"wrapper"},u.a._("span",{className:"duration"},`${i} ${c}`),u.a._("span",{className:"splitter"},"|"),r,l)):u.a._(p.Fragment,null,u.a._("td",{className:"duration"},`${i} ${c}`),u.a._("td",{className:d},r,l)),u.a._("td",{className:"tokens",title:`${s} ~ ${a}`},u.a._("span",null,`${Object(Na.e)(s)} ~ ${Object(Na.e)(a)}`)))},this._ce=()=>{const{lovenseSpecial:e,isLayoutUpToL:t}=this.props;return e?ka.filter(t=>e[t]&&e[t].token).map(s=>{const{time:a,token:i}=e[s],o=Object(Z.d)(`actionList.interactiveToy.special.${s}`),n=Object(Z.d)("actionList.interactiveToy.levels.sec"),r="random"===s?u.a._(w.a,{img:"dice",size:14}):`${a} ${n}`,l=Object(Y.c)("power","power-special",`power-${s}`);return u.a._("tr",{onClick:this.sendTipClickHandler,"data-amount":i,key:s},t?u.a._("td",{className:l},u.a._("span",{className:"wrapper"},u.a._("span",{className:"duration"},r),u.a._("span",{className:"splitter"},"|"),o)):u.a._(p.Fragment,null,u.a._("td",{className:"duration"},r),u.a._("td",{className:l},o)),u.a._("td",{className:"tokens",title:i},u.a._("span",null,Object(Na.e)(i))))}):null}}_cd(){const{isCurrentUserModel:e}=this.props;return e?null:u.a._("div",{className:"hint-wrapper"},u.a._("div",{className:"hint"},u.a._("div",{className:"icon-wrapper"},u.a._(w.a,{img:"lovense",size:18})),u.a._("div",null,Object(Z.d)("actionList.interactiveToy.hint")),u.a._("div",null,Object(Z.d)("actionList.interactiveToy.hint2"))))}render(){const{lovenseLevels:e,isCurrentUserModel:t,isLayoutUpToL:s}=this.props,a=Object(Y.c)("interactive-toy",{"is-model":t});return u.a._("div",{className:a},u.a._("table",null,u.a._("thead",null,u.a._("tr",null,!s&&u.a._("th",{className:"duration"},Object(Z.d)("actionList.interactiveToy.headers.duration")),u.a._("th",{className:"power"},Object(Z.d)("actionList.interactiveToy.headers.power")),u.a._("th",null,Object(Z.d)("actionList.interactiveToy.headers.tokens")))),u.a._("tbody",null,Ue()(e,this._cb),this._ce())),this._cd())}}ja.displayName="InteractiveToy";const Ia={emitButtonEvent:Vs.b,saveTipAmount:Vs.q};var Ta=Object(h.c)(e=>{const{interactiveToy:{lovenseLevels:t,lovenseSpecial:s}}=e;return{model:Object(se.W)(e),isCurrentUserModel:Object(rs.c)(e),lovenseLevels:t,lovenseSpecial:s,isLayoutUpToL:Object(Je.q)(e)}},e=>Object(J.b)(Ia,e))(ja);class Pa extends p.Component{constructor(...e){super(...e),this.sendTipClickHandler=e=>{const{currentTarget:{dataset:{amount:t,text:s}}}=e,{model:a,isCurrentUserModel:i}=this.props;i||(this.props.saveTipAmount(+t),this.props.emitButtonEvent(S.b.TIP_MENU),this.props.emitButtonEvent(S.b.VIEWCAM_SEND_ONLINE_TIP,{modelId:a.id,additionalParam:{amplitudeEventProps:{prodType:kt.Qb.TIP,prodSubtype:kt.Pb.DEFAULT,isFromMenu:!0},source:kt.oc.TIP_MENU,message:s}}))},this._Hj=e=>{const{activity:t,price:s}=e;return u.a._("tr",{onClick:this.sendTipClickHandler,"data-amount":s,"data-text":t,key:s},u.a._("td",{className:"activity"},u.a._("span",null,t)),u.a._("td",{className:"price",title:s},u.a._("span",null,Object(Na.e)(s))))}}render(){const{items:e,isCurrentUserModel:t}=this.props,s=Object(Y.c)("tip-menu",{"is-model":t});return u.a._("div",{className:s},u.a._("table",null,u.a._("thead",null,u.a._("tr",null,u.a._("th",{className:"activity"},Object(Z.d)("actionList.tipMenu.headers.activity")),u.a._("th",{className:"price"},Object(Z.d)("actionList.tipMenu.headers.price")))),u.a._("tbody",null,Ue()(e,this._Hj))))}}Pa.displayName="TipMenu";const Ma={emitButtonEvent:Vs.b,saveTipAmount:Vs.q};var Ea=Object(h.c)(e=>({model:Object(se.W)(e),isCurrentUserModel:Object(rs.c)(e),items:Object(se.lb)(e)}),e=>Object(J.b)(Ma,e))(Pa);class Aa extends u.a.PureComponent{constructor(...e){super(...e),this.state={},this.closeHandler=()=>{this.props.hideActionList()},this.navClickHandler=e=>{const{currentTarget:{dataset:{navItem:t}}}=e;this.setState({selectedNav:t})},this.getSelectedNav=()=>{const{selectedNav:e}=this.state,t=this.getChatActionsList();return e&&pe()(t,e)?e:va()(t)}}_A(){const{actionListMenuItem:e}=this.props;this.setState({selectedNav:e})}componentDidUpdate(e){Object(se.wb)(e,this.props)&&this.closeHandler(),e.actionListMenuItem!==this.props.actionListMenuItem&&this.setState({selectedNav:this.props.actionListMenuItem}),!this.props.shouldShowActionMenu&&e.shouldShowActionMenu!==this.props.shouldShowActionMenu&&this.closeHandler()}getChatActionsList(){const{isTipMenuEnabled:e,isLovenseEnabled:t,isKiirooEnabled:s}=this.props;return Le()(kt.m,a=>a===kt.m.TIP_MENU?e:a===kt.m.LOVENSE?t:a===kt.m.KIIROO&&s)}_cf(){return u.a._("div",{className:"close",onClick:this.closeHandler},u.a._(w.a,{img:"close-3"}))}_Hm(){const e=this.getChatActionsList(),t=this.getSelectedNav();return Ue()(e,e=>u.a._("div",{className:Object(Y.c)("model-chat-actions-nav-item",{active:t===e}),"data-nav-item":e,onClick:this.navClickHandler,key:e},u.a._("div",{className:"model-chat-actions-nav-item-label"},Object(Z.d)(`actionList.${e}.title`))))}_F(){const e=this.getSelectedNav();return e===kt.m.TIP_MENU?u.a._(Ea,null):e===kt.m.LOVENSE?u.a._(Ta,null):e===kt.m.KIIROO?u.a._(Sa,null):null}_cg(){return u.a._("div",{className:"model-chat-actions-wrapper"},u.a._(Bt.a,{className:"model-chat-actions-nav"},this._Hm()),u.a._("div",{className:"model-chat-actions-container"},u.a._(us.a,null,this._F())))}render(){const{isActionListVisible:e}=this.props;return e?u.a._("div",{className:"model-chat-actions"},u.a._("div",{className:"header"},u.a._("span",null,Object(Z.d)("actionList.title")),this._cf()),this._cg(),u.a._("div",{className:"arrow"})):null}}Aa.displayName="ModelChatActions";const Ua={hideActionList:fa.c};Aa.defaultProps={actionListMenuItem:"",shouldShowActionMenu:!1,isTipMenuEnabled:!1};var Ha=Object(h.c)(e=>{const{viewCam:{isActionListVisible:t,actionListMenuItem:s,model:a}}=e;return{actionListMenuItem:s,isActionListVisible:t,isTipMenuEnabled:Object(Ca.f)(e),isLovenseEnabled:Object(Ca.c)(e),isKiirooEnabled:Object(Ca.a)(e),shouldShowActionMenu:Object(Ca.i)(e),model:a}},Ua)(Aa),La=s(350),Ra=s(207);const Fa=e=>{const t=Object(p.useRef)(null);Object(p.useEffect)((function(){const{initiatorRef:s,isMobileView:a,isVisible:i}=e;if(!a&&l()(s,"current")&&i){const{windowWidth:a}=e,{left:i,width:o}=s.current.getBoundingClientRect(),{offsetWidth:n}=t.current,r=a-(a-document.documentElement.offsetWidth)-i;let l=(o-n)/2;r<n/2&&(l=-Math.ceil(Math.abs(r-n))),requestAnimationFrame(()=>{t.current.style.marginLeft=l?`${l}px`:""})}}),[e.currentBlockingComponent,e.isMobileView]),Object(p.useEffect)((function(){const{isVisible:t}=e;t&&l()(e,"initiatorRef.current")&&requestAnimationFrame(()=>{e.initiatorRef.current.classList[t?"add":"remove"]("dropdown-expanded")})}),[e.currentBlockingComponent]);const s=e.isVisible?u.a._("div",{className:Object(Y.c)("dropdown-content",e.arrowSize,`background-${e.background}`,e.shadow?"shadow":"",e.spaced?"spaced":"")},e.children):null;return u.a._("div",{className:Object(Y.c)("dropdown-wrapper",e.position,e.mobilePosition?`mobile-${e.mobilePosition}`:"",{mobile:e.isMobileView},e.className),ref:t,onClick:function(t){t.stopPropagation(),t.preventDefault();const{currentBlockingComponent:s,parentBlockingComponent:a}=e;a||e.blockInterface(t.target,s)}},s)};Fa.displayName="Dropdown";const Da={blockInterface:Vs.a};Fa.defaultProps={arrowSize:"small",background:"strong",initiatorRef:{current:null},position:"bottom",mobilePosition:"",className:"",stateValueGetter:null};var xa=Object(h.c)((e,t)=>{const{ui:{parentBlockingComponent:s,currentBlockingComponent:a,isInterfaceBlocked:i,windowWidth:o}}=e,{initiatorRef:n,stateValueGetter:r}=t;return{currentBlockingComponent:a,parentBlockingComponent:s,isVisible:r?r(e):i&&(n.current===a||n.current===s),isMobileView:Object(Je.s)(e),windowWidth:o}},Da)(Fa),Ba=s(168);function Va(){return(Va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const za={addConsoleMessage:m.b,releaseInterface:Vs.p,toggleInvisibleMode:gt.p,togglePmSubscription:Ba.j,updateChatSettings:La.a,updateProfile:gt.t},$a=({id:e,text:t,...s})=>S.j.touch?null:u.a._(p.Fragment,null,u.a._("div",{className:"tooltip-info",id:e},u.a._(w.a,{img:"question"})),u.a._(oe.a,Va({placement:"bottom",targetId:e,isMobileRelative:!1},s),t));$a.displayName="InfoTooltip";class Ga extends u.a.Component{constructor(...e){super(...e),this.subscriptionClickEventHandler=e=>{e.preventDefault(),e.stopPropagation();const{modelId:t}=this.props;this.props.togglePmSubscription(t)},this.showConsoleCommands=()=>{const{model:e}=this.props;this.props.addConsoleMessage(e,{subtype:M.c.HELP}),this.props.releaseInterface()},this.toggleFontSize=e=>{e.stopPropagation(),this.props.updateChatSettings("fontSize")},this.toggleTimestamps=e=>{e.stopPropagation(),this.props.updateChatSettings("areTimestampsEnabled")},this.toggleHideGreysSystemMessage=()=>{const{profile:e,profile:{hasChatRestrictions:t}}=this.props,s={...e,hasChatRestrictions:!t};return this.props.updateProfile(s,gt.a.HIDE_GREYS_MESSAGES,{notifications:{}})}}stopPropagation(e){e.stopPropagation()}_ch(){const{fontSize:e}=this.props;return u.a._("li",{key:"fontsize_toggler",onClick:this.toggleFontSize},u.a._("div",null,Object(Z.d)("chatSettings.fontSize")),u.a._("div",{className:"dropdown-item-label"},Object(Z.d)(`chatSettings.fontSizes.${e}`)))}_ci(){const{areTimestampsEnabled:e}=this.props;return u.a._("li",{key:"timestamps_switcher",onClick:this.toggleTimestamps},u.a._("div",null,Object(Z.d)("chatSettings.timestamps")),u.a._(A.a,{isChecked:e,theme:"light"}))}_cj(){const{currentUser:e,isInvisible:t}=this.props;if(!e)return null;const{isModel:s,isStudio:a}=e;return s||a?null:u.a._("li",{key:"invisible_mode_switcher",onClick:this.props.toggleInvisibleMode},u.a._("div",null,Object(Z.d)("userMenu.invisibleMode")),u.a._(A.a,{isChecked:t,theme:"light"}))}_ck(){const{isBroadcastingPageOpen:e}=this.props;return e?null:u.a._("li",{className:"dropdown-section-chat-command",key:"chat_commands_button",onClick:this.showConsoleCommands},Object(Z.d)("chatSettings.showChatCommands"))}_cl(){const e=[this._cm()];return e.filter(Boolean).length?u.a._("div",{className:"dropdown-section"},u.a._("div",{className:"dropdown-section-header"},Object(Z.d)("chatSettings.privateChat")),u.a._("ul",null,e)):null}_cm(){const{currentUser:e,isSubscribed:t}=this.props;if(!e)return null;const{isModel:s,isStudio:a}=e;return s||a?null:u.a._("li",{key:"subscriotions_switcher",onClick:this.subscriptionClickEventHandler},u.a._("div",null,Object(Z.d)("settings.notifications.labels.push"),u.a._($a,{id:"subscription_switcher_info",text:Object(Z.d)("chatSettings.subscriptionTooltip")})),u.a._(A.a,{isChecked:t,theme:"light"}))}_cn(){const{profile:e}=this.props;return e?u.a._("li",{className:"hide-greys-messages"},u.a._("div",{className:"wrapper can-text-wrap"},u.a._("span",{className:"label"},Object(Z.d)("chatSettings.hideGreyMessages.label")),u.a._($a,{id:"hide-grey-users-switcher",text:Object(Z.d)("chatSettings.hideGreyMessages.tooltip"),placement:"top"})),u.a._(A.a,{isChecked:e.hasChatRestrictions,onChange:this.toggleHideGreysSystemMessage,theme:"light",className:"toggler"})):null}_co(){const{isBroadcastingPageOpen:e}=this.props;return e?u.a._("div",{className:"dropdown-section"},u.a._("div",{className:"dropdown-section-header"},Object(Z.d)("chatSettings.chatSettings")),u.a._("ul",null,this._cn())):null}render(){const{isOpened:e}=this.props;return e?u.a._(xa,{className:"dropdown-menu",stateValueGetter:()=>this.props.isOpened,arrowSize:"big",background:"light",position:"bottom-left",mobilePosition:"center-right",shadow:!0},u.a._("div",{className:"dropdown-section"},u.a._("div",{className:"dropdown-section-header"},Object(Z.d)("chatSettings.chatAppearance")),u.a._("ul",null,this._ch(),this._ci(),this._cj(),this._ck())),this._co(),this._cl()):null}}Ga.displayName="ChatSettingsMenu";var Wa=Object(h.c)(e=>{const{auth:{currentUser:t},broadcast:{isBroadcastingPageOpen:s},viewCam:{model:a}}=e,i=l()(a,"id"),o=Object(Rt.a)(e);return{areTimestampsEnabled:Object(Ra.a)(e),currentUser:t,profile:o,fontSize:Object(Ra.b)(e),isBroadcastingPageOpen:s,isInvisible:Object(Rt.h)(e),isSubscribed:Object(Ra.e)(e),model:a,modelId:i}},za)(Ga);const Ka={blockInterface:Vs.a,releaseInterface:Vs.p};class qa extends u.a.Component{constructor(...e){super(...e),this.state={isOpened:!1},this.propsUpdateToActionsMap=[{update:Je.F,action:()=>{this.interfaceBlockChangeHandler(this.props)}}],this.interfaceBlockChangeHandler=({isInterfaceBlocked:e,currentBlockingComponent:t})=>{this.setState({isOpened:e&&this.rootRef&&this.rootRef.contains(t)})},this.clickHandler=e=>{e.preventDefault(),e.stopPropagation(),this.state.isOpened?this.props.releaseInterface():this.props.blockInterface(e.target)},this.rootRef=void 0}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}render(){const{isOpened:e}=this.state,t=Object(Y.c)("model-chat-nav-item","chat-settings",{selected:e});return u.a._("div",{className:t,key:"chat_settings",ref:e=>{this.rootRef=e},onClick:this.clickHandler},u.a._("div",{className:"model-chat-nav-item-wrapper"},u.a._(w.a,{img:"menu-mobile"})),u.a._(Wa,{isOpened:e}))}}qa.displayName="ChatSettings";var Ja=Object(h.c)(e=>{const{ui:{currentBlockingComponent:t,isInterfaceBlocked:s}}=e;return{currentBlockingComponent:t,isInterfaceBlocked:s}},Ka)(qa);class Ya extends p.Component{constructor(...e){super(...e),this.shouldComponentUpdate=Object(ns.b)({props:["canBeClosed","isSelected","isChatOwner","conversation"]}),this.navItemClickHandler=()=>{const{selectNavItem:e}=this.props;e(kt.ib.PRIVATE)},this.navItemCloseHandler=e=>{const{closeNavItem:t}=this.props;e.stopPropagation(),t(kt.ib.PRIVATE)}}render(){const{canBeClosed:e,isSelected:t,isChatOwner:s,conversation:a}=this.props;if(!Boolean(!s||s&&a))return null;const i=Object(Y.c)("model-chat-nav-item",{selected:t}),o=Boolean(l()(a,"unreadCount",0)),n=s&&a?l()(a,"counterpart.username",Object(Z.d)("camChat.nav.private")):Object(Z.d)("camChat.nav.private");return u.a._("div",{className:i,key:kt.ib.PRIVATE,onClick:this.navItemClickHandler},u.a._("div",{className:"model-chat-nav-item-wrapper"},u.a._(w.a,{img:"locked"}),u.a._("span",{className:"model-chat-nav-item-label"},n),o&&u.a._("div",{className:"model-chat-nav-notification"})),e&&u.a._("div",{className:"model-chat-nav-close",onClick:this.navItemCloseHandler},u.a._(w.a,{img:"close-3",size:10})))}}Ya.displayName="PrivateTabLink",Ya.defaultProps={isSelected:!1,canBeClosed:!1,conversation:null};var Xa=Ya;class Qa extends p.Component{constructor(...e){super(...e),this.shouldComponentUpdate=Object(ns.b)({props:["isDisabled","isGroupShowStarted","isSelected"]}),this.navItemClickHandler=()=>{const{isDisabled:e,selectNavItem:t}=this.props;e||t(kt.ib.PUBLIC)}}render(){const{isDisabled:e,isSelected:t,isGroupShowStarted:s}=this.props,a=Object(Y.c)("model-chat-nav-item",{disabled:e,selected:t}),i=s?"camChat.nav.group":"camChat.nav.public";return u.a._("div",{className:a,key:kt.ib.PUBLIC,onClick:this.navItemClickHandler},u.a._(w.a,{img:"stripchat-logo"}),u.a._("span",{className:"model-chat-nav-item-label"},Object(Z.d)(i)))}}Qa.displayName="PublicTabLink",Qa.defaultProps={isSelected:!1,isDisabled:!1,isGroupShowStarted:!1};var Za=Object(h.c)(e=>({isGroupShowStarted:Object(se.I)(e)}))(Qa);class ei extends p.Component{constructor(...e){super(...e),this.shouldComponentUpdate=Object(ns.b)({props:["isDisabled","isSelected","viewersCount"]}),this.navItemClickHandler=()=>{const{isDisabled:e,selectNavItem:t}=this.props;e||t(kt.ib.USERS)}}render(){const{viewersCount:e,isDisabled:t,isSelected:s}=this.props,a=Object(Y.c)("model-chat-nav-item",{disabled:t,selected:s});return u.a._("div",{className:a,key:kt.ib.USERS,onClick:this.navItemClickHandler},u.a._(w.a,{img:"user-tab"}),e&&u.a._("span",{className:"model-chat-nav-item-count"},e))}}ei.displayName="UsersTabLink",ei.defaultProps={isSelected:!1,isDisabled:!1};var ti=Object(h.c)(e=>({viewersCount:Object(Kt.k)(e)}))(ei),si=s(217);class ai extends u.a.Component{constructor(...e){super(...e),this._Gp=()=>{this.props.emitJoinFanClubButtonEvent({isSubscribed:this.props.isSubscribed})}}_ba(){const{compact:e}=this.props;return u.a._(u.a.Fragment,null,u.a._(w.a,{img:"diamond",size:18}),!e&&u.a._(ue.a,{messageId:"fanClub.user.joinFanClub"}))}_bc(){const{compact:e,tier:t}=this.props;return u.a._(u.a.Fragment,null,u.a._(si.a,{tier:t,size:18}),!e&&u.a._("span",null,Object(Z.d)(kt.J[t])))}render(){const{isSubscribed:e,compact:t,shouldShow:s}=this.props;if(!s)return null;const a=Object(Y.c)("user-fan-club-status-btn",{subscribed:e,compact:t});return u.a._("div",{className:a,onClick:this._Gp},e?this._bc():this._ba())}}ai.displayName="UserFanClubStatusButton";const ii={emitJoinFanClubButtonEvent:Vs.c};var oi=Object(h.c)(e=>{const{shouldShow:t,isSubscribed:s,tier:a}=Object(se.ob)(e);return{isSubscribed:s,shouldShow:t,tier:a}},ii)(ai),ni=s(23),ri=s(245);class li extends u.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:ps.t,action:()=>{this.selectNavItem(kt.ib.PRIVATE)}},{update:ps.s,action:()=>{this.closePrivateTab()}},{update:["isChatOwner"],action:()=>{const{isChatOwner:e}=this.props;e&&this.closePrivateTab()}}],this.selectNavItem=e=>{this.props.selectChatTab(e)},this.closePrivateTab=()=>{this.props.updatePrivateCounterpart(null),this.props.selectChatTab(kt.ib.PUBLIC)},this.whatsAppButtonClickHandler=()=>{const{isLoggedIn:e,createFreeAccountModal:t,showModal:s}=this.props;e?s(S.F.WHATSAPP_START):t({triggerSource:ni.k.SIGNUP_WHATSAPP})},this._cp=()=>{const{shouldShowWhatsApp:e}=this.props;return e?u.a._("div",{className:"model-chat-nav-item whatsapp",key:"WA-button",onClick:this.whatsAppButtonClickHandler},u.a._("div",{className:"model-chat-nav-item-wrapper"},u.a._(w.a,{img:"whatsapp"}))):null}}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this.props.selectChatTab(kt.ib.PUBLIC)}_cq(){const{shouldShowFanClubButton:e}=this.props;return e?u.a._(u.a.Fragment,null,u.a._("div",{className:"model-chat-nav-item model-chat-nav-item-fanclub",key:"fan-club-button"},u.a._(oi,{compact:!0}))):null}render(){const{isInPrivate:e,isInSpy:t,isInVirtualPrivate:s,isInGroupShow:a,isChatOwner:i,isViewersListEnabled:o,isSmallNotTouchBroadcastingWindow:n,conversation:r,selected:l}=this.props,c=e&&!t&&!s&&!a;return u.a._("div",{className:"model-chat-nav"},u.a._(Za,{selectNavItem:this.selectNavItem,isDisabled:c,isSelected:l===kt.ib.PUBLIC}),u.a._(Xa,{selectNavItem:this.selectNavItem,closeNavItem:this.closePrivateTab,canBeClosed:i&&!e,isSelected:l===kt.ib.PRIVATE,conversation:r,isChatOwner:i}),o&&!n&&u.a._(ti,{selectNavItem:this.selectNavItem,isSelected:l===kt.ib.USERS,isDisabled:c}),this._cq(),this._cp(),u.a._(Ja,null))}}li.displayName="ModelChatNav";const ci={createFreeAccountModal:v.f,selectChatTab:m.z,showModal:O.c,updatePrivateCounterpart:ri.b};var di=Object(Mt.h)(Object(h.c)((e,t)=>{const{config:{data:{viewersList:{isEnabled:s}}}}=e,{isChatOwner:a}=t,i=Object(se.D)(e),o=Object(se.G)(e),n=Object(se.H)(e),r=Object(se.v)(e),l=Object(Je.q)(e),c=Object(zt.l)(e),d=l&&a&&!S.j.touch,p=s&&(!a||l),u=Object(se.O)(e),h=Object(se.eb)(e)&&l,m=Object(ps.e)(e);return{conversation:null!==m?Object(ps.l)(e,m):null,isInPrivate:i,isInSpy:o,isInVirtualPrivate:n,isInGroupShow:r,isViewersListEnabled:p,isLoggedIn:c,isSmallNotTouchBroadcastingWindow:d,shouldShowWhatsApp:u,shouldShowFanClubButton:h}},ci)(li)),pi=s(225),ui=s(26);const hi={emitButtonEvent:Vs.b,showModal:O.c};class mi extends u.a.Component{constructor(...e){super(...e),this.startPrivateModal=e=>{const{model:t}=this.props;e.preventDefault(),e.stopPropagation(),this.props.emitButtonEvent(S.b.VIEWCAM_PRIVATE_TAB_START_PRIVATE_LINK,{modelId:t.id})},this.showUserLevelsModal=e=>{e.preventDefault(),e.stopPropagation(),this.props.showModal(S.F.USER_LEVELS)},this.makeMeGoldModal=e=>{e.preventDefault(),e.stopPropagation(),this.props.emitButtonEvent(S.b.PRIVATE_TAB_MAKE_ME_GOLD)},this._cr=()=>u.a._(y.a,{style:"private",className:"stub-button",onClick:this.makeMeGoldModal},u.a._(w.a,{img:"user-gold",size:23}),Object(Z.d)("camChat.stubs.goldRequired.button")),this._cs=()=>u.a._("div",{className:"model-chat-stub-control"},u.a._(ue.a,{className:"stub-control",messageId:"camChat.stubs.goldRequired.controls",elements:{privateLink:u.a._("a",{onClick:this.startPrivateModal})}}))}render(){const{model:e}=this.props;return u.a._(pi.a,null,t=>{const s=t&&t.isStudio,a="light"===Object(ui.p)()?"private-locked-light":"private-locked",i=(({model:e,isCurrentUserStudio:t})=>t?"camChat.stubs.goldRequired.descriptionStudio":e.status===kt.lb.STATUS_OFF?"camChat.stubs.goldRequired.descriptionOffline":"camChat.stubs.goldRequired.description")({model:e,isCurrentUserStudio:s});return u.a._("div",{className:"model-chat-stub"},u.a._("div",{className:"model-chat-stub-message-wrapper"},u.a._("div",{className:"model-chat-stub-message"},u.a._(w.a,{img:a,size:76}),u.a._(ue.a,{className:"stub-title",messageId:"camChat.stubs.goldRequired.title",parameters:{username:e.username}}),u.a._(ue.a,{className:"stub-description",messageId:i,elements:{goldLink:u.a._("a",{onClick:this.showUserLevelsModal})}}),!s&&this._cr())),!s&&this._cs())})}}mi.displayName="GoldRequired",mi.defaultProps={user:null};var gi=Object(h.c)(null,hi)(mi);const bi=e=>{const{model:t,emitButtonEvent:s,showModal:a}=e,i="light"===Object(ui.p)()?"private-locked-light":"private-locked";return u.a._("div",{className:"model-chat-stub"},u.a._("div",{className:"model-chat-stub-message-wrapper"},u.a._("div",{className:"model-chat-stub-message"},u.a._(w.a,{img:i,size:76}),u.a._(ue.a,{className:"stub-title",messageId:"camChat.stubs.userRequired.title",parameters:{username:t.username}}),u.a._(ue.a,{className:"stub-description",messageId:"camChat.stubs.userRequired.description",elements:{br:u.a._("br",null)}}),u.a._(y.a,{style:"signup",className:"stub-button",onClick:e=>{e.preventDefault(),e.stopPropagation(),a(S.F.AUTH,{action:{backgroundImage:t.avatarUrl,type:"regAndGoldToMsg",user:t,shouldBypassActionPrefix:!0},component:"SignUp",className:"auth-modal-signup",triggerSource:ni.k.PRIVATE_TAB_SIGNUP})}},Object(Z.d)("camChat.stubs.userRequired.button")))),u.a._("div",{className:"model-chat-stub-control"},u.a._(ue.a,{className:"stub-control",messageId:"camChat.stubs.userRequired.controls",elements:{privateLink:u.a._("a",{onClick:e=>{e.preventDefault(),e.stopPropagation(),s(S.b.VIEWCAM_PRIVATE_TAB_START_PRIVATE_LINK,{modelId:t.id})}})}})))};bi.displayName="UserRequired";const _i={emitButtonEvent:Vs.b,showModal:O.c};var vi=Object(h.c)(null,e=>Object(J.b)(_i,e))(bi),fi=s(391);const Ci=({clickCallback:e,code:t})=>u.a._("a",{className:"active-smile",onClick:s=>{s.preventDefault(),s.stopPropagation(),e&&t&&e(t)}},u.a._(fi.a,{code:t}));Ci.displayName="ActiveSmile";var Ni=Ci,Oi=s(213);class yi extends u.a.Component{constructor(...e){super(...e),this._Hd=void 0,this.propsUpdateToActionsMap=[{update:Je.F,action:()=>this.interfaceBlockChangeHandler(this.props)}],this.domId="smiles_dropdown",this.state={isDropdownOpen:!1},this.wrapperClickHandler=e=>{e.preventDefault(),e.stopPropagation();const{isDropdownOpen:t}=this.state;t?this.props.releaseInterface():this.props.blockInterface(e.target)},this.smileClickHandler=e=>{this.props.onSmileClick(e),this.props.releaseInterface()},this.interfaceBlockChangeHandler=({isInterfaceBlocked:e,currentBlockingComponent:t})=>{this.setState({isDropdownOpen:e&&this._Hd&&this._Hd.contains(t)})}}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}_ct(){return this.state.isDropdownOpen?u.a._("div",{className:"smiles-list"},u.a._(us.a,null,Oi.c.map((e,t)=>u.a._(Ni,{key:t,clickCallback:this.smileClickHandler,code:e})))):null}render(){const{isDarkTheme:e}=this.props;return u.a._("div",{className:"smiles-dropdown",ref:e=>{this._Hd=e}},this._ct(),u.a._("a",{className:"trigger",id:this.domId,onClick:this.wrapperClickHandler},u.a._(w.a,{img:"smile",className:e?"dark":"",size:20})))}}yi.displayName="SmilesDropdown";var wi=Object(h.c)(({ui:{currentBlockingComponent:e,isInterfaceBlocked:t}})=>({currentBlockingComponent:e,isInterfaceBlocked:t,isDarkTheme:"dark"===Object(ui.p)()}),e=>Object(J.b)({blockInterface:Vs.a,releaseInterface:Vs.p},e))(yi),Si=s(53),ki=s(47),ji=s(231);class Ii extends u.a.Component{constructor(...e){super(...e),this.state={messageIndex:-1,isFocus:!1},this.sendMessageClickHandler=e=>{e.stopPropagation();const{canSend:t}=this.props;t&&(this.props.onMessageSend(),this.setState({lastMessage:"",messageIndex:-1}))},this.onMessageSend=()=>{this.props.onMessageSend(),this.setState({lastMessage:""})},this.messageInputChangeHandler=e=>{e.stopPropagation(),this.props.onMessageChange(e.target.value),this.setState({messageIndex:-1})},this.messageInputFocusHandler=()=>{this.setState({isFocus:!0})},this.messageInputBlurHandler=()=>{this.setState({isFocus:!1})},this.messageInputKeyDownHandler=e=>{e.stopPropagation();const{arrowUp:t,arrowDown:s}=S.C,{chatOwner:a,message:i,canSend:o}=this.props,{messageIndex:n}=this.state;if(e.keyCode===t||e.keyCode===s&&-1!==n){e.stopPropagation(),e.preventDefault();const s=ki.a.get(`consoleCommandListFor${a.id}`,[]);let o=0;o=e.keyCode===t?n>=s.length-1?s.length-1:n+1:n<0?-1:n-1;let r=s[o];if(o!==n){if(i.length&&e.keyCode===t&&0===o)this.setState({lastMessage:i});else if(-1===o){const{lastMessage:e}=this.state;r=e,this.setState({lastMessage:""})}this.setState({messageIndex:o}),this.props.onMessageChange(r||"")}}else this.setState({messageIndex:-1});e.keyCode===S.C.enter&&i.length>0&&o&&this.onMessageSend()},this._cu=e=>{const{error:t,canSendSmiles:s}=this.props;if(s)this.props.onSmileClick(e);else if(!l()(t,"details.smilesForbidden")){const e=new Si.e("Non-gold users are unable to send smiles",{smilesForbidden:!0});this.props.setChatError(e)}}}render(){const{canSend:e,isSmilesDropdownVisible:t,isPrivate:s,message:a,messageMaxLength:i,isDisabled:o}=this.props,{isFocus:n}=this.state,r=s?Object(Z.d)("typeYourPrivateMessage"):Object(Z.d)("typeYourMessage");return u.a._("div",{className:Object(Y.c)("input-message-wrapper",{private:s,focus:n,active:Boolean(a)})},u.a._("input",{className:"input input-message",maxLength:i,onChange:this.messageInputChangeHandler,onKeyDown:this.messageInputKeyDownHandler,onFocus:this.messageInputFocusHandler,onBlur:this.messageInputBlurHandler,ref:this.props.inputRef,type:"text",value:a,disabled:o,placeholder:S.j.ie11?"":r}),u.a._("div",{className:"buttons-wrapper"},u.a._(y.a,{disabled:!e,onClick:this.sendMessageClickHandler,style:"send"},Object(Z.d)("button.send")),u.a._("div",{className:"mobile-send-wrapper",onClick:this.sendMessageClickHandler},u.a._(w.a,{img:"send",size:20})),t&&u.a._(wi,{onSmileClick:this._cu})))}}Ii.displayName="ModelChatControls",Ii.defaultProps={canSend:!1,chatOwner:null,currentUser:null,error:null,isDisabled:!1,isLoggedIn:!1,isPrivate:!1};var Ti=Object(h.c)((e,t)=>{const{chatOwner:s}=t,a=s&&Object(ps.b)(e,s.id),i=Object(ji.d)(e,t),o=Object(rs.d)(e);return{canSendSmiles:a,isSmilesDropdownVisible:a||!o,messageMaxLength:i}},e=>Object(J.b)({setChatError:m.D},e))(Ii);const Pi=({model:e,emitButtonEvent:t,id:s})=>u.a._("div",{className:"private-tip-button",id:s,onClick:()=>{t(S.b.VIEWCAM_PRIVATE_TAB_GIFT,{modelId:e.id})}},u.a._(w.a,{img:"private-tip",size:18}));Pi.displayName="PrivateTipButton";const Mi={emitButtonEvent:Vs.b};var Ei=Object(h.c)(null,e=>Object(J.b)(Mi,e))(Pi),Ai=s(175);const Ui={openAppSettings:N.j};class Hi extends u.a.Component{constructor(...e){super(...e),this.showSettings=()=>{const{params:{app:e}}=this.props;this.props.openAppSettings(e.id)}}render(){const{params:e,model:t,currentUser:s}=this.props,a=e.isEnabled?"active":"inactive",i=t&&l()(t,"id")===l()(s,"id");return e.app?u.a._("div",{className:"system-message-activate-extension"},u.a._(w.a,{img:"puzzle"}),i&&u.a._(p.Fragment,null,u.a._("a",{className:"console-link",onClick:this.showSettings},e.app.title),`is ${a}`),!i&&u.a._("span",null,u.a._("b",null,e.app.title),`is ${a}`)):null}}Hi.displayName="ActivateExtensionMessage";var Li=Object(h.c)(e=>{const{auth:{isLoggedIn:t,currentUser:s},broadcast:{model:a}}=e;return{isLoggedIn:t,currentUser:s,model:a}},Ui)(Hi),Ri=s(250);const Fi=({body:e})=>e?u.a._("div",{className:"goal-description"},u.a._(Ri.a,{body:e})):null;Fi.displayName="GoalBody";var Di=Fi;const xi=({goal:e})=>e?u.a._("div",{className:"goal-block"},u.a._(w.a,{img:"goal"}),u.a._(ue.a,{messageId:"camChat.goalUpdatedNew",elements:{tokens:u.a._("span",{className:"goal-block-amount"},e)},parameters:{tokens:e},choiceParameter:"tokens"})):null;xi.displayName="GoalNewHeader";var Bi=xi;const Vi=()=>u.a._("div",{className:"goal-block"},u.a._(w.a,{img:"goal"}),u.a._(ue.a,{messageId:"camChat.goalReached"}));Vi.displayName="GoalReachedHeader";var zi=Vi;const $i=({goal:e})=>e?u.a._("div",{className:"goal-block"},u.a._(w.a,{img:"goal"}),u.a._("span",{className:"goal-block-amount"},e)," ",u.a._(ue.a,{messageId:"camChat.goalUpdated",elements:{strong:u.a._("b",null)},parameters:{tokens:e},choiceParameter:"tokens"})):null;$i.displayName="GoalUpdatedHeader";var Gi=$i;const Wi=({type:e,goal:t})=>{const s=Object(ps.n)({type:e,goal:t});return s===M.d.REACHED?u.a._(zi,null):s===M.d.NEW?u.a._(Bi,{goal:t}):u.a._(Gi,{goal:t})};Wi.displayName="GoalHeader";var Ki=Wi;const qi=({id:e,details:{goal:t,body:s},type:a})=>{const i=Object(ps.n)({type:a,goal:t}),o=i===M.d.REACHED;return s||t||o?u.a._("div",{className:Object(Y.c)("goal","message",{"goal-new":i===M.d.NEW,"goal-reached":o,"goal-threshold":i===M.d.LEFT,"goal-repeat":i===M.d.REPEAT}),"data-message-id":e},u.a._("div",{className:"body"},u.a._(Ki,{type:a,goal:t}),u.a._(Di,{body:s}))):null};qi.displayName="GoalUpdatedMessage";var Ji=qi;class Yi extends u.a.Component{getModelUsername(){const{chatOwner:e}=this.props;return u.a._(Qt.b,{isIconVisible:!1,modelId:e.id,size:14,user:e})}getKnightUsername(){const{chatOwner:e,isChatOwner:t,message:{details:s,userData:a}}=this.props;return u.a._(Qt.b,{fanClubTier:l()(s,"fanClubTier"),fanClubTierTerm:l()(s,"fanClubNumberMonthsOfSubscribed"),isKnight:!0,isMyKnight:t,isIconVisible:!1,isAdditionIconVisible:!0,isVrIconVisible:!0,isKing:a.isKing,isKingStateFrozen:!0,modelId:e.id,size:14,user:a})}render(){const{id:e}=this.props;return u.a._("div",{className:"message knight","data-message-id":e},u.a._("div",{className:"body"},u.a._(ue.a,{elements:{model:this.getModelUsername(),knight:this.getKnightUsername()},messageId:"camChat.modelAddedUserToKnights"})))}}Yi.displayName="KnightAddedMessage";var Xi=Yi,Qi=s(193);function Zi(){return(Zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const eo=({chatOwner:e,isChatOwner:t,message:{details:s,userData:a,modelId:i},onClick:o})=>u.a._(pi.a,null,n=>u.a._(Qi.a,{isKing:!0,isKnight:a.isKnight,isMyKnight:t,isIconVisible:!1,isVrIconVisible:!0,fanClubTier:l()(s,"fanClubTier"),fanClubTierTerm:l()(s,"fanClubNumberMonthsOfSubscribed"),modelId:e.id,isPopupEnabled:n&&i===n.id,onClick:o,size:14,user:a,isColored:!0}));eo.displayName="UserNameElement";class to extends u.a.Component{constructor(...e){super(...e),this.onUsernameClick=()=>{this.props.onUsernameClick(this.props.message.userData.username)}}render(){const{message:e,id:t}=this.props;return u.a._("div",{className:"message king","data-message-id":t},u.a._("div",{className:"body"},u.a._(ue.a,{elements:{username:u.a._(eo,Zi({},this.props,{fanClubTier:l()(e,"details.fanClubTier"),onClick:this.onUsernameClick}))},messageId:"camChat.newKing"})))}}to.displayName="NewKingMessage",to.defaultProps={onUsernameClick:bs.a};var so=to;const ao={blockInterface:Vs.a,releaseInterface:Vs.p,showModal:O.c};class io extends u.a.Component{constructor(...e){super(...e),this.state={isOpen:!1},this.uid=Object(qe.o)(),this._cv=e=>{this.state.isOpen?this.props.releaseInterface():this.props.blockInterface(e.target)},this._cw=()=>{const{chatOwner:e,message:t,userData:s}=this.props;this.props.showModal(S.F.REPORT_CHAT_MESSAGE,{chatOwner:e,message:t,userData:s}),this.props.releaseInterface()}}componentDidUpdate(e){const{isInterfaceBlocked:t,currentBlockingComponent:s}=this.props;s!==e.currentBlockingComponent&&this.setState({isOpen:t&&this.rootRef&&this.rootRef.contains(s)})}render(){const{message:{id:e},reportedMessageIds:t}=this.props;return t.includes(e)?null:u.a._("div",{className:"report-chat-message-button",ref:e=>{this.rootRef=e}},u.a._("button",{className:"menu-button",onClick:this._cv},u.a._(w.a,{img:"menu-mobile"})),this.state.isOpen&&u.a._(xa,{arrowSize:"big",background:"light",stateValueGetter:()=>this.state.isOpen,position:"left",shadow:!0},u.a._("a",{className:"report-button",onClick:this._cw},u.a._(w.a,{img:"exclamation"}),Object(Z.d)("button.report"))))}}io.displayName="ReportChatMessageButton";var oo=Object(h.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},modelChat:{reportedMessageIds:i},ui:{currentBlockingComponent:o,isInterfaceBlocked:n}}=e;return{currentBlockingComponent:o,currentUser:t,isLoggedIn:s&&!a,isInterfaceBlocked:n,reportedMessageIds:i}},ao)(io),no=s(318),ro=s(389),lo=s(178),co=s(96);var po=Object(h.c)((e,{message:t,userData:s})=>{const{modelId:a,senderId:i}=t,o=Object(lo.b)(e,a,i);return{canMuteOrUnmute:Object(co.c)(e,a,s),senderHadAlreadyBeenBanned:o}})(({canMuteOrUnmute:e,chatOwner:t,currentUser:s,senderHadAlreadyBeenBanned:a,message:i,userData:o})=>s&&s.id===t.id&&a?u.a._(no.a,{user:o,shouldConfirm:!0,shouldConsiderCurrentUser:!0,type:"icon"}):e?u.a._(ro.a,{modelId:t.id,user:o,shouldConfirm:!0}):((e,t,s)=>!(s.isGuest||s.isAdmin||s.isSupport)&&(e.id!==s.id&&(t.id!==s.id&&(!t.isModel&&!t.isStudio))))(t,s,o)?u.a._(oo,{chatOwner:t,userData:o,message:i}):null);const uo=({time:e})=>e?u.a._("div",{className:"model-chat-timestamp"},Object(k.j)(e,k.f.TIME)):null;uo.displayName="ModelChatTimestamp",uo.defaultProps={time:""};var ho=uo;const mo=ke()(e=>({avatar:"",id:e,isGuest:!0,isGold:!1,isModel:!1,name:`Guest #${String(e).substr(1)}`,username:`Guest #${String(e).substr(1)}`})),go=(e,t)=>!!e&&e.id===t;class bo extends u.a.Component{constructor(...e){super(...e),this.onUsernameClick=()=>{this.props.onUsernameClick(this.props.userData.username)}}render(){const{areTimestampsEnabled:e,chatOwner:t,id:s,isChatOwner:a,message:i,userData:o,currentUser:n}=this.props,{modelId:r,senderId:c,type:d}=i;if(!i.details.body)return null;const p=(e=>!e||e<0)(c),h=c===r||c===t.id,m=l()(o,"isGold"),g=h||!o.isModel;return u.a._("div",{className:Object(Y.c)("message",d,{"model-message":h,"gold-message":m,"guest-message":p}),"data-message-id":s},u.a._("div",{className:"body"},!!n&&u.a._(po,{chatOwner:t,currentUser:n,message:i,userData:o}),u.a._("div",{className:"message-body-wrapper"},e&&u.a._(ho,{time:i.createdAt}),u.a._("div",{className:"username-wrapper"},u.a._(Qi.a,{isKing:o.isKing,fanClubTier:l()(i,"details.fanClubTier"),fanClubTierTerm:l()(i,"details.fanClubNumberMonthsOfSubscribed"),isKnight:o.isKnight,isMyKnight:a,isPopupEnabled:!p&&go(n,r),isColored:g,modelId:t.id,onClick:this.onUsernameClick,user:o})),u.a._("div",{className:"regular-message-text"},u.a._(Ri.a,{body:i.details.body,sender:o,currentUser:n})))))}}bo.displayName="RegularMessage",bo.defaultProps={onUsernameClick:bs.a};var _o=Object(h.c)((e,{message:t})=>{const{senderId:s,userData:a={}}=t;return{areTimestampsEnabled:Object(Ra.a)(e),currentUser:Object(zt.h)(e),userData:s<0||!s||!a?mo(s):a}})(bo),vo=s(15);const fo={showModal:O.c};class Co extends u.a.Component{constructor(...e){super(...e),this.uid=Object(qe.o)(),this.clickHandler=()=>{const{currentUser:e,message:t}=this.props;this.props.showModal(S.F.BAN_CONFIRMATION,{message:t,modelId:e.id,type:vo.a.BAN})}}render(){return u.a._("div",{id:this.uid,className:"model-chat-message-ban-button",onClick:this.clickHandler,type:"button"},u.a._(w.a,{img:"ban",size:16}),u.a._(oe.a,{targetId:this.uid,isMobileRelative:!1},Object(Z.d)("bans.ban")))}}Co.displayName="ModelChatMessageBanButton";var No=Object(h.c)(null,fo)(Co);const Oo=({showTipMenuActions:e})=>u.a._("a",{className:"console-link",onClick:e},`${Object(Z.d)("actionList.tipMenu.title")}:`);Oo.displayName="TipMenuLink";const yo={showTipMenuActions:Ai.d};var wo=Object(h.c)(null,e=>Object(J.b)(yo,e))(Oo),So=s(709);class ko extends u.a.Component{constructor(...e){super(...e),this.state={isTwitterJsLoaded:!1},this.twitterShareBtnClickHandler=()=>{const{onClickHandler:e}=this.props;e&&e()}}_A(){Object(So.a)().then(()=>{this.setState({isTwitterJsLoaded:!0})})}render(){if(!this.state.isTwitterJsLoaded)return null;const{labelMobileText:e,shareLinkUrl:t,shareText:s,labelText:a,type:i}=this.props,o="round"===i,n=`https://twitter.com/intent/tweet?url=${t}&text=${encodeURIComponent(s)}`;return u.a._("div",{className:"twitter-share-button-wrapper"},u.a._("a",{className:Object(Y.c)("btn twitter-share-button-element",{"btn-send":!o,"btn-default":o,"twitter-share-button-round-icon":o}),href:n,onClick:this.twitterShareBtnClickHandler},u.a._("span",null,u.a._(w.a,{img:"twitter-original",size:18})),!o&&u.a._("span",{className:"desktop-label"},a),Boolean(!o&&e)&&u.a._("span",{className:"mobile-label"},e)))}}ko.displayName="TwitterShareButton",ko.defaultProps={type:"regular"};var jo=ko,Io=s(468);function To(){return(To=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Po=e=>{const{shareLinkUrl:t,isXHamsterLive:s,message:{details:a,userData:i}}=e;if(!t)return null;let o="",n="";return s?(o="@xHamsterLive",n="#xHamsterLive #xhl #livecamshow #tokens #xhamsterlivetoken #modeltip"):(o="@Stripchat",n="#stripchat #stripmenow #striptokens"),u.a._(jo,{type:"round",shareLinkUrl:t,shareText:`I've just been tipped ${a.amount} tokens on ${o}! Thanks ${i.username}! ${n}`})};Po.displayName="BigTipTwitterShareButtonPure";const Mo=Object(h.c)((e,{message:t,chatOwner:s})=>({isXHamsterLive:Object(ui.j)(e),shareLinkUrl:Object(Io.c)(e,{message:t,user:s})}))(Po);Mo.propTypes={chatOwner:d.a.object.isRequired,message:d.a.object.isRequired};class Eo extends u.a.Component{constructor(...e){super(...e),this.onUsernameClick=()=>{const{message:{details:e,userData:t}}=this.props;l()(e,"isAnonymous")||this.props.onUsernameClick(t.username)}}_cx(){const{message:{details:e,modelId:t,userData:s},chatOwner:a,isChatOwner:i}=this.props,o=l()(e,"isAnonymous");return u.a._(ue.a,{choiceParameter:"tokens",elements:{username:u.a._(Qi.a,{isKing:!o&&s.isKing,isIconVisible:!1,isVrIconVisible:!0,fanClubTier:o?null:l()(e,"fanClubTier"),fanClubTierTerm:o?null:l()(e,"fanClubNumberMonthsOfSubscribed"),isKnight:!o&&s.isKnight,isMyKnight:i,modelId:a.id,isPopupEnabled:i&&!o,onClick:this.onUsernameClick,size:14,user:s,isColored:!0,isAnonymous:o}),strong:u.a._("strong",null)},messageId:"camChat.userHasTippedModel",parameters:{username:s.username,tokens:e.amount}})}_cy(){const{id:e}=this.props,t=`private_tip_message_${e}`;return u.a._(u.a.Fragment,null,u.a._("div",{id:t,className:"tip-comment-icon"},u.a._(w.a,{img:"spy-off"})),u.a._(oe.a,{className:"icon-tooltip",placement:"top",targetId:t,isMobileRelative:!1},Object(Z.d)("camChat.privateTip.messageTooltipDescription")))}_cz(){const{isChatOwner:e,message:{details:t,type:s,userData:a}}=this.props,i=l()(t,"source")===kt.oc.TIP_MENU;return u.a._(pi.a,null,o=>{const n=o&&o.id===a.id,r=s===M.f.PRIVATE_TIP;return(!r||n||e)&&!!t.body?u.a._("div",{className:"tip-comment"},i&&u.a._(wo,null),u.a._(Ri.a,{body:t.body}),r&&this._cy()):null})}_d0(){const{isChatOwner:e,message:t,message:{details:s,type:a,userData:i}}=this.props,o=l()(s,"isAnonymous"),n=a===M.f.PRIVATE_TIP;return o&&e?u.a._(pi.a,null,a=>{const o=a&&a.id===i.id;return(!n||o||e)&&!!s.body?u.a._(No,{currentUser:a,message:t}):null}):null}render(){const{chatOwner:e,id:t,isChatOwner:s,message:a,message:{details:i,isNew:o,type:n,userData:r}}=this.props,c=l()(i,"isAnonymous"),d=c?"***":r.username,p=s?{"data-username":d,"data-amount":i.amount,"data-publictip":n===M.f.TIP,"data-inroom":!0,"data-lv-tag":o?"0":"1"}:{},h=Object(Y.c)("message tip",{"twitter-button-visible":s,"message-tip-anon":c,tip_item:s&&o});return u.a._("div",To({className:h,"data-message-id":t},p),u.a._("div",{className:"body"},this._cx(),s&&u.a._(Mo,{chatOwner:e,message:a}),this._cz()),this._d0())}}Eo.displayName="TipMessage",Eo.defaultProps={onUsernameClick:bs.a};var Ao=Eo;const Uo=e=>{const{chatOwner:t,id:s,isChatOwner:a,message:i}=e,{userData:o,additionalData:n={}}=i;if(!o||!n.banned)return null;const r=u.a._(Qt.b,{isIconVisible:!1,isKnight:o.isKnight,isKing:o.isKing,isMyKnight:a,modelId:t.id,size:14,user:o}),c=u.a._(Qt.b,{fanClubTier:l()(i,"details.fanClubTier"),fanClubTierTerm:l()(i,"details.fanClubNumberMonthsOfSubscribed"),isIconVisible:!1,isKnight:n.banned.isKnight,isMyKnight:a,isVrIconVisible:!0,isColored:!n.banned.isModel,modelId:t.id,size:14,user:n.banned});return u.a._("div",{className:"message muted","data-message-id":s},u.a._("div",{className:"body"},u.a._(ue.a,{elements:{moderator:r,user:c},messageId:"camChat.userIsMutedMessage"})))};Uo.displayName="UserMutedMessage";var Ho=Uo;class Lo extends u.a.Component{constructor(...e){super(...e),this._d1=()=>{this.props.onUsernameClick(l()(this.props.message,"userData.username"))},this._d2=()=>{this.props.emitJoinFanClubButtonEvent({isSubscribed:this.props.isSubscribed})}}render(){const{id:e,isKing:t,chatOwner:s,isChatOwner:a,message:i,currentUser:o}=this.props,{userData:n}=i,{fanClubSubscription:r}=i.details,c=Object(Z.d)(kt.J[r.tier]),d=o&&(o.isModel||o.isStudio),p=u.a._(Qi.a,{isKing:t,isIconVisible:!1,isKnight:n.isKnight,isMyKnight:a,isVrIconVisible:!0,fanClubTier:l()(i,"details.fanClubSubscription.tier"),fanClubTierTerm:l()(i,"details.fanClubNumberMonthsOfSubscribed"),forceKnightIconDisplay:l()(n,"isKnight"),modelId:s.id,onClick:this._d1,size:14,user:n,isColored:!0}),h=Object(Y.c)("message","user-joined-fan-club",r.tier);return u.a._("div",{className:h,"data-message-id":e},u.a._("div",{className:"body"},u.a._(ue.a,{parameters:{tier:c},messageId:"fanClub.userJoinedChatMessage",elements:{username:p,accent:d?u.a._("span",null):u.a._("a",{className:"console-link",onClick:this._d2})}})))}}Lo.displayName="UserJoinedFanClubMessage";const Ro={emitJoinFanClubButtonEvent:Vs.c};Lo.defaultProps={onUsernameClick:bs.a};var Fo=Object(h.c)(e=>{const{viewCam:{kingInfo:t}}=e,s=Object(zt.h)(e),a=l()(Object(se.ub)(e),"subscription.status")!==kt.G.INACTIVE;return{currentUser:s,isKing:!(!t||!s)&&t.kingId===s.id,isSubscribed:a}},Ro)(Lo),Do=s(58);const xo=({message:{details:e,userData:t,modelId:s},chatOwner:a,id:i,onUsernameClick:o,currentUser:n,modelName:r})=>{const c=l()(e,"isAnonymous"),d=l()(e,"content.cost"),p=l()(e,"content.type"),h=n&&n.id===a.id,m="album"===p?"camChat.userBoughtPhotoAlbum":"camChat.userBoughtVideo",g="album"===p?"album":"camera",b="album"===p?"gallery":"videos",_=(null==n?void 0:n.isModel)?u.a._("span",null):u.a._(Ms.a,{to:`/${r}/profile#${b}`,className:"section-link"});return u.a._("div",{className:"message user-bought-content","data-message-id":i},u.a._("div",{className:"body"},u.a._("div",{className:"user-bought-content-icon-wrapper"},u.a._(w.a,{img:g})),u.a._(ue.a,{choiceParameter:"tokens",elements:{username:u.a._(Qi.a,{isKing:!c&&t.isKing,isIconVisible:!1,isVrIconVisible:!0,fanClubTier:c?null:l()(e,"fanClubTier"),fanClubTierTerm:c?null:l()(e,"fanClubNumberMonthsOfSubscribed"),isKnight:!c&&t.isKnight,isMyKnight:h,modelId:a.id,isPopupEnabled:n&&s===n.id&&!c,onClick:()=>{c||o(t.username)},size:14,user:t,isColored:!0,isAnonymous:c}),amount:u.a._("strong",null,d),sectionLink:_},messageId:m,parameters:{username:t.username,tokens:d}})))};xo.displayName="UserBoughtContent";var Bo=Object(h.c)((e,t)=>{const s=Object(zt.h)(e),a=l()(t,"message.modelId");return{currentUser:s,modelName:Object(Do.k)(e,a).username}})(xo);const Vo={showModal:O.c};class zo extends u.a.Component{constructor(...e){super(...e),this.onUsernameClick=()=>{const{model:e}=this.props,t=l()(e,"username");this.props.onUsernameClick(t)}}render(){const{params:e={},model:t,isLoggedIn:s,currentUser:a}=this.props,{sender:i="",messageFormat:o=""}=e;if(!t)return null;const n=s?`@${l()(a,"username")}`:"Guest",r=o.replace(/{username}/gi,`${n}`),c=l()(t,"id"),d=c===l()(a,"id"),p={id:0,modelId:c,senderId:c,type:"text",userData:"model"===i?t:{...t,username:"Welcome Bot"},details:{body:r}};return u.a._(_o,{chatOwner:t,isChatOwner:d,areTimestampsEnabled:!1,message:p,id:0,onUsernameClick:this.onUsernameClick})}}zo.displayName="WelcomeBotMessage",zo.defaultProps={onUsernameClick:bs.a};var $o=Object(h.c)(e=>{const{auth:{isLoggedIn:t,currentUser:s},viewCam:{model:a}}=e;return{isLoggedIn:t,currentUser:s,model:a}},Vo)(zo);class Go extends u.a.Component{constructor(...e){super(...e),this.showJoinGroupShowClickHandler=()=>{this.props.emitButtonEvent(S.b.GROUP_SHOW_JOIN)},this.showTipModalForGroupShow=()=>{this.props.showTipModalForGroupShow(),this.props.toggleGroupShowMobileDropdown(!1)}}render(){const{groupRate:e,isGroupShowSlotReserved:t,topic:s,shouldHideControls:a,isTicketShow:i,isTicketShowPaid:o,ticketRate:n}=this.props;if(!s&&a)return null;const r=t?"viewCam.groupShowAnnouncement.reservedSlot":"viewCam.groupShowAnnouncement.reserveSlot";return u.a._(p.Fragment,null,s&&u.a._("div",{className:"group-show-announce-topic"},u.a._("span",{className:"group-show-announce-topic-label"},u.a._(ue.a,{messageId:"topic"}),": "),u.a._("span",null,s)),!a&&u.a._("div",{className:"group-show-announce-controls"},u.a._("div",{className:"group-show-announce-left"},i?o?u.a._(w.a,{img:"check-1",className:"ticket-paid"}):u.a._(y.a,{style:"default-filled",className:"group-show-announce-join",onClick:this.showTipModalForGroupShow},u.a._(ue.a,{messageId:"button.sendTip"})):u.a._(y.a,{style:t?"default-filled":"login",className:"group-show-announce-join",onClick:this.showJoinGroupShowClickHandler},t&&u.a._(w.a,{img:"check-1"}),u.a._(ue.a,{messageId:r}))),u.a._("div",{className:"group-show-announce-right"},i?o?u.a._(ue.a,{messageId:"viewCam.ticketShowAnnouncement.ticketPaid"}):u.a._(ue.a,{messageId:"viewCam.ticketShowAnnouncement.ticketRate",elements:{ticketRate:u.a._("span",{className:"group-show-announce-rate"})},parameters:{rate:n}}):u.a._(ue.a,{messageId:"viewCam.groupShowAnnouncement.rate",elements:{groupRate:u.a._("div",{className:"group-show-announce-rate"})},parameters:{rate:e},choiceParameter:"rate"}))))}}Go.displayName="GroupShowAnnounceBody";const Wo={emitButtonEvent:Vs.b,showTipModalForGroupShow:Vs.w,toggleGroupShowMobileDropdown:Vs.x};Go.defaultProps={shouldHideControls:!1};var Ko=Object(h.c)((e,t)=>{const s=Object(se.W)(e),a=l()(s,"groupRate"),i=l()(s,"ticketRate");return{isGroupShowSlotReserved:Object(se.n)(e),topic:Object(se.i)(e),joinedUsers:Object(se.m)(e),isTicketShow:Object(se.yb)(e),groupRate:a,ticketRate:i,modelId:s.id,isTicketShowPaid:null!=t.isTicketShowPaid?t.isTicketShowPaid:Object(se.Q)(e)}},Wo)(Go);const qo=({params:e})=>{const t=e.isTicketMode?"ticketShowAnnouncement":"groupShowAnnouncement";let s=`viewCam.${t}.${e.isChatOwner?"messageTitleOwner":"messageTitleVisitor"}`;return e.isLastMinute&&(s=`viewCam.${t}.lastMinuteWarning`),u.a._(p.Fragment,null,u.a._("div",{className:"group-show-announce-message-title"},u.a._(w.a,{img:"group"}),u.a._("span",null,u.a._(ue.a,{messageId:s,elements:{strong:u.a._("strong",null)}}))),(!e.isChatOwner||e.topic)&&u.a._("div",{className:"group-show-announce-message-body"},u.a._(Ko,{shouldHideControls:e.isChatOwner,isTicketShowPaid:e.isTicketShowPaid})))};qo.displayName="GroupShowAnnouncedMessage";var Jo=qo;const Yo=({params:{isTicketMode:e,isAnnouncement:t}})=>{const s=t?"showCancelled":"showStopped",a=e?"ticketShowAnnouncement":"groupShowAnnouncement";return u.a._("div",{className:"group-show-announce-message-title"},u.a._(w.a,{img:"group"}),u.a._("span",null,u.a._(ue.a,{messageId:`viewCam.${a}.${s}`,elements:{strong:u.a._("strong",null)}})))};Yo.displayName="GroupShowCancelled";var Xo=Yo;class Qo extends u.a.Component{constructor(...e){super(...e),this.showTipModalForGroupShow=()=>{this.props.showTipModalForGroupShow()}}render(){const{params:{isKing:e,isTicketShowPaid:t,user:s,groupId:a,isPopupEnabled:i}}=this.props,o=t?"userGotTicket":"userGotTicketButYouDidnt";return u.a._("div",{className:"group-show-announce-message-title"},u.a._(w.a,{img:"group"}),u.a._(ue.a,{messageId:`privateModes.ticketShow.${o}`,elements:{username:u.a._("strong",null,u.a._(Qi.a,{isIconVisible:!1,isVrIconVisible:!1,isKing:e,modelId:a,isPopupEnabled:i,size:14,user:s,isColored:!0})),getTicket:u.a._("a",{className:"tip-more-link",onClick:this.showTipModalForGroupShow}),strong:u.a._("strong",null)}}))}}Qo.displayName="GroupShowGotTicket";const Zo={showTipModalForGroupShow:Vs.w};var en=Object(h.c)((e,t)=>{const{viewCam:{kingInfo:s}}=e;return{isKing:s&&s.kingId===l()(t,"params.user.id")}},Zo)(Qo);const tn=e=>u.a._("div",{className:"group-show-announce-message-title"},u.a._(w.a,{img:"group"}),u.a._(ue.a,{messageId:"privateModes.ticketShow.ticketPartialPay",choiceParameter:"tokens",elements:{link:u.a._("a",{className:"tip-more-link",onClick:()=>e.showTipModalForGroupShow()}),strong:u.a._("strong",null)},parameters:{tokens:e.price}}));tn.displayName="GroupShowPaidPartially";const sn={showTipModalForGroupShow:Vs.w};var an=Object(h.c)(null,sn)(tn);const on=({topic:e,isTicketMode:t})=>u.a._(p.Fragment,null,u.a._("div",{className:"group-show-announce-message-title"},u.a._(w.a,{img:"group"}),u.a._("span",null,u.a._(ue.a,{messageId:`viewCam.${t?"ticketShowAnnouncement":"groupShowAnnouncement"}.showStarted`,elements:{strong:u.a._("strong",null)}}))),e&&u.a._("div",{className:"group-show-announce-message-body"},u.a._(Ko,{shouldHideControls:!0})));on.displayName="GroupShowStarted",on.defaultProps={topic:""};var nn=Object(h.c)(e=>({topic:Object(se.i)(e)}))(on);const rn=({params:{user:e,groupId:t,isTicketMode:s,isPopupEnabled:a}})=>u.a._("div",{className:"group-show-announce-message-title"},u.a._(ue.a,{messageId:`privateModes.${s?"ticketShow":"groupShow"}.userJoined`,elements:{username:u.a._("strong",null,u.a._(Qi.a,{isIconVisible:!1,isVrIconVisible:!1,modelId:t,isPopupEnabled:a,size:14,user:e,isColored:!0})),strong:u.a._("strong",null)}}));rn.displayName="GroupShowUserJoined";var ln=rn;const cn=({params:{minute:e,isTicketMode:t}})=>u.a._("div",{className:"group-show-announce-message-title"},u.a._(w.a,{img:"group"}),u.a._(ue.a,{messageId:`viewCam.${t?"ticketShowAnnouncement":"groupShowAnnouncement"}.willStartInNMinutes`,elements:{strong:u.a._("strong",null),plural:u.a._(ue.a,{elements:{strong:u.a._("strong",null)},messageId:"viewCam.minDurationPlural",parameters:{min:e},choiceParameter:"min"})}}));cn.displayName="GroupShowWillStartInNMinutes";var dn=cn;const pn=({isChatOwner:e})=>u.a._("div",{className:"system-message-hide-greys"},u.a._(w.a,{img:"chat-2"}),u.a._("p",{className:"text"},e?Object(Z.d)("viewCam.hideGreysMessageForModel"):Object(Z.d)("viewCam.hideGreysMessageForUser")));pn.displayName="HideGreysMessage";var un=Object(h.c)(e=>({isChatOwner:Object(xs.a)(e)===Object(zt.i)(e)}),{})(pn);const hn=({emitButtonEvent:e,isLayoutUpToS:t})=>u.a._("div",{className:"tokens-giveaway-signup-message-wrapper"},u.a._("div",null,u.a._(w.a,{img:"playing-dices",size:18})),u.a._("div",null,u.a._(ue.a,{elements:{strong:u.a._("strong",null)},messageId:"camChat.tokensGiveaway.doYouWantFreeTokens"}),u.a._(y.a,{style:"signup",size:t?"small":"default",onClick:()=>{e(S.b.GIVEAWAY_SYSTEM_MESSAGE_REGISTER)}},Object(Z.d)("camChat.tokensGiveaway.createFreeAccount")),u.a._("span",{className:"tokens-giveaway-signup-message-help-text"},Object(Z.d)("camChat.tokensGiveaway.participateInOurTokenGiveaway"))));hn.displayName="ModelChatTokensGiveawayMessage";const mn={emitButtonEvent:Vs.b};var gn=Object(h.c)(e=>({isLayoutUpToS:Object(Je.s)(e)}),e=>Object(J.b)(mn,e))(hn),bn=s(57),_n=s(277),vn=s(328);const fn=`/${i()(M.c.HELP)}`,{CONSOLE_ANNOUNCEMENT:Cn,EMAIL_VERIFY_REQUIRED:Nn,EXTENSION_ACTIVE:On,GOLD_REQUIRED:yn,GROUP_SHOW_ANNOUNCEMENT:wn,GROUP_SHOW_CANCELLED:Sn,GROUP_SHOW_IN_PROGRESS:kn,GROUP_SHOW_STARTED:jn,GROUP_SHOW_STARTS_IN_N:In,INVISIBLE_MODE:Tn,LOGIN_REQUIRED:Pn,NOT_ENOUGH_TOKENS:Mn,PRIVATE_MODE_ENDED:En,PRIVATE_MODE_STARTED:An,TICKET_SHOW_PAID_PARTIALLY:Un,TIP_MENU_ANNOUNCEMENT:Hn,TOKENS_GIVEAWAY_SIGNUP:Ln,USER_GOT_TICKET_GROUP_SHOW:Rn,USER_JOINED_GROUP_SHOW:Fn,YOU_ARE_BANNED:Dn,YOU_ARE_MUTED_BY_KNIGHT:xn,YOU_ARE_MUTED_BY_MODEL:Bn,YOU_HAVE_BANNED:Vn,WELCOME_BOT:zn,HIDE_GREYS_MESSAGES:$n}=M.h,Gn={emitButtonEvent:Vs.b,sendConsoleMessage:m.C,resendConfirmation:_n.c,showSubscriptionPackage:bn.v,showModal:O.c,showTipMenuActions:Ai.d,showTipModalForGroupShow:Vs.w};var Wn=Object(h.c)(null,Gn)(({body:e=null,params:t,emitButtonEvent:s,model:a,resendConfirmation:o,showTipMenuActions:n,sendConsoleMessage:r,subtype:l,showSubscriptionPackage:c,showModal:d,onUsernameClick:p})=>{let h=null;const m=a?a.username:"",g=e=>{e.stopPropagation(),s(S.b.MODEL_CHAT_MESSAGE_BUY_TOKENS,{model:a})},b=()=>{c("")},_=()=>{d(S.F.START_GROUP_SHOW)},v=()=>{r(a.id,fn)};switch(l){case yn:h=u.a._(ue.a,{elements:{link:u.a._("a",{onClick:b})},messageId:"camChat.consoleAnonTipGold"});break;case Mn:h=u.a._(ue.a,{elements:{buyTokens:u.a._("a",{onClick:g})},messageId:"camChat.notEnoughTokensForTip"});break;case Dn:h=u.a._("span",null,Object(Z.d)("camChat.youAreBannedByUser",{username:m}));break;case xn:h=u.a._(pi.a,null,e=>{const t=e&&(e.isGreen||e.isGold||e.isModel||e.isStudio)?"camChat.youAreMutedByKnight":"camChat.youAreMutedByKnightPleaseBuyTokens";return u.a._(ue.a,{parameters:{username:m},elements:{buyTokens:u.a._("a",{onClick:g})},messageId:t})});break;case Bn:h=u.a._(pi.a,null,e=>{const t=e&&(e.isGreen||e.isGold||e.isModel||e.isStudio)?"camChat.youAreMutedByModel":"camChat.youAreMutedByModelPleaseBuyTokens";return u.a._(ue.a,{parameters:{username:m},elements:{buyTokens:u.a._("a",{onClick:g})},messageId:t})});break;case kn:h=u.a._(ue.a,{elements:{link:u.a._("a",{onClick:_})},messageId:`camChat.${t.isTicketShow?"ticket":"group"}ShowInProgress`});break;case An:h=u.a._("span",null,Object(Z.d)("camChat.youAreInPrivateMode",{username:m}));break;case En:h=u.a._("span",null,Object(Z.d)("camChat.youHaveLeftPrivateMode",{username:m}));break;case Vn:h=u.a._(ue.a,{elements:{link:u.a._("a",{href:`/messages/${m}`,target:"_blank"})},messageId:"camChat.youHaveBanned"});break;case Pn:{const e=ni.k.MODEL_CHAT_MESSAGE_LOGIN_REQUIRED;h=u.a._(ue.a,{elements:{LoginLink:u.a._(vn.a,{type:"login",triggerSource:e}),SignUpLink:u.a._(vn.a,{type:"signup/user",triggerSource:e})},messageId:"camChat.modelHasDisabledChatForAnonymous"});break}case Nn:h=u.a._(pi.a,null,e=>{if(!e)return null;const t=Object(S.V)(e.email);return u.a._(ue.a,{elements:{emailLink:t?u.a._("a",{href:t,target:"_blank"}):u.a._("span",null),resendConfirmation:u.a._("a",{onClick:()=>o()})},messageId:"camChat.modelHasDisabledChatForUnverifiedEmails"})});break;case Tn:h=u.a._("span",null,Object(Z.d)("camChat.youAreInInvisibleMode"));break;case Hn:h=u.a._(ue.a,{elements:{a:u.a._("a",{className:"console-link",onClick:n})},messageId:"camChat.console.tipMenu"});break;case Cn:h=u.a._(ue.a,{elements:{a:u.a._("a",{className:"console-link",onClick:v})},parameters:{help:`/${i()(M.c.HELP)}`},messageId:"camChat.console.announcement"});break;case Ln:h=u.a._(gn,null);break;case On:return u.a._(Li,{params:t});case Un:h=u.a._(an,{price:t.price});break;case In:h=u.a._(dn,{params:t});break;case wn:return u.a._(Jo,{params:t});case zn:return u.a._($o,{params:t,onUsernameClick:p});case jn:return u.a._(nn,null);case Sn:return u.a._(Xo,{params:t});case Rn:return u.a._(en,{params:t});case Fn:return u.a._(ln,{params:t});case $n:return u.a._(un,null)}return e?u.a._("span",null,e):h});class Kn extends u.a.Component{constructor(...e){super(...e),this.showUserLevelsModal=e=>(e.preventDefault(),e.stopPropagation(),this.props.showModal(S.F.USER_LEVELS,{fromEmoticonError:!0}),!1),this.errorMessageClickHandler=()=>{this.props.setChatError(null)},this.subscribeToGoldClickHandler=e=>(e.preventDefault(),e.stopPropagation(),this.props.emitButtonEvent(S.b.MODEL_CHAT_EMOTICON_MAKE_ME_GOLD_LINK),!1)}render(){const{error:e,message:t}=this.props;if(!e)return null;const s=0===t.length,a="/"===t.charAt(0)||"\\"===t.charAt(0);if(!!!l()(e,"details.smilesForbidden")&&(s||a))return null;let i=l()(e,"message");if(l()(e,"details.smilesForbidden")&&(i=u.a._(ue.a,{elements:{buyTokens:u.a._("a",{onClick:this.subscribeToGoldClickHandler}),userLevels:u.a._("a",{onClick:this.showUserLevelsModal})},messageId:"camChat.subscribeToGoldMembershipToSendSmiles"})),"system"===l()(e,"details.type")){const t=l()(e,"details.subtype");t&&(i=u.a._(Wn,{body:l()(e,"details.body"),subtype:t,params:l()(e,"details.params"),model:this.props.chatOwner}))}return u.a._("div",{className:"model-chat-error",onClick:this.errorMessageClickHandler},i)}}Kn.displayName="ModelChatError";const qn={emitButtonEvent:Vs.b,setChatError:m.D,showModal:O.c};Kn.defaultProps={chatOwner:null,message:null,error:null};var Jn=Object(h.c)(null,e=>Object(J.b)(qn,e))(Kn),Yn=s(158),Xn=s.n(Yn);const Qn=({message:{details:{error:{key:e,elementFlags:t,params:s}}}})=>{const{strong:a,nowrap:i}=t,o={...a?{strong:u.a._("strong",null)}:null,...i?{nowrap:u.a._("span",{className:"no-wrap"})}:null};return u.a._("div",null,u.a._(ue.a,{messageId:e,elements:{...o},parameters:{...s}}))};Qn.displayName="ErrorChatMessage";var Zn=Qn;const{INFO:er,KING:tr,TIP:sr,USERS:ar}=M.c,ir=`/${i()(er)}`,or=`/${i()(tr)}`,nr=`/${i()(sr)}`,rr=`/${i()(ar)}`,lr=({model:e,sendConsoleMessage:t,setInputText:s,setInputFocus:a})=>{const i=ke()(i=>()=>{if(n()(i,nr))return s(`${nr} `),void a();t(e.id,i)});return u.a._("div",null,u.a._("div",{className:"console-header"},Object(Z.d)("camChat.console.help.title")),u.a._("span",{className:"console-body"},u.a._("span",{className:"console-label"},u.a._("a",{className:"console-link",onClick:i(ir)},ir)," ","-"),u.a._("span",{className:"console-details"},Object(Z.d)("camChat.console.help.info"))),u.a._("span",{className:"console-body"},u.a._("span",{className:"console-label"},u.a._("a",{className:"console-link",onClick:i(or)},or)," - "),u.a._("span",{className:"console-details"},Object(Z.d)("camChat.console.help.king"))),u.a._("span",{className:"console-body"},u.a._("span",{className:"console-label"},u.a._("a",{className:"console-link",onClick:i(nr)},nr)," x [-private] [-anon] [comment] - "),u.a._("span",{className:"console-details"},Object(Z.d)("camChat.console.help.tip")),u.a._("span",{className:"console-examples"},u.a._("div",{className:"examples-header"},Object(Z.d)("examples"),":"),u.a._("div",null,u.a._(ue.a,{messageId:"camChat.console.help.tipExamples.tip20",elements:{command:u.a._("span",{className:"command"})},parameters:{tip:nr}})),u.a._("div",null,u.a._(ue.a,{messageId:"camChat.console.help.tipExamples.tip30iLoveYou",elements:{command:u.a._("span",{className:"command"})},parameters:{tip:nr}})),u.a._("div",null,u.a._(ue.a,{messageId:"camChat.console.help.tipExamples.private",elements:{command:u.a._("span",{className:"command"})},parameters:{private:"-private"}})),u.a._("div",null,u.a._(ue.a,{messageId:"camChat.console.help.tipExamples.anon",elements:{command:u.a._("span",{className:"command"})},parameters:{anon:"-anon"}})))),u.a._("span",{className:"console-body"},u.a._("span",{className:"console-label"},u.a._("a",{className:"console-link",onClick:i(rr)},rr)," - "),u.a._("span",{className:"console-details"},Object(Z.d)("camChat.console.help.users"))),u.a._("span",{className:"console-body"},u.a._("span",{className:"console-label"},"↑ - "),u.a._("span",{className:"console-details"},Object(Z.d)("camChat.console.help.keyup"))))};lr.displayName="HelpMessage";const cr={sendConsoleMessage:m.C,setInputText:m.F,setInputFocus:m.E};var dr=Object(h.c)(null,e=>Object(J.b)(cr,e))(lr),pr=s(115),ur=s.n(pr);const hr=({model:e})=>{const t=Ue()(e.publicActivities,e=>Object(Z.d)(`tagGenders.girls.${e}`)).join(", "),s=Ue()(e.privateActivities,e=>Object(Z.d)(`tagGenders.girls.${e}`)).join(", "),a=Object(k.w)(new Date,e.birthDate,k.d.year),i=e.country?Object(Z.d)(`country.${e.country}`):"",{name:o}=e,n=Ue()(e.languages,e=>Object(Z.d)(`language.${e}`)).join(", "),{favoritedCount:r}=e,l=ur()([o?{key:"name",value:o}:null,a?{key:"age",value:a}:null,i?{key:"country",value:i}:null,n.length?{key:"languages",value:n}:null,t.length?{key:"inPublic",value:t}:null,s.length?{key:"inPrivate",value:s}:null,{key:"favoritedCount",value:r}]);return l.length?u.a._("div",null,u.a._("div",{className:"console-body"},l.map(({key:e,value:t})=>u.a._("div",{className:"field-wrapper",key:e},u.a._("div",{className:"field-label"},Object(Z.d)(`camChat.console.info.${e}`)),u.a._("div",null,t))))):null};hr.displayName="InfoMessage";var mr=hr;const gr=({currentUser:e,isLoggedIn:t,message:s,model:a,king:i})=>{if(!i)return null;const o=u.a._(Qt.b,{isIconVisible:!1,modelId:a.id,isKing:!0,isKnight:i.isKnight,size:14,user:i}),{details:n}=s,r=!t||t&&!e.isModel&&!e.isStudio&&i.id!==e.id,{kingAmount:l,selfAmount:c}=n;return u.a._("div",null,u.a._("div",{className:"field-wrapper"},u.a._("div",{className:"field-label"},Object(Z.d)("camChat.console.king.king")),u.a._("div",null,o)),u.a._("div",{className:"field-wrapper"},u.a._("div",{className:"field-label"},Object(Z.d)("camChat.console.king.tippedLabel")),u.a._("div",null,Object(Z.d)("camChat.console.king.tippedValue",{kingAmount:l}))),r?u.a._("div",{className:"field-wrapper"},u.a._("div",{className:"field-label"},Object(Z.d)("camChat.console.king.youTippedLabel")),u.a._("div",null,Object(Z.d)("camChat.console.king.youTippedValue",{selfAmount:c}))):null)};gr.displayName="KingMessage";var br=Object(h.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i}}=e,{details:{kingId:o}}=t.message;return{currentUser:s,isLoggedIn:a&&!i,king:Object(rs.l)(e,o)}})(gr);const _r=({message:{details:e}})=>{const{golds:t=0,greens:s=0,guests:a=0,regulars:i=0,total:o=0}=e;return u.a._("div",null,u.a._("div",{className:"console-body"},u.a._("div",{className:"username-wrapper"},u.a._("div",{className:"field-label"},Object(Z.d)("camChat.console.users.golds")),u.a._("div",{className:"colored gold username"},t)),u.a._("div",{className:"username-wrapper"},u.a._("div",{className:"field-label"},Object(Z.d)("camChat.console.users.greens")),u.a._("div",{className:"colored green username"},s)),u.a._("div",{className:"username-wrapper"},u.a._("div",{className:"field-label"},Object(Z.d)("camChat.console.users.regulars")),u.a._("div",{className:"colored regular username"},i)),u.a._("div",{className:"username-wrapper"},u.a._("div",{className:"field-label"},Object(Z.d)("camChat.console.users.guests")),u.a._("div",{className:"colored guest username"},a)),u.a._("div",{className:"username-wrapper"},u.a._("div",{className:"field-label"},u.a._("strong",null,Object(Z.d)("camChat.console.users.total"))),u.a._("div",null,o))))};_r.displayName="UsersMessage";var vr=_r;var fr=({message:e,model:t})=>{const{details:s}=e,{subtype:a,messageText:i}=s,{COMMAND:o,HELP:n,INFO:r,KING:l,USERS:c}=M.c;if(s.error)return u.a._(Zn,{message:e});switch(a){case o:return u.a._("div",null,i);case n:return u.a._(dr,{model:t});case r:return u.a._(mr,{model:t});case l:return u.a._(br,{message:e,model:t});case c:return u.a._(vr,{message:e});default:return null}};const Cr=({model:e,isGold:t})=>{if(!t)return null;const s="light"===Object(ui.p)()?"private-chat-light":"private-chat";return u.a._("div",{className:"model-chat-stub"},u.a._("div",{className:"model-chat-stub-message-wrapper"},u.a._("div",{className:"model-chat-stub-message"},u.a._(w.a,{img:s,size:76}),u.a._(ue.a,{className:"stub-title",messageId:"camChat.stubs.emptyChat.title",parameters:{username:e.username}}),u.a._(ue.a,{className:"stub-description",messageId:"camChat.stubs.emptyChat.description"}))))};Cr.displayName="EmptyChat";var Nr=Cr;const Or=e=>{const t=Object(Y.c)("model-chat-new-messages-btn",e.chatReversedOrder&&"reversed");return u.a._(y.a,{className:t,onClick:e.onClick},u.a._("div",{className:"model-chat-new-messages-btn-content"},u.a._(ue.a,{messageId:"camChat.newMessages"}),u.a._("svg",{className:"model-chat-new-messages-btn-icon",width:"18px",height:"18px",viewBox:"0 0 18 18"},u.a._("g",{stroke:"none",strokeWidth:"1"},u.a._("g",{transform:"translate(-113.000000, -6.000000)"},u.a._("g",null,u.a._("path",{d:"M121.90625,6 C126.81875,6 130.8125,9.99375 130.8125,14.90625 C130.8125,19.81875 126.81875,23.8125 121.90625,23.8125 C116.99375,23.8125 113,19.81875 113,14.90625 C113,9.99375 116.99375,6 121.90625,6 Z M121.90625,7.40625 C117.78125,7.40625 114.40625,10.78125 114.40625,14.90625 C114.40625,19.03125 117.78125,22.40625 121.90625,22.40625 C126.03125,22.40625 129.40625,19.03125 129.40625,14.90625 C129.40625,10.78125 126.03125,7.40625 121.90625,7.40625 Z M121.90625,9.7125 C122.3,9.7125 122.61875,10.03125 122.61875,10.425 L122.61875,10.425 L122.61875,17.68125 L124.6625,15.65625 C124.925,15.375 125.375,15.375 125.65625,15.65625 C125.9375,15.91875 125.9375,16.36875 125.65625,16.65 L125.65625,16.65 L122.43125,19.89375 C122.3,20.025 122.1125,20.1 121.925,20.1 C121.7375,20.1 121.55,20.025 121.41875,19.89375 L121.41875,19.89375 L118.175,16.65 C118.04375,16.5 117.96875,16.33125 117.96875,16.14375 C117.96875,15.95625 118.04375,15.76875 118.175,15.6375 C118.4375,15.35625 118.8875,15.35625 119.16875,15.6375 L119.16875,15.6375 L121.19375,17.68125 L121.19375,10.425 C121.19375,10.03125 121.5125,9.7125 121.90625,9.7125 Z"})))))))};Or.displayName="ModelChatNewMessagesButton",Or.defaultProps={chatReversedOrder:!1};class yr extends u.a.Component{constructor(...e){super(...e),this.lastViewedMessageId=null,this.lastVisibleMessageId=null,this.scrollBarContainerRef=null,this.scrollBarContainerRefHandler=e=>{this.scrollBarContainerRef=e},this.scrollListener=ms()(()=>{const{hasMore:e,onLoadMore:t}=this.props;e&&t&&this.hasReachedTopOfTheChat()&&t(),this.updateLastVisibleMessage()},300,{leading:!1}),this.updateLastVisibleMessage=()=>{const{scrollBarContainerRef:e}=this,{isChatMessagesOrderReversed:t,messages:s}=this.props;if(0===s.length||!e)return;const a=e.getBoundingClientRect(),i=Math.round(a.left),o=t?a.top+5:a.bottom-5,n=document.elementFromPoint(i,o);if(!n)return void this.setState({showNewMessageBtn:!1});const r=n.getAttribute("data-message-id"),l=r?parseInt(r,10):null;l?(this.updateLastViewedMessageIfNeeded(l),this.lastVisibleMessageId=l,this.setNewMessageBtnVisibility()):this.setState({showNewMessageBtn:!1})},this.setNewMessageBtnVisibility=()=>{const{messages:e}=this.props,t=e.last();this.setState({showNewMessageBtn:!!t&&this.lastViewedMessageId!==t.id})},this.hasReachedTopOfTheChat=()=>{const{isLoading:e,isChatMessagesOrderReversed:t}=this.props;if(!this.scrollBarContainerRef||e)return!1;const{scrollTop:s,scrollHeight:a,offsetHeight:i}=this.scrollBarContainerRef;return!(a-i<30)&&(t?a-s-i<30:s<30)},this.updateLastViewedMessageIfNeeded=e=>{if(!this.lastViewedMessageId)return void(this.lastViewedMessageId=e);this.props.messages.findIndex(t=>t.id===e)>this.props.messages.findIndex(e=>e.id===this.lastViewedMessageId)&&(this.lastViewedMessageId=e)},this.scrollToLastVisibleMessage=()=>{const{scrollBarContainerRef:e,lastVisibleMessageId:t}=this,{isChatMessagesOrderReversed:s}=this.props;if(!e||!t)return;const a=e.querySelector(`.messages [data-message-id="${t}"]`);if(!a)return;const i=s?a.offsetTop:a.offsetTop+a.offsetHeight-e.offsetHeight;e.scrollTop!==i?e.scrollTop=i:this.setNewMessageBtnVisibility()},this.resizeEventHandler=()=>{this.scrollBarContainerRef&&this.scrollToLastVisibleMessage()},this.scrollToLastMessage=()=>{if(!this.scrollBarContainerRef)return;const{messages:e}=this.props,t=e.last();t&&(this.lastVisibleMessageId=t.id,this.lastViewedMessageId=t.id,this.setState({showNewMessageBtn:!1}),this.scrollToLastVisibleMessage())},this.state={showNewMessageBtn:!1}}_A(){this.scrollToLastMessage()}componentDidUpdate(e,t,{shouldScrollToEnd:s}){if(e!==this.props)if(s)this.scrollToLastMessage();else{let t=Object(Je.J)(e,this.props)||e.fontSize!==this.props.fontSize;!t&&Object(Je.K)(e,this.props)&&(t=S.j.iPad),t&&this.scrollToLastVisibleMessage(),this.props.messages!==e.messages&&this.updateLastVisibleMessage()}}componentWillUnmount(){clearTimeout(null)}getHasScrolledToLastMessage(){const{clientHeight:e,scrollHeight:t,scrollTop:s}=this.scrollBarContainerRef,{isChatMessagesOrderReversed:a}=this.props;return a?s<30:s?s>0&&s>t-e-30:t<=e}getSnapshotBeforeUpdate(){return this.scrollBarContainerRef?{shouldScrollToEnd:this.getHasScrolledToLastMessage()}:{}}_d3(){const{isChatMessagesOrderReversed:e}=this.props,{showNewMessageBtn:t}=this.state;return t?u.a._(Or,{chatReversedOrder:e,onClick:this.scrollToLastMessage}):null}render(){const{children:e}=this.props;return u.a._(u.a.Fragment,null,u.a._(us.a,{containerRef:this.scrollBarContainerRefHandler,onNativeScroll:this.scrollListener,onScrollY:this.scrollListener},e),this._d3())}}yr.displayName="ModelChatMessagesContainer",yr.defaultProps={isLoading:!1,hasMore:!1,onLoadMore:bs.a,suspendHiddenAnimations:!1};var wr=Object(h.c)(e=>{const{ui:{windowWidth:t,windowHeight:s,windowOrientation:a}}=e,i=Object(Ra.b)(e);return{isChatMessagesOrderReversed:!S.j.nonTouch&&!Object(Je.o)(e),windowHeight:s,windowOrientation:a,windowWidth:t,fontSize:i}},null,null,{forwardRef:!0})(yr),Sr=s(185),kr=s(108);class jr extends u.a.Component{constructor(...e){super(...e),this.friendshipAcceptButtonClickHandler=()=>{const{sender:e}=this.props;this.props.addFriends(e.id)},this.friendshipDeclineButtonClickHandler=()=>{const{sender:e}=this.props;this.props.removeFriends([e.id])}}render(){const{FRIENDSHIP_REQUEST_RECEIVED:e,FRIENDSHIP_APPROVE_SENT:t,FRIENDSHIP_APPROVE_RECEIVED:s,FRIENDSHIP_DECLINE_SENT:a}=vo.u,{chatOwner:i,sender:o,currentUser:n,friendship:r,isIncoming:c,message:d,type:h}=this.props,m=h===s;let g,b=h===e,_=h===t,v=h===a;if(b){if(!r)return null;r.status===vo.f.APPROVED?(_=!0,b=!1):r.status===vo.f.DECLINED&&(v=!0,b=!1)}return b&&(g=u.a._(p.Fragment,null,u.a._(ue.a,{elements:{username:u.a._(Qt.b,{isIconVisible:!1,modelId:i.id,size:14,user:o,fanClubTier:l()(d,"details.fanClubTier")}),accept:u.a._("span",{className:"accept"})},messageId:"camChat.messages.friendship.requested",parameters:{username:o.username}}),u.a._("div",{className:"buttons"},u.a._(y.a,{style:"decline",onClick:this.friendshipDeclineButtonClickHandler},Object(Z.d)("button.decline")),u.a._(y.a,{style:"primary",onClick:this.friendshipAcceptButtonClickHandler},Object(Z.d)("button.accept"))))),_&&c&&(g=u.a._(ue.a,{elements:{username:u.a._(Qt.b,{isIconVisible:!1,modelId:i.id,size:14,user:n,fanClubTier:l()(d,"details.fanClubTier")}),accept:u.a._("span",{className:"accept"})},messageId:"camChat.messages.friendship.approve",parameters:{username:n.username}})),m&&c&&(g=u.a._("div",{className:"friendship-wrapper"},u.a._(w.a,{img:"approved",size:18}),u.a._(ue.a,{elements:{username:u.a._(Qt.b,{isIconVisible:!1,modelId:i.id,size:14,user:o,fanClubTier:l()(d,"details.fanClubTier")}),accept:u.a._("span",{className:"accept"})},messageId:"camChat.messages.friendship.approved",parameters:{username:o.username}}))),v&&c&&(g=u.a._("div",{className:"friendship-wrapper"},u.a._(w.a,{img:"close",size:18}),u.a._(ue.a,{messageId:"camChat.messages.friendship.declined"}))),g?u.a._("div",{className:"message friendship","data-message-id":d.id},u.a._("div",{className:"body"},g)):null}}jr.displayName="ModelChatFriendshipMessages";var Ir=Object(h.c)((e,t)=>{const{auth:s}=e,{sender:a}=t;return{currentUser:s.currentUser,isLoggedIn:s.isLoggedIn&&!s.isLoggingOut,friendship:Object(kr.d)(e,a.id)}},{addFriends:Sr.a,removeFriends:Sr.d})(jr);const Tr=({message:e})=>{const{details:t}=e,{detail:{name:s,time:a,power:i="default",specialActualValue:o}}=t,n=Object(Z.d)(`actionList.interactiveToy.levels.power.${i}`),r=Object(Z.d)(`actionList.interactiveToy.special.${o}`),l=o?u.a._("span",{className:"power power-special"},r):u.a._("span",{className:`power power-${i}`},n);return u.a._("div",null,u.a._("div",{className:"tip"},u.a._(ue.a,{messageId:"camChat.interactiveToy.tip",elements:{power:l},parameters:{time:a}})),u.a._("div",{className:"tipUser"},u.a._(ue.a,{messageId:"camChat.interactiveToy.tipUser",parameters:{name:s}})))};Tr.displayName="ModelChatLovenseMessage";var Pr=Tr;function Mr(){return(Mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const{FRIENDSHIP_REQUEST_SENT:Er,FRIENDSHIP_REQUEST_RECEIVED:Ar,FRIENDSHIP_APPROVE_SENT:Ur,FRIENDSHIP_APPROVE_RECEIVED:Hr,FRIENDSHIP_DECLINE_SENT:Lr}=vo.u;class Rr extends u.a.Component{constructor(...e){super(...e),this.shouldComponentUpdate=Object(ns.b)({props:["isLoggedIn","isPopupEnabled","areTimestampsEnabled"]})}_d4(){const{areTimestampsEnabled:e,message:{createdAt:t}}=this.props;return e?u.a._(ho,{time:t}):null}render(){const{chatOwner:e,currentUser:t,isSenderCurrentModel:s,isSenderGoldUser:a,isPopupEnabled:i,message:o,sender:n,wordStickers:r}=this.props,{details:c,id:d,type:p}=o;if(!n||!e)return null;switch(p){case Er:case Ar:case Ur:case Hr:case Lr:return u.a._(Ir,{sender:n,chatOwner:e,isIncoming:n.id!==t.id,key:d,message:o,type:p});case M.f.PM_LOVENSE:{const e=l()(o,"details.lovenseDetails.detail.power"),t=pe()([kt.V.LOW,kt.V.MEDIUM],e)?`lovense-${e}`:"lovense";return u.a._("div",{className:Object(Y.c)("message","interaclive-toy","interaclive-toy-tip"),"data-message-id":d,key:d},u.a._("div",{className:"body"},u.a._("div",{className:"icon-wrapper"},u.a._(w.a,{img:t,size:18})),u.a._("div",{className:"message-wrapper"},u.a._(Pr,{message:o}))))}case M.f.PM_PRIVATE_STARTED:case M.f.PM_PRIVATE_ENDED:{const{details:{showMode:e}}=o,t=p===M.f.PM_PRIVATE_STARTED;return u.a._("div",{className:Object(Y.c)("private-decorator",{started:t}),"data-message-id":d},u.a._("span",{className:"private-decorator-text"},Object(Z.d)(`camChat.${p}.${e}`)))}case M.f.OFFLINE_TIP:case M.f.PM_PRIVATE_TIP:case M.f.PM_PRIVATE_TIP_VR:case M.f.PM_PUBLIC_TIP:{const s=u.a._(Ri.a,{body:o.body}),{isRead:a}=o,i=c.amount,r=t.id===e.id?"camChat.privateTip.model":"camChat.privateTip.user",h=[M.f.PM_PRIVATE_TIP,M.f.PM_PRIVATE_TIP_VR],m=c.isAnonymous?Object(Z.d)("camChat.someone"):n.username,g=pe()(h,p)&&!a,b=g?{"data-username":m,"data-amount":i,"data-publictip":!0,"data-inroom":!0,"data-lv-tag":a?"1":"0"}:{},_=u.a._(ue.a,{choiceParameter:"tokens",elements:{username:u.a._(Qt.b,{isIconVisible:!1,modelId:e.id,size:14,user:n,fanClubTier:l()(o,"details.fanClubTier")}),accept:u.a._("span",{className:"accept"})},messageId:r,parameters:{username:n.username,tokens:i}});return u.a._("div",Mr({className:Object(Y.c)("message private-tip",{tip_item:g}),"data-message-id":d},b),u.a._("div",{className:"body"},u.a._("div",{className:"icon-wrapper"},u.a._(w.a,{img:"private-tip",size:18})),u.a._("div",{className:"message-wrapper"},_,u.a._("div",{className:"tip-comment"},s))))}default:{if(W()(o.body))return null;const t=u.a._(Ri.a,{body:o.body,id:o.id,wordStickers:r}),c=s||!n.isModel;return u.a._("div",{className:Object(Y.c)("message regular-message-text",p,{"model-message":s,"gold-message":a}),"data-message-id":d},u.a._("div",{className:"body"},u.a._("div",{className:"username-wrapper"},this._d4(),u.a._(Qi.a,{isPopupEnabled:i,isColored:c,fanClubTier:n.isModel?null:l()(o,"details.fanClubTier"),modelId:e.id,user:n})),t))}}}}Rr.displayName="ModelChatPrivateMessage";var Fr=Object(h.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i}}=e,{chatOwner:o,message:n}=t,{senderId:r}=n,c=r===o.id,d=a&&o.id===s.id,p=Object(rs.l)(e,r),u=l()(p,"isGold");return{areTimestampsEnabled:Object(Ra.a)(e),currentUser:s,isLoggedIn:a&&!i,isSenderCurrentModel:c,isSenderGoldUser:u,isPopupEnabled:d,sender:p,wordStickers:Object(Vt.C)(e)}},e=>Object(J.b)({showModal:O.c},e))(Rr);class Dr extends u.a.Component{constructor(...e){super(...e),this._d5=()=>{const{loadAndReadMessages:e,conversation:t}=this.props,{hasMore:s,counterpartId:a,messages:i}=t;if(s){e(a,{beforeMessageId:this.getMessagesFlat(i).first().id})}},this.getMessagesFlat=ke()(e=>e.valueSeq().flatten())}_d6(e){const{id:t,type:s,details:a}=e,{chatOwner:o}=this.props;if(s===M.f.SYSTEM){const e=l()(a,"subtype"),s=u.a._(Wn,{body:l()(a,"body"),subtype:e,model:o});return u.a._("div",{"data-message-id":t,className:Object(Y.c)("message system",{"system-announcement":!1,"tokens-giveaway-signup":!1}),key:t},u.a._("div",{className:"body"},u.a._("div",null,s)))}if(s===M.f.CONSOLE){const s=i()(a.subtype);return u.a._("div",{className:Object(Y.c)("message","console",`console-${s}`),"data-message-id":t,key:t},u.a._("div",{className:"body"},u.a._(fr,{model:o,message:e})))}return u.a._(Fr,{chatOwner:o,key:t,message:e})}_d7(e,t){const s=`camChat.date.${e}`,a=Object(Z.d)(s)===s?e:Object(Z.d)(s);return u.a._("div",{className:"day-separator",key:e,"data-message-id":t},u.a._("span",{className:"day-name"},a))}_d8(e,t){const s=Xn()(t);return[this._d7(e,s.id),...t.map(e=>this._d6(e))]}render(){const{chatOwner:e,fontSize:t,isGold:s,isLoading:a,conversation:i,messagesContainerRef:o}=this.props;if(!i)return u.a._(Nr,{model:e,isGold:s});const n=i.messages;if(!n.size&&!a)return u.a._(Nr,{model:e,isGold:s});const r=this.getMessagesFlat(n);return u.a._(wr,{isLoading:a,messages:r,ref:o,hasMore:i.hasMore,onLoadMore:this._d5},u.a._("div",{className:"model-chat-messages-wrapper"},u.a._("div",{className:Object(Y.c)("messages",`messages-font-size-${t}`)},Ue()(n.toJS(),(e,t)=>this._d8(t,e)))))}}Dr.displayName="ModelChatPrivateMessages";const xr={loadAndReadMessages:Ba.b};Dr.defaultProps={messagesContainerRef:bs.a};var Br=Object(h.c)(e=>{const{auth:{currentUser:t},privateMessages:{isLoading:s}}=e,a=Object(ps.e)(e),i=null!==a?Object(ps.l)(e,a):null,o=Object(Ra.b)(e);return{key:a,isGold:t.isGold,counterpartId:a,conversation:i,fontSize:o,isLoading:s}},xr)(Dr);const Vr=(e,t)=>e.modelChatFocusToken&&e.modelChatFocusToken!==t.modelChatFocusToken;class zr extends u.a.Component{constructor(...e){super(...e),this.state={messageText:""},this.propsUpdateToActionsMap=[{update:Vr,action:()=>{this.modelChatInputRef.focus()}}],this.messageChangeHandler=e=>{const{counterpartId:t}=this.props;this.props.changeInput(t),this.setState({messageText:e})},this.messageSendHandler=()=>{const{sendError:e}=this.props,{messageText:t}=this.state;t&&!e&&this.sendMessage().then(()=>{var e;null===(e=this.modelChatMessagesContainerRef)||void 0===e||e.scrollToLastMessage(),this.modelChatInputRef.focus(),this.setState({messageText:""})})},this.onPasteMessage=e=>{this.setState({messageText:e},()=>this.modelChatInputRef.focus())},this.smileClickHandler=e=>{this.onPasteMessage(`${this.state.messageText}:${e}:`)},this.modelChatMessagesRefHandler=e=>{this.modelChatMessagesContainerRef=e}}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props),Je.H&&this.modelChatInputRef.focus()}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}sendMessage(){const{counterpartId:e}=this.props,{messageText:t}=this.state;return this.props.sendMessage(t,e)}_bb(){const{isLoading:e}=this.props;return e?u.a._("div",{className:"model-chat-loader-wrapper"},u.a._(mt.a,{isCentered:!0})):null}render(){const{chatOwner:e,currentUser:t,isChatOwner:s,isLoggedIn:a,isPromoModel:i,isSending:o,sendError:n}=this.props,{messageText:r}=this.state,l=a&&(t.isModel||t.isStudio),c=!s&&!l&&!i;return u.a._("div",{className:"model-chat-private"},u.a._("div",{className:"model-chat-controls"},c&&u.a._(u.a.Fragment,null,u.a._(Ei,{id:"private-tip-button",model:e}),u.a._(oe.a,{isMobileRelative:!1,placement:"top",targetId:"private-tip-button",showDelay:700},Object(Z.d)("camChat.stubs.privateTipTooltip",{username:e.username}))),u.a._(Ti,{canSend:!o&&!n,chatOwner:e,message:r,isPrivate:!0,onMessageChange:this.messageChangeHandler,onMessageSend:this.messageSendHandler,onSmileClick:this.smileClickHandler,inputRef:e=>{this.modelChatInputRef=e}})),u.a._("div",{className:"model-chat-content"},this._bb(),u.a._(Br,{chatOwner:e,isChatOwner:s,messagesContainerRef:this.modelChatMessagesRefHandler})),u.a._(Jn,{error:n,message:r,chatOwner:e}))}}zr.displayName="ModelChatPrivate";const $r={changeInput:Ba.a,sendMessage:Ba.i};var Gr=Object(h.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},conversations:{counterpart:i},modelChat:{modelChatFocusToken:o,sendError:n},privateMessages:{isSending:r,error:c}}=e;return{counterpartId:l()(i,"id",null),currentUser:t,isSending:r,isLoggedIn:s&&!a,sendError:c||n,modelChatFocusToken:o,isPromoModel:Object(se.N)(e)}},$r)(zr);const Wr=(e,t)=>l()(e,"conversation.counterpartId")!==l()(t,"conversation.counterpartId"),Kr=(e,t)=>{const{isChatOwner:s}=t;return s?Wr(e,t):Object(ps.q)(e,t)||Object(zt.b)(e,t)||Object(zt.f)(e,t)||Wr(e,t)||Object(ps.r)(e,t)||t.userFanClub!==e.userFanClub&&t.conversation&&!t.conversation.messages.size};class qr extends u.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:Kr,action:()=>{const{conversation:e}=this.props;this.loadPrivateMessages(e)}}],this.loadPrivateMessages=ms()(e=>{const{isLoggedIn:t}=this.props;if(t&&e){const{counterpartId:t}=e;this.props.loadChatData(t)}},200)}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this.loadPrivateMessages.cancel()}_B6(){const{currentUser:e,isLoggedIn:t}=this.props;if(!t)return null;const{id:s}=e;return u.a._(ht.a,{events:[`newPrivateMessageReceived:${s}`,`newPrivateMessageSent:${s}`,`userBanned:${s}`,`userUnbanned:${s}`]})}_d9(){const{currentUser:e,isLoggedIn:t,chatOwner:s,conversation:a,isChatOwner:i}=this.props;return t?i?u.a._(Gr,{chatOwner:s,isChatOwner:!0}):e.isGold||l()(a,"canSend")?u.a._(Gr,{chatOwner:s,isChatOwner:i}):u.a._(gi,{model:s}):u.a._(vi,{model:s})}render(){const{chatOwner:e,isNotPublic:t,isChatOwner:s}=this.props;return e?u.a._("div",{className:Object(Y.c)("model-chat-private-tab",{"not-public":t,own:s})},this._d9(),this._B6()):null}}qr.displayName="ModelChatPrivateTab";const Jr={loadChatData:Ba.c};qr.defaultProps={chatOwner:null,currentUser:null,isLoggedIn:!1};var Yr=Object(h.c)((e,{chatOwner:t})=>{const{auth:{isLoggedIn:s,isLoggingOut:a,currentUser:i}}=e,o=Object(se.D)(e),n=Object(ps.e)(e),r=null!==n?Object(ps.l)(e,n):null,c=Object(se.ub)(e);return{isLoggedIn:s&&!a,isInPrivate:o,conversation:r,currentUser:i,isNotPublic:l()(t,"status","")!==kt.lb.STATUS_PUBLIC,userFanClub:c}},Jr)(qr),Xr=s(392),Qr=s.n(Xr);class Zr extends p.Component{constructor(...e){super(...e),this.clickHandler=()=>{const{isActionListVisible:e,isCurrentUserModel:t,toggleActionList:s}=this.props;s(!e),e||t||this.props.emitButtonEvent(S.b.TIP_MENU_OPEN)}}render(){const{isActionListVisible:e,isLayoutUpToS:t,shouldShowActionsButton:s}=this.props,a=Object(Y.c)("btn chat-actions",{active:e}),i=t&&e?"close-5":"chat-actions";return s?u.a._("div",{className:a,onClick:this.clickHandler},u.a._(w.a,{img:i})):null}}Zr.displayName="ChatActionsButton";const el={emitButtonEvent:Vs.b,toggleActionList:v.E};Zr.defaultProps={shouldShowActionsButton:!1};var tl=Object(h.c)(e=>{const{viewCam:{isActionListVisible:t}}=e;return{isActionListVisible:t,isCurrentUserModel:Object(rs.c)(e),isLayoutUpToS:Object(Je.s)(e),shouldShowActionsButton:Object(Ca.i)(e)}},e=>Object(J.b)(el,e))(Zr);s(38);const sl=({model:e,status:t,showLovenseInteractiveToyActions:s})=>{const a=()=>{s(e.id)};return t===M.b.ON?u.a._(ue.a,{messageId:"camChat.interactiveToy.connected",elements:{toy:u.a._("a",{className:"console-link",onClick:a},"Lovense")}}):u.a._(ue.a,{messageId:"camChat.lovense.disconnected",elements:{lovense:u.a._("a",{className:"console-link",onClick:a},"Lovense")}})};sl.displayName="LovenseToyMessage";const al={showLovenseInteractiveToyActions:Ai.c};var il=Object(h.c)(null,e=>Object(J.b)(al,e))(sl);class ol extends u.a.Component{constructor(...e){super(...e),this.levelClickHandler=()=>{const{isCurrentUserModel:e,model:t}=this.props;e||this.props.showLovenseInteractiveToyActions(t.id)}}render(){const{message:e,isCurrentUserModel:t}=this.props,s=l()(e,"details.lovenseDetails.detail");if(!s)return null;const{name:a,time:i,power:o="default",specialActualValue:n}=s,r=Object(Y.c)("tip",{link:!t}),c=Object(Z.d)(`actionList.interactiveToy.levels.power.${o}`),d=Object(Z.d)(`actionList.interactiveToy.special.${n}`),p=n?u.a._("span",{className:"power power-special"},d):u.a._("span",{className:`power power-${o}`},c);return u.a._("div",null,u.a._("div",{className:r,onClick:this.levelClickHandler},u.a._(ue.a,{messageId:"camChat.interactiveToy.tip",elements:{power:p},parameters:{time:i}})),u.a._("div",{className:"tipUser"},u.a._(ue.a,{messageId:"camChat.interactiveToy.tipUser",parameters:{name:a}})))}}ol.displayName="LovenseTipMessage";const nl={showLovenseInteractiveToyActions:Ai.c};var rl=Object(h.c)(e=>({isCurrentUserModel:Object(rs.c)(e)}),e=>Object(J.b)(nl,e))(ol);const ll={startWizard:Oa.f,showModal:O.c,showKiirooInteractiveToyActions:Ai.b},cl=({isKiirooConnected:e,isLoggedIn:t,showModal:s,startWizard:a,model:i,isWatcherModel:o,isWatcherStudio:n,showKiirooInteractiveToyActions:r})=>{const l=e?"camChat.kiiroo.haveToy":"camChat.kiiroo.notHaveToy",c=!n&&!o;return u.a._("div",{className:"kiiroo-toy-message"},u.a._(ue.a,{className:"kiiroo-toy-message-tiitle",messageId:"camChat.kiiroo.connected",elements:{kiiroo:u.a._("a",{className:"console-link",onClick:()=>{r(i.id)}},"Kiiroo")}}),c&&u.a._(ue.a,{className:"kiiroo-toy-message-description",messageId:l,elements:{link:u.a._("a",{className:"kiiroo-toy-message-link",onClick:()=>t?s(S.F.KIIROO_SETTINGS):a(S.F.KIIROO_SETTINGS,{component:"SignUp",action:{backgroundImage:i.avatarUrl,type:"sendTip",user:i},user:i})})}}))};cl.displayName="KiirooToyMessage",cl.defaultProps={isKiirooConnected:!1,isLoggedIn:!1};var dl=Object(h.c)(e=>{const{isModel:t=!1,isStudio:s=!1}=Object(zt.h)(e)||{};return{isKiirooConnected:Object(be.e)(e),isLoggedIn:Object(zt.l)(e),isWatcherModel:t,isWatcherStudio:s}},ll)(cl);class pl extends u.a.Component{constructor(...e){super(...e),this.levelClickHandler=()=>{const{isCurrentUserModel:e,model:t}=this.props;e||this.props.showKiirooInteractiveToyActions(t.id)}}render(){const{message:e,isCurrentUserModel:t}=this.props,s=l()(e,"details.kiirooDetails.detail");if(!s)return null;const{name:a,time:i,power:o}=s,n=Object(Y.c)("tip",{link:!t}),r=Object(Z.d)(`actionList.interactiveToy.levels.power.${o}`);return u.a._("div",null,u.a._("div",{className:n,onClick:this.levelClickHandler},u.a._(ue.a,{messageId:"camChat.interactiveToy.tip",elements:{power:u.a._("span",{className:`power power-${o}`},r)},parameters:{time:i}})),u.a._("div",{className:"tipUser"},u.a._(ue.a,{messageId:"camChat.kiiroo.tipUser",parameters:{name:a}})))}}pl.displayName="KiirooTipMessage";const ul={showKiirooInteractiveToyActions:Ai.b};var hl=Object(h.c)(e=>({isCurrentUserModel:Object(rs.c)(e)}),e=>Object(J.b)(ul,e))(pl);var ml=({message:e,model:t})=>{const{details:s}=e,{type:a,status:i}=l()(s,"lovenseDetails")||l()(s,"kiirooDetails")||s,{LOVENSE_TOY:o,LOVENSE_TIP:n,KIIROO_TOY:r,KIIROO_TIP:c}=M.a;switch(a){case o:return u.a._(il,{status:i,model:t});case n:return u.a._(rl,{message:e,model:t});case r:return u.a._(dl,{status:i,model:t});case c:return u.a._(hl,{message:e,model:t});default:return null}};var gl=e=>{const{chatOwner:t,isChatOwner:s,message:a,onUsernameClick:i}=e,{details:o,id:n,type:r}=a;if(!t)return null;switch(r){case M.f.NEW_KING:return u.a._(so,{id:n,chatOwner:t,isChatOwner:s,message:a,onUsernameClick:i});case M.f.KNIGHT_ADDED:return u.a._(Xi,{id:n,message:a,chatOwner:t,isChatOwner:s});case M.f.THRESHOLD_GOAL:case M.f.REPEAT_GOAL:case M.f.GOAL_UPDATED:return u.a._(Ji,{id:n,details:o,type:r});case M.f.PRIVATE_TIP:case M.f.TIP:return u.a._(Ao,{id:n,onUsernameClick:i,chatOwner:t,isChatOwner:s,message:a});case M.f.USER_UNBANNED:case M.f.USER_BANNED:return null;case M.f.USER_MUTED:return u.a._(Ho,{id:n,chatOwner:t,isChatOwner:s,type:r,message:a});case M.f.USER_JOINED_FAN_CLUB:return u.a._(Fo,{id:n,chatOwner:t,isChatOwner:s,type:r,message:a});case M.f.USER_BOUGHT_CONTENT:return u.a._(Bo,{id:n,onUsernameClick:i,chatOwner:t,isChatOwner:s,message:a});default:return u.a._(_o,{id:n,chatOwner:t,isChatOwner:s,message:a,onUsernameClick:i})}};const bl=[M.h.TICKET_SHOW_PAID_PARTIALLY,M.h.GROUP_SHOW_STARTS_IN_N,M.h.GROUP_SHOW_ANNOUNCEMENT,M.h.GROUP_SHOW_STARTED,M.h.GROUP_SHOW_CANCELLED,M.h.USER_GOT_TICKET_GROUP_SHOW,M.h.USER_JOINED_GROUP_SHOW],_l=e=>bl.includes(e);class vl extends u.a.Component{constructor(...e){super(...e),this._d6=e=>{const{details:t,id:s,type:a}=e,{chatOwner:o,onUsernameClick:n,isChatOwner:r}=this.props;if(a===M.f.SYSTEM){const e=l()(t,"subtype"),a=e===M.h.CONSOLE_ANNOUNCEMENT,i=e===M.h.TIP_MENU_ANNOUNCEMENT,r=e===M.h.TOKENS_GIVEAWAY_SIGNUP,c=e===M.h.EXTENSION_ACTIVE,d=e===M.h.WELCOME_BOT,p=a||i||c||r,h=u.a._(Wn,{body:l()(t,"body"),subtype:e,model:o,params:l()(t,"params"),onUsernameClick:n});return u.a._("div",{"data-message-id":s,className:Object(Y.c)("message system",{"system-announcement":p,"tokens-giveaway-signup":r,"group-show-announce":_l(e),"chat-bot-message":d}),key:s},u.a._("div",{className:"body"},i?u.a._("div",null,u.a._(w.a,{img:"tip-menu",size:18}),h):a?u.a._("div",null,u.a._(w.a,{img:"info",size:18}),h):u.a._("div",null,h)))}if(a===M.f.CONSOLE){const a=i()(t.subtype);return u.a._("div",{className:Object(Y.c)("message","console",`console-${a}`),"data-message-id":s,key:s},u.a._("div",{className:"body"},u.a._(fr,{model:o,message:e})))}if(a===M.f.APP){const a=l()(t,"lovenseDetails.type")||l()(t,"type"),n=l()(t,"lovenseDetails.detail.power"),r=pe()([kt.V.LOW,kt.V.MEDIUM],n)?`lovense-${i()(n)}`:"lovense";return u.a._("div",{className:Object(Y.c)("message","interaclive-toy",`interaclive-toy-${a}`),"data-message-id":s,key:s},u.a._("div",{className:"body"},u.a._("div",{className:"icon-wrapper"},u.a._(w.a,{img:r,size:18})),u.a._("div",{className:"message-wrapper"},u.a._(ml,{model:o,message:e}))))}if(a===M.f.APP_KIIROO){const a=l()(t,"kiirooDetails.type")||l()(t,"type"),n=l()(t,"kiirooDetails.detail.power"),r=pe()([kt.V.LOW,kt.V.MEDIUM],n)?`lovense-${i()(n)}`:"lovense";return u.a._("div",{className:Object(Y.c)("message","interaclive-toy",`interaclive-toy-${a}`),"data-message-id":s,key:s},u.a._("div",{className:"body"},u.a._("div",{className:"icon-wrapper"},u.a._(w.a,{img:r,size:18})),u.a._("div",{className:"message-wrapper"},u.a._(ml,{model:o,message:e}))))}return u.a._(gl,{key:s,chatOwner:o,isChatOwner:r,message:e,onUsernameClick:n})}}render(){const{fontSize:e,messages:t,messagesContainerRef:s}=this.props;return u.a._(wr,{messages:t,ref:s},u.a._("div",{className:"model-chat-messages-wrapper"},u.a._("div",{className:Object(Y.c)("messages",`messages-font-size-${e}`)},0===t.size?u.a._("div",{className:"message empty"},Object(Z.d)("empty")):t.valueSeq().map(this._d6))))}}vl.displayName="ModelChatPublicMessages",vl.defaultProps={chatOwner:null};var fl=Object(h.c)(e=>{const t=Object(ps.c)(e),s=Object(ps.k)(e),a=Object(Ra.b)(e),{lottery:{status:i}}=e;return{fontSize:a,lastMessage:s,messages:t,lotteryStatus:i}})(vl);const Cl=(e,t)=>e.modelChatFocusToken&&e.modelChatFocusToken!==t.modelChatFocusToken,Nl=(e,t)=>e.inputText!==t.inputText,Ol=(e,t)=>{const{CONSOLE:s}=M.f;return l()(t.lastMessage,"type")===s&&(l()(e.lastMessage,"type")!==s||l()(e.lastMessage,"id")!==l()(t.lastMessage,"id"))},yl=(e,t)=>"off"===e.lotteryStatus&&"off"!==t.lotteryStatus||"off"!==e.lotteryStatus&&"off"===t.lotteryStatus;class wl extends u.a.Component{constructor(...e){super(...e),this.modelChatMessagesRef=void 0,this.countHiddenGreysUserMessagesFromModel=0,this.state={messageText:""},this.propsUpdateToActionsMap=[{update:Nl,action:()=>{const{inputText:e}=this.props;this.setState({messageText:e})}},{update:Cl,action:()=>this.updateInputFocusDebounce()},{update:Ol,action:()=>{this.modelChatMessagesRef&&this.modelChatMessagesRef.scrollToLastMessage()}},{update:yl,action:()=>Qr()(this.modelChatMessagesRef.scrollToLastVisibleMessage)},{update:["chatOwner"],action:({chatOwner:e})=>{const{chatOwner:t}=this.props;e&&t&&t.id===e.id||(this.countHiddenUserMessagesFromModel=0)}}],this.shouldShowHideGreysSystemMessageForModel=()=>{const{chatOwner:e,isChatOwner:t}=this.props;return Boolean(t&&e.hasChatRestrictions)},this.updateInputFocus=()=>{this.modelChatInputRef&&this.modelChatInputRef.focus()},this.updateInputFocusDebounce=ms()(this.updateInputFocus,500),this.messageChangeHandler=e=>{const{chatOwner:t}=this.props;this.props.changeInput(t.id),this.setState({messageText:e})},this.getIsGreyUserSendMessageToModelWithRestrictions=()=>{const{chatOwner:e,isChatOwner:t,currentUser:s}=this.props;return!t&&e.hasChatRestrictions&&s&&Object(ps.i)(s)},this.showRestrictions=()=>{this.getIsGreyUserSendMessageToModelWithRestrictions()&&(this.countHiddenUserMessagesFromModel++,1===this.countHiddenUserMessagesFromModel&&this.props.addHideGreysSystemMessage())},this.messageSendHandler=()=>{this.sendMessage().then(()=>{this.showRestrictions(),this.modelChatMessagesRef.scrollToLastMessage(),this.updateInputFocus()})},this.userNameClickHandler=e=>{this.onPasteMessage(`${this.state.messageText}@${e} `)},this.onPasteMessage=e=>{this.setState({messageText:e},()=>this.updateInputFocus())},this.smileClickHandler=e=>{this.onPasteMessage(`${this.state.messageText}:${e}:`)},this.errorMessageClickHandler=()=>{this.props.setChatError(null),this.updateInputFocus()},this.inputRefHandler=e=>{this.modelChatInputRef=e},this.modelChatMessagesRefHandler=e=>{this.modelChatMessagesRef=e}}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props),Je.H&&this.updateInputFocus(),this.shouldShowHideGreysSystemMessageForModel()&&(this.props.removeAllHideGreysSystemMessage(),this.props.addHideGreysSystemMessage())}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}sendMessage(){const{chatOwner:e}=this.props,{messageText:t}=this.state;return this.props.sendChatMessage(e.id,t)}render(){const{canSend:e,chatOwner:t,currentUser:s,isLayoutMoreThanL:a,isLoggedIn:i,isChatOwner:o,sendError:n}=this.props,{messageText:r}=this.state,l=i&&s.isModel,c=a&&(!l||o);return u.a._("div",{className:"model-chat-public"},u.a._("div",{className:"model-chat-controls"},c&&u.a._(tl,null),u.a._(Ti,{canSend:e,chatOwner:t,error:n,message:r,onMessageChange:this.messageChangeHandler,onMessageSend:this.messageSendHandler,onSmileClick:this.smileClickHandler,inputRef:this.inputRefHandler})),u.a._("div",{className:"model-chat-content"},u.a._(fl,{chatOwner:t,isChatOwner:o,onUsernameClick:this.userNameClickHandler,messagesContainerRef:this.modelChatMessagesRefHandler})),u.a._(Jn,{error:n,message:r,chatOwner:t}))}}wl.displayName="ModelChatPublic";const Sl={changeInput:m.p,emitButtonEvent:Vs.b,sendChatMessage:m.B,setChatError:m.D,startWizard:Oa.f,addHideGreysSystemMessage:m.k,removeAllHideGreysSystemMessage:m.x};wl.defaultProps={chatOwner:null,canSend:!1,currentUser:null,isLoggedIn:!1,lastMessage:null};var kl=Object(h.c)((e,t)=>{const{auth:s,modelChat:a}=e,{chatOwner:i}=t,{currentUser:o,isLoggedIn:n,isLoggingOut:r}=s,{inputText:l,isLoading:c,isSending:d,loadError:p,modelChatFocusToken:u,sendError:h}=a,m=Object(ps.k)(e);return{canSend:!d&&i&&Object(ps.a)(e,i.id),currentUser:o,inputText:l,isLayoutMoreThanL:Object(Je.o)(e),isLoading:c,isLoggedIn:n&&!r,lastMessage:m,loadError:p,modelChatFocusToken:u,sendError:h}},Sl)(wl),jl=s(121);const Il=s.n(jl)()(({hasKingUser:e,model:t,loadKingInfo:s})=>{e&&t&&s(t.username)},1e4,{leading:!0,trailing:!1});class Tl extends u.a.Component{constructor(...e){super(...e),this.element=u.a.createRef()}_A(){this.element.current.offsetWidth&&Il(this.props)}render(){return u.a._("span",{ref:this.element,style:{width:"1px",position:"absolute",opacity:0}})}}Tl.displayName="KingUpdater";const Pl={loadKingInfo:v.n};Tl.defaultProps={hasKingUser:!1};var Ml=Object(h.c)(e=>{const{viewCam:{model:t,kingInfo:s}}=e;return{hasKingUser:Boolean(s&&s.kingId),model:t}},Pl)(Tl);class El extends u.a.Component{constructor(...e){super(...e),this.showUserLevelsModal=e=>{e.preventDefault(),e.stopPropagation(),this.props.showModal(S.F.USER_LEVELS)},this._da=()=>{const{kingInfo:e,kingUser:t}=this.props;return u.a._(oe.a,{targetId:"users_list_king_info",placement:"top",isMobileRelative:!1},u.a._(ue.a,{className:"king-wrapper-tooltip-title",messageId:"viewCam.info.tooltip.title",elements:{username:u.a._(Qt.b,{user:t,isIconVisible:!1}),tokens:u.a._("span",{className:"king-wrapper-tooltip-tokens"},e.kingAmount)}}),u.a._(ue.a,{className:"king-wrapper-tooltip-description",messageId:"viewCam.info.tooltip.description",elements:{tokens:u.a._("span",{className:"king-wrapper-tooltip-tokens"},e.selfAmount)}}),u.a._(Ml,null))}}_db(){const{invisibles:e}=this.props;return e?u.a._("div",{className:"invisible-wrapper",id:"users_info_invisibles"},u.a._("div",{className:"invisible-count"},u.a._("span",null,"("),u.a._("span",{className:"info-item-invisibles"},e,u.a._(w.a,{img:"invisible",size:15})),u.a._("span",null,")")),u.a._(oe.a,{isMobileRelative:!1,placement:"top",targetId:"users_info_invisibles"},Object(Z.d)("camMembers.invisibleDescription"),u.a._("a",{className:"learn-more",onClick:this.showUserLevelsModal},Object(Z.d)("camMembers.invisibleMore")))):null}_bu(){const{chatOwner:e,currentUserId:t,modelFanClubTiers:s,modelFanClubTiersTerm:a,knights:i,kingInfo:o,kingUser:n}=this.props;return u.a._("div",{className:"king-block"},u.a._("div",{className:"model-chat-users-info-item"},`${Object(Z.d)("camMembers.king")}:`,u.a._("div",{id:"users_list_king_info"},u.a._("span",{className:"info-item-grey"},u.a._(Qt.b,{isAdminIconVisible:!0,isColored:!0,isGenderIconHidden:!0,isVrIconVisible:!0,isKnight:Boolean(i)&&i.includes(t),isMyKnight:t===e.id,isModelIconVisible:t===e.id,isNoteIndicatorVisible:!0,isVisibleTierTooltip:!1,fanClubTier:s?s[n.id]:null,fanClubTierTerm:a?a[n.id]:null,modelId:e.id,size:14,tooltipProps:{maxWidth:180},user:n}),u.a._(w.a,{img:"king",size:19})),u.a._("span",{className:"info-item-grey"},`${o.kingAmount} tk`))),this._da(),u.a._(Ml,null))}render(){const{goldUsers:e,greenUsers:t,greyAndGuestUsers:s,kingInfo:a,kingUser:i}=this.props;return e||t||s?u.a._("div",{className:"model-chat-users-info"},Boolean(a)&&Boolean(i)&&this._bu(),Boolean(e)&&u.a._("div",{className:"model-chat-users-info-item"},`${Object(Z.d)("camMembers.gold")}:`,u.a._("span",{className:"info-item-gold"},e),this._db()),Boolean(t)&&u.a._("div",{className:"model-chat-users-info-item"},`${Object(Z.d)("camMembers.green")}:`,u.a._("span",{className:"info-item-green"},t)),Boolean(s)&&u.a._("div",{className:"model-chat-users-info-item"},`${Object(Z.d)("camMembers.other")}:`,u.a._("span",{className:"info-item-grey"},s))):null}}El.displayName="UsersInfo";const Al={showModal:O.c};var Ul=Object(h.c)(e=>{const{camMembers:{invisibles:t},viewCam:{kingInfo:s,model:a}}=e,i=s&&s.kingId?Object(rs.l)(e,s.kingId):null;return{currentUserId:Object(zt.i)(e),modelFanClubTiers:a?Object(Kt.a)(e,a.username):null,modelFanClubTiersTerm:a?Object(Kt.b)(e,a.username):null,goldUsers:Object(Kt.c)(e),greenUsers:Object(Kt.d)(e),greyAndGuestUsers:Object(Kt.e)(e),invisibles:t,kingInfo:s,kingUser:i}},Al)(El);class Hl extends u.a.Component{constructor(...e){super(...e),this.uid=Object(qe.o)(),this.shouldComponentUpdate=Object(ns.b)({props:["chatOwner","currentUser","kingId","moreGreyAndGuestUsersCount","members","modelFanClubTiers"]}),this.clickUserNameHandler=e=>{e&&this.props.setMessageToUser(e)}}_c2(e){const{isLoggedIn:t,isChatOwner:s,chatOwner:a,currentUser:i,kingId:o,modelFanClubTiers:n,modelFanClubTiersTerm:r,knights:l}=this.props,c=t&&e.id===i.id,d=!e.isModel||c;return u.a._("li",{key:e.id},u.a._(Qt.b,{isAdminIconVisible:!0,isColored:d,isGenderIconHidden:!0,isVrIconVisible:!0,isKing:o===e.id,isMyKnight:s,isModelIconVisible:c,isNoteIndicatorVisible:!0,isKnight:Boolean(l)&&l.includes(e.id),fanClubTier:n?n[e.id]:null,fanClubTierTerm:r?r[e.id]:null,modelId:a.id,parentUid:this.uid,size:14,user:e,onUserNameContentClick:this.clickUserNameHandler}))}_c1(){const{moreGreyAndGuestUsersCount:e}=this.props;return e?u.a._("div",{className:"more-users"},Object(Z.d)("camMembers.moreUsers",{count:e})):null}render(){const{members:e}=this.props;return u.a._("div",{className:"model-chat-users-list"},u.a._(us.a,null,u.a._("div",{className:"users-list"},u.a._("ul",null,e.map(e=>this._c2(e))),this._c1())))}}Hl.displayName="UsersList";const Ll={setMessageToUser:m.G};var Rl=Object(h.c)((e,{chatOwner:t})=>{const{auth:{isLoggedIn:s,currentUser:a},viewCam:{kingInfo:i}}=e,o=Object(Kt.h)(e),n=Object(Kt.i)(e);return{isLoggedIn:s,currentUser:a,kingId:i?i.kingId:null,members:o,modelFanClubTiers:Object(Kt.a)(e,t.username),modelFanClubTiersTerm:Object(Kt.b)(e,t.username),moreGreyAndGuestUsersCount:n}},Ll)(Hl);const Fl=({chatOwner:e=null,isChatOwner:t=!1,knights:s=[]})=>e?u.a._("div",{className:"model-chat-users"},u.a._(Rl,{chatOwner:e,knights:s,isChatOwner:t}),u.a._(Ul,{chatOwner:e,knights:s})):null;Fl.displayName="UsersTab";var Dl=Fl;class xl extends u.a.Component{constructor(...e){super(...e),this.startInterval=()=>{this.stopInterval();const{callback:e,fallbackConfig:t}=this.props,{enabled:s,interval:a,name:i}=t;i&&e&&s&&a&&js.a.startInterval(i,a,e)},this.stopInterval=()=>{const{fallbackConfig:e}=this.props,{name:t}=e;js.a.stopInterval(t)}}_A(){this.startInterval()}componentDidUpdate(){this.startInterval()}componentWillUnmount(){this.stopInterval()}render(){return null}}xl.displayName="FallbackScheduler";var Bl=xl,Vl=s(407);class zl extends u.a.Component{constructor(...e){super(...e),this.updateLovenseSettings=ms()(()=>{const{isExtensionActive:e,isBroadcastLovenseExtensionReady:t,settings:s}=this.props;e&&t&&s?this.props.saveLovenseSettings(s):this.props.removeLovenseSettings()},2e3),this.updateExtensionStatus=()=>{const{isExtensionActive:e}=this.props;clearTimeout(this.updateExtensionInactivityTimer),e||this.props.updateLovenseExtensionActive(!0),this.updateExtensionInactivityTimer=setTimeout(()=>{e&&this.props.updateLovenseExtensionActive(!1)},5e3)},this.onAddLovenseMessage=e=>{const{data:t}=e;t&&t.from===M.f.APP&&(this.updateExtensionStatus(),this.props.updateLovenseExtensionHandler(t))}}_A(){const{isLovenseEventModeEnabled:e}=this.props;Object(Qs.a)(this,window,"message",this.onAddLovenseMessage),e&&Object(Vl.b)()}componentDidUpdate(e){const{isExtensionActive:t,isBroadcastLovenseExtensionReady:s,settings:a}=this.props,{isExtensionActive:i,isBroadcastLovenseExtensionReady:o,settings:n}=e;(s!==o||t!==i||!q()(a,n))&&this.updateLovenseSettings()}componentWillUnmount(){Object(Qs.b)(this),clearTimeout(this.updateExtensionInactivityTimer),this.updateLovenseSettings&&this.updateLovenseSettings.cancel()}render(){const{isLovenseMessages:e}=this.props;return u.a._("div",{className:"lv-message-content",id:"lv_message_content","data-status":e?"enable":""})}}zl.displayName="LovenseExtension";const $l={removeLovenseSettings:ce.c,saveLovenseSettings:ce.d,updateLovenseExtensionActive:ce.l,updateLovenseExtensionHandler:Vl.c};zl.defaultProps={isLovenseMessages:!0,isExtensionActive:!1,isBroadcastLovenseExtensionReady:!1,isLovenseEventModeEnabled:!1,settings:null};var Gl=Object(h.c)(e=>{const{config:{data:{features:{isLovenseMessages:t}}}}=e;return{isLovenseMessages:t,isBroadcastLovenseExtensionReady:Object(be.a)(e),isExtensionActive:Object(be.b)(e),isLovenseEventModeEnabled:Object(Vt.k)(e),settings:Object(be.l)(e)}},$l)(zl);function Wl(){return(Wl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const{PRIVATE:Kl,USERS:ql}=kt.ib;class Jl extends u.a.Component{constructor(...e){super(...e),this.loadModelChat=()=>{const{chatOwner:e}=this.props;e&&this.props.loadChat(e.username,"fallback")},this.getLovenseExtensionParams=(e,t)=>{if(!e)return{};const{id:s,username:a}=t;return{id:"tip_content","data-modelname":a,"data-modelid":s}}}_B6(){const{isLoggedIn:e,chatOwner:t,fallbackConfig:s}=this.props;if(!t)return null;const a=t?[`newKing:${t.id}`]:[];return s.mode!==S.y.ALWAYS&&a.push(`newChatMessage:${t.id}`),t&&t.isModel&&e&&a.push(`newPrivateMessageReceived:${t.id}`),u.a._(ht.a,{events:a})}_dc(){const{fallbackConfig:e}=this.props;return u.a._(Bl,{callback:this.loadModelChat,fallbackConfig:e})}render(){const{chatOwner:e,isLayoutMoreThanL:t,knights:s,selectedTab:a}=this.props;return u.a._(pi.a,null,i=>{const o=Boolean(e&&i)&&i.id===e.id,n={chatOwner:e,isChatOwner:o,knights:s};return u.a._("div",{className:"model-chat"},o&&u.a._(Gl,null),t&&u.a._(Ha,null),u.a._("div",Wl({className:"model-chat-wrapper"},this.getLovenseExtensionParams(o,i)),u.a._(di,Wl({selected:a},n)),u.a._("div",{className:Object(Y.c)("model-chat-container",a)},u.a._(kl,n),a===Kl&&u.a._(Yr,n),a===ql&&u.a._(Dl,n))),this._B6(),this._dc())})}}Jl.displayName="ModelChat";const Yl={loadChat:m.w};Jl.defaultProps={isLoggedIn:!1,chatOwner:null,fallbackConfig:{}};var Xl=Object(h.c)((e,{chatOwner:t})=>{const{broadcast:{isCamActive:s},modelChat:{selectedTab:a}}=e;return{isLoggedIn:Object(zt.l)(e),isCamActive:s,isLayoutMoreThanL:Object(Je.o)(e),knights:t?Object(ks.e)(e,t.id):null,selectedTab:a,fallbackConfig:Object(Vt.r)(e)}},Yl)(Jl);const Ql=({isVisible:e,showModal:t})=>{if(!e)return null;return u.a._("div",{className:"site-mirror-notification-button",onClick:()=>{t(S.F.SITE_MIRROR_NOTIFICATION)}},u.a._(w.a,{img:"russian-flag",size:19}),"Проблемы с трансляцией?")};Ql.displayName="SiteMirrorNotificationButton";const Zl={showModal:O.c};Ql.defaultProps={isVisible:!1};var ec=Object(h.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s},broadcast:{isBroadcastingPageOpen:a},config:{data:{showMirrorNotification:i}}}=e;return{isVisible:s&&t.isModel&&a&&i&&Object(ui.h)(e)&&!Object(ui.g)(e)}},e=>Object(J.b)(Zl,e))(Ql),tc=s(469);const sc=({goalData:e,isOwnCamPage:t,isGoalShown:s,topic:a,shareLinkUrl:i,isXHamsterLive:o})=>u.a._("div",{className:"view-cam-header"},u.a._("div",{className:"header-middle"},s&&u.a._(tc.a,{goal:e,topic:a}),u.a._(ec,null),(()=>{if(!t)return null;let e="",s="";return o?(e="@xHamsterLive",s="#xHamsterLive #xhl #livecamshow"):(e="@Stripchat",s="#stripmenow #stripchat #stripchatlive"),u.a._(jo,{shareText:`Hey Guys! I'm now LIVE on ${e}. Come play with me! 😈 ${s} 👉`,shareLinkUrl:i,labelText:Object(Z.d)("social.twitterShareBroadcast.tweetMyShow"),labelMobileText:Object(Z.d)("social.twitterShareBroadcast.tweet")})})()));sc.displayName="ViewCamHeader",sc.defaultProps={goalData:{description:"",goal:0,left:0,spent:0},isGoalShown:!1,isOwnCamPage:!1,shareLinkUrl:"",isXHamsterLive:!1};var ac=Object(h.c)((e,t)=>{const{model:s}=t;return{goalData:Object(se.f)(e),topic:Object(se.mb)(e),shareLinkUrl:Object(Io.c)(e,{user:s}),isXHamsterLive:Object(ui.j)(e)}})(sc),ic=s(268);class oc extends u.a.Component{constructor(...e){super(...e),this.clickHandler=e=>{e.preventDefault(),F.a.reset()}}render(){return u.a._("a",{onClick:this.clickHandler,title:this.props.title,className:this.props.className},u.a._(w.a,{img:this.props.icon}))}}oc.displayName="ScrollTopButton",oc.defaultProps={className:"",icon:"scroll-top",title:"Scroll to top"};var nc=oc;class rc extends u.a.Component{constructor(...e){super(...e),this.removeOpenBroadcastTabId=()=>{this.props.removeBroadcastOpenTabId()}}_A(){const{currentUser:e}=this.props,{isEmailVerified:t}=e;t||this.props.showModal(S.F.CONFIRM_EMAIL,{description:Object(Z.d)("startBroadcasting.confirmEmailWarning"),isCloseBtnShown:!1,isWrapperCloseDisabled:!0}),Object(Qs.a)(this,window,"beforeunload",this.removeOpenBroadcastTabId)}componentWillUnmount(){Object(Qs.b)(this,window,"beforeunload",this.removeOpenBroadcastTabId),this.removeOpenBroadcastTabId()}_de(){const{isSmallNotTouchWindow:e}=this.props;return e?u.a._("div",{className:"scroll-up-button-wrapper"},u.a._(nc,{className:"scroll-up-button"})):null}_df(){const{model:e}=this.props;return u.a._("div",{className:"page"},u.a._(ac,{model:e,isOwnCamPage:!0,isGoalShown:!0}),u.a._("div",{className:"view-cam-page-main"},u.a._("div",{className:"video"},u.a._(ba,{model:e})),u.a._("div",{className:"view-cam-page-aside"},u.a._("div",{className:"chat"},u.a._(Xl,{chatOwner:e})),u.a._(Ps,null))),this._de(),u.a._(Gt,null))}render(){return u.a._("div",{className:"broadcast-container"},this._df())}}rc.displayName="BroadcastContainer";const lc={showModal:O.c,removeBroadcastOpenTabId:ic.c};var cc=Object(h.c)(e=>{const{auth:{currentUser:t}}=e;return{currentUser:t,isSmallNotTouchWindow:!S.j.touch&&Object(Je.q)(e)}},lc)(rc);class dc extends p.Component{constructor(...e){super(...e),this.state={isWarningShow:!1,windowOrientation:null}}_A(){const{windowOrientation:e}=this.props;this.setState({windowOrientation:e})}componentDidUpdate(e){const{isCamActive:t,isInCam2Cam:s,windowOrientation:a}=this.props,{windowOrientation:i}=e,{windowOrientation:o}=this.state,n=t||s,r=n&&a!==o;n||a===i||this.setState({windowOrientation:a}),this.state.isWarningShow!==r&&this.setState({isWarningShow:r})}render(){const{isCamActive:e,isInCam2Cam:t}=this.props,{isWarningShow:s}=this.state;return s?u.a._("div",{className:"broadcast-rotate-warning"},u.a._("div",{className:"broadcast-rotate-warning-content"},u.a._(w.a,{img:"device-rotate"}),u.a._("div",{className:"broadcast-rotate-warning-title"},Object(Z.d)("broadcastRotateWarning.title")),t&&u.a._("div",{className:"broadcast-rotate-warning-description"},Object(Z.d)("broadcastRotateWarning.descriptionUser")),e&&u.a._("div",{className:"broadcast-rotate-warning-description"},Object(Z.d)("broadcastRotateWarning.descriptionModelOne")),e&&u.a._("div",{className:"broadcast-rotate-warning-description"},Object(Z.d)("broadcastRotateWarning.descriptionModelTwo")))):null}}dc.displayName="BroadcastRotateWarning",dc.defaultProps={isCamActive:!1,isInCam2Cam:!1};var pc=Object(h.c)(e=>{const{ui:{windowOrientation:t},broadcast:{isCamActive:s}}=e;return{isCamActive:s,isInCam2Cam:Object(se.y)(e),windowOrientation:t}})(dc),uc=s(710),hc=s.n(uc),mc=s(260);const gc=()=>u.a._("div",{className:"view-cam"},u.a._("div",{className:"wrapper"},u.a._("div",{className:"main"},u.a._("div",{className:"strut"}))),u.a._("div",{className:"controls-wrapper"}));gc.displayName="ViewCamEmpty";var bc=gc;const _c=({content:e,loadingMessage:t})=>u.a._("div",{className:"main"},e,u.a._(vc,{isVisible:!e,message:t}),u.a._("div",{className:"video"},u.a._(bc,null)));_c.displayName="BlankViewCamBox";const vc=({isVisible:e,message:t})=>e?u.a._("div",{className:"loader-wrapper"},u.a._(mt.a,{isCentered:!0}),t?u.a._("div",{className:"loader-wrapper-message"},t):null):null;vc.displayName="LoaderWrapper",_c.defaultProps={content:null,loadingMessage:""},vc.defaultProps={isVisible:!0,message:""};var fc=_c,Cc=s(303),Nc=s(499),Oc=s(254);const yc={[kt.cb.PROGRESS]:"progress",[kt.cb.FINISHED]:"finished",[kt.cb.PARTICIPANT]:"participant"},wc={[Oc.g.DARK]:"auth-banner",[Oc.g.LIGHT]:"signup"},Sc=(e,t)=>l()(e,"lottery.status",null)&&l()(t,"lottery.status",null)&&l()(e,"lottery.status")!==l()(t,"lottery.status"),kc=(e,t)=>l()(e,"lottery.user")!==l()(t,"lottery.user");class jc extends u.a.Component{constructor(...e){super(...e),this._Hd=void 0,this._dg=void 0,this.interfaceBlockChangeHandler=({isInterfaceBlocked:e,currentBlockingComponent:t})=>{this.setState({isOpen:e&&this._Hd&&this._Hd.contains(t),isGreenStyle:!1})},this.state={isOpen:!1,isGreenStyle:this.props.wasParticipant},this.propsUpdateToActionsMap=[{update:Je.F,action:()=>this.interfaceBlockChangeHandler(this.props)},{update:zt.b,action:()=>{this.props.load()}},{update:Sc,action:()=>{js.a.stopTimeout("lottery")}},{update:kc,action:()=>{const{isFinished:e}=this.props;e&&this.props.releaseInterface(),this.setState({isOpen:!1})}},{update:["isFinished"],action:()=>{const{isFinished:e}=this.props;this.props.releaseInterface(),this.setState({isGreenStyle:e})}}],this.loadLottery=()=>{js.a.startTimeout("lottery",Object(qe.l)(5e3),()=>{this.props.load({preventServerErrorNotification:!0})})},this.toggleLotteryEventHandler=e=>{this.props.isParticipant||(this.state.isOpen?this.props.releaseInterface():(this.props.emitUiEvent(S.S.CLICK_GIVEAWAY_BLOCK),this.props.blockInterface(e.target)))},this.registerClickHandler=()=>{this.props.emitButtonEvent(S.b.GIVEAWAY_REGISTER)},this.participateClickHandler=()=>{this.props.emitButtonEvent(S.b.VIEWCAM_LOTTERY_PARTICIPATE)},this.claimClickHandler=()=>{this.props.emitButtonEvent(S.b.VIEWCAM_LOTTERY_CLAIM)},this.getLotteryType=()=>{const{lottery:e}=this.props;return e.status===kt.cb.PROGRESS&&e.user?yc[kt.cb.PARTICIPANT]:e.status===kt.cb.PROGRESS?yc[kt.cb.PROGRESS]:yc[kt.cb.FINISHED]}}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this.props.clear()}_dh(){const{authButtonStyle:e,lottery:t}=this.props;return u.a._("div",{className:"lottery-participation"},u.a._(ue.a,{className:"lottery-text",messageId:"camChat.lottery.description",elements:{strong:u.a._("strong",null)}}),u.a._(y.a,{style:e,onClick:this.participateClickHandler},Object(Z.d)("camChat.lottery.giveaway")),u.a._("p",null,Object(Z.d)("camChat.lottery.endLottery"),u.a._(Ys,{className:"lottery-time",endTime:t.applyEndedAt})))}_di(){const{authButtonStyle:e,lottery:t}=this.props;return u.a._("div",{className:"lottery-registrered"},u.a._(ue.a,{className:"lottery-text",messageId:"camChat.lottery.description",elements:{strong:u.a._("strong",null)}}),u.a._(ue.a,{messageId:"camChat.lottery.onlyRegistered"}),u.a._(y.a,{style:e,onClick:this.registerClickHandler},Object(Z.d)("camChat.lottery.createFreeAccount")),u.a._("p",{className:"lottery-registrered-announced"},Object(Z.d)("camChat.lottery.endLottery"),u.a._(Ys,{className:"lottery-time",endTime:t.applyEndedAt})))}_dj(){return u.a._("div",{className:"lottery-congratulations"},u.a._("hr",null),u.a._("div",{className:"congratulations"},u.a._(w.a,{img:"tokens",size:18}),u.a._("div",{className:"congratulations-title"},Object(Z.d)("camChat.lottery.finished.congratulations"))),u.a._(ue.a,{messageId:"camChat.lottery.congratulationsDescription",elements:{strong:u.a._("strong",null)}}))}_Cn(){const{lottery:e}=this.props;return u.a._("div",{className:"lottery-email-veridfied"},u.a._(ue.a,{messageId:"camChat.lottery.description",elements:{strong:u.a._("strong",null)}}),u.a._("p",null,u.a._(ue.a,{messageId:"camChat.lottery.onlyEmailVerified",elements:{link:u.a._(Ms.a,{to:"/settings"})}})),u.a._("p",null,Object(Z.d)("camChat.lottery.endLottery"),u.a._(Ys,{className:"lottery-time",endTime:e.applyEndedAt})))}_dk(){const{currentUser:e,isLoggedIn:t,lottery:s}=this.props,a=t&&(e.isGold||e.isGreen||e.isEmailVerified);return t?a||s.user?s.user?null:this._dh():this._Cn():this._di()}_dl(){const{lottery:e}=this.props;return e.winners.length?u.a._("div",{className:"winner-list"},u.a._(ue.a,{className:"winner-title",messageId:"camChat.lottery.finished.list",elements:{strong:u.a._("strong",null)}}),Ue()(e.winners,(t,s)=>u.a._("div",{className:"winner-item",key:t.id},u.a._(Qt.b,{user:t,isAdditionIconVisible:!1,isLevelStatusTooltipVisible:!1,isGenderIconHidden:!0}),s!==e.winners.length-1?",":""))):null}_dm(){const{authButtonStyle:e,currentUser:t,isLoggedIn:s,isWinner:a,lottery:i}=this.props,o=s&&(t.isGold||t.isGreen||t.isEmailVerified),{user:n}=i;let r;return s?o||n?n&&n.isClaimedPrize?r=this._dj():a&&(r=u.a._(y.a,{style:e,onClick:this.claimClickHandler},Object(Z.d)("camChat.lottery.finished.claim"))):r=u.a._("p",null,u.a._(ue.a,{messageId:"camChat.lottery.finished.onlyEmailVerified",elements:{link:u.a._(Ms.a,{to:"/settings"})}})):r=u.a._(y.a,{style:e,onClick:this.registerClickHandler},Object(Z.d)("camChat.lottery.createFreeAccount")),u.a._("div",{className:"lottery-winner"},this._dl(),r,u.a._("p",null,Object(Z.d)("camChat.lottery.finished.titleSecond"),u.a._(Ys,{className:"lottery-time",endTime:i.claimEndedAt})))}_I8(){const{isOpen:e}=this.state,{isParticipant:t,lottery:s}=this.props;if(!e||t)return null;let a;return s.status===kt.cb.PROGRESS?a=this._dk():s.status===kt.cb.FINISHED&&(a=this._dm()),u.a._("div",{className:"lottery-description"},u.a._("div",{className:"lottery-content"},a))}_D(){const{isFinished:e,isParticipant:t,lottery:s}=this.props,a=this.getLotteryType(),i=e?s.claimEndedAt:s.applyEndedAt;return u.a._("div",{className:Object(Y.c)("lottery-title-wrapper",{active:!t}),onClick:this.toggleLotteryEventHandler},u.a._("div",{className:"lottery-title"},u.a._(w.a,{img:"tokens-2",size:30}),u.a._("div",{className:"lottery-content"},u.a._("div",{className:"lottery-name"},u.a._(ue.a,{className:"lottery-item",messageId:`camChat.lottery.${a}.titleFirst`,elements:{accept:u.a._("span",{className:"accept"})}}),u.a._("span",{className:"lottery-item"},Object(Z.d)(`camChat.lottery.${a}.titleSecond`),u.a._(Ys,{className:"lottery-time",endTime:i,onTimeEnd:this.loadLottery}))),!t&&u.a._("div",{className:"dropdown-arrow "},u.a._(w.a,{img:"show-more",size:12})))))}render(){const{isStarted:e}=this.props,{isOpen:t,isGreenStyle:s}=this.state;return e?u.a._("div",{onClick:e=>e.stopPropagation(),ref:e=>{this._Hd=e},className:Object(Y.c)("lottery",{open:t,green:s})},this._D(),this._I8()):null}}jc.displayName="Lottery";const Ic={clear:Cc.b,emitButtonEvent:Vs.b,emitUiEvent:Vs.e,load:Cc.c,showModal:O.c,blockInterface:Vs.a,releaseInterface:Vs.p};var Tc=Object(h.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},lottery:i,whiteLabels:{themeId:o},ui:{currentBlockingComponent:n,isInterfaceBlocked:r}}=e;return{currentUser:t,isLoggedIn:s&&!a,isWinner:Object(Nc.a)(e),isFinished:i&&i.status===kt.cb.FINISHED,wasParticipant:i&&i.user&&i.status===kt.cb.FINISHED,isParticipant:i&&i.user&&i.status===kt.cb.PROGRESS,isStarted:i&&i.status!==kt.cb.OFF,lottery:i,authButtonStyle:wc[o],currentBlockingComponent:n,isInterfaceBlocked:r}},Ic)(jc),Pc=s(237),Mc=s(346),Ec=s.n(Mc),Ac=s(409),Uc=s(183),Hc=s(40);class Lc extends u.a.Component{constructor(...e){super(...e),this.state={value:this.props.defaultValue},this._I5=ke()(e=>t=>{t.stopPropagation(),t.preventDefault(),Hc.c.log("StarRating _Gr",this.state,e),this.props.onChange&&e!==this.state.value&&this.props.onChange(e),this.setState({value:e})})}get fillPercent(){return Math.round(this.state.value/5*100)}_dn(e,t){return u.a._("span",{className:"star",key:`star-${e}-${t?"active":"readonly"}`,onClick:t?this._I5(e):bs.a},u.a._(w.a,{img:"star"}))}_dp(e=!1){const t=[];for(let s=1;s<=5;s+=1)t.push(this._dn(s,e));return t}render(){return u.a._("span",{className:Object(Y.c)("star-rating",{editable:!this.props.readOnly})},u.a._("div",{className:"back"},this._dp(!this.props.readOnly)),u.a._("div",{className:"front",style:{width:`${this.fillPercent}%`}},this._dp()))}}Lc.displayName="StarRating",Lc.defaultProps={readOnly:!1};var Rc=Lc;class Fc extends u.a.Component{constructor(...e){super(...e),this.state={rating:null,comment:"",step:1,isOpen:this.props.isOpen},this.changeRatingHandler=e=>{e<3?this.setState({rating:e,step:2}):(this.props.onComplete(e,""),this.closeHandler())},this.sendCommentHandler=()=>{const{comment:e}=this.state;this.setState({step:3}),this.props.onComplete(this.state.rating,e)},this.commentChangeHandler=e=>{const t=e.target.value;t.length<=500&&this.setState({comment:t})},this.closeHandler=()=>{this.setState({isOpen:!1}),this.props.onClose(),2===this.state.step&&this.props.onComplete(this.state.rating,"")}}_cf(){return u.a._("div",{className:"close",onClick:this.closeHandler},u.a._(w.a,{img:"close-2"}))}_dq(){return u.a._("div",{className:"rating"},u.a._("p",null,Object(Z.d)("viewCam.rate.howWouldYouRatePrivate")),u.a._("div",{className:"spacer-small"}),u.a._(Rc,{defaultValue:0,onChange:this.changeRatingHandler}))}_dr(){const{comment:e}=this.state;return u.a._("div",{className:"comment"},u.a._("textarea",{placeholder:Object(Z.d)("viewCam.rate.comments"),onChange:this.commentChangeHandler,value:e}),u.a._("button",{className:"btn btn-send",onClick:this.sendCommentHandler},Object(Z.d)("button.send")),this._cf())}_ds(){return u.a._("div",{className:"thanks"},Object(Z.d)("viewCam.rate.thankYouForResponse"),this._cf())}render(){return this.state.isOpen?u.a._("div",{className:"rate-private"},1===this.state.step&&this._dq(),2===this.state.step&&this._dr(),3===this.state.step&&this._ds()):null}}Fc.displayName="RatePrivate";var Dc=Fc,xc=s(229);const Bc=e=>{const{joinedUsers:t,timeRemaining:s,isTicketShow:a}=e,i=s<=60?"lastMinuteWarning":"groupShowAnnounced",o=a?"ticketShowAnnouncement":"groupShowAnnouncement";return u.a._("div",{className:"group-show-announce"},u.a._("div",{className:"group-show-announce-head"},u.a._("div",{className:"group-show-announce-title"},u.a._(ue.a,{messageId:`viewCam.${o}.${i}`,elements:{strong:u.a._("strong",null)}})),t?u.a._(ue.a,{messageId:`viewCam.${o}.joinedUsers`,className:"group-show-announce-subtitle",parameters:{joinedUsers:t},choiceParameter:"joinedUsers"}):null),u.a._(Ko,null))};Bc.displayName="GroupShowControlButton";var Vc=Object(h.c)(e=>({joinedUsers:Object(se.m)(e),timeRemaining:Object(se.kb)(e),isTicketShow:Object(se.yb)(e)}))(Bc);const zc=e=>{const{groupShowStartTime:t,isGroupShowSlotReserved:s,isTicketShowPaid:a,isMobileView:i,isTicketShow:o}=e,n=Object(p.useRef)(null),r=o?"ticketShow":"groupShow";return u.a._(p.Fragment,null,u.a._("div",{className:"group-show-control",ref:n},u.a._(y.a,{className:"group-show-btn",style:"outline",onClick:()=>{e.emitButtonEvent(S.b.GROUP_SHOW_DROPDOWN_TOGGLER,{current:n.current,isMobileView:i})}},u.a._(w.a,{img:s||a?"check-1":"group"}),u.a._(ue.a,{messageId:`privateModes.${r}.announcementTimerButton`,elements:{timer:u.a._(Ys,{className:"private-show-timer",endTime:t,ticks:{60:()=>{e.addGroupShowAnnouncementMessage({isLastMinute:!0})}}}),accent:u.a._("span",{className:"pale"}),strong:u.a._("strong",null)}})),i?null:u.a._(xa,{initiatorRef:n,spaced:!0,position:"top"},u.a._(Vc,null))))};zc.displayName="GroupShowControlButton";const $c={emitButtonEvent:Vs.b,addGroupShowAnnouncementMessage:m.e};zc.defaultProps={groupShowStartTime:null};var Gc=Object(h.c)(e=>({groupShowStartTime:Object(se.k)(e),isGroupShowSlotReserved:Object(se.n)(e),isMobileView:Object(Je.s)(e),isTicketShow:Object(se.yb)(e),isTicketShowPaid:Object(se.Q)(e)}),$c)(zc),Wc=s(664);const Kc={changeMicActivities:Uc.c};class qc extends p.PureComponent{constructor(...e){super(...e),this.changeMicActivities=e=>{const{isMuted:t}=this.props;e.stopPropagation(),this.props.changeMicActivities(!t)}}render(){const{isMuted:e}=this.props;return u.a._("div",{className:"player-toolbox-icon muted",onClick:this.changeMicActivities},u.a._("div",{className:"player-toolbox-icon-item"},u.a._(w.a,{img:e?"mic-off":"mic-on",size:17})))}}qc.displayName="PlayerToolboxMute",qc.defaultProps={isMuted:!1};var Jc=Object(h.c)(e=>{const{player:{isMuted:t}}=e;return{isMuted:t}},Kc)(qc),Yc=s(665),Xc=s(154),Qc=s(171);class Zc extends u.a.Component{constructor(...e){super(...e),this.closeClickHandler=e=>{e.stopPropagation(),this.props.closePopup()},this.switcherClickHandler=()=>{const{model:e}=this.props;this.props.toggleSubscription(e,"PushNotificationPopupOnAddedToFavs")}}render(){const{model:{username:e},isSubscribed:t,position:s,saveTooltipRef:a,isVisible:i}=this.props;return u.a._(oe.a,{className:Object(Y.c)("push-notification-tooltip",s,{hidden:!i}),isForceVisible:!0,isMobileRelative:!1,maxWidth:320,ref:a},u.a._("div",{className:"push-notification-tooltip-left"},u.a._("div",{className:"push-notification-tooltip-icon-wrapper"},u.a._(w.a,{img:"notifications"}))),u.a._("div",{className:"push-notification-tooltip-right"},u.a._("div",{className:"push-notification-tooltip-title"},u.a._(ue.a,{messageId:"pushNotificationTooltip.title",elements:{strong:u.a._("strong",null)},parameters:{username:e}})),u.a._("div",{className:"push-notification-tooltip-action"},u.a._("span",null,Object(Z.d)("pushNotificationTooltip.label")),u.a._(A.a,{size:"medium",isChecked:t,onChange:this.switcherClickHandler}))),u.a._("div",{className:"push-notification-tooltip-close-icon",onClick:this.closeClickHandler},u.a._(w.a,{img:"close-5"})))}}Zc.displayName="PushNotificationTooltip";const ed={toggleSubscription:Xc.d};Zc.defaultProps={position:"top",saveTooltipRef:bs.a};var td=Object(h.c)((e,t)=>{const{model:s}=t;return{isSubscribed:Object(Qc.d)(e,s.id)}},e=>Object(J.b)(ed,e),null,{forwardRef:!0})(Zc);const sd=({favoritedCount:e,isInFavorites:t,isLayoutUpToS:s,isSubscriptionTooltip:a,pushNotificationTooltipPosition:i,saveTooltipRef:o,closeSubscriptionTooltip:n,favoritesClickHandler:r,favoriteRef:l,model:c})=>{const d=Object(p.useRef)(null),[h,m]=Object(p.useState)(!0),g=Object(qe.k)(e);return Object(p.useEffect)(()=>(Object(Qs.a)(sd,document,"touchstart",e=>{if(!(e.target&&e.target instanceof Element))return;const t=e.target&&Boolean(e.target.closest(".favorited-count"));m(!t||!h)}),(null==d?void 0:d.current)&&(Object(Qs.a)(sd,d.current,"mouseenter",()=>{m(!1)}),Object(Qs.a)(sd,d.current,"mouseleave",()=>{m(!0)})),()=>{Object(Qs.b)(sd)}),[]),u.a._("div",{className:"view-cam-favorite-toggle"},u.a._("div",{className:Object(Y.c)("toggle-favorites",{favorited:t}),onClick:r,onKeyDown:e=>{13===e.keyCode&&r()},ref:l,role:"checkbox","aria-checked":t,tabIndex:0},u.a._(w.a,{img:t?"favorited":"favorite"})),u.a._("div",{className:"favorited-count",ref:d},h?Object(qe.b)(e,1):g),!s&&c&&u.a._(td,{model:c,isVisible:a,saveTooltipRef:o,position:i,closePopup:n}))};sd.displayName="ViewCamFavoriteToggle";var ad=sd,id=s(126),od=s(77);const nd={ADD:"Add",PROCESSING:"Processing",DECLINED:"Declined",SUCCESS:"Success",BUY:"Buy"},rd=(e,t)=>{if(!t)return null;const[s,a="00"]=(e/t).toString().split("."),i=parseInt(s,10),o=Math.floor(60*parseFloat(`0.${a}`)).toString();return`0${i}:${1===o.length?"0":""}${o}`},ld=({phase:e})=>[nd.BUY,nd.ADD].includes(e);class cd extends u.a.Component{constructor(...e){super(...e),this.state={isDisappearing:!1,isHiddenByUser:!1,phase:null,timeLeft:null},this.propsUpdateToActionsMap=[{update:["isRefillAvailable"],action:()=>{const{isRefillAvailable:e}=this.props;this.setState(t=>{const{phase:s}=t;return!s||ld(t)?{phase:nd[e?"ADD":"BUY"]}:t})}},{update:["hasPurchaseFailed","purchaseSucceededToken"],action:()=>{const{hasPurchaseFailed:e}=this.props;this.state.phase===nd.PROCESSING&&(this.setState({phase:nd[e?"DECLINED":"SUCCESS"]}),this.props.resetPurchase(),setTimeout(this.smoothHiding,1e4))}},{update:["isVisible","isAvailable"],action:()=>this.updatePanelState(this.props)}],this.updatePanelState=({timeLeft:e,isVisible:t,isAvailable:s})=>{!s||t?!s&&t&&ld(this.state)&&this.hide():this.show(e)},this.updateCountDown=()=>{this.setState(e=>({timeLeft:e.timeLeft>"00:00"?Object(k.x)(e.timeLeft,1):e.timeLeft}),()=>{clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.updateCountDown,1e3)})},this.smoothHiding=()=>{this.setState({isDisappearing:!0}),setTimeout(()=>{ld(this.state)&&this.setState({isHiddenByUser:!0}),this.hide()},1e3)},this.show=e=>{this.props.emitUiEvent(S.S.ONE_CLICK_RECHARGE_PANEL_TOGGLED,{value:!0}),this.setState({timeLeft:e},()=>{this.updateCountDown()})},this.hide=()=>{const{isRefillAvailable:e}=this.props;this.props.emitUiEvent(S.S.ONE_CLICK_RECHARGE_PANEL_TOGGLED,{value:!1}),this.setState({phase:nd[e?"ADD":"BUY"]})},this.buyTokensClickHandler=()=>{this.props.emitButtonEvent(S.b.PRIVATE_RECHARGE_OTHER_PACKAGES)},this.addTokensClickHandler=()=>{const{model:e}=this.props;this.props.emitButtonEvent(S.b.PRIVATE_RECHARGE_ONE_CLICK,{modelId:e.id}),this.setState({phase:nd.PROCESSING})}}componentWillUnmount(){this.hide()}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props)}_dt(){const{timeLeft:e}=this.state,{isMobile:t,currencyCode:s,currencySum:a,tokensSum:i,themeId:o}=this.props,n=t?"mobile":"desktop",r="light"===o?"tokens-lightning-black":"tokens-lightning",l=Object(qe.e)(a,s);return u.a._(p.Fragment,null,u.a._("div",{className:"one-click-recharge-layer-left"},u.a._(w.a,{className:"one-click-recharge-icon",img:r}),u.a._("div",null,u.a._("div",{className:"one-click-recharge-title"},u.a._(ue.a,{elements:{highlighted:u.a._("span",{className:"highlighted-brand"}),hiddenForXs:u.a._("span",{className:"media-up-to-xs-hidden"}),visibleForXs:u.a._("span",{className:"media-after-xs-hidden"})},parameters:{time:e},messageId:`oneClickRecharge.addTokens.${n}.title`})),u.a._("div",{className:"one-click-recharge-description"},Object(Z.d)(`oneClickRecharge.addTokens.${n}.description`)))),u.a._("div",{className:"one-click-recharge-layer-right"},u.a._("div",null,u.a._(y.a,{style:"apply-alter2",onClick:this.addTokensClickHandler},u.a._(ue.a,{elements:{pale:u.a._("span",{className:"highlighted-pale"})},parameters:{tk_amount:i,currency_amount:l},messageId:`oneClickRecharge.addTokens.${n}.button`})),!t&&u.a._("div",{className:"one-click-recharge-alternative-action",onClick:this.buyTokensClickHandler},Object(Z.d)("oneClickRecharge.addTokens.common.buyAnotherAmount"))),u.a._(y.a,{className:"one-click-recharge-close-btn",onClick:this.smoothHiding},u.a._(w.a,{img:"close-3"}))))}_du(){return u.a._(p.Fragment,null,u.a._("div",{className:"one-click-recharge-layer-left"},u.a._(mt.a,{className:"one-click-recharge-loader",loaderType:"sector-circle",size:30,isInline:!0}),u.a._("div",{className:"one-click-recharge-title"},Object(Z.d)("oneClickRecharge.processing.title"))),u.a._("div",{className:"one-click-recharge-layer-right"},u.a._(y.a,{className:"one-click-recharge-close-btn",onClick:this.smoothHiding},u.a._(w.a,{img:"close-3"}))))}_dv(){const{isMobile:e}=this.props,t=e?"mobile":"desktop";return u.a._(p.Fragment,null,u.a._("div",{className:"one-click-recharge-layer-left"},u.a._(w.a,{className:"one-click-recharge-icon",img:"tokens-error"}),u.a._("div",{className:"one-click-recharge-title"},u.a._(ue.a,{elements:{highlighted:u.a._("span",{className:"highlighted-red"})},messageId:"oneClickRecharge.declined.common.title"}))),u.a._("div",{className:"one-click-recharge-layer-right"},u.a._(y.a,{onClick:this.buyTokensClickHandler},Object(Z.d)(`oneClickRecharge.declined.${t}.button`)),u.a._(y.a,{className:"one-click-recharge-close-btn",onClick:this.smoothHiding},u.a._(w.a,{img:"close-3"}))))}_dw(){const{lastRefillTokensSum:e}=this.props;return u.a._(p.Fragment,null,u.a._("div",{className:"one-click-recharge-layer-left"},u.a._(w.a,{className:"one-click-recharge-icon",img:"tokens-check"}),u.a._("div",{className:"one-click-recharge-title"},u.a._(ue.a,{elements:{highlighted:u.a._("span",{className:"highlighted-green"}),br:u.a._("br",null)},parameters:{tokens:e},messageId:"oneClickRecharge.success.title"}))),u.a._("div",{className:"one-click-recharge-layer-right"},u.a._(y.a,{className:"one-click-recharge-close-btn",onClick:this.smoothHiding},u.a._(w.a,{img:"close-3"}))))}_dx(){const{timeLeft:e}=this.state,{isMobile:t,themeId:s}=this.props,a=t?"mobile":"desktop",i="light"===s?"tokens-plus-red":"tokens-plus-orange";return u.a._(p.Fragment,null,u.a._("div",{className:"one-click-recharge-layer-left"},u.a._(w.a,{className:"one-click-recharge-icon",img:i}),u.a._("div",null,u.a._("div",{className:"one-click-recharge-title"},u.a._(ue.a,{elements:{highlighted:u.a._("span",{className:"highlighted-brand"})},parameters:{time:e},messageId:`oneClickRecharge.buyTokens.${a}.title`})),u.a._("div",{className:"one-click-recharge-description"},Object(Z.d)(`oneClickRecharge.buyTokens.${a}.description`)))),u.a._("div",{className:"one-click-recharge-layer-right"},u.a._(y.a,{style:"apply-alter2",onClick:this.buyTokensClickHandler},Object(Z.d)(`oneClickRecharge.buyTokens.${a}.button`)),u.a._(y.a,{className:"one-click-recharge-close-btn",onClick:this.smoothHiding},u.a._(w.a,{img:"close-3"}))))}_dy(){switch(this.state.phase){case nd.BUY:return this._dx();case nd.ADD:return this._dt();case nd.DECLINED:return this._dv();case nd.SUCCESS:return this._dw();case nd.PROCESSING:return this._du()}}render(){const{isDisappearing:e,isHiddenByUser:t,phase:s}=this.state,{isAvailable:a,isVisible:i}=this.props,o=ld(this.state);return!a&&o||!i&&o||t||!s?null:u.a._(id.CSSTransition,{classNames:"one-click-recharge-wrapper",in:!e,enter:!1,timeout:1e3,onExited:()=>{this.setState({isDisappearing:!1})}},u.a._("div",{className:Object(Y.c)("one-click-recharge-wrapper",{"one-click-recharge-wrapper-processing":s===nd.PROCESSING})},this._dy()))}}cd.displayName="ViewCamOneClickChargeControls";const dd={emitButtonEvent:Vs.b,emitUiEvent:Vs.e,resetPurchase:bn.l};var pd=Object(h.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i},viewCam:{isOwnShow:o,isOneClickRechargePanelVisible:n,isRefillAvailable:r,show:c},tokens:{hasPurchaseFailed:d}}=e,{model:p}=t,u=l()(p,"status"),h=l()(c,"mode"),m=Object(Rt.a)(e),g=Object(se.c)(e),b=l()(m,"tokens",0),_=Object(od.L)(e),v=Object(od.D)(e),{currencyCode:f,currencySum:C,tokensSum:N}=_||{},O=a&&!i&&!s.isStudio&&!s.isModel&&!s.isAdmin&&!s.isSupport,y=(({isOwnShow:e,model:t={},groupShowMode:s})=>{const a=t.status;return a===kt.Nb.MODE_PRIVATE||a===kt.Nb.MODE_VIRTUAL_PRIVATE?e?t.privateRate:t.spyRate:a===kt.Nb.MODE_P2P||a===kt.Nb.MODE_P2P_AUDIO?t.p2pRate:a===kt.Nb.MODE_GROUP_SHOW&&"perMinute"===s?t.groupRate:0})({model:p,isOwnShow:o,groupShowMode:Object(se.ab)(e)}),w=3*y<=b,S="endSpy"===g&&Object(se.b)(e);return{currencyCode:f,currencySum:C,currentUser:s,hasPurchaseFailed:d,isAvailable:O&&h===u&&!w&&!S&&["endPrivate","endSpy","endCam2Cam","quitGroupShowOrTip"].includes(g),isMobile:Object(Je.r)(e),purchaseSucceededToken:Object(od.P)(e),isRefillAvailable:r,lastRefillTokensSum:v,isVisible:n&&!S,model:p,themeId:Object(ui.p)(),timeLeft:rd(b,y),tokensSum:N}},dd)(cd),ud=s(127);const hd={toggleSubscription:Xc.d};class md extends p.Component{constructor(...e){super(...e),this.state={isClosed:!1,isFavorite:this.props.isInFavorites,hasBecomeFavorite:!1,hasBecomeFavoriteOnce:!1},this.switcherChangeHandler=()=>{const{model:e}=this.props;this.props.toggleSubscription(e,"PushNotificationPopupOnAddedToFavs")},this.popupCloserClickHandler=()=>{this.setState({isClosed:!0})}}static getDerivedStateFromProps(e,t){const s=e.isInFavorites,a=!t.isFavorite&&s;return{isFavorite:s,hasBecomeFavorite:a,hasBecomeFavoriteOnce:a||t.hasBecomeFavorite||t.hasBecomeFavoriteOnce,isClosed:t.isClosed&&!a}}render(){const{isSubscribed:e,model:t}=this.props,{hasBecomeFavoriteOnce:s,isClosed:a}=this.state;return a||!s?null:u.a._("div",{className:"push-notification-tooltip-mobile"},u.a._("span",{className:"push-notification-tooltip-mobile-arrow"}),u.a._(w.a,{className:"push-notification-tooltip-mobile-identifier",img:"notifications"}),u.a._(ue.a,{className:"push-notification-tooltip-mobile-text",messageId:"pushNotificationTooltip.title",elements:{strong:u.a._("strong",null)},parameters:{username:t.username}}),u.a._(A.a,{size:"default",isChecked:e,onChange:this.switcherChangeHandler}),u.a._("span",{className:"push-notification-tooltip-mobile-closer",onClick:this.popupCloserClickHandler},u.a._(w.a,{img:"close-5"})))}}md.displayName="PushNotificationTooltipMobile";var gd=Object(h.c)(null,hd)(md),bd=s(353);class _d extends u.a.Component{constructor(e){super(e),this.pushNotificationTooltipRef=null,this.favoriteRef=null,this.state={isSubscriptionTooltip:!1,pushNotificationTooltipPosition:"top",wasFavoriteChangedByUser:!1},this.propsUpdateToActionsMap=[{update:Je.F,action:()=>this.interfaceBlockChangeHandler(this.props)},{update:["isInFavorites"],action:()=>{const{isInFavorites:e,isSubscribed:t}=this.props;if(e&&!t&&this.state.wasFavoriteChangedByUser){const e=this.pushNotificationTooltipRef.closest(".tooltip"),t=e.querySelector(".switcher");this.props.blockInterface(t,e)}}},{update:se.wb,action:()=>{this.hideSubscriptionTooltipOnModelChange()}}],this.interfaceBlockChangeHandler=({isInterfaceBlocked:e,currentBlockingComponent:t})=>{this.setState({isSubscriptionTooltip:e&&this.pushNotificationTooltipRef&&this.pushNotificationTooltipRef.contains(t)})},this.favoritesClickHandler=e=>{e.preventDefault(),e.stopPropagation();const{model:t}=this.props;this.setState({wasFavoriteChangedByUser:!0},()=>{this.props.toggleFavorite(t)})},this.closeSubscriptionTooltip=()=>{this.props.releaseInterface()},this.startPrivateClickHandler=()=>{const{model:e}=this.props;this.props.emitButtonEvent(S.b.VIEWCAM_START_PRIVATE,{modelId:e.id})},this.stopPrivateClickHandler=()=>{const{model:e}=this.props;this.props.emitButtonEvent(S.b.VIEWCAM_STOP_PRIVATE,{modelId:e.id})},this.stopCam2CamClickHandler=()=>{const{model:e}=this.props;this.props.emitButtonEvent(S.b.VIEWCAM_STOP_P2P,{modelId:e.id})},this.stopSpyClickHandler=()=>{const{model:e}=this.props;this.props.emitButtonEvent(S.b.VIEWCAM_STOP_SPY,{modelId:e.id})},this.cancelProposalClickHandler=()=>{const{cancelProposal:e}=this.props;e()},this.quitGroupShow=()=>{this.props.quitGroupShow()},this.sendTipClickHandler=()=>{const{model:e}=this.props;this.props.emitButtonEvent(S.b.VIEWCAM_SEND_ONLINE_TIP,{modelId:e.id})},this.sendOfflineTipClickHandler=()=>{const{model:e}=this.props;this.props.emitButtonEvent(S.b.VIEWCAM_SEND_OFFLINE_TIP,{modelId:e.id})},this.saveTooltipRef=e=>{this.pushNotificationTooltipRef=l()(e,"tooltipRef",null)},this.favoriteRef=Object(p.createRef)(null)}componentDidRender(){if(this.pushNotificationTooltipRef&&this.favoriteRef&&this.favoriteRef.current){const{isLayoutUpToM:e}=this.props,t=this.pushNotificationTooltipRef.getBoundingClientRect(),s=this.favoriteRef.current.getBoundingClientRect().top-t.height>10||e?"top":"bottom";this.state.pushNotificationTooltipPosition!==s&&this.setState({pushNotificationTooltipPosition:s})}}_A(){this.componentDidRender()}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props),this.componentDidRender()}hideSubscriptionTooltipOnModelChange(){const{isSubscriptionTooltip:e}=this.state;e&&this.closeSubscriptionTooltip()}_H(){const{model:e,hasFlashInitialized:t,playerType:s,controlsState:a,isP2PAvailable:i,isLayoutUpToL:o,isPerMinuteShow:n}=this.props;if(!e)return u.a._("div",{className:"controls"}," ");const r=(!(s===kt.Eb.FLASH)||t||S.j.flash)&&(e.doPrivate||i&&S.j.desktop);switch(a){case"waitingForModelAnswer":return u.a._("div",{className:"controls"},u.a._("div",{className:"controls-block"},u.a._("span",{className:"proposal"},u.a._(mt.a,{size:24}),Object(Z.d)("viewCam.waitingForModelAnswer")),u.a._("div",{className:"proposal-cancel",onClick:this.cancelProposalClickHandler},u.a._(w.a,{img:"close-5"}))));case"startPrivateOrSendTip":return u.a._("div",{className:"controls"},r&&u.a._(y.a,{size:"large",style:"outline",onClick:this.startPrivateClickHandler},o?Object(Z.d)("button.startPrivateShort"):Object(Z.d)("button.startPrivate")),u.a._(y.a,{className:"btn-apply-alter",size:"large",style:"tip",onClick:this.sendTipClickHandler},Object(Z.d)("button.sendTip")));case"joinGroupShowOrSendTip":return u.a._("div",{className:"controls"},u.a._(Gc,null),u.a._(y.a,{className:"btn-apply-alter",size:"large",style:"tip",onClick:this.sendTipClickHandler},Object(Z.d)("button.sendTip")));case"quitGroupShowOrTip":return u.a._("div",{className:"controls"},n&&u.a._(y.a,{size:"large",style:"default-outline",onClick:this.quitGroupShow},Object(Z.d)("button.quit")),u.a._(y.a,{className:"btn-apply-alter",size:"large",style:"tip",onClick:this.sendTipClickHandler},Object(Z.d)("button.sendTip")));case"endPrivate":return u.a._("div",{className:"controls for-private"},u.a._(y.a,{style:"end-broadcasting",onClick:this.stopPrivateClickHandler},Object(Z.d)("button.endPrivate")));case"endSpy":return u.a._("div",{className:"controls for-spy"},u.a._(y.a,{size:"large",style:"end-broadcasting",onClick:this.stopSpyClickHandler},Object(Z.d)("button.endSpy")));case"endCam2Cam":return u.a._("div",{className:"controls for-p2p"},u.a._(y.a,{style:"end-broadcasting",onClick:this.stopCam2CamClickHandler},Object(Z.d)("button.endCam2Cam")));case"sendPrivateTip":return u.a._("div",{className:"controls controls-fixed"},u.a._(bd.a,{user:e,className:"btn-default-outline media-up-to-xs-hidden",triggerSource:S.b.VIEWCAM_PRIVATE_MESSAGE}),u.a._(bd.a,{user:e,className:"media-after-s-hidden send-pm-mobile",customContent:u.a._(w.a,{img:"envelope-bubble"}),triggerSource:S.b.VIEWCAM_PRIVATE_MESSAGE}),u.a._(y.a,{size:"large",className:"btn-call2action-premium",style:"tip",onClick:this.sendOfflineTipClickHandler},u.a._(w.a,{img:"gift",className:"media-after-s-hidden"}),Object(Z.d)("button.sendPrivateTip")));case"sendOfflinePrivateTip":return u.a._("div",{className:"controls controls-fixed"},u.a._(y.a,{size:"large",className:"btn-call2action-premium",style:"tip",onClick:this.sendOfflineTipClickHandler},u.a._(w.a,{img:"gift",className:"media-after-s-hidden"}),Object(Z.d)("button.sendPrivateTip")))}return u.a._("div",{className:"controls"}," ")}_dz(){const{isLayoutUpToS:e,controlsState:t,isXHamsterLive:s}=this.props;return e&&"joinGroupShowOrSendTip"===t?u.a._(xa,{className:Object(Y.c)("group-show-dropdown-mobile",{"group-show-dropdown-xhl":s}),visibilityValuePath:"ui.groupShowDropdown",stateValueGetter:Je.l,position:"bottom"},u.a._(Vc,null)):null}_e0(){const{isControlsBlockVisible:e,isSubscribed:t,isCurrentUserModelOrStudio:s,isInFavorites:a,isLayoutUpToS:i,isLoggedIn:o,model:n}=this.props;return n&&(!o||!s)&&i&&e?u.a._(gd,{model:n,isInFavorites:a,isSubscribed:t}):null}_e1(){const{favoritedCount:e,isCurrentUserModelOrStudio:t,isInFavorites:s,isLayoutUpToS:a,isLoggedIn:i,model:o}=this.props,{isSubscriptionTooltip:n,pushNotificationTooltipPosition:r}=this.state;return(!i||!t)&&o?u.a._(ad,{favoritedCount:e,closeSubscriptionTooltip:this.closeSubscriptionTooltip,isLayoutUpToS:a,isInFavorites:s,favoritesClickHandler:this.favoritesClickHandler,isSubscriptionTooltip:n,pushNotificationTooltipPosition:r,saveTooltipRef:this.saveTooltipRef,favoriteRef:this.favoriteRef,model:o}):null}_e2(){const{isLayoutUpToL:e}=this.props;return e?u.a._(tl,null):null}_e3(){const{isInCam2Cam:e,isInCam2CamInOtherTab:t}=this.props;return!e||t?null:u.a._("div",{className:"view-cam-controls-tooltbox"},u.a._(Jc,null),u.a._(Wc.a,null),u.a._(Yc.a,null))}render(){const{controlsState:e,isCamAvailable:t,isCurrentUserModelOrStudio:s,isInSpyMode:a,isLayoutUpToM:i,isMyStudioModel:o,model:n,isModelInGroupShow:r,isCurrentUserInGroupShow:l}=this.props,c=r&&!l;if("startSpy"===e&&i)return null;const d=o&&(!t||a)&&n.status===kt.lb.STATUS_PRIVATE;return s&&!d?null:u.a._("div",{className:Object(Y.c)("view-cam-controls",{"media-up-to-s-hidden":c})},u.a._("div",{className:"view-cam-controls-wrapper"},this._e0(),this._e1(),u.a._("div",{className:"view-cam-buttons-wrapper"},u.a._("div",{className:"view-cam-chat-actions"},this._e2()),u.a._("div",{className:"view-cam-buttons-wrapper-controls"},this._H())),this._e3(),n&&u.a._(pd,{model:n})),this._dz())}}_d.displayName="ViewCamControls";const vd={blockInterface:Vs.a,cancelProposal:v.c,emitButtonEvent:Vs.b,quitGroupShow:v.p,releaseInterface:Vs.p,showModal:O.c,startWizard:Oa.f,toggleFavorite:xc.f};_d.defaultProps={model:null};var fd=Object(h.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i},viewCam:{hasFlashInitialized:o},ui:{currentBlockingComponent:n,isInterfaceBlocked:r}}=e,{model:l}=t;return{controlsState:Object(se.c)(e),currentBlockingComponent:n,currentUser:s,favoritedCount:Object(se.d)(e),hasFlashInitialized:o,isControlsBlockVisible:Object(se.u)(e),isCurrentUserModelOrStudio:Object(rs.d)(e),isInFavorites:!!l&&Object(ud.f)(e,l.id),isInSpyMode:Object(se.G)(e),isInPrivate:Object(se.D)(e),isInCam2CamInOtherTab:Object(se.z)(e),isModelInGroupShow:Object(se.I)(e),isCurrentUserInGroupShow:Object(se.v)(e),isInCam2Cam:Object(se.y)(e),isInterfaceBlocked:r,isLayoutUpToM:Object(Je.r)(e),isLayoutUpToS:Object(Je.s)(e),isLayoutUpToL:Object(Je.q)(e),isPerMinuteShow:!Object(se.zb)(e),isXHamsterLive:Object(ui.j)(e),isLoggedIn:a&&!i,isMyStudioModel:Object(Do.f)(e),isP2PAvailable:Object(se.K)(e),isSubscribed:!!l&&Object(Qc.d)(e,l.id),playerType:Object(Bs.y)(e)}},vd)(_d);const Cd=e=>{const{kingInfo:t,kingUser:s}=e;return u.a._(oe.a,{targetId:"view_cam_info_king",placement:"top",isMobileRelative:!1},u.a._(ue.a,{className:"king-wrapper-tooltip-title",messageId:"viewCam.info.tooltip.title",elements:{username:u.a._(Qt.b,{user:s,isIconVisible:!1}),tokens:u.a._("span",{className:"king-wrapper-tooltip-tokens"},t.kingAmount)}}),u.a._(ue.a,{className:"king-wrapper-tooltip-description",messageId:"viewCam.info.tooltip.description",elements:{tokens:u.a._("span",{className:"king-wrapper-tooltip-tokens"},t.selfAmount)}}),u.a._(Ml,null))};Cd.displayName="KingTooltip";var Nd=u.a.memo(e=>{const{fanClubTier:t,kingInfo:s,kingUser:a}=e,i=a?u.a._(Qt.b,{user:a,isIconVisible:!1,fanClubTier:t,isVisibleTierTooltip:!1}):u.a._("span",null,Object(Z.d)("viewCam.info.toBeKing"));return u.a._("div",{className:"view-cam-info-king"},u.a._("div",{className:"view-cam-info-king-content",id:"view_cam_info_king"},Object(Z.d)("viewCam.info.king"),u.a._("div",{className:Object(Y.c)("king-wrapper",{"is-king":Boolean(a)})},u.a._(w.a,{img:"king",size:19}),i,Boolean(s&&a)&&u.a._(Cd,{kingInfo:s,kingUser:a}))))});const Od=({goalData:e,isPromoModel:t,kingFanClubTier:s,kingUser:a,kingInfo:i,topic:o})=>u.a._("div",{className:"view-cam-info"},u.a._(tc.a,{goal:e,topic:o}),!t&&u.a._(Nd,{kingInfo:i,kingUser:a,fanClubTier:s}));Od.displayName="ViewCamInfo",Od.defaultProps={goalData:{description:"",goal:0},topic:"",kingInfo:null};var yd=Object(h.c)(e=>{const{viewCam:{kingInfo:t,model:s}}=e,a=t&&t.kingId?Object(rs.l)(e,t.kingId):null,i=s&&a?(Object(Kt.a)(e,s.username)||{})[a.id]:null;return{goalData:Object(se.f)(e),topic:Object(se.mb)(e),isPromoModel:Object(se.N)(e),kingUser:a,kingInfo:t,kingFanClubTier:i}})(Od),wd=s(116),Sd=s.n(wd),kd=s(279),jd=s.n(kd),Id=s(83),Td=s(166);const Pd=(e,t)=>e.currentModalName===S.F.AUTH&&!t.currentModalName,Md={closeNotification:v.e,createFreeAccountModal:v.f,hideModal:O.a,loadMembers:Wt.a,showModal:O.c,resetModelWatchingLimit:v.s,updateModelWatchingLimit:v.N,showNotification:v.B};class Ed extends u.a.Component{constructor(...e){super(...e),this.state={isWatchingIntervalStart:!1},this.isSubscriptionPopupClosedByModelChange=!1,this.hasShownCreateFreeAccountModal=!1,this.hasShownSubscriptionPopup=!1,this.propsUpdateToActionsMap=[{update:se.wb,action:()=>{this.hasShownCreateFreeAccountModal=!1,this.hasShownSubscriptionPopup=!1,this.isSubscriptionPopupClosedByModelChange=!0,this.closeSubscriptionPopup(),this.startScheduler(this.props)}},{update:(...e)=>((e,t)=>e.viewCamNotification===Id.b.SUBSCRIBE&&!t.viewCamNotification)(...e)||((e,t)=>e.currentModalName===S.F.ADD_TO_SUBSCRIPTION&&!t.currentModalName)(...e),action:()=>{this.isSubscriptionPopupClosedByModelChange?this.isSubscriptionPopupClosedByModelChange=!1:this.hasShownSubscriptionPopup=!0,this.startScheduler(this.props)}},{update:(e,t)=>!e.isCamAvailable&&t.isCamAvailable,action:()=>{this.hasShownSubscriptionPopup||this.startScheduler(this.props)}},{update:["isSubscribed"],action:()=>{const{isSubscribed:e}=this.props;e&&(this.closeSubscriptionPopup(),this.hasShownSubscriptionPopup=!0)}},{update:Pd,action:()=>{this.hasShownSubscriptionPopup||this.startScheduler(this.props)}},{update:Je.E,action:()=>this.startScheduler(this.props)},{update:zt.c,action:()=>this.closeSubscriptionPopup()},{update:["isLoggedIn"],action:()=>{const{isLoggedIn:e}=this.props;e?(this.resetAllWatchingLimits(),this.stopWatchingScheduler()):this.startWatchingScheduler()}},{update:["model.id","model.status"],action:()=>{const{model:e}=this.props;e&&e.id&&e.status!==kt.lb.STATUS_OFF?this.startCamMembersScheduler():this.stopCamMembersScheduler()}}],this.stopAllSchedulers=()=>{this.stopScheduler(),this.stopWatchingScheduler(),this.stopCamMembersScheduler()},this.stopScheduler=()=>{js.a.stopTimeout("viewCamUnobtrusiveProposal")},this.startScheduler=e=>{const{isDocumentVisible:t}=e,s=!this.hasShownSubscriptionPopup||!this.hasShownCreateFreeAccountModal;this.stopScheduler(),t&&s&&js.a.startTimeout("viewCamUnobtrusiveProposal",15e4,this.showPopup)},this.showPopup=()=>{if(!this._isMounted)return;const{hasModal:e,isCamAvailable:t,isLoggedIn:s,isPushApiAvailable:a,isSubscribed:i}=this.props;s||e||(!a||!t||this.hasShownSubscriptionPopup||i?this.hasShownCreateFreeAccountModal||(this.hasShownCreateFreeAccountModal=!0,this.props.createFreeAccountModal({triggerSource:ni.k.VIEW_CAM_WATCH_MODEL})):this.showSubscriptionPopup())},this.showSubscriptionPopup=()=>{const{model:e}=this.props;this.isSubscriptionPopupClosedByModelChange=!1,this.isViewCamNotificationAllowed()?this.props.showNotification(Id.b.SUBSCRIBE):this.props.showModal(S.F.ADD_TO_SUBSCRIPTION,{model:e})},this.closeSubscriptionPopup=()=>{const{currentModalName:e}=this.props;this.isViewCamNotificationAllowed()?this.props.closeNotification():e===S.F.ADD_TO_SUBSCRIPTION&&this.props.hideModal()},this.stopWatchingScheduler=()=>{const{isWatchingIntervalStart:e}=this.state;e&&(js.a.stopInterval("watchingLimit"),this.setState({isWatchingIntervalStart:!1}))},this.startWatchingScheduler=()=>{const{isWatchingIntervalStart:e}=this.state;e||(js.a.startInterval("watchingLimit",3e4,this.updateTimeLeft),this.setState({isWatchingIntervalStart:!0}))},this.stopCamMembersScheduler=()=>{js.a.stopInterval("camMembers")},this.startCamMembersScheduler=()=>{const{viewersListConfig:e}=this.props;this.stopCamMembersScheduler(),e.isEnabled&&js.a.startInterval("camMembers",1e3*e.updateInterval,this.updateCamMembers)},this.getMinuteOfDay=()=>{const e=Object(k.F)(new Date,k.e.day);return Object(k.w)(new Date,e,k.d.minutes)},this.hasLimitationExpires=()=>{const{modelWatchingLimit:e}=this.props,{timeStart:t}=e;return t&&new Date(t).getTime()+kt.xc<Date.now()},this.resetWatchingLimit=()=>{const{model:e}=this.props;this.props.resetModelWatchingLimit(e.id)},this.resetAllWatchingLimits=()=>{this.props.resetModelWatchingLimit()},this.updateTimeLeft=()=>{const{isCamAvailable:e,model:t,modelWatchingLimit:s}=this.props,{timeStart:a=Date.now(),minutes:i=[]}=s,o=this.getMinuteOfDay();if(this.hasLimitationExpires())this.resetWatchingLimit();else if(e){const e={timeStart:a,minutes:Sd()(jd()(i,o))};this.props.updateModelWatchingLimit(t.id,e)}},this.updateCamMembers=()=>{this.props.loadMembers({isDefaultErrorHandlerEnabled:!1})}}_A(){this._isMounted=!0,Object(_s.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this._isMounted=!1,this.stopAllSchedulers()}isViewCamNotificationAllowed(){return S.j.desktop||S.j.isTablet}render(){return null}}Ed.displayName="ViewCamScheduler";var Ad=Object(h.c)((e,{model:t})=>{const{auth:{isLoggedIn:s},config:{data:{guestLimits:{watchTimeLimit:a},viewersList:i}},ui:{currentModalName:o,hasModal:n,isDocumentVisible:r},viewCam:{isCamAvailable:c,notification:d}}=e;return{currentModalName:o,hasModal:n,isCamAvailable:c,isDocumentVisible:r,isLoggedIn:s,isPushApiAvailable:Object(Td.b)(),isSubscribed:Object(Qc.d)(e,l()(t,"id")),isWatchingLimitReached:Object(se.U)(e,t.id),viewCamNotification:d,watchTimeLimit:a,modelWatchingLimit:Object(se.Z)(e),viewersListConfig:i}},Md)(Ed),Ud=s(515);const Hd=({image:e,content:t,controls:s,closeClickHandler:a})=>u.a._("div",{className:"view-cam-notification"},e&&u.a._("div",{className:"view-cam-notification-image"},e),u.a._("div",{className:"view-cam-notification-content"},t),s&&u.a._("div",{className:"view-cam-notification-controls"},s),u.a._("div",{className:"view-cam-notification-closer",onClick:a},u.a._("div",{className:"view-cam-notification-closer-icon-wrapper"},u.a._(w.a,{img:"close-5"}))));Hd.displayName="ViewCamNotification",Hd.defaultProps={controls:null,image:null};var Ld=Hd,Rd=s(124);const Fd=({model:e,closeClickHandler:t})=>u.a._(Ld,{content:u.a._(ue.a,{messageId:"viewCam.notifications.dontMissMe"}),controls:u.a._(Ud.a,{buttonLocation:S.b.VIEWCAM_PLAYER_SUBSCRIBE_PROMO,preventResponsiveCaption:!0,style:"blue",subscribeCaption:u.a._(ue.a,{messageId:"button.notifyMe"}),user:e}),image:u.a._(Rd.b,{user:e,showOnlineStatus:!1}),closeClickHandler:t});Fd.displayName="SubscribeToModel";var Dd=Fd;const xd={[Id.b.SUBSCRIBE]:Dd},Bd={closeNotification:v.e};class Vd extends u.a.Component{constructor(...e){super(...e),this.state={isHydrated:!1},this.propsUpdateToActionsMap=[{update:["model.id"],action:()=>{const{notification:e}=this.props;e===Id.b.SUBSCRIBE&&this.props.closeNotification()}}],this.closeClickHandler=()=>{this.props.closeNotification()}}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props),this.setState({isHydrated:!0})}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this.props.closeNotification()}_e4(){const{model:e,notification:t}=this.props,s=xd[t];return s?u.a._(id.CSSTransition,{classNames:"children-transition",timeout:500},u.a._(s,{closeClickHandler:this.closeClickHandler,model:e})):null}render(){const{playerType:e}=this.props,{isHydrated:t}=this.state;return u.a._(id.TransitionGroup,{className:Object(Y.c)(["view-cam-notifications",t&&e?`view-cam-notifications-${e}`:""])},this._e4())}}Vd.displayName="ViewCamNotifications";var zd=Object(h.c)(e=>{const{viewCam:{notification:t}}=e;return{notification:t,playerType:Object(Bs.y)(e)}},e=>Object(J.b)(Bd,e))(Vd);const $d=({text:e})=>u.a._("div",{className:"vc-status-hint"},u.a._("div",{className:"vc-status-hint-icon-box"},u.a._(w.a,{img:"hint",className:"vc-status-hint-icon"})),u.a._("div",{className:"vc-status-hint-text"},e));$d.displayName="ViewCamStatusHint";var Gd=$d;const Wd=({mode:e})=>u.a._("div",{className:Object(Y.c)(["strip-backdrop",e])});Wd.displayName="StripBackdrop",Wd.defaultProps={mode:""};var Kd=Wd;const qd=({headingIcon:e,headingText:t,subheadingText:s,bodyText:a,controls:i,footerText:o,backdropMode:n,underControlsText:r})=>u.a._(p.Fragment,null,u.a._(Kd,{mode:n}),u.a._("div",{className:"vc-status-body"},u.a._(w.a,{img:e,className:"vc-status-heading-icon"}),u.a._("div",{className:"vc-status-heading-text"},t),s&&u.a._("div",{className:"vc-status-subheading-text"},u.a._(w.a,{img:"megaphone"}),s),a&&u.a._("div",{className:"vc-status-body-text"},a),i&&u.a._("div",{className:"vc-status-controls"},i),r&&u.a._("div",{className:"vc-status-undercontrols-text"},r)),o&&u.a._("div",{className:"vc-status-footer"},u.a._(Gd,{text:o})));qd.displayName="ViewCamStatusScreenInners",qd.defaultProps={backdropMode:"",bodyText:null,controls:null,footerText:null,subheadingText:"",underControlsText:""};const Jd=e=>{if(!e)return null;return`status-${{[kt.lb.STATUS_VIRTUAL_PRIVATE]:kt.lb.STATUS_PRIVATE}[e]||e}`},Yd=({model:{status:e},...t})=>u.a._("div",{className:Object(Y.c)(["vc-status",Jd(e)])},e?u.a._(qd,t):u.a._(mt.a,{isCentered:!0}));Yd.displayName="ViewCamStatusScreen";var Xd=Yd;const Qd={emitButtonEvent:Vs.b,showModal:O.c};class Zd extends u.a.Component{constructor(...e){super(...e),this.showJoinGroupShow=()=>{this.props.showModal(S.F.START_GROUP_SHOW)},this.getControls=()=>{const{isModelOrStudio:e}=this.props;return e?null:u.a._(y.a,{className:"vc-status-private-btn",size:"medium",style:"primary",onClick:this.showJoinGroupShow},u.a._(ue.a,{messageId:"button.joinNow"}))},this.getWatchersText=()=>{const{watchers:e}=this.props;return e<2?null:u.a._(ue.a,{messageId:"viewCamStatuses.body.groupShowWatching",parameters:{watchers:e}})}}render(){const{model:e,model:{username:t},description:s,isTicketShow:a}=this.props;return u.a._(Xd,{model:e,headingIcon:"group",headingText:u.a._(ue.a,{messageId:`viewCamStatuses.heading.${a?"ticketShow":"groupShow"}`,elements:{strong:u.a._("strong",null)},parameters:{username:t}}),subheadingText:s,controls:this.getControls(),underControlsText:this.getWatchersText()})}}Zd.displayName="ViewCamGroup";var ep=Object(h.c)(e=>({description:Object(se.i)(e),isModelOrStudio:Object(rs.d)(e),watchers:Object(se.m)(e),isTicketShow:Object(se.zb)(e)}),Qd)(Zd);const tp=({model:{username:e}})=>u.a._("div",{className:"vc-status status-idle"},u.a._("div",{className:"clock-wrapper"},u.a._(w.a,{img:"clock"})),u.a._("div",{className:"status"},u.a._(ue.a,{className:"status-text",messageId:"viewCam.poster.idle",parameters:{username:e}})));tp.displayName="ViewCamIdle";var sp=tp;class ap extends u.a.Component{constructor(...e){super(...e),this.subscribeSwitchClickHandler=()=>{const{model:e}=this.props;this.props.toggleSubscription(e,S.b.SUBSCRIBE)}}render(){const{isSubscribed:e,model:t}=this.props;return t.isModel?u.a._("div",{className:"subscribe-switch-container"},u.a._(w.a,{img:"notifications"}),u.a._("span",{className:"subscribe-caption"},Object(Z.d)("switcher.subscription.subscribe")),u.a._(A.a,{className:"subscribe-switch",iconImg:"check-1",onChange:this.subscribeSwitchClickHandler,size:"medium",isChecked:e})):null}}ap.displayName="SubscribeSwitch";const ip={toggleSubscription:Xc.d};var op=Object(h.c)((e,t)=>{const{auth:{isLoggedIn:s,isLoggingOut:a}}=e,{model:i}=t;return{isSubscribed:Object(Qc.d)(e,i.id),isLoggedIn:s&&!a}},e=>Object(J.b)(ip,e))(ap);const np=({model:e,timeDelta:t})=>{if(e.status!==kt.lb.STATUS_OFF)return null;return u.a._("div",{className:"vc-status status-off"},u.a._("div",{className:"status"},u.a._(ue.a,{className:"status-text",messageId:"viewCam.poster.off",parameters:{username:e.username}})),(()=>{const s=e.wentIdleAt||e.statusChangedAt;if(!s)return null;const a=new Date(Date.now()+t),i=Object(Z.d)("viewCam.wasOnline",{lastTimeLabel:Object(k.q)(s,a)});return u.a._("div",{className:"offline-status-time"},i)})(),e.offlineStatus?u.a._(oe.a,{className:"offline-status",isForceVisible:!0,placement:"bottom"},u.a._(w.a,{img:"megaphone"}),u.a._("span",null,e.offlineStatus)):null,u.a._(op,{model:e}))};np.displayName="ViewCamOffline";var rp=Object(h.c)(e=>{const{appSettings:{data:{timeDelta:t}}}=e;return{timeDelta:t}},null)(np);const lp=({isModelOrStudio:e,model:t,model:{username:s}})=>u.a._(Xd,{model:t,headingIcon:"spy-on-new",headingText:u.a._(ue.a,{messageId:`viewCamStatuses.heading.${e?"p2pShort":"p2p"}`,parameters:{username:s}}),bodyText:e?null:u.a._(ue.a,{messageId:"viewCamStatuses.body.whenP2pEnds"}),footerText:e?null:u.a._(ue.a,{messageId:"viewCamStatuses.hint.default"})});lp.displayName="ViewCamP2p";var cp=Object(h.c)(e=>({isModelOrStudio:Object(rs.d)(e)}))(lp);const dp={emitButtonEvent:Vs.b};class pp extends u.a.Component{constructor(...e){super(...e),this.startSpyClickHandler=()=>{const{model:{id:e}}=this.props;this.props.emitButtonEvent(S.b.VIEWCAM_START_SPY,{modelId:e})},this.getControls=()=>{const{canSpy:e}=this.props;return e?u.a._(y.a,{className:"vc-status-private-btn",size:"medium",style:"apply-alter",onClick:this.startSpyClickHandler},u.a._(w.a,{img:"spy-on-new",className:"vc-status-private-btn-icon"}),u.a._(ue.a,{messageId:"button.spyOn",parameters:{username:this.props.model.username}})):null}}render(){const{canSpy:e,isModelOrStudio:t,model:s,model:{username:a}}=this.props,i=t?"viewCamStatuses.heading.privateShort":"viewCamStatuses.heading.private";return u.a._(Xd,{model:s,backdropMode:e?"flashlight":"",headingIcon:"spy-on-new",headingText:u.a._(ue.a,{messageId:i,parameters:{username:a}}),bodyText:t?null:u.a._(ue.a,{messageId:`viewCamStatuses.body.${e?"reveal":"whenPrivateEnds"}`}),controls:this.getControls(),footerText:t?null:u.a._(ue.a,{messageId:`viewCamStatuses.hint.${e?"chanceToSpy":"default"}`})})}}pp.displayName="ViewCamPrivate";var up=Object(h.c)((e,t)=>{const s=Object(rs.d)(e);return{canSpy:t.model.doSpy&&!s&&Object(Bs.t)(e),isModelOrStudio:s}},e=>Object(J.b)(dp,e))(pp);const hp=({model:e})=>{if(!e)return null;switch(e.status){case kt.lb.STATUS_OFF:return u.a._(rp,{model:e});case kt.lb.STATUS_IDLE:return u.a._(sp,{model:e});case kt.lb.STATUS_PRIVATE:case kt.lb.STATUS_VIRTUAL_PRIVATE:return u.a._(up,{model:e});case kt.lb.STATUS_P2P:case kt.lb.STATUS_P2P_VOICE:return u.a._(cp,{model:e});case kt.lb.STATUS_GROUP_SHOW:return u.a._(ep,{model:e});case kt.lb.STATUS_PUBLIC:return null;default:return u.a._(Xd,{model:e})}};hp.defaultProps={model:null};var mp=hp,gp=s(224),bp=s(66),_p=s(76),vp=s(196),fp=s(51);let Cp;const Np={setIsFreeTokensForCardVerificationTopUpOpenAction:vp.f};var Op=Object(h.c)(e=>{const t=Object(Vt.f)(e);return{isDocumentVisible:Object(xs.m)(e),isCardVerificationPromoAvailable:Object(od.m)(e),isFeatureEnable:t.freeTokensForCardVerification}},Np)(({isFeatureEnable:e,isDocumentVisible:t,isCardVerificationPromoAvailable:s,setIsFreeTokensForCardVerificationTopUpOpenAction:a})=>e?(Object(p.useEffect)(()=>t?s?(Cp=window.setTimeout(()=>{bp.a.has(fp.h.HIDE_TOP_UP_COOKIE_NAME)||(a(!0),bp.a.set(fp.h.HIDE_TOP_UP_COOKIE_NAME,"1",{expires:fp.h.HIDE_TOP_UP_INTERVAL_DAYS}),_p.a.set(fp.h.SHOW_VERIFICATION_PURCHASE_METHOD_SESSION_ITEM_NAME,"1"))},fp.h.OPEN_TOP_UP_INTERVAL_MILLISECONDS),()=>{window.clearTimeout(Cp)}):(a(!1),window.clearTimeout(Cp),()=>({})):(window.clearTimeout(Cp),()=>({})),[a,t,s]),null):null),yp=s(290),wp=s(205);const Sp=e=>{const{model:t,isLoggedIn:s}=e,{broadcastGender:a}=t||{};if(s)return null;return u.a._("button",{className:"btn join-me-button",onClick:s=>{s.stopPropagation(),e.emitButtonEvent(S.b.PLAYER_SIGNUP,{model:t})}},Object(Z.d)(a===kt.j.GROUP?"button.joinUs":"button.joinMe"))};Sp.displayName="JoinButton";const kp={emitButtonEvent:Vs.b};var jp=Object(h.c)(e=>{const{auth:{isLoggedIn:t,isLoggingOut:s}}=e;return{isLoggedIn:t&&!s}},e=>Object(J.b)(kp,e))(Sp),Ip=s(434);const Tp=({watermarkBgRule:e})=>u.a._("div",{className:"watermark",style:{backgroundImage:e}});Tp.displayName="Watermark";var Pp=Object(h.c)(e=>({watermarkBgRule:Object(ui.s)(e)}))(Tp),Mp=s(187),Ep=s(501),Ap=s(666);const Up=()=>u.a._("div",{className:"player-error-boundary"},"Internal player error. Please reload the page.");Up.displayName="RenderErrorFallback";var Hp=Up;function Lp(){return(Lp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Rp=Object(p.lazy)(()=>s.e(13).then(s.bind(null,1383))),Fp=Object(p.lazy)(()=>Promise.all([s.e(0),s.e(5)]).then(s.bind(null,1380))),Dp=Object(p.lazy)(()=>Promise.all([s.e(0),s.e(1),s.e(2),s.e(20)]).then(s.bind(null,1384))),xp=Object(p.lazy)(()=>s.e(16).then(s.bind(null,1386))),Bp=Object(p.lazy)(()=>Promise.all([s.e(1),s.e(4)]).then(s.bind(null,1381)));class Vp extends p.PureComponent{constructor(e){super(e),this.updateInitializePlayer=ms()(()=>{this.props.updateInitializePlayer(!0)},500),this.timeoutId=0,this.togglePlayerAvailabilityIfNeeded=e=>{const{isDocumentVisible:t,isInPrivate:s}=e;(S.j.isMobile||S.j.isTablet)&&(t?this.clearTimeout():s?this.timeoutId=setTimeout(()=>this.props.togglePlayerAvailability(!1),6e4):this.props.togglePlayerAvailability(!1))},this.updateDocumentVisibilityState=(e,t)=>{const{isDocumentVisible:s}=t;Object(Je.E)(e,t)&&(s&&this.setState({isDocumentVisible:s}),this.togglePlayerAvailabilityIfNeeded(t))},this.onClickHandler=()=>{this.props.togglePlayerAvailability(!0),this.props.updateDocumentVisibility()},this.state={isDocumentVisible:this.props.isDocumentVisible}}_A(){const{playerType:e}=this.props;this.props.measurementPlayerType(e)}componentDidUpdate(e){const{playerType:t}=e,{playerType:s}=this.props;t!==s&&s&&this.props.measurementPlayerType(s),this.updateDocumentVisibilityState(e,this.props)}componentWillUnmount(){this.updateInitializePlayer&&this.updateInitializePlayer.cancel(),this.props.updateInitializePlayer(!1),this.clearTimeout()}clearTimeout(){clearTimeout(this.timeoutId)}_c3(){const{lastSnapshotUrl:e,volume:t,playerType:s,isPlayerAvailability:a}=this.props,{isDocumentVisible:i}=this.state;if(!i||!a)return u.a._(Ap.a,{onClick:this.onClickHandler});const o={lastSnapshotUrl:e,volume:t};switch(s){case kt.Eb.WEBRTC:return u.a._(Dp,Lp({},o,{updateInitializePlayer:this.updateInitializePlayer}));case kt.Eb.HLS:return u.a._(Bp,Lp({},o,{updateInitializePlayer:this.updateInitializePlayer}));case kt.Eb.SNAPSHOT:return u.a._(xp,Lp({},o,{updateInitializePlayer:this.updateInitializePlayer}));case kt.Eb.FLASH:default:return u.a._(Fp,Lp({},o,{updateInitializePlayer:this.updateInitializePlayer}))}}_e7(){const{isInCam2Cam:e,playerType:t}=this.props;return e||t===kt.Eb.FLASH?null:u.a._(Pp,null)}_e8(){const{playerType:e,model:t}=this.props;return!l()(t,"isVr")&&e!==kt.Eb.FLASH?u.a._("div",{className:"player-central-button"},u.a._(jp,{model:t})):null}_e9(){const{isInPrivate:e,playerType:t,model:s}=this.props;l()(s,"isVr")&&kt.Eb.FLASH;return u.a._(Ip.a,null)}render(){return u.a._(Ep.a,{fallbackContent:u.a._(Hp,null),shouldLog:!0},u.a._(ea,null,u.a._(Rp,{className:"player"},this._c3(),this._e7(),this._e8(),this._e9())))}}Vp.displayName="Player";const zp={togglePlayerAvailability:v.J,updatePlayerType:v.O,updateInitializePlayer:Uc.i,updateDocumentVisibility:Vs.z,measurementPlayerType:Mp.e};Vp.defaultProps={isLoggedIn:!1,isOwnShow:!1,isInCam2Cam:!1,isInPrivate:!1,lastSnapshotUrl:"",playerType:"",volume:0};var $p=Object(h.c)(e=>{const{auth:{isLoggedIn:t,isLoggingOut:s},viewCam:{model:a,isPlayerAvailability:i},ui:{isDocumentVisible:o}}=e;return{isDocumentVisible:o,isLoggedIn:t&&!s,isInCam2Cam:Object(se.y)(e),isInPrivate:Object(se.D)(e),model:a,playerType:Object(Bs.y)(e),isPlayerAvailability:i,volume:Object(Bs.z)(e)}},zp)(Vp),Gp=s(155);const Wp=(e,t)=>l()(e,"model.id")!==l()(t,"model.id")||l()(e,"playerType")!==l()(t,"playerType")||l()(e,"broadcastType")!==l()(t,"broadcastType"),Kp=(e,t)=>l()(e,"model.id")!==l()(t,"model.id"),qp=(e,t)=>!e.snapshotUrl&&t.snapshotUrl||Kp(e,t),Jp=({aspectRatio:e})=>({hd:Ec()(e,.55,.57)});class Yp extends u.a.Component{constructor(...e){super(...e),this.isWatchingSuspended=!1,this.visibilityChangeCount=0,this.state={isRatePrivateOpen:!1,showId:null,lastSnapshotUrl:void 0},this.preloadAndSetNextSnapshot=e=>{this.setState({lastSnapshotUrl:null},()=>{if(!e)return;const t=new Image;t.addEventListener("load",()=>{this.setState({lastSnapshotUrl:e})}),t.src=e})},this.propsUpdateToActionsMap=[{update:(e,t)=>e.isSocketReady&&!t.isSocketReady,action:()=>{const{cancelProposal:e,isSocketReady:t,isInPrivate:s,privateMode:a,shadeLayout:i,stopPrivate:o}=this.props;!t&&s&&(a?(Xs.c.addSource(Xs.b.USER_SOCKET_NOT_WORKING),o("socketNotReady")):e(),i(!1))}},{update:qp,action:()=>{const{snapshotUrl:e}=this.props;this.preloadAndSetNextSnapshot(e)}},{update:se.wb,action:()=>{this.setState({isRatePrivateOpen:!1})}},{update:Kp,action:()=>{const{model:e}=this.props;e&&e.isVr&&this.props.beginVrModelWatching(e)}},{update:Wp,action:()=>{const{beginModelWatching:e,isDocumentVisible:t,model:s}=this.props;this.isWatchingSuspended=!t,this.isWatchingSuspended||s&&e(s)}},{update:Je.D,action:()=>{const{beginModelWatching:e,model:t}=this.props;this.isWatchingSuspended&&t&&(e(t),this.isWatchingSuspended=!1)}},{update:["shouldShadeLayout"],action:()=>{const{shouldShadeLayout:e}=this.props;this.props.shadeLayout(e)}},{update:["isDocumentVisible"],action:()=>{if(this.visibilityChangeCount++,this.visibilityChangeCount<=1)return;const{isDocumentVisible:e}=this.props;if(S.j.isMobile||S.j.isTablet)if(e){const e=ki.a.get(kt.bb.PLAYER_VOLUME),t="number"==typeof e?e:50;this.props.changeVolume(t,!1)}else this.props.changeVolume(0,!1)}}],this.onBeforeUnloadEventHandler=()=>{const{isInPrivate:e,isInSpyMode:t,isInCam2CamInOtherTab:s}=this.props;t||e?Xs.c.addSource(Xs.b.USER_CLOSE_BROWSER_IN_PRIVATE):s||this.props.resetViewCam(!1)},this.viewCamBlockKeyDownHandler=e=>{const{ctrlKey:t,keyCode:s}=e,{isCurrentUserModelOrStudio:a,isCamAvailable:i,isOwnShow:o,model:n,isNextModelAvailable:r,isPrevModelAvailable:l}=this.props,c=n.status===kt.lb.STATUS_PRIVATE||n.status===kt.lb.STATUS_VIRTUAL_PRIVATE,d=!o&&!(i&&c),p=!o&&!c,u=s===S.C.sChar,h=s===S.C.comma,m=s===S.C.period;t&&((u||h||m)&&(e.preventDefault(),e.stopPropagation()),p&&u&&!a&&this.startPurchaseTokensModalWizard(),h&&d&&l&&this.props.goToModel("prev"),m&&d&&r&&this.props.goToModel("next"))},this.goToNextModel=()=>{this.props.goToModel("next")},this.playerWrapperClickHandler=()=>{this.props.closeNotification()},this.startPurchaseTokensModalWizard=()=>{const{model:e,startWizard:t}=this.props;t(S.F.SEND_TIP,{component:"SignUp",action:{backgroundImage:e.avatarUrl,type:"buyTokens",user:e},user:e})},this.ratePrivateEventHandler=e=>{const{model:t,show:s}=e,{id:a}=this.props.model;t.id===a&&this.setState({isRatePrivateOpen:!0,showId:s.id}),this.props.processSocketEvent(`ratePrivate:${a}`,e)},this.ratePrivateHandler=(e,t)=>{const{ratePrivate:s}=this.props;s(this.state.showId,e,t)},this.closeRatePrivate=()=>{this.setState({isRatePrivateOpen:!1,showId:null})},this.getPosterImageUrl=()=>{const{model:e,isModelInGroupShow:t,isNonNudeWL:s}=this.props,{lastSnapshotUrl:a}=this.state;if(!e||s)return null;const i=a||e.previewUrl;return t?i:e.previewUrl},this.getViewServerSubscription=()=>{const{viewServers:e,playerType:t}=this.props;return t===kt.Eb.WEBRTC?[`viewServerChanged:${e.flashphoner}`]:t===kt.Eb.HLS?[`viewServerChanged:${e["flashphoner-hls"]}`]:[]},this._ea=()=>u.a._("div",{className:"view-cam-room-nav"},u.a._(yp.a,{id:"room_nav_next",type:"next-small",onClick:this.goToNextModel,pageNumber:0})),this._eb=()=>{const{model:e}=this.props;return u.a._(mp,{model:e})},this._ec=()=>u.a._("div",{className:"view-already-in-private-wrapper"},Object(Z.d)("viewCam.privateInOtherTab")),this._ed=()=>{const{model:e,isNextModelAvailable:t,isInCam2CamInOtherTab:s,isNonNudeWL:a}=this.props,i=this.getPosterImageUrl(),o=i?{backgroundImage:`url(${i})`}:null,n=e&&(e.status===kt.lb.STATUS_PRIVATE||e.status===kt.lb.STATUS_VIRTUAL_PRIVATE||e.status===kt.lb.STATUS_P2P);return u.a._("div",{className:"poster"},u.a._("div",{className:Object(Y.c)("backdrop",{"prevent-dark":n,"non-nude-cover":a&&!o}),style:o}),!s&&t&&this._ea(),s&&this._ec(),!s&&this._eb())},this._c3=()=>{const{lastSnapshotUrl:e}=this.state;return Object(Gs.f)()?null:u.a._($p,{lastSnapshotUrl:e})}}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props),Object(Qs.a)(this,window,"beforeunload",this.onBeforeUnloadEventHandler),Object(Qs.a)(this,document,"keydown",this.viewCamBlockKeyDownHandler)}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){const{model:e}=this.props;e&&this.props.resetViewCam(!0),Object(Qs.b)(this)}_B6(){const{isLoggedIn:e,currentUserId:t,userFanClub:s,model:a,isAppBotsEnabled:i}=this.props,o=a?[`userBanned:${a.id}`,`goalChanged:${a.id}`,`modelStatusChanged:${a.id}`,`broadcastSettingsChanged:${a.id}`,`tipMenuUpdated:${a.id}`,`topicChanged:${a.id}`,`userUpdated:${a.id}`,`interactiveToyStatusChanged:${a.id}`,`groupShow:${a.id}`,`deleteChatMessages:${a.id}`,...this.getViewServerSubscription(),...s&&s.isActive?[`fanClubUpdated:${a.id}`]:[],...i?[`modelAppUpdated:${a.id}`]:[]]:[],n=e?[`userBroadcastServerChanged:${t}`,`interactiveToyStatusChanged:${t}`]:[],r=a&&e?[`privateStarted:${a.id}`,`privateRecordingSaveConfirmation:${a.id}`,`spyStopped:${a.id}`,`knightAdded:${a.id}`,`knightDeleted:${a.id}`,`userUnbanned:${a.id}`]:[],l=a&&e?[{subscriptionKey:`ratePrivate:${a.id}`,callback:this.ratePrivateEventHandler}]:[];return u.a._(ht.a,{events:["clearChatMessages","lotteryChanged",...o,...n,...r],eventsWithCallbacks:l})}_ee(){const{isCamAvailable:e,isPromoModel:t,model:s}=this.props,{isRatePrivateOpen:a}=this.state;return t?null:a?u.a._(Dc,{isOpen:!0,onComplete:this.ratePrivateHandler,onClose:this.closeRatePrivate}):u.a._(fd,{isCamAvailable:e,model:s})}render(){const{cssVariables:e,isViewCamInfoVisible:t,model:s,shouldRenderPlayer:a}=this.props,{lastSnapshotUrl:i}=this.state,o=i?{backgroundImage:`url(${i})`}:null;return u.a._(qs,{className:"view-cam",prefix:"view-cam",variables:e},s&&u.a._(Ad,{model:s}),s&&u.a._(zd,{model:s}),u.a._("div",{className:"wrapper",onClick:this.playerWrapperClickHandler},u.a._("div",{className:Object(Y.c)("main",Jp(this.props))},u.a._("div",{className:"strut",style:o},a?this._c3():this._ed()))),this._ee(),t&&u.a._(yd,{model:s}),this._B6(),s&&s.isLive&&u.a._(Op,null))}}Yp.displayName="ViewCam";const Xp={beginModelWatching:v.a,beginVrModelWatching:v.b,cancelProposal:v.c,closeNotification:v.e,createFreeAccountModal:v.f,emitButtonEvent:Vs.b,goToModel:v.j,hideModal:O.a,loadRelations:Gp.a,processSocketEvent:gp.b,ratePrivate:v.q,resetViewCam:v.r,shadeLayout:Vs.u,showModal:O.c,startWizard:Oa.f,stopPrivate:v.C,stopSpy:v.D,changeVolume:Uc.d};Yp.defaultProps={model:null};var Qp=Object(h.c)((e,t)=>{const{auth:{isLoggedIn:s,isLoggingOut:a},appSettings:{data:{isSocketReady:i}},modelFilter:{isNextModelAvailable:o,isPrevModelAvailable:n},streamingServers:{viewServers:r},ui:{isDocumentVisible:l},viewCam:{isCamAvailable:c,isActionListVisible:d,isOwnShow:p,model:u,viewCamSettings:h,userFanClub:m}}=e,g=h.height/h.width,b=Object(se.D)(e),_=Object(se.z)(e),v=Object(se.bb)(e),f=Object(se.G)(e),C=Object(Do.f)(e),N=Object(rs.d)(e),O=Object(se.I)(e),y=!(d&&Object(Je.q)(e)),w=Object(wp.a)(e),S=Object(Bs.f)(e),k=Object(wp.d)(e);return{aspectRatio:g,broadcastType:kt.Eb.WEBRTC,cssVariables:Object(Ws.c)(e),currentUserId:Object(zt.i)(e),isViewCamInfoVisible:y,isCamAvailable:c,isCurrentUserModelOrStudio:N,isDocumentVisible:l,isAppBotsEnabled:Object(Vt.f)(e).appBots,isInSpyMode:f,isInPrivate:b,isInCam2CamInOtherTab:_,isLoggedIn:s&&!a,isNonNudeWL:Object(ui.f)(e),isMyStudioModel:C,isNextModelAvailable:o,isModelInGroupShow:O,isOwnShow:p,isPrevModelAvailable:n,isPromoModel:Object(se.N)(e),isSocketReady:i,model:u||t.model,playerType:Object(Bs.y)(e),privateMode:v,streamHost:S,shouldShadeLayout:Object(se.db)(e),shouldRenderPlayer:Object(se.cb)(e),viewServers:r,userFanClub:m,snapshotUrl:u||t.model?Object(Ac.getSnapshotUrl)({isLowQualityThumbs:!1,isLowQualityPreview:!1,model:u||t.model,snapshotUrlTemplate:k,hasWebpSupport:w},Hc.c):null}},Xp)(Yp);class Zp extends u.a.Component{constructor(...e){super(...e),this.authClickHandler=()=>{const{model:e,startWizard:t}=this.props;t(S.F.AUTH,{component:"SignUp",action:{backgroundImage:e.avatarUrl,shouldBypassActionPrefix:!0,type:"continueWatching",user:e},user:e,triggerSource:ni.k.WATCHING_LIMITATION})}}render(){const{isWatchingLimitReached:e}=this.props;return e?u.a._("div",{className:"view-cam-watching-limit"},u.a._("div",{className:"view-blocked-container"},u.a._("div",{className:"watching-limit-title"},Object(Z.d)("viewCam.watchingLimit.title")),u.a._("div",{className:"watching-limit-description"},u.a._("div",null,Object(Z.d)("viewCam.watchingLimit.description")),u.a._("div",{className:"watching-limit-description-features"},Object(Z.d)("viewCam.watchingLimit.youWillGet"))),u.a._("div",{className:"watching-limit-features",onClick:this.authClickHandler},u.a._("div",{className:"watching-limit-feature"},u.a._(w.a,{img:"play-2",size:14}),Object(Z.d)("viewCam.watchingLimit.features.watchForFree")),u.a._("div",{className:"watching-limit-feature"},u.a._(w.a,{img:"chat",size:18}),Object(Z.d)("viewCam.watchingLimit.features.publicChat")),u.a._("div",{className:"watching-limit-feature"},u.a._(w.a,{img:"tokens-2",size:20}),Object(Z.d)("viewCam.watchingLimit.features.tokenGiveaway")))),u.a._(y.a,{style:"accept",size:"large",onClick:this.authClickHandler},Object(Z.d)("viewCam.watchingLimit.button"))):null}}Zp.displayName="ViewCamWatchingLimit";const eu={startWizard:Oa.f};var tu=Object(h.c)((e,{model:t})=>({isWatchingLimitReached:!!t&&Object(se.U)(e,t.id)}),e=>Object(J.b)(eu,e))(Zp),su=s(236),au=s(400),iu=s(133),ou=s(143),nu=s(118);const ru={twitter:{icon:"twitter-original",label:"Twitter"},instagram:{icon:"instagram-original",label:"Instagram"},snapchat:{icon:"snapchat-square",label:"Snapchat"},facebook:{icon:"facebook-square",label:"Facebook"},xhamster:{icon:"xhamster-original",label:"xHamster"},amazonWishlist:{icon:"amazon-square",label:"Amazon"},fancentro:{icon:"fancentro",label:"Fancentro",processUrl:iu.e}};class lu extends u.a.Component{constructor(...e){super(...e),this.getMenuItems=ke()(({model:e,modelSocialLinks:t,modelUsername:s,photosCount:a,videosCount:i,shouldShowFanClubButton:o})=>{const n={username:s},r=u.a._(Ms.a,{to:`/${s}/profile`},u.a._(Rd.b,{user:e||n,showOnlineStatus:!0})),c={...t,amazonWishlist:l()(e,"amazonWishlist")},d=Object.keys(ru).filter(e=>c[e]).map(e=>({className:"external-link",customItem:u.a._("a",{className:"header-sub-social-link",href:ru[e].processUrl?ru[e].processUrl(Object(iu.c)(c[e])):Object(iu.c)(c[e]),key:ru[e].label,rel:"nofollow noreferrer noopener",target:"_blank"},u.a._(w.a,{img:ru[e].icon||"question"}),u.a._("span",{className:"social-name"},ru[e].label)),label:ru[e].label})),p={icon:s?r:null,label:s,customItem:u.a._(au.b,{as:"h1",fallback:"h2",noWarn:"this is duplicated because of different mobile and desktop menu markups and calculating menu items widths, see ASS-21895"},u.a._(Ms.b,{className:"link",key:s,to:`/${s}/profile`,isActive:()=>!0},s))},h=[];o&&h.push({className:"external-link",customItem:u.a._(oi,{isSubscribed:!0}),label:"Fan Club"});const m=[p,{className:"local-link",label:Object(Z.d)("viewCam.subheader.profile"),route:`/${s}/profile`,isActive:()=>!1},{className:"local-link",label:Object(Z.d)("viewCam.subheader.gallery"),route:{pathname:`/${s}/profile#gallery`,hash:""},count:a,isActive:()=>!1},{className:"local-link",label:Object(Z.d)("viewCam.subheader.videos"),route:{pathname:`/${s}/profile#videos`,hash:""},count:i,isActive:()=>!1},...h,...this._ef(),...d];return Le()(m,e=>void 0===e.count||e.count>0)},({model:e,modelSocialLinks:t,photosCount:s,modelUsername:a,videosCount:i,shouldShowWhatsApp:o,shouldShowFanClubButton:n})=>`\n        ${l()(e,"username")||a}\n        :${l()(e,"avatarUrl")}\n        :${JSON.stringify(t)}\n        :${s}\n        :${i}\n        :${o}\n        :${n}\n      `),this.whatsAppItemClickHandler=()=>{const{isLoggedIn:e,createFreeAccountModal:t,showModal:s}=this.props;e?s(S.F.WHATSAPP_START):t({triggerSource:ni.k.SIGNUP_WHATSAPP})}}_ef(){const{shouldShowWhatsApp:e}=this.props;return e?[{className:"local-link whatsapp",customItem:u.a._("a",{className:"header-sub-social-link",key:"WhatsApp",onClick:this.whatsAppItemClickHandler},u.a._(w.a,{img:"whatsapp"}),u.a._("span",{className:"social-name"},"WhatsApp")),label:"WhatsApp"}]:[]}render(){const{model:e,modelSocialLinks:t,photosCount:s,modelUsername:a,videosCount:i,shouldShowWhatsApp:o,shouldShowFanClubButton:n}=this.props,r=this.getMenuItems({model:e,modelSocialLinks:t,photosCount:s,modelUsername:a,videosCount:i,shouldShowWhatsApp:o,shouldShowFanClubButton:n});return u.a._(su.a,{className:"view-cam-header-sub",items:r,hasNextModel:!0,hasSearch:!0,hasCategories:!0})}}lu.displayName="ViewCamHeaderSub";const cu={createFreeAccountModal:v.f,showModal:O.c,routerPush:As.H};lu.defaultProps={modelSocialLinks:{}};var du=Object(Mt.h)(Object(h.c)((e,t)=>{const{viewCam:{model:s},auth:{isLoggedIn:a}}=e,{match:{params:{username:i}}}=t,o=Object(Je.q)(e),n=s?Object(rs.l)(e,s.id):null,r=Object(ui.f)(e),l=n&&!r?Object(ou.j)(e,n.id):0,c=n&&!r?Object(nu.i)(e,n.id):0;return{isLayoutUpToL:Object(Je.q)(e),isLoggedIn:a,shouldShowWhatsApp:Object(se.O)(e),shouldShowFanClubButton:Object(se.eb)(e)&&!o,modelSocialLinks:Object(rs.j)(e,s?s.id:null),model:Object(Do.l)(e,i),modelUsername:i,photosCount:l,videosCount:c}},cu)(lu)),pu=s(283),uu=s(284),hu=s(103),mu=s(522),gu=s(46),bu=s(269);class _u extends u.a.PureComponent{constructor(...e){super(...e),this._J5=e=>{if("mixedTags"===e.alias)return null;const t=`viewCam.tagsInfo.tagGroupTitle_${e.alias}`,s=u.a._(ue.a,{messageId:t}),a=u.a._("p",{className:"view-cam-model-tags-group-title"},s);return u.a._("div",{key:e.alias,className:"view-cam-model-tags-group"},u.a._("p",{className:"view-cam-model-tags-group-title-mobile"},s),u.a._(bu.a,{contentStart:a,shouldRoute:!0,tags:e.tags,variant:"multi-line"}))}}_D(){const{model:e}=this.props;return u.a._("p",{className:"view-cam-model-tags-title"},u.a._(ue.a,{messageId:"viewCam.tagsInfo.title",elements:{link:u.a._(Ms.a,{className:"link",to:`/${e.username}/profile`})},parameters:{modelName:e.username}}))}_eg(){const{tagGroups:e}=this.props;return e&&e.length?u.a._(u.a.Fragment,null,this._D(),e.map(this._J5)):null}_eh(){const{mixedTags:e}=this.props;return e&&e.length?u.a._("div",{className:"view-cam-model-tags-specials"},u.a._("p",{className:"view-cam-model-tags-title"},u.a._(ue.a,{messageId:"viewCam.tagsInfo.relatedTags"})),u.a._(bu.a,{shouldShowMore:!0,shouldRoute:!0,tags:e,variant:"multi-line"})):null}render(){return this.props.model?u.a._("div",{className:"view-cam-model-tags"},this._eg(),this._eh()):null}}_u.displayName="ViewCamModelTags";var vu=Object(h.c)(e=>({tagGroups:Object(gu.r)(e),specialTags:Object(gu.s)(e),mixedTags:Object(gu.q)(e)}))(_u);class fu extends u.a.Component{constructor(...e){super(...e),this.state={isOpeningGizmo:!1},this.propsUpdateToActionsMap=[{update:[zt.a],action:()=>{const{routerReplace:e,unblockModelId:t,model:s}=this.props;t===s.id&&e("/")}},{update:[zt.f],action:()=>{const{hasProfile:e,model:t,loadViewCamProfile:s,isSsrActive:a}=this.props;!a&&e&&t&&s(t.username)}},{update:["username"],action:()=>{const{username:e}=this.props;this.props.updateViewCamModelUsername(e)}},{update:Je.L,action:()=>{const{isWindowFocused:e}=this.props;!e&&this.state.isOpeningGizmo&&(this.watchVrModalShowDebounced&&this.watchVrModalShowDebounced.cancel(),this.props.togglePlayerAvailability(!1),this.setState({isOpeningGizmo:!1}))}}]}_A(){Object(_s.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(_s.a)(this.propsUpdateToActionsMap,e,this.props)}_ei(){const{model:e,isNonNudeWL:t}=this.props;return e?u.a._(Pc.a,{excludeIds:[e.id],isPaginated:!0,shouldLogPopularSnapshot:!0,className:"container"},!t&&u.a._(su.a,{isEmbedded:!0,className:"header-sub-simple header-sub-wider-menu-gaps"})):null}_ej(){const{hasProfile:e,model:t,username:s}=this.props;return e&&t?u.a._("div",{className:"profile-wrapper"},u.a._("div",{className:"page"},u.a._(mu.a,{shouldRenderWatchButton:!1,isOwnProfile:!1,isEmbedded:!0,user:t}),u.a._("div",{className:"container"},u.a._(Ms.a,{to:`/${s}`,className:"bottom-close icon-wrapper"},u.a._(w.a,{img:"scroll-top",size:50}))))):null}_ah(){const{model:e}=this.props;return u.a._("div",{className:"banned-container"},u.a._(w.a,{img:"account-blocked"}),u.a._("div",{className:"banned-container-content"},u.a._("div",{className:"banned-container-title"},Object(Z.d)("camChat.youAreBannedByUserNotification",{username:e.username}))))}_ai(){return u.a._("div",{className:"banned-container"},u.a._(w.a,{img:"country-ban"}),u.a._("div",{className:"banned-container-content"},u.a._("div",{className:"banned-container-title"},Object(Z.d)("camChat.yourCountryIsBlockedByModel"))))}_Df(){const{isGeoBanned:e,model:t}=this.props;let s;return s=e?this._ai():this._ah(),u.a._("div",{className:"page"},u.a._("div",{className:"view-cam-banned"},u.a._(ac,{model:t}),u.a._(fc,{message:s})))}_dh(){const{currentUser:e,isLoggedIn:t}=this.props;return!t||!e.isStudio&&!e.isModel?u.a._(Tc,null):null}_ek(){const{model:e,selectedTab:t,isLayoutUpToL:s}=this.props;return u.a._(p.Fragment,null,u.a._(du,{profileRef:this.profileRef,selectedTab:t}),u.a._("div",{className:"page"},u.a._("div",{className:"view-cam-page-main"},u.a._(tu,{model:e}),u.a._("div",{className:"video"},u.a._(Qp,{model:e})),s&&u.a._(Ha,null),u.a._("div",{className:"chat"},u.a._(Xl,{chatOwner:e}),this._dh()))))}_el(){const{isBanned:e,isGeoBanned:t,model:s}=this.props,a=e||t;return u.a._(p.Fragment,null,a?this._Df():this._ek(),u.a._("div",{ref:e=>{this.profileRef=e}},this._ej()),u.a._(pu.a,null),u.a._(uu.a,null),this._ei(),u.a._("div",{className:"container"},u.a._(vu,{model:s})))}_em(){const{isAutoSpyExpected:e}=this.props;return u.a._(fc,{loadingMessage:e?Object(Z.d)("modelsRoomIsLoading"):""})}render(){const{isAutoSpyExpected:e,model:t}=this.props;return t?u.a._("div",{className:"view-cam-container"},e?this._em():this._el()):null}}fu.displayName="ViewCamContainer";const Cu={loadViewCamProfile:gt.g,routerReplace:As.I,showAppropriateVRModal:mc.c,togglePlayerAvailability:v.J,updateViewCamModelUsername:v.S};var Nu=Object(h.c)((e,t)=>{const{location:{hash:s,pathname:a},match:{params:{hasProfile:i,username:o}},model:n}=t,{auth:{currentUser:r,isLoggedIn:l,isLoggingOut:c},ui:{isWindowFocused:d}}=e,p=Object(rs.g)(e),u=s||hc()((a||"").split("#"),1),h=Object(se.q)(e);return{currentUser:r,hasProfile:Boolean(i),isBanned:l&&n&&Object(co.e)(e,n.id),isGeoBanned:n&&Object(co.g)(e,n.id),isLayoutUpToL:Object(Je.q)(e),isLoggedIn:l&&!c,isNonNudeWL:Object(ui.f)(e),isUserLoading:p,isAutoSpyExpected:h,isSsrActive:Object(hu.e)(e),isWindowFocused:d,locationHash:u,username:o}},Cu)(fu),Ou=s(161),yu=s(526),wu=s(326),Su=s(424),ku=s(354),ju=s(201),Iu=s.n(ju),Tu=s(382);const Pu=e=>{const{isOwnCamPage:t,isNonNudeWL:s,match:{params:{username:a}},privateRequest:{proposeMode:i},titleLimit:o,topicOrGoal:n,hasProfile:r,siteName:l,photosCount:c,videosCount:d,modelStatus:p}=e;let h="",m="";const g=Iu()(a);return r?(h=Object(Z.f)("seo.title.profile.model",{username:g},{limit:o}),m=Object(Z.f)("seo.description.profile.model",{username:g,siteName:l,photos:c,videos:d,status:p},{limit:S.J,shouldShowEllipsis:!0})):(h=t?Object(Z.e)(`seo.title.camMyShow${i?"WithPrivateRequest":""}`):Object(Z.f)("seo.title.cam",{model:g},{limit:o}),m=Object(Z.f)("seo.description.cam",{model:g,topicOrGoal:n},{limit:S.J,shouldShowEllipsis:!0})),s&&(h=Object(Z.e)("seo.title.camNonNudeWL",{model:a}),m=Object(Z.e)("seo.description.camNonNudeWL",{model:a})),u.a._(Tu.a,{title:h,description:m})};function Mu(){return(Mu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}Pu.displayName="ViewCamPageMeta";class Eu extends u.a.Component{constructor(...e){super(...e),this.routerWillLeave=e=>{const{location:t,shouldOpenLinksInNewTab:s}=this.props,a=l()(t,"pathname",""),o=l()(e,"pathname",""),n=a!==o,r=n&&i()(a)===i()(o);return Xs.c.addClick(o),Object(Gs.d)()&&s?(n&&window.open(e.pathname),r):(n&&"/"!==e.pathname&&F.a.reset(),!0)},this.propsUpdateToActionsMap=[{update:[zt.p,zt.b],action:()=>{const{isActiveModel:e,isOwnCamPage:t,match:{params:{username:s}}}=this.props;this.props.hideNotification({key:"subscription"}),e?!t&&e&&this.props.initViewCam(s).finally(()=>this.replaceCurrentHistoryEntry(this.props)):this.replaceCurrentHistoryEntry(this.props)}}],this._en=()=>{const{isOwnCamPage:e,location:t,match:s,model:a}=this.props;return e?u.a._(cc,{model:a}):u.a._(Nu,{location:t,model:a,match:s})}}_A(){this._isMounted=!0,this.unblockRouter=this.props.history.block(this.routerWillLeave),F.a.reset()}componentWillUnmount(){this._isMounted=!1,this.unblockRouter()}componentDidUpdate(e){!e.model&&this.props.model&&F.a.reset()}replaceCurrentHistoryEntry(e){const{hasProfile:t,hasRouteConflict:s,match:{params:{username:a},url:i},model:o,modelAction:r,isVisitorsAgreementAccepted:l,isLoggedIn:c}=e;if(!this._isMounted)return!1;const d=Boolean(o)&&o.isModel,p=Boolean(o)&&o.isStudio,u=Boolean(o)&&!d&&!p,h=t?"/profile":"";return d&&"follow-me"===r?(this.props.routerReplace(`/${o.username}`),!c&&o.isApprovedModel&&(l?this.props.checkInAsReferee(a):this.props.saveModelReferee(a)),!0):d&&s?(this.props.routerReplace(`/cams/${o.username}${h}`),!0):d&&n()(i,"/cams/")&&!s||d&&a!==o.username?(this.props.routerReplace(`/${o.username}${h}`),!0):p?(this.props.routerReplace(`/studio/${o.username}${h}`),!0):!!u&&(this.props.routerReplace(`/user/${o.username}${h}`),!0)}_b8(){return u.a._(Pu,this.props)}render(){return u.a._(Ou.a,Mu({propsUpdateToActionsMap:this.propsUpdateToActionsMap},this.props),u.a._("div",{className:"view-cam-page-wrapper"},this._b8(),u.a._(yu.a,null,u.a._("div",{className:"view-cam-page"},this._en(),u.a._(_,null),S.j.isMobile&&u.a._(pc,null)))))}}Eu.displayName="ViewCamPage",Eu.checkAccess=As.h;const Au={checkInAsReferee:Su.a,initViewCam:v.k,hideNotification:E.c,routerReplace:As.I,saveModelReferee:Su.e};t.a=Object(h.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i},broadcast:{isCamActive:o,privateRequest:n}}=e,{match:{params:{hasProfile:r,modelAction:c="",username:d}}}=t,p=Object(Do.l)(e,d),u=Object(se.J)(e,t),h=Object(se.D)(e),m=Object(se.zb)(e),g=Object(se.z)(e),b=Object(_e.d)(e,`/${d}`),_=Object(rs.f)(e,d),v=l()(p,"isApprovedModel",!0)&&!_||u,f=o||h&&!m&&!g,C=Boolean(r);let N={};return p&&C&&(N={photosCount:Object(ku.a)(e,p),videosCount:Object(nu.i)(e,p.id),modelStatus:p.offlineStatus,siteName:e.whiteLabels.siteName}),{currentUser:s,shouldOpenLinksInNewTab:f,hasProfile:C,hasRouteConflict:b,isActiveModel:v,isLoggedIn:a&&!i,isNonNudeWL:Object(ui.f)(e),isOwnCamPage:u,model:p,modelAction:c,privateRequest:n,username:d,titleLimit:Object(ui.q)(e),topicOrGoal:Object(se.nb)(e),isVisitorsAgreementAccepted:Object(wu.a)(e),...N}},Au)(Eu)},function(e,t,s){"use strict";var a=s(27),i=s.n(a),o=s(131),n=s.n(o),r=s(2),l=s.n(r),c=s(8),d=s.n(c),p=s(188),u=s.n(p),h=s(0),m=s.n(h),g=s(5),b=s(288),_=s(42),v=s(40),f=s(17),C=s(225),N=s(70),O=s.n(N),y=s(125),w=s.n(y),S=s(758),k=s(18),j=s(10),I=s(21),T=s(34),P=s(41),M=s(20),E=s(36),A=s(311),U=s(196);const H={ON_COOKIES_POLICY_ACCEPTED:"onCookiesPolicyAccepted",ON_LOGIN:"onLogin",ON_LOGOUT:"onLogout",ON_SIGN_UP:"onSignUp",ON_MODAL_CLOSED:"onModalClosed"},L=(e,t)=>!i()(e)&&e.isLoggedIn!==t.isLoggedIn,R=(e,t)=>!i()(e)&&e.haSignUpPassed!==t.haSignUpPassed&&t.haSignUpPassed,F=(e,t)=>e.isCookiesPolicyAccepted!==t.isCookiesPolicyAccepted&&t.isCookiesPolicyAccepted,D=(e,t)=>e.modalName!==t.modalName&&""===t.modalName,x={showModal:k.c,hideModal:k.a,preselectPurchase:U.d,routerPush:P.H,setAffiliateId:S.a};class B extends m.a.Component{constructor(e,t){if(super(e,t),this.subscriptions={onCookiesPolicyAccepted:[],onLogin:[],onLogout:[],onSignUp:[]},this.propsUpdateToActionsMap=[{update:D,action:()=>{const{modalName:e}=this.props;this.triggerSubscribedCallbacks(H.ON_MODAL_CLOSED,e)}},{update:R,action:()=>{this.triggerSubscribedCallbacks(H.ON_SIGN_UP)}},{update:L,action:()=>{const{isLoggedIn:e}=this.props;e?this.triggerSubscribedCallbacks(H.ON_LOGIN):this.triggerSubscribedCallbacks(H.ON_LOGOUT)}},{update:F,action:()=>{this.triggerSubscribedCallbacks(H.ON_COOKIES_POLICY_ACCEPTED)}}],this.triggerSubscribedCallbacks=(e,t=null)=>{w()(this.subscriptions[e],e=>e(t))},this._D8=(e,t)=>{this.subscriptions[e].push(t)},this.getApplicationConfig=()=>({isCookiesPolicyAccepted:this.props.isCookiesPolicyAccepted}),this.getCurrentUser=()=>this.props.currentUser,this.getFeatures=()=>this.props.features,this.getPromoCampaigns=()=>this.props.activePromoCampaigns,this.getLandingParams=()=>this.props.landingParams,this.commitAffiliateId=e=>this.props.setAffiliateId(e),this.addWidgetPlaceholder=()=>{const{enabled:e}=this.props.externalWidget;e&&Object(j.b)()},this.openModal=(e,t={})=>{const{preselect:s={}}=t,{methodName:a,tokensSum:i,promoCampaign:o}=s;o?this.props.preselectPurchase({promoCampaign:o}):(a||i)&&this.props.preselectPurchase({methodName:a,tokensSum:i}),this.props.showModal(e,t)},this.closeModal=e=>{this.props.hideModal(e)},this.subscribe=(e,t)=>{Object.values(H).includes(e)&&this._D8(e,t)},this.unsubscribe=(e,t)=>{const{subscriptions:s}=this;s[e]&&(this.subscriptions[e]=O()(s[e],(s,a)=>s!==e&&a!==t))},this.navigate=e=>{this.props.routerPush(e)},Object(I.f)())return;const{externalWidget:{enabled:s}}=e;s&&(window.StripChat={getApplicationConfig:this.getApplicationConfig,getCurrentUser:this.getCurrentUser,getFeatures:this.getFeatures,getPromoCampaigns:this.getPromoCampaigns,openModal:this.openModal,closeModal:this.closeModal,subscribe:this.subscribe,unsubscribe:this.unsubscribe,navigate:this.navigate,getLandingParams:this.getLandingParams,commitAffiliateId:this.commitAffiliateId,addWidgetPlaceholder:this.addWidgetPlaceholder})}_A(){Object(T.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(T.a)(this.propsUpdateToActionsMap,e,this.props)}render(){return null}}B.displayName="ExternalWidgetApi";var V=Object(g.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},signUp:{haSignUpPassed:i},config:{data:{externalWidget:o,features:n}},ui:{isCookiesPolicyAccepted:r}}=e;return{activePromoCampaigns:Object(A.a)(e),currentUser:t,externalWidget:o,features:n,haSignUpPassed:i,isCookiesPolicyAccepted:r,isLoggedIn:s&&!a,modalName:e.ui.currentModalName,landingParams:Object(E.q)(e)}},x)(B),z=s(79),$=s.n(z),G=s(14),W=s(187),K=s(69);const q={privateHistoryUpdate:W.i};class J extends m.a.Component{constructor(...e){super(...e),this.updateLPrivateDataLogger=$()(()=>{const{isInPrivate:e}=this.props,t=K.c.hasData();e?K.c.startRecord():t&&this.updatePrivateData()},5e3),this.updatePrivateData=()=>{const{features:{privateLogRecorder:e}}=this.props;if(!e.isRecordEnabled)return K.c.stopRecord(),void K.c.resetData();K.c.stopRecord();const t=K.c.getData();this.props.privateHistoryUpdate(t),K.c.resetData()}}_A(){const{features:{privateLogRecorder:e}}=this.props;e&&(K.c.updateRecordEnabled(e.isRecordEnabled),K.c.updateRecordLogEnabled(e.isRecordLogEnabled)),this.updateLPrivateDataLogger()}componentDidUpdate(e){const{isInPrivate:t}=e,{isInPrivate:s,showId:a}=this.props;s&&a&&K.c.updateShowId(a),t!==s&&s?K.c.startRecord():this.updateLPrivateDataLogger()}componentWillUnmount(){this.updateLPrivateDataLogger.cancel()}render(){return null}}J.displayName="PrivateLogRecorderComponent";var Y=Object(g.c)(e=>({showId:Object(G.gb)(e),isInPrivate:Object(G.D)(e),features:Object(E.f)(e)}),q)(J),X=s(146),Q=s(712),Z=s(76),ee=s(405);const te=["change","click","contextmenu","dblclick","mouseup","pointerup","reset","submit","touchend"];class se extends h.Component{constructor(...e){super(...e),this.isFeatureAvailable=!0,this.hasCustomizedLeavingEntryAlready=!1,this.unsubscribeFromHistory=void 0,this.notReplaceableSlugNavigationHappened=!1,this.subscribeToUserGestureEvents=()=>{for(const e of te)document.addEventListener(e,this.trustedEventHandler)},this.unsubscribeFromUserGestureEvents=()=>{for(const e of te)document.removeEventListener(e,this.trustedEventHandler)},this.trustedEventHandler=()=>{setTimeout(()=>this.init(!0),0),this.unsubscribeFromUserGestureEvents()},this.historyListener=(e,t)=>{const{preLeaveModelName:s,shouldRedirectOnHistoryBack:a}=this.props,i=e.state||{};switch(t){case"PUSH":i.$$isReplaceableSlug||(this.notReplaceableSlugNavigationHappened=!0);break;case"POP":if(i.$$isReplaceableSlug){if(this.hasCustomizedLeavingEntryAlready||!a||!s){this.props.history.goBack();break}this.hasCustomizedLeavingEntryAlready=!0;const t={pathname:`/${s}`,state:{...e.state,$$isReplaceableSlug:!1},key:void 0};this.props.history.replace(t),this.props.emitHistoryBackRedirectedBeforeLeaving()}}}}_A(){this.isFeatureAvailable&&(this.unsubscribeFromHistory=this.props.history.listen(this.historyListener),this.init(!1),this.subscribeToUserGestureEvents())}componentWillUnmount(){this.unsubscribeFromUserGestureEvents(),this.unsubscribeFromHistory&&this.unsubscribeFromHistory()}init(e){if(!this.notReplaceableSlugNavigationHappened&&this.props.shouldRedirectOnHistoryBack){const t=e?"isPreLeaveEntryInitializedOnUserGesture":"isPreLeaveEntryInitialized",{location:s}=this.props;if(!Z.a.get(t)){const e={...s.state,$$isReplaceableSlug:!0};this.props.history.replace({...s,state:e}),this.props.history.push({...s}),Z.a.set(t,!0)}}}render(){return null}}se.displayName="HistoryBehaviourCustomizer";const ae={emitHistoryBackRedirectedBeforeLeaving:Q.a};var ie=Object(X.h)(Object(g.c)(e=>({shouldRedirectOnHistoryBack:Object(ee.b)(e),preLeaveModelName:Object(ee.a)(e)}),ae)(se));const oe={executeWithPriority:s(759).a};class ne extends h.Component{_A(){const{isAgreementForced:e,isForcedAgreementAccepted:t}=this.props;e&&!t||this.props.executeWithPriority()}componentDidUpdate(e){const{isForcedAgreementAccepted:t}=this.props;e.isAgreementForced&&!e.isForcedAgreementAccepted&&t&&this.props.executeWithPriority()}render(){return null}}ne.displayName="LandingActions";var re=Object(g.c)(e=>({isAgreementForced:Object(E.s)(e),isForcedAgreementAccepted:Object(E.i)(e)}),oe)(ne),le=s(46),ce=s(119),de=s(190),pe=s(3),ue=s(28);class he extends m.a.Component{shouldComponentUpdate(e){return e&&e.shouldRedirect&&e.shouldRedirect!==this.props.shouldRedirect}render(){const{url:e,shouldRedirect:t}=this.props;return this.props.markRedirectToPreferredGenderAsDone(),t?m.a._(de.a,{status:pe.A.TEMPORARY_REDIRECT,to:e}):null}}he.displayName="PreferredTagRedirector";const me={markRedirectToPreferredGenderAsDone:ce.d};var ge=Object(g.c)(e=>{const t=Object(le.i)(e),s=l()(e,"router.location.pathname"),a=Object(ue.d)(e),{isRedirectedToPreferredGender:i}=e.config;return{url:`/${t}`,shouldRedirect:!i&&!a&&["men","trans"].includes(t)&&"/"===s}},me)(he),be=s(58),_e=s(31);const ve=new Map;let fe=!1;var Ce=Object(X.h)(Object(g.c)(e=>({isIndexPage:Object(_e.q)(e),isTagPage:Object(_e.I)(e),isModelsOnlineLoading:Object(be.e)(e)&&!Object(be.t)(e)}))(({isIndexPage:e,isTagPage:t,isModelsOnlineLoading:s,history:a})=>{if(Object(I.f)())return null;const[i,o]=Object(h.useState)(!1);let n=()=>{};const r=()=>{const e=ve.get(a.location.pathname);if(!e||e<15)return;const s=t?(e=>{const t=document.querySelector(".lazy-load-model-list");if(!t)return e;const s=t.getBoundingClientRect().bottom;return e<s?e:s})(e):e;window.requestAnimationFrame(()=>window.scrollTo(0,s))},l=(e,t)=>{"POP"===t&&o(!0)},c=()=>{fe||(window.requestAnimationFrame(()=>{0!==window.scrollY&&ve.set(a.location.pathname,window.scrollY),fe=!1}),fe=!0)};return Object(h.useEffect)(()=>(n=a.listen(l),window.addEventListener("scroll",c),()=>{n(),window.removeEventListener("scroll",c)}),[]),Object(h.useEffect)(()=>{i&&e&&(t&&s||(r(),o(!1)))},[i,s,t,e]),null})),Ne=s(113),Oe=s(30),ye=s(6),we=s(66),Se=s(1),ke=s(29);const je={setCookiePolicyAccepted:f.s};class Ie extends m.a.Component{constructor(...e){super(...e),this.closeHandler=()=>{we.a.set("cookiesReminder",(new Date).toISOString()),this.props.setCookiePolicyAccepted()}}render(){return this.props.isCookiesPolicyAccepted||this.props.isFullscreen||Object(I.f)()?null:m.a._("div",{className:"cookies-reminder"},m.a._(ye.a,{img:"cookie"}),m.a._("div",{className:"description"},Object(Se.d)("cookiesReminder.message")," ",m.a._(Oe.a,{className:"learn-more",to:"/cookies-policy"},Object(Se.d)("cookiesReminder.learnMore"))),m.a._("div",{className:"close-button",onClick:this.closeHandler},"OK"))}}Ie.displayName="CookiesReminder";var Te=Object(g.c)(e=>{const{viewCam:{isFullscreen:t}}=e;return{isCookiesPolicyAccepted:Object(ke.k)(e),isFullscreen:t}},je)(Ie);const Pe=()=>m.a._(m.a.Fragment,null,m.a._("svg",{className:"address-part",xmlns:"http://www.w3.org/2000/svg",width:"94",height:"17",fill:"currentColor"},m.a._("path",{d:"M.94 5.73v-.69h6.79v.69H4.74v7.87h-.81V5.73H.94zm12.96 4.98H9.14q.01.96.48 1.63.56.81 1.56.81 1.53 0 1.94-1.59h.76q-.52 2.22-2.7 2.22-1.4 0-2.14-.97-.66-.87-.66-2.3 0-1.36.66-2.26.76-1.02 2.14-1.02 1.4 0 2.13 1.09.64.95.59 2.39m-4.76-.63h4q-.02-.92-.54-1.54-.55-.67-1.42-.67-.88 0-1.44.68-.51.6-.6 1.53zm11.2-.72h-.75q-.33-1.49-1.75-1.49-1.04 0-1.64.83-.54.74-.54 1.81t.54 1.81q.6.83 1.64.83.7 0 1.21-.5t.59-1.27h.75q-.15 1.12-.84 1.76-.68.64-1.71.64-1.37 0-2.18-.97-.75-.91-.75-2.3 0-1.39.75-2.31.81-.97 2.18-.97 1.02 0 1.69.53.69.56.81 1.6zm1.4 4.24V5.04h.75v3.44h.03q.2-.55.76-.9t1.22-.35q1.24 0 1.78.64.48.57.48 1.75v3.98h-.75V9.74q0-1.87-1.57-1.87-.89 0-1.42.6-.53.6-.53 1.52v3.61h-.75zm6.74 0V7.41h.76v1.07h.02q.2-.55.76-.9t1.22-.35q1.25 0 1.79.64.48.57.48 1.75v3.98h-.76V9.74q0-1.87-1.57-1.87-.89 0-1.42.6-.52.6-.52 1.52v3.61h-.76zm6.77 0V7.41H36v6.19h-.75m0-7.35V5.04H36v1.21h-.75zm7.52 1.16v6.19h-.69v-1.11h-.03q-.29.61-.86.95-.58.34-1.27.34-2.18 0-2.18-2.35V7.41h.76v4.03q0 1.71 1.66 1.71.91 0 1.41-.77.45-.68.45-1.72V7.41h.75zm6.19 1.81h-.75q-.03-.67-.51-1.03-.43-.32-1.11-.32-.59 0-.99.23-.48.28-.48.84 0 .75 1.29 1.04l1.01.23q1.76.39 1.76 1.71 0 .93-.8 1.43-.7.43-1.68.43-2.38 0-2.55-2.18h.76q.05.74.54 1.15.5.4 1.28.4.64 0 1.12-.27.57-.32.57-.91 0-.83-1.35-1.13l-.97-.21q-.84-.19-1.24-.52-.49-.41-.49-1.14 0-.87.75-1.34.64-.4 1.58-.4.97 0 1.58.49.65.53.68 1.5zm5.39 4.38V5.04h.82v7.87h4.8v.69h-5.62zm7.8-8.05v1.86h1.26v.64h-1.26v4.17q0 .41.1.57.13.23.51.25.23.01.65-.04v.65q-.11 0-.33.01-.22.02-.34.02-.76 0-1.05-.3-.29-.3-.29-1.1V8.05h-1.08v-.64h1.08V5.55h.75zm3.15 4.96q0 1.08.48 1.8.54.84 1.54.84 1.12 0 1.7-.84.48-.71.48-1.8t-.48-1.8q-.58-.84-1.7-.84-1 0-1.54.84-.48.72-.48 1.8m4.95-5.47v8.56h-.69v-1.17h-.03q-.24.59-.87.97-.64.38-1.34.38-1.34 0-2.1-.98-.68-.89-.68-2.29 0-1.41.68-2.29.76-.99 2.1-.99.72 0 1.32.36.59.35.83 1h.03V5.04h.75zm3.19 8.56h-1v-1.27h1v1.27zm6.27-6.24v-.54q1.2-.04 1.59-.25.62-.31.77-1.37h.61v8.4h-.75V7.36h-2.22zm9.14 5.79q.94 0 1.51-.47.63-.5.63-1.43 0-.86-.65-1.37-.59-.45-1.49-.45-.92 0-1.5.44-.63.49-.63 1.38 0 .91.62 1.42.59.48 1.51.48m2.55-5.92q0 .69-.36 1.17-.36.49-1.01.69v.01q.8.16 1.26.73.45.57.45 1.42 0 1.21-.85 1.9-.79.63-2.04.63t-2.04-.63q-.86-.69-.85-1.9.01-.83.47-1.41.47-.59 1.23-.74v-.02q-1.36-.41-1.36-1.85 0-1.01.8-1.59.72-.51 1.74-.51 1.03 0 1.75.51.81.58.81 1.59m-2.55 1.56q.76 0 1.24-.37.55-.42.55-1.19 0-.69-.5-1.08-.5-.38-1.29-.38-.74 0-1.25.37-.55.41-.55 1.09 0 .79.57 1.2.49.36 1.23.36z"})),m.a._("svg",{className:"address-part",xmlns:"http://www.w3.org/2000/svg",width:"140",height:"17",fill:"currentColor"},m.a._("path",{d:"M.94 5.73v-.69h6.79v.69H4.74v7.87h-.81V5.73H.94zm7.74 7.87V5.04h.76v3.44h.02q.2-.55.76-.9t1.22-.35q1.25 0 1.79.64.48.57.48 1.75v3.98h-.76V9.74q0-1.87-1.57-1.87-.89 0-1.42.6-.52.6-.52 1.52v3.61h-.76zm11.96-2.89h-4.76q.01.96.48 1.63.56.81 1.56.81 1.54 0 1.94-1.59h.76q-.52 2.22-2.7 2.22-1.39 0-2.14-.97-.66-.87-.66-2.3 0-1.36.66-2.26.76-1.02 2.14-1.02 1.4 0 2.14 1.09.63.95.58 2.39m-4.76-.63h4.01q-.03-.92-.54-1.54-.55-.67-1.43-.67-.88 0-1.44.68-.5.6-.6 1.53zm8.7-2.85q1.37 0 2.17.97.76.92.76 2.31 0 1.39-.76 2.3-.8.97-2.17.97-1.37 0-2.17-.97-.76-.91-.76-2.3 0-1.39.76-2.31.8-.97 2.17-.97m0 .64q-1.03 0-1.63.83-.54.74-.54 1.81t.54 1.81q.6.83 1.63.83 1.03 0 1.63-.83.54-.74.54-1.81t-.54-1.81q-.6-.83-1.63-.83zm9.31 2.64q0-1.08-.47-1.8-.55-.84-1.56-.84-2.17 0-2.17 2.64 0 1.09.48 1.8.58.84 1.69.84 1.01 0 1.56-.84.47-.72.47-1.8m-4.95 5.39V7.41h.69v1.18h.03q.26-.63.85-.99.6-.37 1.35-.37 1.35 0 2.1.99.69.88.69 2.29 0 1.4-.69 2.29-.75.98-2.1.98-.72 0-1.29-.34-.61-.36-.85-1.01h-.03v3.47h-.75zm7.17-2.3V5.04h.76v3.44h.02q.21-.55.76-.9.56-.35 1.22-.35 1.25 0 1.79.64.48.57.48 1.75v3.98h-.76V9.74q0-1.87-1.57-1.87-.89 0-1.41.6-.53.6-.53 1.52v3.61h-.76zm6.77 0V7.41h.76v6.19h-.76m0-7.35V5.04h.76v1.21h-.76zm2.52 7.35V5.04h.76v8.56h-.76zm5.12-6.37q1.37 0 2.18.97.75.92.75 2.31 0 1.39-.75 2.3-.81.97-2.18.97-1.36 0-2.17-.97-.75-.91-.75-2.3 0-1.39.75-2.31.81-.97 2.17-.97m0 .64q-1.03 0-1.63.83-.54.74-.54 1.81t.54 1.81q.6.83 1.63.83 1.04 0 1.64-.83.54-.74.54-1.81t-.54-1.81q-.6-.83-1.64-.83zm9.38-.46v6.19h-.7v-1.11h-.02q-.29.61-.87.95-.57.34-1.27.34-2.17 0-2.17-2.35V7.41h.75v4.03q0 1.71 1.66 1.71.91 0 1.42-.77.44-.68.44-1.72V7.41h.76zm2.17 4.92h1.01v1.29q0 .56-.26.99-.28.49-.8.64v-.52q.28-.09.43-.47.15-.32.12-.66h-.5v-1.27zm12.07.58v.69h-5.53q.02-1.11.75-1.96.47-.54 1.62-1.31 1.24-.83 1.67-1.26.7-.7.7-1.59 0-.79-.57-1.27-.52-.44-1.32-.44-.97 0-1.47.71-.45.62-.42 1.63h-.76q-.02-1.35.65-2.14.71-.84 2.04-.84 1.14 0 1.85.6.75.64.75 1.77 0 .96-.64 1.75-.48.59-1.47 1.23-1.44.95-1.49 1-.9.71-1.03 1.43h4.67zm2.17-5.55v-.54q1.2-.04 1.6-.25.61-.31.77-1.37h.61v8.4h-.76V7.36h-2.22zm6.97 4.97h1.01v1.29q0 .56-.25.99-.29.49-.8.64v-.52q.27-.09.43-.47.14-.32.12-.66h-.51v-1.27zm14.06-4.7h-.82q-.22-.97-.94-1.53-.73-.55-1.69-.55-1.59 0-2.46 1.18-.77 1.04-.77 2.59 0 1.55.77 2.58.87 1.19 2.46 1.19 1.15 0 1.91-.81.72-.75.84-1.94h.82q-.17 1.58-1.13 2.51-.95.93-2.44.93-1.93 0-3.03-1.35-1.01-1.24-1.01-3.11 0-1.87 1.01-3.11 1.1-1.35 3.03-1.35 1.29 0 2.25.7 1.04.78 1.2 2.07zm4.05 5.97v-3.52l-3.37-5.04h.97l2.82 4.34 2.81-4.34h.97l-3.38 5.04v3.52h-.82zm8.1-2.95h-3v-.69h3v.69zm1.42.28h.75q-.03 1.01.53 1.61.57.61 1.57.61.88 0 1.49-.48.66-.52.66-1.38 0-.85-.59-1.33-.55-.45-1.42-.45h-.64v-.63h.64q.66 0 1.14-.38.56-.42.56-1.15 0-.79-.54-1.21-.49-.37-1.3-.37-.92 0-1.42.58-.51.58-.48 1.54h-.76q.01-1.21.73-1.98.72-.78 1.92-.78 1.08 0 1.8.51.81.58.81 1.63 0 .69-.38 1.2-.38.5-1.04.66v.02q.82.13 1.27.69.46.56.46 1.39 0 1.19-.87 1.89-.8.66-2.02.66-1.35 0-2.15-.76-.81-.77-.72-2.09zm9.91-5.16q-2.17 0-2.17 3.68 0 3.7 2.17 3.7t2.17-3.7q0-3.68-2.17-3.68m0-.64q2.93 0 2.93 4.32 0 4.33-2.93 4.33t-2.93-4.32q0-4.33 2.93-4.33zm4.25.88v-.7h5.4v.7q-3.19 3.33-3.4 7.59h-.81q.15-2.14.94-3.88.78-1.73 2.51-3.71h-4.64zm6.79 5.19h.76q.02.87.6 1.41.58.54 1.46.54.95 0 1.52-.67.58-.68.58-1.62 0-.94-.61-1.56-.6-.63-1.54-.63-1.23 0-1.87 1h-.65l.82-4.36h4.2v.7h-3.67l-.54 2.78.02.03q.66-.78 1.78-.78 1.28 0 2.05.81.77.81.77 2.09 0 1.22-.85 2.03-.85.81-2.07.81-1.19 0-1.96-.7-.78-.7-.8-1.88z"})),m.a._("svg",{className:"address-part",xmlns:"http://www.w3.org/2000/svg",width:"96",height:"17",fill:"currentColor"},m.a._("path",{d:"M1.86 13.6V5.04h.82v7.87h4.8v.69H1.86zm6.62 0V7.41h.75v6.19h-.75m0-7.35V5.04h.75v1.21h-.75zm2.5 7.35V7.41h.7v1.05h.04q.64-1.23 2.02-1.23.64 0 1.13.31.48.32.65.9.55-1.21 1.97-1.21 2.05 0 2.05 2.17v4.2h-.76V9.44q0-1.57-1.46-1.57-1.68 0-1.68 2.23v3.5h-.76V9.4q0-1.53-1.29-1.53-.94 0-1.42.65-.43.6-.43 1.63v3.45h-.76zm14.26-2.4v-.98h-.02q-.1.18-.64.28-.66.09-1.32.2-.74.13-1.1.36-.46.31-.46.86 0 .54.41.89.42.34.97.34.9 0 1.53-.54.63-.53.63-1.41m-3.28-1.89h-.75q.05-1.05.75-1.59.64-.49 1.76-.49Q26 7.23 26 9.22v3.29q0 .46.44.46.12 0 .24-.05v.64q-.23.04-.49.04-.54 0-.73-.3-.16-.24-.16-.78h-.02q-.44.66-.88.94-.54.32-1.38.32-.91 0-1.46-.44-.62-.48-.62-1.37 0-1.15 1.05-1.57.51-.22 2.28-.42.54-.06.72-.19.25-.18.25-.65 0-1.27-1.62-1.27t-1.66 1.44zm10.31-.09h-.75q-.03-.67-.51-1.03-.43-.32-1.11-.32-.59 0-.99.23-.48.28-.48.84 0 .75 1.29 1.04l1 .23q1.77.39 1.77 1.71 0 .93-.81 1.43-.69.43-1.68.43-2.37 0-2.54-2.18h.76q.04.74.54 1.15.5.4 1.28.4.64 0 1.12-.27.57-.32.57-.91 0-.83-1.35-1.13l-.98-.21q-.84-.19-1.23-.52-.49-.41-.49-1.14 0-.87.75-1.34.64-.4 1.57-.4.98 0 1.59.49.65.53.68 1.5zm6.07 0h-.75q-.03-.67-.51-1.03-.43-.32-1.11-.32-.59 0-.99.23-.48.28-.48.84 0 .75 1.29 1.04l1.01.23q1.76.39 1.76 1.71 0 .93-.8 1.43-.7.43-1.68.43-2.38 0-2.55-2.18h.76q.05.74.54 1.15.5.4 1.28.4.64 0 1.12-.27.57-.32.57-.91 0-.83-1.35-1.13l-.97-.21q-.84-.19-1.24-.52-.49-.41-.49-1.14 0-.87.75-1.34.64-.4 1.58-.4.97 0 1.58.49.65.53.68 1.5zm4.23-1.99q1.37 0 2.17.97.76.92.76 2.31 0 1.39-.76 2.3-.8.97-2.17.97-1.37 0-2.17-.97-.76-.91-.76-2.3 0-1.39.76-2.31.8-.97 2.17-.97m0 .64q-1.03 0-1.63.83-.54.74-.54 1.81t.54 1.81q.6.83 1.63.83 1.03 0 1.63-.83.54-.74.54-1.81T44.2 8.7q-.6-.83-1.63-.83zm4.37 5.73V5.04h.75v8.56h-.75zm2.95-1.27h1.01v1.29q0 .56-.26.99-.28.49-.8.64v-.52q.28-.09.43-.47.15-.32.12-.66h-.5v-1.27zm14.05-4.7h-.82q-.21-.97-.94-1.53-.72-.55-1.68-.55-1.6 0-2.46 1.18-.77 1.04-.77 2.59 0 1.55.77 2.58.86 1.19 2.46 1.19 1.15 0 1.9-.81.72-.75.84-1.94h.82q-.17 1.58-1.12 2.51-.96.93-2.44.93-1.94 0-3.04-1.35-1.01-1.24-1.01-3.11 0-1.87 1.01-3.11 1.1-1.35 3.04-1.35 1.28 0 2.24.7 1.04.78 1.2 2.07zm3.3 5.95l-2.47-6.17h.8l2.04 5.28 1.91-5.28h.76l-2.69 7.14q-.3.82-.61 1.07-.33.29-1.02.28-.44 0-.58-.06v-.64q.3.06.52.06.45 0 .7-.26.18-.2.38-.71l.26-.71zm9.04-3.07q0-1.08-.47-1.8-.55-.84-1.56-.84-2.17 0-2.17 2.64 0 1.09.48 1.8.57.84 1.69.84 1.01 0 1.56-.84.47-.72.47-1.8m-4.96 5.39V7.41h.7v1.18h.02q.26-.63.86-.99.59-.37 1.35-.37 1.34 0 2.1.99.68.88.68 2.29 0 1.4-.68 2.29-.76.98-2.1.98-.72 0-1.3-.34-.61-.36-.85-1.01h-.02v3.47h-.76zm7.19-2.3V7.41h.69v1.45h.03q.29-.75.9-1.16.61-.41 1.44-.37v.75q-1.01-.04-1.66.6-.65.64-.65 1.62v3.3h-.75zm9.09-6.19v6.19h-.69v-1.11h-.03q-.28.61-.86.95-.58.34-1.27.34-2.17 0-2.17-2.35V7.41h.75v4.03q0 1.71 1.66 1.71.91 0 1.41-.77.45-.68.45-1.72V7.41h.75zm6.2 1.81h-.76q-.02-.67-.5-1.03-.44-.32-1.12-.32-.59 0-.98.23-.48.28-.48.84 0 .75 1.28 1.04l1.01.23q1.76.39 1.76 1.71 0 .93-.8 1.43-.7.43-1.68.43-2.38 0-2.55-2.18h.76q.05.74.55 1.15.49.4 1.27.4.64 0 1.12-.27.58-.32.58-.91 0-.83-1.36-1.13l-.97-.21q-.84-.19-1.24-.52-.49-.41-.49-1.14 0-.87.76-1.34.63-.4 1.57-.4.97 0 1.58.49.65.53.69 1.5z"})));Pe.displayName="AddressSection";var Me=Pe,Ee=s(500),Ae=s.n(Ee),Ue=s(33),He=s.n(Ue),Le=s(572);const Re={blog:"stripchat-logo",facebook:"facebook-square",instagram:"instagram-original",snapchat:"snapchat",twitter:"twitter-original"};var Fe=Object(g.c)(e=>({shouldRenderSocialLinks:Object(Le.a)(e),socialLinks:Object(Le.b)(e)}))(({shouldRenderSocialLinks:e,siteName:t,socialLinks:s})=>e&&m.a._("div",{className:"footer-section column xs-6 s-6 m-6"},m.a._("h4",{className:"footer-section-header"},Ae()(t)),m.a._("ul",null,He()(s,(e,t)=>e?m.a._("li",{key:t,className:"footer-section-item"},m.a._("a",{className:"footer-social-link",href:e,target:"_blank",rel:"nofollow noopener noreferrer"},m.a._(ye.a,{img:Re[t],size:14}),Object(Se.d)(`footer.${t}`))):null)))),De=s(304),xe=s(26);const Be=e=>m.a._("div",{className:"footer-section column xs-6 s-6 m-6"},m.a._("h4",{className:"footer-section-header"},Object(Se.d)("footer.help")," ","&"," ",Object(Se.d)("footer.support")),m.a._("ul",null,m.a._("li",{className:"footer-section-item"},m.a._(De.a,null,Object(Se.d)("footer.contactSupport"))),m.a._("li",{className:"footer-section-item"},m.a._(Oe.a,{rel:"nofollow",to:"/support/billing"},Object(Se.d)("footer.billingSupport"))),Boolean(e.provideFeedbackLink)&&m.a._("li",{className:"footer-section-item"},m.a._("a",{rel:"noreferrer noopener",href:e.provideFeedbackLink,target:"_blank"},Object(Se.d)("footer.provideFeedback",{siteName:e.siteName})))));Be.displayName="HelpSection";var Ve=Object(g.c)(e=>({provideFeedbackLink:Object(xe.m)(e),siteName:e.whiteLabels.siteName}))(Be);const ze=()=>m.a._("div",{className:"footer-labels"},m.a._("a",{href:"http://www.rtalabel.org/",className:"footer-label",target:"_blank",rel:"nofollow"},m.a._("div",{className:"rta-label"})),m.a._("div",{className:"footer-label safe-label"}),m.a._("a",{href:"http://www.asacp.org/index.php?content=validate",className:"footer-label",target:"_blank",rel:"nofollow"},m.a._("div",{className:"asacp-label"})));ze.displayName="LabelSection";var $e=ze;const Ge=()=>m.a._("div",{className:"footer-section column xs-6 s-6 m-6"},m.a._("h4",{className:"footer-section-header"},Object(Se.d)("footer.legal")),m.a._("ul",null,m.a._("li",{className:"footer-section-item"},m.a._(Oe.a,{rel:"nofollow",to:"/privacy"},Object(Se.d)("footer.privacyPolicy"))),m.a._("li",{className:"footer-section-item"},m.a._(Oe.a,{rel:"nofollow",to:"/terms"},Object(Se.d)("footer.termsOfUse")))));Ge.displayName="SecuritySection";var We=Ge,Ke=s(128),qe=s.n(Ke);const Je=(e,t,s=!1)=>qe()(e,"http")?m.a._("a",{href:e,target:s?"_blank":"_self"},t):m.a._(Oe.a,{to:e},t),Ye=e=>{const{modelsRegistrationURL:t,studiosRegistrationURL:s,webmastersRegistrationURL:a}=e,i=Je(t,Object(Se.d)("footer.becomeAModel")),o=Je(s,Object(Se.d)("footer.studioSignup")),n=Je(a,Object(Se.d)("footer.webmasters"),!0);return m.a._("div",{className:"footer-section column xs-6 s-6 m-6"},m.a._("h4",{className:"footer-section-header"},Object(Se.d)("footer.workWithUs")),m.a._("ul",null,m.a._("li",{className:"footer-section-item"},i),m.a._("li",{className:"footer-section-item"},o),m.a._("li",{className:"footer-section-item"},n)))};Ye.displayName="WorkSection";var Xe=Object(g.c)(e=>({isWhiteLabel:Object(xe.i)(e),modelsRegistrationURL:Object(xe.l)(e),studiosRegistrationURL:Object(xe.o)(e),webmastersRegistrationURL:Object(xe.t)(e)}))(Ye),Qe=s(78),Ze=s.n(Qe),et=s(212);class tt extends m.a.Component{constructor(...e){super(...e),this.rootRef=void 0,this.propsUpdateToActionsMap=[{update:ke.F,action:()=>this.interfaceBlockChangeHandler(this.props)}],this.state={isOpen:this.props.isOpen},this.openDropdownHandler=e=>{e.preventDefault(),e.stopPropagation(),this.state.isOpen?this.props.releaseInterface():this.props.blockInterface(e.target)},this.interfaceBlockChangeHandler=({isInterfaceBlocked:e,currentBlockingComponent:t})=>{this.setState({isOpen:e&&this.rootRef&&this.rootRef.contains(t)})},this.onChangeLanguageEventHandler=Ze()(e=>t=>{t.preventDefault(),t.stopPropagation();const{subDomain:s}=l()(this.props.languages,e);this.localeChangeHandler({nextLocale:e,nextSubDomain:s})}),this.onSelectLanguageEventHandler=e=>{const t=e.target.value;this.onChangeLanguageEventHandler(t)(e)}}_A(){Object(T.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(T.a)(this.propsUpdateToActionsMap,e,this.props)}localeChangeHandler({nextLocale:e,nextSubDomain:t}){const{hostRoot:s}=this.props;this.props.changeLocale({nextLocale:e,nextSubDomain:t,hostRoot:s})}_eo(){const{languages:e,currentLocale:t}=this.props,s=e[t].locale;return m.a._("select",{id:"language_dropdown",className:"language-mobile-list",onChange:this.onSelectLanguageEventHandler,value:s},He()(e,(e,t)=>m.a._("option",{key:t,value:t},e.title)))}_ct(){const{languages:e,currentLocale:t}=this.props,{isOpen:s}=this.state;return!s||pe.j.showNativeSelect?null:m.a._("div",{className:"language-list"},He()(e,(s,a)=>{const i="en"!==t?location.hostname.split(`${e[t].subDomain}.`).join(""):location.hostname,o=s.subDomain?`${s.subDomain}.`:"";return m.a._("div",{className:Object(j.c)("language-item",{selected:a===e[t].locale}),key:a},m.a._("a",{href:`https://${o}${i+location.pathname}`,rel:"nofollow",onClick:this.onChangeLanguageEventHandler(a)},s.title,a===e[t].locale&&m.a._(ye.a,{img:"check-1",size:13})))}))}render(){const{languages:e,currentLocale:t}=this.props,{isOpen:s}=this.state;return m.a._("div",{className:"language-dropdown",ref:e=>{this.rootRef=e}},m.a._("label",{htmlFor:"language_dropdown",onClick:pe.j.showNativeSelect?null:this.openDropdownHandler,className:Object(j.c)("trigger",{active:s})},m.a._(ye.a,{img:"i18n",size:14}),e[t].title,m.a._("span",{className:"selectbox-arrow"},m.a._(ye.a,{img:"selectbox",size:10})),this._eo()),this._ct())}}tt.displayName="LanguageMenuDropdown";const st={blockInterface:f.a,changeLocale:et.a,releaseInterface:f.p};tt.defaultProps={isOpen:!1};var at=Object(g.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},config:{data:{i18n:i,hostRoot:o}},ui:{currentBlockingComponent:n,isInterfaceBlocked:r}}=e;return{currentBlockingComponent:n,currentUser:t,currentLocale:i.current,hostRoot:o,languages:Object(ke.x)(e),isInterfaceBlocked:r,isLoggedIn:s&&!a}},st)(tt),it=s(218),ot=s(140);class nt extends m.a.Component{constructor(...e){super(...e),this._ep=()=>{const{isNonNudeWL:e,isSandbox:t,siteName:s}=this.props;return t?null:m.a._("div",{className:"columns footer-nav"},m.a._(Fe,{siteName:s}),m.a._(We,null),!e&&m.a._(Xe,null),m.a._(Ve,null))},this._eq=()=>{const{links:e,isNonNudeWL:t,isSandbox:s}=this.props;return t||s?null:m.a._("div",{className:"columns footer-nav"},m.a._("div",{className:"column"},m.a._(it.a,{href:e.tour,className:"btn btn-small btn-take-tour"},Object(Se.d)("footer.takeTour"))))},this._er=()=>{const{isNonNudeWL:e,isStripChat:t,siteName:s}=this.props;return m.a._("div",{className:"footer-description"},m.a._("p",null,t?Object(Se.d)("footer.welcomeToSiteBlock_sc",{siteName:s}):Object(Se.d)(e?"footer.welcomeToSiteBlockNonNude":"footer.welcomeToSiteBlock",{siteName:s})),m.a._("p",null,t?Object(Se.d)("footer.whatIsSiteBlock_sc",{siteName:s}):Object(Se.d)(e?"footer.whatIsSiteBlockNonNude":"footer.whatIsSiteBlock",{siteName:s})),m.a._("p",null,Object(Se.d)("footer.modelsAreConfirmedBlock")))}}render(){const{footerLogoUrl:e,hostRoot:t,isSandbox:s}=this.props,a=t.split(/(\w+\.?\w+)\/?$/g)[1]||t;return m.a._("footer",{className:"default-footer"},m.a._("div",{className:"container"},m.a._("div",{className:"columns footer-top"},m.a._("div",{className:"footer-left column span-4 xs-12 s-12 m-4"},m.a._("div",{className:"footer-logo"},m.a._(Oe.b,{className:"logo",to:"/",style:{backgroundImage:e}}),m.a._("div",{className:"i18n"},m.a._(at,null))),this._ep(),this._eq(),this._er(),m.a._($e,null)),m.a._("div",{className:"footer-right column span-8 xs-12 s-12 m-8"},this._ep(),this._eq())),m.a._("div",{className:Object(j.c)("columns footer-additionally")},m.a._("div",{className:"column span-4 xs-12 s-12 m-4 footer-labels-wrapper"},m.a._($e,null)),m.a._("div",{className:"column span-8 xs-12 s-12 m-12"},m.a._("div",{className:"footer-statement-wrapper"},m.a._("div",{className:"footer-statement"},m.a._(Oe.a,{className:"footer-compliance",to:"/2257",rel:"nofollow"},Object(Se.d)("footer.complianceStatement"))),m.a._(ye.a,{img:"agreement",size:32})))),!s&&m.a._("div",{className:"columns"},m.a._("div",{className:"column span-12"},m.a._("div",{className:"columns footer-bottom"},m.a._("div",{className:"column span-6"},"©"," ",(new Date).getFullYear()," ",a," "),m.a._("div",{className:"column span-6"},m.a._("div",{className:"footer-address"},m.a._(Me,null))))))),m.a._(Te,null))}}nt.displayName="Footer";var rt=Object(g.c)(e=>{const{config:t,whiteLabels:s}=e;return{footerLogoUrl:Object(xe.b)(e),hostRoot:t.data.hostRoot,isStripChat:Object(xe.h)(e),isNonNudeWL:Object(xe.f)(e),isSandbox:Object(ot.b)(e),links:t.data.links,siteName:s.siteName}})(nt),lt=s(121),ct=s.n(lt),dt=s(392),pt=s.n(dt),ut=s(268),ht=s(197),mt=s(55),gt=s(100);const bt=pe.j.android?"(max-device-aspect-ratio: 1/1)":"(orientation: portrait)",_t=Object(I.d)()?window.matchMedia(bt):null,vt=!!Object(I.d)()&&Boolean(navigator&&navigator.connection);class ft extends m.a.Component{constructor(...e){super(...e),this.onlineEventHandler=()=>{K.c.addUI("online",!0),this.props.updateOnlineStatus(!0)},this.offlineEventHandler=()=>{K.c.addUI("online",!1),this.props.updateOnlineStatus(!1)},this.updateDimensions=()=>{const{innerWidth:e,innerHeight:t}=window;this.props.updateWindowDimensions(e,t)},this.updateDimensionsDebounced=$()(this.updateDimensions,100),this.connectionChangeHandler=()=>{const e=1024*navigator.connection.downlink;this.props.updateConnectionSpeed(e)},this.connectionChangeHandlerDebounced=ct()(this.connectionChangeHandler,100),this.resizeEventHandler=()=>{pe.j.iOS?this.updateDimensionsDebounced():this.updateDimensions();const e=document.activeElement&&"INPUT"===document.activeElement.tagName;pe.j.android&&e&&pt()(()=>Object(j.f)(document.activeElement))},this.orientationChangeEventHandler=()=>{if(Object(I.f)())return;const e=_t.matches;this.props.updateWindowOrientation(e?"portrait":"landscape")},this.focusEventHandler=()=>{K.c.addUI("focus",!0),this.props.updateWindowFocus(!0)},this.blurEventHandler=()=>{K.c.addUI("focus",!1),this.props.updateWindowFocus(!1)},this.storageUpdateHandler=({key:e})=>{Object.values(ht.a).includes(e)?this.props.syncLocalStorage():Object.values(ht.b).includes(e)&&this.props.syncSessionStorage()}}_A(){this.resizeThrottledEventHandler=ct()(this.resizeEventHandler,pe.t),window.addEventListener("resize",this.resizeThrottledEventHandler),window.addEventListener("focus",this.focusEventHandler),window.addEventListener("blur",this.blurEventHandler),window.addEventListener("online",this.onlineEventHandler),window.addEventListener("offline",this.offlineEventHandler),_t&&_t.addListener(this.orientationChangeEventHandler),vt&&(navigator.connection.addEventListener("change",this.connectionChangeHandlerDebounced),this.connectionChangeHandler()),this.props.updateDocumentVisibility(),pe.j.ie?gt.a.startInterval("documentVisibility",1e3,this.props.updateDocumentVisibility):Object(mt.a)(this,document,"visibilitychange",this.props.updateDocumentVisibility),navigator.onLine?this.onlineEventHandler():this.offlineEventHandler(),this.orientationChangeEventHandler(),this.resizeEventHandler(),window.addEventListener("storage",this.storageUpdateHandler)}componentWillUnmount(){this.resizeThrottledEventHandler.cancel(),window.removeEventListener("resize",this.resizeThrottledEventHandler),window.removeEventListener("online",this.onlineEventHandler),window.removeEventListener("offline",this.offlineEventHandler),window.removeEventListener("focus",this.focusEventHandler),window.removeEventListener("blur",this.blurEventHandler),Object(mt.b)(this),_t&&_t.removeListener(this.orientationChangeEventHandler),vt&&navigator.connection.removeEventListener("change",this.connectionChangeHandlerDebounced),pe.j.ie&&gt.a.stopInterval("documentVisibility")}render(){return null}}ft.displayName="GlobalUiEventsHandler";const Ct={updateDocumentVisibility:f.z,updateWindowDimensions:f.C,updateWindowFocus:f.D,updateWindowOrientation:f.E,updateOnlineStatus:f.A,updateConnectionSpeed:f.y,syncLocalStorage:ut.d,syncSessionStorage:ut.e};var Nt=Object(g.c)(null,Ct)(ft),Ot=(s(38),s(120)),yt=s.n(Ot),wt=s(35),St=s.n(wt),kt=s(539),jt=s(540),It=s(7),Tt=s(13),Pt=s(380),Mt=s.n(Pt),Et=s(80);const At={hide:_.c};class Ut extends h.Component{constructor(...e){super(...e),this.clickHandler=()=>{const{hide:e,id:t,type:s}=this.props;e({id:t,type:s}),Et.a.set(-1)}}get className(){const{isPermanent:e,type:t}=this.props;return Object(j.c)("header-notification",`header-notification-${Mt()(t)}`,{"header-notification-permanent":e})}render(){return this.props.isPermanent?m.a._("div",{className:this.className},m.a._("span",{className:"header-notification-body"},this.props.children)):m.a._("div",{className:this.className,onClick:this.clickHandler},m.a._("span",{className:"header-notification-body"},this.props.children),m.a._(ye.a,{img:"close"}))}}Ut.displayName="HeaderNotification";var Ht=Object(g.c)(null,At)(Ut);const Lt={savePayoutSettings:jt.e,savePaymentsSettings:kt.d,clearPayoutSettings:jt.a,clearPaymentsSettings:kt.a};class Rt extends m.a.Component{constructor(...e){super(...e),this.statusButtons={[It.Ab.PENDING_MODIFIED]:["cancel","resend"],[It.Ab.PENDING_NEW]:["cancel","resend"]},this.cancelHandler=()=>{Et.a.reset(),"payoutSettings"===this.props.notificatioType?this.props.clearPayoutSettings():this.props.clearPaymentsSettings()},this.resendHandler=()=>{"payoutSettings"===this.props.notificatioType?this.props.savePayoutSettings(this.props.settingsSelected):this.props.savePaymentsSettings(this.props.optionsPending)}}getIsButtonVisible(e){const{type:t}=this.props,s=this.statusButtons[t]||[];return St()(s,e)}render(){const e=[];return this.getIsButtonVisible("cancel")&&e.push(m.a._(Tt.a,{key:"cancel",onClick:this.cancelHandler,size:"small"},Object(Se.d)("button.cancel"))),this.getIsButtonVisible("resend")&&e.push(m.a._(Tt.a,{key:"resend",onClick:this.resendHandler,size:"small"},Object(Se.d)("button.resendEmail"))),m.a._(Ht,{isPermanent:!0,type:"paymentsSettings"},m.a._("div",{className:"notification-text"},Object(Se.d)(`paymentsSettings.notification.${this.props.type}`)),Boolean(e.length)&&m.a._("div",{className:"notification-buttons"},e))}}Rt.displayName="PayoutSettingsNotification";var Ft=Object(g.c)(({payoutSettings:{settingsSelected:e},paymentsSettings:{optionsPending:t}})=>({optionsPending:t,settingsSelected:e}),Lt)(Rt),Dt=s(12),xt=s(83),Bt=s(165),Vt=s(57);const zt={closeNotification:_.a,showModal:k.c,updateMethodName:Vt.D};class $t extends m.a.Component{constructor(...e){super(...e),this._es=()=>{this.props.closeNotification({type:xt.a.ASTRO_PAY_CARD_PROMOTION})},this._et=()=>{this.props.updateMethodName({methodName:"astropay"}),this.props.showModal(pe.F.PURCHASE_TOKENS),this._es()}}render(){const{isVisible:e}=this.props;return e?m.a._("div",{className:"header-notification header-notification-push notification-color"},m.a._("div",{className:"header-notification-body white"},m.a._("div",{className:"header-notification-content-icon"},m.a._(ye.a,{width:48,height:18,img:"astropay"})),m.a._("div",{className:"header-notification-title font-weight-normal"},m.a._(Dt.a,{messageId:"notifications.astroPayment",elements:{bold:m.a._("strong",null)}}),m.a._("div",{className:"header-notification-controls"},m.a._(Tt.a,{style:"white-outline",className:"header-notification-link white",onClick:this._et,type:"button"},Object(Se.d)("notifications.buyNowBtn"))))),m.a._("div",{className:"close-button",onClick:this._es},m.a._(ye.a,{img:"close-2",size:10}))):null}}$t.displayName="AstroPaymentMethodsHeaderNotification";var Gt=Object(g.c)(e=>({isVisible:Object(Bt.a)(e,xt.a.ASTRO_PAY_CARD_PROMOTION)}),zt)($t);class Wt extends m.a.Component{render(){const{showFraudAlert:e}=this.props;if(!e)return null;const t=Object(j.c)("header-notification","header-notification-opened","header-notification-error");return m.a._("div",{className:t},m.a._("span",{className:"header-notification-body"},m.a._(Dt.a,{messageId:"notifications.blocked",elements:{email:m.a._("a",{href:"mailto:help@stripchat.com"})}})))}}Wt.displayName="BlockedHeaderNotification",Wt.defaultProps={showFraudAlert:!1};var Kt=Object(g.c)(({config:{data:{showFraudAlert:e}}})=>({showFraudAlert:e}))(Wt),qt=s(45),Jt=s.n(qt),Yt=s(25),Xt=s(37);class Qt extends m.a.Component{constructor(...e){super(...e),this.closeClickHandler=()=>{this.props.closeNotification({type:xt.a.BROWSER_RECOMMENDATION})},this.getBrowserIcon=e=>{const t=Jt()(It.ic,{icon:e});return t.link?m.a._("a",{className:"link-wrapper",href:t.link,target:"_blank",rel:"nofollow noopener noreferrer"},m.a._(ye.a,{img:t.icon,size:20}),m.a._("span",{className:"browser-name"},t.name)):m.a._("span",{className:"span-wrapper"},m.a._(ye.a,{img:t.icon,size:20}),m.a._("span",{className:"browser-name"},t.name))},this.getMessageKey=()=>{const{isCurrentUserModel:e,isLoggedIn:t}=this.props;return pe.j.samsungBrowser?"recommendationBrowserForSamsungPlaying":t&&e?"recommendationBrowserForBroadcast":"recommendationBrowserForPlaying"}}render(){const{isVisible:e}=this.props;if(!e)return null;const t=this.getMessageKey(),s=Object(j.c)("header-notification","header-notification-opened","header-notification-recommendation");return m.a._("div",{className:s},m.a._("span",{className:"header-notification-body"},m.a._(ye.a,{img:"exclamation",size:18}),m.a._(Dt.a,{className:"header-notification-browsers",messageId:`notifications.${t}`,elements:{chrome:this.getBrowserIcon("chrome"),firefox:this.getBrowserIcon("firefox"),safari:this.getBrowserIcon("safari")}})),m.a._("div",{className:"close-button",onClick:this.closeClickHandler},m.a._(ye.a,{img:"close-5"})))}}Qt.displayName="BrowserRecommendationNotification";const Zt={closeNotification:_.a};var es=Object(g.c)(e=>({isCurrentUserModel:Object(Xt.i)(e),isLoggedIn:Object(Yt.l)(e),isVisible:Object(Bt.a)(e,xt.a.BROWSER_RECOMMENDATION)}),Zt)(Qt);class ts extends h.Component{constructor(...e){super(...e),this.closeClickHandler=()=>{this.props.closeNotification({type:xt.a.CHANGE_PASSWORD_RECOMMENDED})}}render(){const{isVisible:e}=this.props;if(!e)return null;const t=Object(j.c)("header-notification","header-notification-warning");return m.a._("div",{className:t},m.a._("span",{className:"header-notification-body"},m.a._(Dt.a,{messageId:"notifications.changePasswordRecommended",elements:{link:m.a._(Oe.a,{to:"/settings"})}})),m.a._("div",{className:"close-button",onClick:this.closeClickHandler},m.a._(ye.a,{img:"close"})))}}ts.displayName="ChangePasswordRecommended";const ss={closeNotification:_.a};var as=Object(g.c)(e=>({isVisible:Object(Bt.a)(e,xt.a.CHANGE_PASSWORD_RECOMMENDED)}),ss)(ts),is=s(217);const os={closeNotification:_.a};class ns extends m.a.Component{constructor(...e){super(...e),this._es=()=>{this.props.closeNotification({type:xt.a.MODEL_FAN_CLUB_AVAILABLE})}}render(){const{isVisible:e}=this.props;return e?m.a._("div",{className:"header-notification header-notification-model-news header-notification-model-fan-club"},m.a._("div",{className:"header-notification-body"},m.a._("div",{className:"header-notification-content"},m.a._(is.a,{size:18}),Object(Se.d)("notifications.modelFanClubAvailable"),m.a._("div",{className:"header-notification-controls"},m.a._(Tt.a,{style:"white-outline",className:"header-notification-link",onClick:this._es,type:"link",target:"_blank",to:"/model/fan-club"},Object(Se.d)("notifications.modelProfileFeature.more"))))),m.a._("div",{className:"close-button",onClick:this._es},m.a._(ye.a,{img:"close-2"}))):null}}ns.displayName="ModelFanClubNotification";var rs=Object(g.c)(e=>({isVisible:Object(Bt.a)(e,xt.a.MODEL_FAN_CLUB_AVAILABLE)}),os)(ns),ls=s(154);const cs={closeNotification:_.a,toggleModelSubscriptions:ls.e,toggleSubscription:ls.d};class ds extends h.Component{constructor(...e){super(...e),this.hideNotification=()=>{this.props.closeNotification({type:xt.a.MODEL_NEWS})}}render(){const{isVisible:e,siteName:t}=this.props;return e?m.a._("div",{className:"header-notification header-notification-model-news"},m.a._("div",{className:"header-notification-body"},m.a._("div",{className:"header-notification-new-red"},Object(Se.d)("notifications.modelNews.new")),m.a._("div",{className:"header-notification-content"},m.a._(Dt.a,{className:"header-notification-title-cmp",messageId:"notifications.modelNews.title",elements:{span:m.a._("span",{className:"new-red"})},parameters:{domain:t}}),m.a._("div",{className:"header-notification-controls"},m.a._(Tt.a,{style:"white-outline",className:"header-notification-link",type:"link",target:"_blank",to:"/model-news"},Object(Se.d)("notifications.modelNews.news"))))),m.a._("div",{className:"close-button",onClick:this.hideNotification},m.a._(ye.a,{img:"close-2"}))):null}}ds.displayName="ModelNewsNotification";var ps=Object(g.c)(e=>({isVisible:Object(Bt.a)(e,xt.a.MODEL_NEWS),siteName:e.whiteLabels.siteName}),cs)(ds);const us=e=>{const{currentUserName:t}=e,s=()=>{e.closeNotification({type:xt.a.MODEL_PROFILE_FEATURE_NOTIFICATION})};return t?m.a._("div",{className:"header-notification header-notification-modelPush"},m.a._("div",{className:"header-notification-body"},m.a._("span",{className:"header-notification-content"},m.a._("span",{className:"header-notification-title"},Object(Se.d)("notifications.modelProfileFeature.text")),m.a._("div",{className:"header-notification-controls"},m.a._(Tt.a,{style:"white-outline",type:"link",onClick:s,target:"_blank",to:`/model/${t}`},Object(Se.d)("notifications.modelProfileFeature.toProfile")),m.a._(Oe.a,{className:"header-notification-link",onClick:s,target:"_blank",to:"/model-news"},Object(Se.d)("notifications.modelProfileFeature.more"))))),m.a._("div",{className:"close-button",onClick:s},m.a._(ye.a,{img:"close-2"}))):null};us.displayName="ModelProfileFeatureNotification";const hs={emitButtonEvent:f.b,closeNotification:_.a};var ms=Object(g.c)(e=>{const t=Object(Yt.h)(e);return{currentUserName:t?t.username:""}},hs)(us);const gs={closeNotification:_.a,toggleModelSubscriptions:ls.e,toggleSubscription:ls.d};class bs extends h.Component{constructor(...e){super(...e),this.hideNotification=()=>{this.props.closeNotification({type:xt.a.MODEL_PUSH_NOTIFICATION})},this.turnOnClickHandler=()=>{this.props.toggleModelSubscriptions(!0)}}render(){const{isVisible:e}=this.props;return e?m.a._("div",{className:"header-notification header-notification-modelPush"},m.a._("span",{className:"header-notification-body"},m.a._(ye.a,{img:"notifications"}),m.a._("span",{className:"header-notification-content"},m.a._("span",{className:"header-notification-title"},Object(Se.d)("notifications.modelPush.title")),m.a._("div",{className:"header-notification-controls"},m.a._(Tt.a,{style:"white-outline",onClick:this.turnOnClickHandler},Object(Se.d)("notifications.modelPush.button")),m.a._(Oe.a,{className:"header-notification-link",to:"/settings"},Object(Se.d)("notifications.modelPush.settings"))))),m.a._("div",{className:"close-button",onClick:this.hideNotification},m.a._(ye.a,{img:"close-2"}))):null}}bs.displayName="ModelPushNotification";var _s=Object(g.c)(e=>({isVisible:Object(Bt.a)(e,xt.a.MODEL_PUSH_NOTIFICATION)}),gs)(bs);const vs=e=>{const{isOnline:t}=e;return t?null:m.a._("div",{className:"header-notification header-notification-offline"},m.a._("span",{className:"header-notification-body"},m.a._(ye.a,{img:"lightning"}),m.a._("span",{className:"header-notification-content"},Object(Se.d)("notifications.offlienMode"))))};vs.displayName="OfflineMode";var fs=Object(g.c)(e=>({isOnline:Object(ke.v)(e)}))(vs);const Cs={de:{de:m.a._("span",null,"Gute Nachrichten! Jetzt kann man token via SOFORT und Paysafecard kaufen."," ",m.a._("span",{className:"payment-methods-title"},"Klick hier.")),at:m.a._("span",null,"Gute Nachrichten! Jetzt kann man token via Eps-Überweisung und SOFORT kaufen."," ",m.a._("span",{className:"payment-methods-title"},"Klick hier."))},ru:{ru:m.a._("span",null,"Хорошие новости! Появилась возможность"," ",m.a._("span",{className:"payment-methods-title"},"покупать токены")," ","через QIWI кошелек!"),ua:m.a._("span",null,"Хорошие новости! Появилась возможность"," ",m.a._("span",{className:"payment-methods-title"},"покупать токены")," ","через QIWI кошелек!"),kz:m.a._("span",null,"Хорошие новости! Появилась возможность"," ",m.a._("span",{className:"payment-methods-title"},"покупать токены")," ","через QIWI кошелек!")}},Ns=m.a._("span",null,"Now you can buy tokens via PayPal."," ",m.a._("span",{className:"payment-methods-title"}," Check it out!")),Os=["ad","ae","ag","ai","al","am","an","ao","ar","at","aw","ba","bb","be","bf","bh","bi","bj","bm","bn","bo","br","bs","bt","bz","ca","cd","cg","ch","ci","ck","cl","cm","co","cr","cv","cy","cz","dj","dk","dm","do","dz","ec","er","es","et","fi","fj","fk","fm","fo","fr","ga","gb","gd","ge","gf","gi","gl","gm","gn","gp","gr","gt","gw","hn","hr","hu","ie","il","is","it","jm","jo","ke","kg","kh","ki","km","kn","kw","ky","kz","la","lc","li","ls","lu","lv","ma","mc","md","me","mg","mh","mk","ml","mn","mq","mr","ms","mu","mv","mw","mx","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nu","nz","om","pa","pe","pf","pl","pm","pn","pt","pw","py","qa","re","ro","rs","rw","sb","sc","se","sh","si","sj","sk","sl","sm","sn","so","sr","st","sv","sz","tc","td","tg","tj","tm","tn","to","tr","tt","tv","tz","us","uy","va","vc","ve","vg","vu","wf","ws","ye","yt","zm","zw"];class ys extends h.Component{constructor(...e){super(...e),this.buyTokensClickHandler=()=>{this.props.emitButtonEvent(pe.b.ADVERTISEMENT_PAYMENT_METHODS),this.closeClickHandler()},this.closeClickHandler=()=>{this.props.closeNotification({type:xt.a.PAYMENT_METHODS})}}render(){const{country:e,currentLocale:t,isVisible:s}=this.props,a=l()(Cs,`${t}.${e}`),i=St()(Os,e)?Ns:null,o=a||i;if(!s||!o)return null;const n=Object(j.c)("header-notification","header-notification-opened","header-notification-success");return m.a._("div",{className:n},m.a._("span",{className:"header-notification-body"},m.a._("span",{onClick:this.buyTokensClickHandler,className:"payment-methods-link"},o)),m.a._("div",{className:"close-button",onClick:this.closeClickHandler},m.a._(ye.a,{img:"close"})))}}ys.displayName="PaymentMethodsHeaderNotification";const ws={emitButtonEvent:f.b,closeNotification:_.a};var Ss=Object(g.c)(e=>{const{config:{data:{country:t,i18n:{current:s}}}}=e;return{country:t,currentLocale:s,isVisible:Object(Bt.a)(e,xt.a.PAYMENT_METHODS)}},ws)(ys);class ks extends m.a.Component{constructor(...e){super(...e),this.closeClickHandler=e=>{e.stopPropagation(),this.props.closeNotification({type:xt.a.PROMOTED_SHOW_NOTIFICATION,subType:this.props.promotedShowConfig.id})},this.onClick=()=>{this.props.closeNotification({type:xt.a.PROMOTED_SHOW_NOTIFICATION,subType:this.props.promotedShowConfig.id})}}render(){return this.props.isVisible?m.a._("div",{className:"header-notification header-notification-model-news",style:{background:"#360003",cursor:"default"}},m.a._("div",{className:"header-notification-body"},m.a._("div",{className:"header-notification-new-red",style:{background:"transparent",padding:"0"}},m.a._("span",{style:{color:"#ff4141"}},m.a._(ye.a,{img:"stripchat-logo",size:18}))),m.a._("div",{className:"header-notification-content"},m.a._("div",{style:{fontSize:"14px"},className:"header-notification-title-cmp"},this.props.promotedShowConfig.title),m.a._("div",{className:"header-notification-controls"},m.a._(Tt.a,{style:"white-outline",className:"header-notification-link",type:"anchor",target:"_blank",rel:"noopener",onClick:this.onClick,href:this.props.promotedShowConfig.link},this.props.promotedShowConfig.cta)))),m.a._("div",{className:"close-button",onClick:this.closeClickHandler},m.a._(ye.a,{img:"close-2"}))):null}}ks.displayName="PromotedShowHeaderNotification";const js={emitButtonEvent:f.b,closeNotification:_.a};var Is=Object(g.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s},config:{data:{features:a}}}=e;return{isVisible:!(Object(I.f)()||s&&(t.isModel||t.isStudio))&&Object(Bt.a)(e,xt.a.PROMOTED_SHOW_NOTIFICATION),promotedShowConfig:l()(a,"notifications.promotedShow",{})}},js)(ks);const Ts={showModal:k.c};function Ps({showModal:e,id:t}){return m.a._(Ht,{type:"purchaseFailure",id:t,className:!0},m.a._(Dt.a,{messageId:"buyTokens.failure"}),m.a._(Tt.a,{onClick:()=>{e(pe.F.PURCHASE_TOKENS)},style:"outline"},m.a._(Dt.a,{messageId:"button.tryAnotherPayment"})))}Ps.displayName="PurchaseFailureNotification";var Ms=Object(g.c)(null,Ts)(Ps),Es=s(252),As=s(166);const Us={closeNotification:_.a};class Hs extends h.Component{constructor(...e){super(...e),this.hideNotification=()=>{this.props.closeNotification({type:xt.a.PUSH_NOTIFICATION})},this.turnOnClickHandler=()=>{const{match:e,isPushApiAvailable:t}=this.props;t&&Es.a.requestPermission(e).finally(this.hideNotification)}}render(){const{isVisible:e}=this.props;if(!e)return null;const t=Object(j.c)("header-notification","header-notification-push");return m.a._("div",{className:t},m.a._("span",{className:"header-notification-body"},m.a._(ye.a,{img:"notifications",size:18}),m.a._("span",{className:"header-notification-title"},m.a._("span",null,Object(Se.d)("notifications.push.title")),m.a._(Tt.a,{style:"signup",onClick:this.turnOnClickHandler},Object(Se.d)("notifications.push.button")))),m.a._("div",{className:"close-button",onClick:this.hideNotification},m.a._(ye.a,{img:"close-2",size:10})))}}Hs.displayName="PushNotification";var Ls=Object(g.c)(e=>({isVisible:Object(Bt.a)(e,xt.a.PUSH_NOTIFICATION),match:Object(Yt.n)(e),isPushApiAvailable:Object(As.b)()}),Us)(Hs),Rs=s(82),Fs=s.n(Rs),Ds=s(77),xs=s(44),Bs=s(573);const Vs={hide:xs.n};class zs extends h.Component{constructor(...e){super(...e),this.state={isVisible:!1},this.hideNotification=()=>{this.props.hide(!0)}}_A(){const{canShowCommon:e,canShowForModelsOrStudios:t,isUser:s}=this.props;e&&!s&&t&&this.setState({isVisible:!0})}componentDidUpdate(e){const{purchaseSucceededToken:t,currentUserId:s,isUser:a,canShowCommon:i,canShowForModelsOrStudios:o}=this.props;if(!Fs()(e,this.props))if(!e.currentUserId||s)if(i)if(a){const s=e.purchaseSucceededToken&&t&&e.purchaseSucceededToken!==t;this.setState({isVisible:s})}else this.setState({isVisible:o});else this.setState({isVisible:!1});else this.setState({isVisible:!1})}render(){const{isVisible:e}=this.state,t=Object(j.c)("header-notification","header-notification-two-factor-auth");return e?m.a._("div",{className:t},m.a._("span",{className:"header-notification-body"},m.a._("span",{className:"header-notification-title"},m.a._(ye.a,{img:"shield",size:30}),m.a._("span",null,Object(Se.d)("notifications.twoFactorAuth.title"))),m.a._("div",{className:"header-notification-controls"},m.a._(Tt.a,{style:"default-outline",type:"link",onClick:this.hideNotification,target:"_blank",to:"/settings"},Object(Se.d)("notifications.twoFactorAuth.button")),m.a._("span",{className:"header-notification-hint"},Object(Se.d)("notifications.twoFactorAuth.hint")))),m.a._("div",{className:"close-button",onClick:this.hideNotification},m.a._(ye.a,{img:"close-3"}))):null}}zs.displayName="TwoFactorAuthNotification",zs.defaultProps={currentUserId:null,purchaseSucceededToken:null};var $s=Object(g.c)(e=>{const t=!Object(ue.d)(e),s=Object(Ds.P)(e);return{canShowCommon:Object(Bs.a)(e),canShowForModelsOrStudios:Object(Bs.b)(e),isUser:t,purchaseSucceededToken:s,currentUserId:Object(Yt.i)(e)}},Vs)(zs),Gs=s(173),Ws=s.n(Gs),Ks=s(47);const qs={closeNotification:_.a,routerPush:P.H};class Js extends h.Component{constructor(...e){super(...e),this.state={inStreamWith:null},this.getInitialState=()=>{const{isAvailableEditState:e}=this.props;if(!e)return;const t=this.getUserInStreamWithFromStorage();i()(t)||this.setState({inStreamWith:t})},this._eu=()=>{this.removeTabInStreamWithFromStorage(this.props)},this._ev=e=>{const{isAvailableEditState:t}=this.props;if("userInStreamWith"!==e.key||!t)return;const s=this.getUserInStreamWithFromStorage();this.setState(e=>Fs()(e.inStreamWith,s)?e:{inStreamWith:s})},this._ew=()=>{this.removeAllUserInStreamWithFromStorage(),this.setState({inStreamWith:null})},this.getUserInStreamWithFromStorage=()=>Ks.a.get("userInStreamWith",[]),this.setUserInStreamWithInStorage=e=>{const{isAvailableEditStore:t,tabId:s,viewCamModelLogin:a,viewCamModelId:i,viewCamModelStatus:o,groupShowType:n}=e;if(!t)return;const r={tabId:s,model:{id:i,login:a,status:o},groupShowType:n},l=this.getUserInStreamWithFromStorage().filter(e=>e.tabId!==s);l.push(r),Ks.a.set("userInStreamWith",l)},this.removeTabInStreamWithFromStorage=e=>{const{isAvailableEditStore:t,tabId:s}=e;if(!t)return;const a=this.getUserInStreamWithFromStorage().filter(e=>e.tabId!==s);a.length?Ks.a.set("userInStreamWith",a):this.removeAllUserInStreamWithFromStorage()},this.removeModelRecordInStreamWithFromStorage=e=>{const{isAvailableEditStore:t,viewCamModelId:s}=e;if(!t)return;if(null===s)return;const a=this.getUserInStreamWithFromStorage().filter(e=>e.model.id!==s);a.length?Ks.a.set("userInStreamWith",a):this.removeAllUserInStreamWithFromStorage()},this.removeAllUserInStreamWithFromStorage=()=>{Ks.a.remove("userInStreamWith")},this.hideNotification=()=>{this.props.closeNotification({type:xt.a.USER_ALREADY_IN_STREAM_NOTIFICATION})}}_A(){window.addEventListener("storage",this._ev),window.addEventListener("beforeunload",this._eu),this.getInitialState()}componentWillReceiveProps(e){const{loggedInUser:t,isInStream:s,viewCamModelId:a}=this.props;!t||e.loggedInUser?!s||e.isInStream?e.isInStream&&null!==e.viewCamModelId?e.isInStream&&!s&&a&&this.setUserInStreamWithInStorage(e):this.removeTabInStreamWithFromStorage(this.props):this.removeModelRecordInStreamWithFromStorage(this.props):this._ew()}componentWillUnmount(){window.removeEventListener("storage",this._ev),window.removeEventListener("beforeunload",this._eu),this.removeTabInStreamWithFromStorage(this.props)}render(){const{isNotHasBeenClosed:e,loggedInUser:t,isInStream:s}=this.props,{inStreamWith:a}=this.state;if(!t||!e||s||!a||!a.length)return null;const{model:{login:i},groupShowType:o}=Ws()(a);return o===It.O.TICKET?null:m.a._("div",{className:"header-notification-in-stream"},m.a._("div",{className:"header-notification-in-stream-body"},m.a._("p",{className:"header-notification-in-stream-text"},Object(Se.d)("notifications.userInStream.text",{modelName:i})),m.a._(Tt.a,{style:"outline",className:"header-notification-in-stream-link",type:"link",to:`/${i}`},Object(Se.d)("notifications.userInStream.button"))),m.a._("div",{className:"header-notification-in-stream-close",role:"button",onClick:this.hideNotification},m.a._(ye.a,{img:"close-2"})))}}Js.displayName="UserInStreamNotification",Js.defaultProps={loggedInUser:null,groupShowType:"",viewCamModelId:null,viewCamModelStatus:null};var Ys=Object(g.c)(e=>{const{appSettings:{data:{tabId:t}}}=e,s=Object(Bt.a)(e,xt.a.USER_ALREADY_IN_STREAM_NOTIFICATION),a=Object(Yt.l)(e)&&!Object(ue.d)(e),i=a?Object(Yt.h)(e):null,o=Object(G.pb)(e),n=Object(G.G)(e)||Object(G.E)(e)||Object(G.y)(e)||Object(G.A)(e)||Object(G.B)(e),r=a&&n,l=a&&!n,c=Object(G.l)(e),{id:d,status:p,login:u}=o||{};return{tabId:t,loggedInUser:i,viewCamModelLogin:u,viewCamModelId:d,viewCamModelStatus:p,isNotHasBeenClosed:s,isInStream:n,isAvailableEditStore:r,isAvailableEditState:l,groupShowType:c}},qs)(Js),Xs=s(126);function Qs(){return(Qs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Zs=({children:e,...t})=>m.a._(Xs.CSSTransition,Qs({},t,{classNames:"slide-transition"}),e);Zs.displayName="SlideTransition",Zs.defaultProps={timeout:pe.Q};var ea=Zs,ta=s(61);function sa(){return(sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class aa extends m.a.Component{constructor(...e){super(...e),this.state={height:void 0,isFixed:!1},this.scrollListener=ct()(()=>{const{headerNotificationContentRef:e}=this,t=Et.a.get()>=pe.z+pe.M,s=t&&e?e.offsetHeight:null;Object(ta.i)(this,{isFixed:t,height:s})},pe.v),this._e4=e=>{const{id:t,type:s}=e;return"payoutSettings"===s||"paymentsSettings"===s?m.a._(Ft,sa({},e.params,{notificatioType:s,key:t})):"purchaseFailure"===s?m.a._(Ms,sa({},e.params,{id:t,key:t})):"userBoughtContent"===s?m.a._(Ht,{id:t,key:t,type:s},m.a._(Dt.a,{messageId:"camChat.userBoughtContentNotification",elements:{myCollectionLink:m.a._(Oe.a,{to:"/collection",target:"_blank"})}})):m.a._(Ht,{id:t,key:t,type:s},e.message)}}_A(){Object(mt.a)(this,window,"scroll",this.scrollListener)}componentWillUnmount(){Object(mt.b)(this),this.scrollListener.cancel()}render(){const{isFixed:e,height:t}=this.state,{notifications:s,topPriorityNotification:a}=this.props;return m.a._("div",{style:{height:t},className:"header-notifications-wrapper"},m.a._(ea,{className:Object(j.c)("header-notifications",{fixed:e})},m.a._("div",{ref:e=>{this.headerNotificationContentRef=e}},a?m.a._(ms,null):m.a._(h.Fragment,null,m.a._(Is,null),m.a._(Kt,null),m.a._(es,null),m.a._(Ss,null),m.a._(Gt,null),m.a._(Ls,null),m.a._(_s,null),m.a._(ps,null),m.a._(as,null),m.a._(rs,null),m.a._(Ys,null),m.a._(fs,null),m.a._($s,null),s.valueSeq().map(this._e4)))))}}aa.displayName="HeaderNotifications";var ia=Object(g.c)(e=>{const{headerNotifications:t}=e;return{notifications:t.collection,topPriorityNotification:Object(Bt.a)(e,xt.a.MODEL_PROFILE_FEATURE_NOTIFICATION)}})(aa),oa=s(236);const na=e=>{const{menuItems:t}=e;return m.a._(oa.a,{items:t,hasSearch:!0,hasCategories:!0})};na.displayName="BestModelHeaderSub";var ra=Object(X.h)(Object(g.c)(e=>({menuItems:Object(be.c)(e)}))(na));const la=e=>{const{hasSubscriptions:t,fanClubEnabled:s,isFraudsterVerificationRequired:a,isModel:i,isReferralProgramAvailable:o,isStudio:n,isSandbox:r,profileUrl:l}=e;return[{label:Object(Se.d)("userMenu.myProfile"),route:l,isEnabled:!0},{label:Object(Se.d)("userMenu.myMessages"),route:"/messages",isEnabled:!0},{label:Object(Se.d)("userMenu.myFanClub"),route:"/model/fan-club",isEnabled:i&&s},{label:Object(Se.d)("userMenu.myFriends"),route:"/friends",isEnabled:!0},{label:Object(Se.d)("userMenu.myKnights"),route:"/model/knights",isEnabled:i},{label:Object(Se.d)("userMenu.myFollowings"),route:"/followings",isEnabled:!0},{label:Object(Se.d)("userMenu.settingsAndPrivacy"),route:"/settings",isEnabled:!0},{label:Object(Se.d)("userMenu.mySubscriptions"),route:"/subscriptions",isEnabled:!(i||n)&&t},{label:Object(Se.d)("userMenu.documentVerification"),route:"/verification",isEnabled:a&&!r},{label:Object(Se.d)("userMenu.referralProgram"),route:"/user-referral",isEnabled:i&&o&&!r},{label:Object(Se.d)("userMenu.documents"),route:"/model/documents",isEnabled:i&&!r},{label:Object(Se.d)("userMenu.bannedUsers"),route:"/model/bans",isEnabled:i}].filter(e=>e.isEnabled)},ca=e=>{const{isLoggedIn:t}=e;return t?m.a._(oa.a,{items:la(e),hasSearch:!0,hasCategories:!0}):null};ca.displayName="ProfileHeaderSub";var da=Object(X.h)(Object(g.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},config:{data:{fcSubscriptions:i,isReferralProgramAvailable:o}}}=e;return!s||a?{isLoggedIn:s&&!a}:{fanClubEnabled:e.config.data.features.fanClub,hasSubscriptions:i>0,isFraudsterVerificationRequired:Object(Xt.g)(e),isModel:t.isModel,isSandbox:Object(ot.b)(e),isReferralProgramAvailable:o,isStudio:t.isStudio,isLoggedIn:!0,profileUrl:Object(be.q)(e,t.username)}})(ca));var pa=Object(X.h)(Object(g.c)((e,{globallyActiveBranch:t})=>({isViewCamPage:"ViewCamPage"===l()(t,"route.componentKey",""),isNonNudeWL:Object(xe.f)(e),subHeaderType:Object(P.e)(e)}))(({subHeaderType:e,isViewCamPage:t,isNonNudeWL:s})=>{if(t)return null;switch(e){case pe.N.PROFILE:return m.a._(da,null);case pe.N.BEST_MODEL:return m.a._(ra,null);case pe.N.DEFAULT:return s?null:m.a._(oa.a,{hasSearch:!0,hasCategories:!0,secondaryItems:["ModelSearch","Categories"],className:"header-sub-wider-menu-gaps"});default:return null}})),ua=s(260),ha=s(512),ma=s(148),ga=s.n(ma),ba=s(241),_a=s(39),va=s.n(_a);const fa=e=>{const{children:t,className:s,id:a,onClick:i,target:o,title:n,profileUrl:r}=e;return r?m.a._(Oe.a,{className:s,id:a,onClick:i,target:o,title:n,to:r},t):t};fa.displayName="ProfileLink",fa.defaultProps={className:"",title:"",onClick:va.a,target:"",id:""};var Ca=Object(g.c)((e,t)=>{const{user:s}=t;return{profileUrl:Object(be.q)(e,s.username)}})(fa),Na=s(110),Oa=s(23),ya=s(328),wa=s(32),Sa=s(138);const ka=({children:e,performLogout:t})=>m.a._("a",{href:"#logout",onClick:e=>{e.preventDefault(),t()}},e);ka.displayName="LogoutLink";var ja=Object(g.c)(null,e=>Object(wa.b)({performLogout:Sa.i},e))(ka),Ia=s(124),Ta=s(134);class Pa extends m.a.Component{constructor(...e){super(...e),this.buyTokensClickHandler=()=>{this.hideDropdown(),this.props.showModal(pe.F.PURCHASE_TOKENS,{triggerSource:pe.b.MOBILE_HEADER_MENU_BUY_TOKENS})},this.hideDropdown=()=>this.props.releaseInterface(),this.onCreateNewAccountMobileClick=()=>{this.hideDropdown()},this.onLoginMobileClick=()=>{this.hideDropdown()},this._ex=()=>{const{currentUser:e,isInvisible:t}=this.props,{isModel:s,isStudio:a}=e;return s||a?null:m.a._("li",{className:"invisible-mode-switch",onClick:this.props.toggleInvisibleMode},m.a._("div",null,m.a._(ye.a,{img:"invisible"}),Object(Se.d)("userMenu.invisibleMode")),m.a._(Na.a,{isChecked:t}))},this._eo=()=>{if(!this.props.isDropdownOpen)return null;const{currentUser:e,fanClubEnabled:t,hasSubscriptions:s,isEmailVerified:a,isLoggedIn:i,isPageAllowedToStartBroadcast:o,isReferralProgramAvailable:n,keepDropdownOpen:r,messagesCount:l,shouldShowMyCollection:c,userProfile:d,topModelsLink:p,shouldShowDocumentsValidation:u}=this.props;if(!i||!d)return m.a._("div",{className:"header-dropdown-content-wrapper media-after-l-hidden"},m.a._("ul",{className:"header-dropdown-content"},m.a._("li",null,m.a._(Oe.a,{to:`${p}/current-month`},m.a._(ye.a,{img:"best-models"}),Object(Se.d)("header.bestModels"))),m.a._("li",{className:"list-item-wrapper",onClick:r},m.a._(ya.a,{className:"btn btn-block btn-medium btn-signup",onClick:this.onCreateNewAccountMobileClick,triggerSource:Oa.k.MOBILE_DROPDOWN,type:"signup"},Object(Se.d)("login.joinNow")),m.a._(ya.a,{className:"btn btn-block btn-medium btn-outline",onClick:this.onLoginMobileClick,triggerSource:Oa.k.MOBILE_DROPDOWN,type:"login"},Object(Se.d)("login.logIn")))));const{isGold:h,isGreen:g,isModel:b,isStudio:_,isSandbox:v,studioId:f,tokensPaid:C}=e,N=h||g||b||C>0;return m.a._("div",{className:"header-dropdown-content-wrapper media-after-l-hidden"},m.a._("ul",{className:"header-dropdown-content"},!b&&!_&&m.a._("li",{className:"tokens media-after-m-hidden",onClick:r},m.a._("div",{className:"tokens-label"},m.a._(ye.a,{img:"tokens-1"}),m.a._(Dt.a,{choiceParameter:"tokens",messageId:"buyTokens.tokens",parameters:{tokens:d.tokens}})),m.a._("div",{className:"tokens-btn"},m.a._("button",{className:"btn btn-signup",onClick:this.buyTokensClickHandler},Object(Se.d)("button.buy")))),N&&!v&&m.a._("li",{className:"media-after-m-hidden"},m.a._(Oe.a,{to:"/tokens-history"},m.a._(ye.a,{img:"payment-history-1"}),Object(Se.d)("tokensHistory.tokensHistory"))),_&&!v&&m.a._("li",null,m.a._(Oe.a,{to:"/studio-earnings"},m.a._(ye.a,{img:"payment-history-1"}),Object(Se.d)("tokensHistory.studioEarnings"))),(b&&!f||_)&&!v&&m.a._("li",null,m.a._(Oe.a,{to:"/payments-settings"},m.a._(ba.a,{shouldAnalyzePaymentSettings:!0,user:d,type:"alert-small"},"!"),m.a._(ye.a,{img:"payment-settings"}),Object(Se.d)("userMenu.paymentsSettings"))),(b||_)&&!v&&m.a._("li",null,m.a._(Oe.a,{to:"/payments-history"},m.a._(ye.a,{img:"payment-history"}),Object(Se.d)("userMenu.paymentsHistory"))),t&&e.isModel&&m.a._("li",{key:"myCollection"},m.a._(Oe.a,{to:"/model/fan-club"},m.a._(ye.a,{img:"diamond"}),m.a._("span",null,Object(Se.d)("userMenu.myFanClub")))),m.a._("li",{className:"media-after-m-hidden"},m.a._(Oe.a,{to:`${p}/current-month`},m.a._(ye.a,{img:"best-models"}),Object(Se.d)("header.bestModels"))),this.isFavoritesLinkVisible&&m.a._("li",null,m.a._(Oe.a,{to:"/favorites"},m.a._(ye.a,{img:"favorited"}),Object(Se.d)("header.myFavorites"))),m.a._("li",null,m.a._(Ca,{user:d},m.a._(ye.a,{img:"user-profile"}),Object(Se.d)("userMenu.myProfile"))),m.a._("li",null,m.a._(Oe.a,{to:"/messages"},m.a._(ye.a,{img:"message"}),Object(Se.d)("userMenu.myMessages"),m.a._("span",{className:"messages-count"},l>0?l:""))),c&&!v&&m.a._("li",{key:"myCollection"},m.a._(Oe.a,{to:"/collection"},m.a._(ye.a,{img:"album"}),m.a._("span",null,Object(Se.d)("myCollection.button")))),this._ex(),m.a._("li",null,m.a._(Oe.a,{to:"/friends"},m.a._(ye.a,{img:"users"}),Object(Se.d)("userMenu.myFriends"))),b&&m.a._("li",null,m.a._(Oe.a,{to:"/model/knights"},m.a._(ye.a,{img:"knight-1"}),Object(Se.d)("userMenu.myKnights"))),m.a._("li",null,m.a._(Oe.a,{to:"/followings"},m.a._(ye.a,{img:"exclamation-shape"}),Object(Se.d)("userMenu.myFollowings"))),m.a._("li",null,m.a._(Oe.a,{to:"/settings"},m.a._(ye.a,{img:"settings"}),!a&&m.a._(ba.a,{type:"alert-small"},"!"),Object(Se.d)("userMenu.settingsAndPrivacy"))),n&&e&&e.isModel&&!v&&m.a._("li",null,m.a._(Oe.a,{to:"/user-referral"},m.a._(ye.a,{img:"share"}),Object(Se.d)("userMenu.referralProgram"))),s&&e&&!e.isModel&&m.a._("li",null,m.a._(Oe.a,{to:"/subscriptions"},m.a._(ye.a,{img:"diamond"}),Object(Se.d)("userMenu.mySubscriptions"))),u&&m.a._("li",null,m.a._(Oe.a,{to:"/verification"},m.a._(ye.a,{img:"documents"}),m.a._(ba.a,{type:"alert-small"},"!"),Object(Se.d)("userMenu.documentVerification"))),o&&m.a._("li",null,m.a._(Oe.a,{to:"/start-broadcasting"},m.a._(ye.a,{img:"broadcast"}),Object(Se.d)("userMenu.startBroadcasting"))),b&&!v&&m.a._("li",null,m.a._(Oe.a,{to:"/model/documents"},m.a._(ye.a,{img:"documents"}),Object(Se.d)("userMenu.documents"))),b&&m.a._("li",null,m.a._(Oe.a,{to:"/model/bans"},m.a._(ye.a,{img:"ban"}),Object(Se.d)("userMenu.bannedUsers"))),m.a._("li",{className:"header-user-dropdown-item-logout"},m.a._(ja,null,m.a._(ye.a,{img:"turn-off"}),Object(Se.d)("userMenu.logout")))))},this._ey=()=>{const{currentUser:e,hasSubscriptions:t,fanClubEnabled:s,isEmailVerified:a,isLoggedIn:i,isAvatarVisible:o,isReferralProgramAvailable:n,isSandbox:r,messagesCount:l,userProfile:c,shouldShowMyCollection:d,shouldShowDocumentsValidation:p}=this.props;if(!i)return null;const{avatarUrlThumb:u}=c,{isModel:g}=e;return m.a._("div",{className:"header-dropdown-content-wrapper media-up-to-m-hidden"},m.a._("ul",{className:"header-dropdown-content"},o&&u&&m.a._("li",{className:"avatar-wrapper"},m.a._("div",{className:"avatar-wrapper-background",style:{backgroundImage:`url(${u})`}}),m.a._(Ia.b,{user:c,size:160})),m.a._("li",null,m.a._(Ca,{user:c},m.a._(ye.a,{img:"user-profile"}),Object(Se.d)("userMenu.myProfile"))),m.a._("li",null,m.a._(Oe.a,{to:"/messages"},m.a._(ye.a,{img:"message"}),Object(Se.d)("userMenu.myMessages"),m.a._("span",{className:"messages-count"},l>0?l:""))),s&&e.isModel&&!r&&m.a._("li",{key:"myCollection"},m.a._(Oe.a,{to:"/model/fan-club"},m.a._(ye.a,{img:"diamond"}),m.a._("span",null,Object(Se.d)("userMenu.myFanClub")))),d&&!r&&m.a._("li",{key:"myCollection"},m.a._(Oe.a,{to:"/collection"},m.a._(ye.a,{img:"album"}),m.a._("span",null,Object(Se.d)("myCollection.button")))),this._ex(),m.a._("li",null,m.a._(Oe.a,{to:"/friends"},m.a._(ye.a,{img:"users"}),Object(Se.d)("userMenu.myFriends"))),g&&m.a._("li",null,m.a._(Oe.a,{to:"/model/knights"},m.a._(ye.a,{img:"knight-1"}),Object(Se.d)("userMenu.myKnights"))),m.a._("li",null,m.a._(Oe.a,{to:"/followings"},m.a._(ye.a,{img:"exclamation-shape"}),Object(Se.d)("userMenu.myFollowings"))),this.isFavoritesLinkVisible&&m.a._("li",{className:"media-after-l-hidden"},m.a._(Oe.a,{to:"/favorites"},m.a._(ye.a,{img:"favorited"}),Object(Se.d)("header.myFavorites"))),m.a._("li",null,m.a._(Oe.a,{to:"/settings"},m.a._(ye.a,{img:"settings"}),!a&&m.a._(ba.a,{type:"alert-small"},"!"),Object(Se.d)("userMenu.settingsAndPrivacy"))),n&&e&&e.isModel&&!r&&m.a._("li",null,m.a._(Oe.a,{to:"/user-referral"},m.a._(ye.a,{img:"share"}),Object(Se.d)("userMenu.referralProgram"))),t&&e&&!e.isModel&&m.a._("li",null,m.a._(Oe.a,{to:"/subscriptions"},m.a._(ye.a,{img:"diamond"}),Object(Se.d)("userMenu.mySubscriptions"))),p&&m.a._("li",null,m.a._(Oe.a,{to:"/verification"},m.a._(ye.a,{img:"documents"}),m.a._(ba.a,{type:"alert-small"},"!"),Object(Se.d)("userMenu.documentVerification"))),g&&!r&&m.a._(h.Fragment,null,m.a._("li",null,m.a._(Oe.a,{to:"/model/documents"},m.a._(ye.a,{img:"documents"}),Object(Se.d)("userMenu.documents"))),m.a._("li",null,m.a._(Oe.a,{to:"/model/bans"},m.a._(ye.a,{img:"ban"}),Object(Se.d)("userMenu.bannedUsers")))),m.a._("li",{className:"header-user-dropdown-item-logout"},m.a._(ja,null,m.a._(ye.a,{img:"turn-off"}),Object(Se.d)("userMenu.logout")))))}}get isFavoritesLinkVisible(){const{currentUser:e,isLoggedIn:t}=this.props;return t&&!e.isModel&&!e.isStudio}_ez(){const{dropdownLinkClickHandler:e,isDropdownOpen:t,isEmailVerified:s,userProfile:a,shouldShowDocumentsValidation:i}=this.props;return m.a._("a",{className:Object(j.c)("dropdown-link mobile-nav-link media-after-m-hidden",{active:t}),onClick:e},m.a._("span",null,m.a._(ba.a,{shouldAnalyzePaymentSettings:!0,user:a,type:"alert-small"},"!"),m.a._(ye.a,{img:"menu-mobile",size:20}),(!s||i)&&m.a._(ba.a,{type:"alert-medium"},"!")))}_f0(){const{currentUser:e,dropdownLinkClickHandler:t,isDropdownOpen:s,isEmailVerified:a,isInvisible:i,isLoggedIn:o,shouldShowDocumentsValidation:n}=this.props;if(!o)return null;return m.a._("a",{className:Object(j.c)("dropdown-link media-up-to-s-hidden","hidden-ipad-portrait",{active:s,"invisible-mode":i}),onClick:t},i?m.a._("div",{className:"invisible-wrapper"},m.a._(ye.a,{img:"invisible"})):m.a._(Ia.b,{user:e,size:30}),(!a||n)&&m.a._(ba.a,{type:"alert-medium"},"!"),e.username,m.a._("span",{className:"dropdown-arrow"},m.a._(ye.a,{img:"selectbox"})))}_f1(){const{isLoggedIn:e,isOnSignupRoute:t}=this.props;return e||t?null:m.a._(ya.a,{className:"btn btn-signup media-up-to-s-hidden",triggerSource:Oa.k.HEADER,type:"signup"},Object(Se.d)("login.joinNow"))}_f2(){const{isLoggedIn:e,isOnLoginRoute:t}=this.props;return e||t?null:m.a._(ya.a,{className:"btn btn-outline media-up-to-s-hidden",triggerSource:Oa.k.HEADER,type:"login"},Object(Se.d)("login.logIn"))}render(){const{className:e,isDropdownOpen:t,dropdownRootRefHandler:s}=this.props;return m.a._("div",{className:Object(j.c)("header-user-menu","header-dropdown",e),ref:s},this._f0(),this._ez(),this._f1(),this._f2(),t&&this._ey(),t&&this._eo())}}Pa.displayName="HeaderUserMenu";const Ma={releaseInterface:f.p,toggleInvisibleMode:xs.p,showModal:k.c};Pa.defaultProps={isAvatarVisible:!1};var Ea=Object(X.h)(Object(g.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i},config:{data:{fcSubscriptions:o,features:{fanClub:n},isReferralProgramAvailable:r}},profile:{user:c},router:d}=e,p=a&&!ga()(pe.H,e=>l()(s,e));return{currentUser:s,fanClubEnabled:n,hasSubscriptions:o>0,isSandbox:Object(ot.b)(e),isEmailVerified:Object(Xt.f)(e),isInvisible:Object(Xt.h)(e),isLoggedIn:a&&!i,isOnLoginRoute:Object(_e.w)(e),isOnSignupRoute:Object(_e.z)(e),isPageAllowedToStartBroadcast:Object(_e.C)(e,t),isReferralProgramAvailable:r,messagesCount:Object(Ta.f)(e),shouldShowMyCollection:p,shouldShowDocumentsValidation:Object(Xt.g)(e),userProfile:c,router:d,topModelsLink:Object(le.o)(e)}},Ma)(Pa));class Aa extends m.a.Component{constructor(...e){super(...e),this.hideDropdown=()=>this.props.releaseInterface(),this._ey=()=>m.a._("div",{className:"wizard-dropdown-wrapper header-dropdown-content media-up-to-s-hidden"},m.a._("ul",{className:"header-dropdown-content"},m.a._("li",{className:"header-user-dropdown-item-logout"},m.a._(ja,null,m.a._(ye.a,{img:"turn-off"}),Object(Se.d)("userMenu.logout"))))),this._eo=()=>{const{currentUser:e,currentUser:{username:t}}=this.props;return m.a._("div",{className:"wizard-dropdown-wrapper media-after-m-hidden"},m.a._("ul",{className:"header-dropdown-content"},m.a._("li",{className:"header-user-dropdown-item-logout"},m.a._("div",{className:"avatar-wrapper"},m.a._(Ia.b,{size:30,user:e}),t),m.a._(ja,null,m.a._(ye.a,{img:"turn-off",size:18}),Object(Se.d)("userMenu.logout")))))}}_f3(){const{currentUser:e,currentUser:{username:t},dropdownLinkClickHandler:s}=this.props;return m.a._("button",{className:"wizard-user-menu-button media-up-to-s-hidden",onClick:s},m.a._(Ia.b,{size:30,user:e}),t,m.a._("span",{className:"dropdown-arrow"},m.a._(ye.a,{img:"selectbox"})))}_f4(){const{dropdownLinkClickHandler:e,isDropdownOpen:t}=this.props;return m.a._("button",{className:Object(j.c)("wizard-user-menu-button media-after-m-hidden",{active:t}),onClick:e},m.a._("span",null,m.a._(ye.a,{img:"menu"})))}render(){const{className:e,isDropdownOpen:t,dropdownRootRefHandler:s}=this.props;return m.a._("div",{className:"wizard-user-menu-wrapper"},m.a._("div",{className:Object(j.c)("wizard-user-menu","header-dropdown",e),ref:s},this._f3(),this._f4(),t&&this._ey(),t&&this._eo()))}}Aa.displayName="ModelWizardUserMenu";const Ua={releaseInterface:f.p};var Ha=Object(X.h)(Object(g.c)(e=>{const{auth:{currentUser:t},router:s}=e;return{currentUser:t,router:s}},e=>Object(wa.b)(Ua,e))(Aa)),La=s(220),Ra=s.n(La),Fa=s(142),Da=s(99),xa=s(92),Ba=s(171),Va=s(102),za=s(43),$a=s(107),Ga=s(22);const Wa=({className:e,dateTime:t})=>t?m.a._("span",{className:e},Object(Ga.j)(t,(e=>{const t=new Date;return Object(Ga.y)(t,e,"day")?Ga.f.TIME:Object(Ga.y)(t,e,"year")?Ga.f.DAY_AND_MONTH:Ga.f.DAY_MONTH_YEAR})(t))):null;Wa.displayName="SimplifiedDateTime",Wa.defaultProps={className:"",dateTime:null};var Ka=Wa,qa=s(516),Ja=s(87);function Ya(){return(Ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const{touch:Xa}=pe.j,Qa=e=>m.a._("div",{className:"personal-notification-appearing-trash",onClick:e},m.a._(ye.a,{img:"trash"}));Qa.displayName="getAppearingContent";const Za=(e,t,s,a,i)=>m.a._(h.Fragment,null,m.a._(Ca,{className:"personal-notification-profile-link",user:t,onClick:a},m.a._(Ja.b,{user:t,size:13,fanClubTier:i?i[t.id]:null})),m.a._("span",{className:"personal-notification-description-text"},m.a._(Ka,{dateTime:e}),Boolean(s&&t.country)&&m.a._(h.Fragment,null,m.a._("span",{className:"crumb"},"●"),m.a._(Dt.a,{messageId:`country.${t.country}`}))));Za.displayName="_f5";const ei=({additionalComment:e,additionalCommentLink:t,image:s,body:a,className:i,controls:o,hideDropdown:n,modelFanClubTiers:r,isClosable:l,isSenderCountryVisible:c,linkTo:d,onCloseIconClick:p,onNotificationClick:u,rightInners:h,sender:g,shouldEllipsisBody:b,createdAt:_})=>{const v=Xa&&l?qa.a:"div",f=Xa&&l?{threshold:72*.6,appearingContentRight:Qa(p),appearingContentRightWidth:72}:{};return m.a._(v,Ya({},f,{onClick:u}),m.a._("div",{className:Object(j.c)("personal-notification",i)},m.a._("div",{className:"personal-notification-body"},m.a._("div",{className:"personal-notification-body-left"},s?m.a.cloneElement(s,{className:Object(j.c)(s.props.className,"personal-notification-image")}):((e,t)=>e?m.a._(Ca,{className:"personal-notification-profile-link",user:e,onClick:t},m.a._(Ia.b,{isFavoriteBadgeVisible:!0,className:"personal-notification-image",user:e})):null)(g,n)),m.a._("div",{className:"personal-notification-body-middle"},g&&m.a._("div",{className:"personal-notification-body-middle-head"},Za(_,g,c,n,r)),m.a._("div",{className:Object(j.c)("personal-notification-body-middle-body",{ellipsis:b})},m.a._("span",{className:"personal-notification-body-text"},a)),!g&&_&&m.a._("div",{className:"personal-notification-body-middle-footer"},m.a._("span",{className:"personal-notification-description-text"},m.a._(Ka,{dateTime:_})))),h&&m.a._("div",{className:"personal-notification-body-right"},h)),e&&m.a._("div",{className:Object(j.c)("personal-notification-additional-comment",{"personal-notification-additional-comment-navigable":Boolean(t)})},m.a._("div",{className:"personal-notification-additional-comment-inners"},e,t&&m.a._(Oe.a,{className:"personal-notification-additional-comment-link",to:t,onClick:n}))),o&&m.a._("div",{className:"personal-notification-footer"},o),l&&!Xa&&m.a._("div",{className:"personal-notification-closer",onClick:p,"data-testid":"notification-close-button"},m.a._(ye.a,{className:"personal-notification-closer-icon",img:"close-5"})),d&&m.a._(Oe.a,{className:"personal-notification-background-link",to:d})))};ei.displayName="PersonalNotification",ei.defaultProps={additionalComment:null,additionalCommentLink:"",image:null,body:null,className:"",controls:null,linkTo:"",isClosable:!0,isSenderCountryVisible:!1,onCloseIconClick:va.a,onNotificationClick:va.a,rightInners:null,sender:null,shouldEllipsisBody:!1,createdAt:void 0};var ti=s(15);function si(){return(si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const{USER_PHOTO_DECLINED:ai,VIDEO_DECLINED:ii}=ti.r,oi={[ai]:"notifications.photoDeclined",[ii]:"videos.messages.videoRejected"},ni=({notification:e,deleteNotification:t,keepDropdownOpen:s,...a})=>{const{payload:{title:i},type:o}=e;return m.a._(ei,si({},a,{body:(()=>{switch(o){case ai:return m.a._(Dt.a,{messageId:oi[o]});case ii:return m.a._(Dt.a,{messageId:oi[o],parameters:{title:i}});default:return null}})(),image:m.a._(ye.a,{img:"error"}),className:"content-declined-personal-notification",createdAt:e.createdAt,onCloseIconClick:t,onNotificationClick:s}))};ni.displayName="ContentDeclinedPersonalNotification";var ri=Object(g.c)(void 0,(e,{notification:t})=>({deleteNotification:()=>e(Object($a.c)([t.id]))}))(ni),li=s(185);function ci(){return(ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const{FRIENDSHIP_INVITED:di}=ti.r,pi=({isInvitation:e,sender:t,add:s,remove:a,notification:i,deleteNotifications:o,keepDropdownOpen:n,...r})=>{const l=m.a._(Dt.a,{messageId:e?"notifications.invitedYouToFriend":"notifications.acceptedFriendshipRequest"}),c=Object(h.useCallback)(()=>{t&&s(t.id)},[t,s]),d=Object(h.useCallback)(()=>{t&&a([t.id])},[t,a]),p=Object(h.useCallback)(()=>o([i.id]),[o,i]);return m.a._(ei,ci({},r,{className:"friendship-personal-notification",body:l,sender:t,isClosable:!e,isSenderCountryVisible:e,record:i,onCloseIconClick:p,controls:e?m.a._(h.Fragment,null,m.a._(Tt.a,{style:"second",onClick:d,"data-testid":"decline-friendship-button"},Object(Se.d)("button.decline")),m.a._(Tt.a,{style:"default-filled",onClick:c,"data-testid":"accept-friendship-button"},Object(Se.d)("button.accept"))):null,onNotificationClick:n}))};pi.displayName="FriendshipPersonalNotification";const ui={add:li.a,remove:li.d,deleteNotifications:$a.c};var hi=Object(g.c)((e,t)=>{const s=Object(Ta.a)(e,t),a=t.notification.type===di,i=s&&s[a?"inviterId":"inviteeId"];return{sender:Object(Ta.g)(e,{senderId:i}),isInvitation:a,record:s}},ui)(pi);function mi(){return(mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const{GOLD_SUBSCRIPTION_CANCEL:gi,GOLD_SUBSCRIPTION_OVER:bi,GOLD_SUBSCRIPTION_RENEW:_i}=ti.r,vi={[gi]:"notifications.goldMembership.goldSubscriptionCancel",[bi]:"notifications.goldMembership.goldSubscriptionOver",[_i]:"notifications.goldMembership.goldSubscriptionRenew"},fi={[gi]:"unsubscribe",[bi]:"unsubscribe",[_i]:"user-gold"},Ci=({notification:e,isCurrentUserGold:t,emitButtonEvent:s,deleteNotifications:a,keepDropdownOpen:i,...o})=>{const n=m.a._(Dt.a,{messageId:vi[e.type]}),r=Object(h.useCallback)(()=>{s(pe.b.PERSONAL_NOTIFICATIONS_GOLD_OVER,{notification:e})},[e,s]),l=Object(h.useCallback)(()=>a([e.id]),[a,e]);return m.a._(ei,mi({},o,{className:"gold-membership-personal-notification",body:n,isClosable:e.type!==bi,createdAt:e.createdAt,image:m.a._(ye.a,{img:fi[e.type]}),controls:e.type!==bi||t?null:m.a._(Tt.a,{style:"call2action-premium",onClick:r,"data-testid":"make-me-gold-button"},Object(Se.d)("button.makeMeGold")),onCloseIconClick:l,onNotificationClick:i}))};Ci.displayName="GoldMembershipPersonalNotification";const Ni={emitButtonEvent:f.b,deleteNotifications:$a.c};var Oi=Object(g.c)(({profile:{user:{isGold:e}}})=>({isCurrentUserGold:e}),Ni)(Ci);function yi(){return(yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const wi=({notification:e,deleteNotification:t,keepDropdownOpen:s,...a})=>{const i=m.a._(Dt.a,{messageId:"notifications.youHaveBeenKnighted"}),o=m.a._(ye.a,{className:"knight-personal-notification-indicator-icon",img:"knight-1"});return m.a._(ei,yi({},a,{className:"knight-personal-notification",body:i,rightInners:o,createdAt:e.createdAt,onCloseIconClick:t,onNotificationClick:s}))};wi.displayName="KnightPersonalNotification";var Si=Object(g.c)((e,t)=>({sender:Object(Ta.g)(e,{senderId:t.notification.recordId})}),(e,{notification:t})=>({deleteNotification:()=>e(Object($a.c)([t.id]))}))(wi);function ki(){return(ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const ji=({deleteNotifications:e,viewCamUrl:t,notification:s,keepDropdownOpen:a,...i})=>{const o=m.a._(Dt.a,{messageId:"notifications.hasJustComeOnline"}),n=Object(h.useCallback)(()=>{s&&e([s.id])},[s,e]),r=m.a._(Tt.a,{style:"call2action",to:t,onClick:n,type:"link","data-testid":"watch-live-button"},Object(Se.d)("button.watchLive"));return m.a._(ei,ki({},i,{className:"model-online-personal-notification",body:o,controls:r,createdAt:s.createdAt,onCloseIconClick:n,onNotificationClick:a}))};ji.displayName="ModelOnlinePersonalNotification";const Ii={deleteNotifications:$a.c};var Ti=Object(g.c)((e,{notification:{modelId:t}})=>{const s=Object(Ta.g)(e,{senderId:t});return{viewCamUrl:Object(be.s)(e,s.username),sender:s}},e=>Object(wa.b)(Ii,e))(ji),Pi=s(52);function Mi(){return(Mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Ei=({record:e,sender:t,countNotificationOfGroup:s,keepDropdownOpen:a,isViewCamPage:i,modelUsername:o,selectChatTab:n,deleteNotificationsFromSender:r,...l})=>{const c=Object(h.useCallback)(e=>{a(e),r(t.id)},[a,r,t]),d=Object(h.useCallback)(()=>{r(t.id),n(It.ib.PRIVATE)},[n,r,t]),[p,u]=i&&t.username===o?[null,d]:[`/messages/${t.username}`,va.a];return m.a._(ei,Mi({},l,{shouldEllipsisBody:!0,className:"private-message-personal-notification",body:e.body,createdAt:e.createdAt,sender:t,rightInners:s>1?m.a._("span",{className:"personal-notification-counter"},s):null,onCloseIconClick:c,linkTo:p,onNotificationClick:u}))};Ei.displayName="PrivateMessagePersonalNotification";const Ai={deleteNotificationsFromSender:$a.d,selectChatTab:Pi.z};var Ui=Object(g.c)((e,t)=>{const s=Object(Ta.e)(e,t);return{sender:Object(Ta.g)(e,{senderId:s&&s.senderId}),isViewCamPage:Object(_e.L)(e),modelUsername:Object(_e.O)(e),record:s}},Ai)(Ei);function Hi(){return(Hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const{OFFLINE_TIP:Li,UNLOCK_TIP:Ri}=ti.r,Fi={[Li]:"notifications.sentOfflineTips",[Ri]:"notifications.sentTipsToUnlockPM"},Di=({record:e,notification:t,sender:s,deleteNotificationsFromSender:a,hideDropdown:i,keepDropdownOpen:o,...n})=>{const r=m.a._(Tt.a,{style:"default-filled",type:"link",to:Object(_e.e)(s.username),onClick:i},Object(Se.d)("button.reply")),l=Object(h.useCallback)(()=>{a(s.id)},[a,s]);return m.a._(ei,Hi({},n,{className:Object(j.c)("tip-personal-notification",{"tip-personal-notification-with-comment":Boolean(e.body)}),createdAt:e.createdAt,sender:s,body:(()=>{const{type:a}=t,{details:{amount:i}}=e,{username:o}=s;switch(a){case Ri:return m.a._(Dt.a,{messageId:Fi[a]});case Li:return m.a._(Dt.a,{choiceParameter:"amount",messageId:Fi[a],parameters:{username:o,amount:i}});default:return null}})(),controls:r,additionalComment:e.body,additionalCommentLink:Object(_e.e)(s.username),onCloseIconClick:l,hideDropdown:i,onNotificationClick:o}))};Di.displayName="TipPersonalNotification";const xi={deleteNotificationsFromSender:$a.d};var Bi=Object(g.c)((e,t)=>{const s=Object(Ta.h)(e,t);return{record:s,sender:Object(Ta.g)(e,{senderId:s&&s.senderId})}},e=>Object(wa.b)(xi,e))(Di);function Vi(){return(Vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const zi=({subscription:e,tiers:t,notification:s,deleteNotifications:a,keepDropdownOpen:i,...o})=>{const{tier:n}=e,r=Object(Se.d)(It.J[n]),l=t[n],c=m.a._(Dt.a,{messageId:"fanClub.userJoinedNotification",parameters:{tier:r,tokenAmount:l},elements:{span:m.a._("span",{className:"accent"}),tierspan:m.a._("span",{className:`tier-name ${n}`})}}),d=Object(h.useCallback)(()=>a([s.id]),[a,s]);return m.a._(ei,Vi({},o,{className:"fan-club-user-joined-personal-notification",linkTo:"/model/fan-club",body:c,createdAt:s.createdAt,onCloseIconClick:d,onNotificationClick:i}))};zi.displayName="UserJoinedFanClubPersonalNotification";const $i={emitButtonEvent:f.b,deleteNotifications:$a.c};var Gi=Object(g.c)((e,t)=>{const{fanClubSubscription:s}=t.notification.payload;return{sender:Object(Ta.g)(e,{senderId:s&&s.userId}),subscription:s,tiers:Object(E.w)(e)}},$i)(zi);function Wi(){return(Wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Ki={newFanClubAlbum:"gallery",newFanClubPhoto:"gallery",newFanClubVideo:"videos"},qi=({notification:e,sender:t,deleteNotification:s,keepDropdownOpen:a,tier:i,...o})=>m.a._(ei,Wi({},o,{className:"new-fan-club-content-personal-notification",createdAt:e.createdAt,sender:t,body:(()=>{const s=Object(Se.d)(It.J[i]),a=Ki[e.type];return m.a._("div",null,m.a._("div",null,m.a._(is.a,{tier:i}),m.a._(Dt.a,{messageId:"fanClub.newContentNotificationTitle",parameters:{tier:s}})),m.a._("div",{className:"new-fan-club-content-personal-notification-text"},Object(Se.d)("fanClub.newContentNotification")),m.a._(Tt.a,{style:"default-filled",type:"link",to:`/${t.username}/profile#${a}`},Object(Se.d)("fanClub.goToGallery")))})(),onCloseIconClick:s,onNotificationClick:a}));qi.displayName="NewFanClubContentPersonalNotification";var Ji=Object(g.c)((e,t)=>{const{fanClubSubscription:s,model:a}=t.notification.payload;return{sender:Object(Ta.g)(e,{senderId:a.id}),tier:s.tier}},(e,{notification:t})=>({deleteNotification:()=>e(Object($a.c)([t.id]))}))(qi);function Yi(){return(Yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Xi=({sender:e,notification:t,deleteNotification:s,keepDropdownOpen:a,...i})=>{const{monthsOfSubscription:o}=t.payload.fanClubSubscription.data,n=m.a._("div",null,m.a._("div",{className:"fan-club-subscription-extended-personal-notification-text"},m.a._(Dt.a,{messageId:"fanClub.subscriptionExtended",parameters:{count:o},choiceParameter:"count",elements:{monthsSpan:m.a._("span",{className:"fan-club-subscription-extended-personal-notification-text-months"})}})),m.a._(Tt.a,{style:"default-filled",type:"link",to:`/messages/${e.username}`,target:"_blank",rel:"noopener noreferrer"},Object(Se.d)("fanClub.sayThanks")));return m.a._(ei,Yi({},i,{body:n,className:"fan-club-subscription-extended-personal-notification",createdAt:t.createdAt,sender:e,onCloseIconClick:s,onNotificationClick:a}))};Xi.displayName="FanClubSubscriptionExtendedPersonalNotificationComp";const Qi=Object(g.c)((e,t)=>{const{fanClubSubscription:s}=t.notification.payload;return{sender:Object(Ta.g)(e,{senderId:s.userId})}},(e,{notification:t})=>({deleteNotification:()=>e(Object($a.c)([t.id]))}))(Xi),Zi={[ti.r.PRIVATE_MESSAGE]:Ui,[ti.r.USER_PHOTO_DECLINED]:ri,[ti.r.VIDEO_DECLINED]:ri,[ti.r.FRIENDSHIP_ACCEPTED]:hi,[ti.r.FRIENDSHIP_INVITED]:hi,[ti.r.GOLD_SUBSCRIPTION_RENEW]:Oi,[ti.r.GOLD_SUBSCRIPTION_OVER]:Oi,[ti.r.GOLD_SUBSCRIPTION_CANCEL]:Oi,[ti.r.KNIGHT]:Si,[ti.r.OFFLINE_TIP]:Bi,[ti.r.UNLOCK_TIP]:Bi,[ti.r.MODEL_ONLINE]:Ti,[ti.r.USER_JOINED_TO_FAN_CLUB]:Gi,[ti.r.FAN_CLUB_SUBSCRIPTION_EXTENDED]:Qi,[ti.r.NEW_FAN_CLUB_ALBUM]:Ji,[ti.r.NEW_FAN_CLUB_PHOTO]:Ji,[ti.r.NEW_FAN_CLUB_VIDEO]:Ji};var eo=m.a.memo(e=>{const{onHide:t,keepDropdownOpen:s,messages:a,modelFanClubTiers:i}=e;return m.a._("div",{className:"header-dropdown-content"},a.map(({message:e,count:a,groupId:o})=>{const n=Array.isArray(e)?e[e.length-1]:e,{id:r,type:l}=n,c=Zi[l],d=l===ti.r.PRIVATE_MESSAGE?`${ti.r.PRIVATE_MESSAGE}_${o}`:r;return c?m.a._("div",{className:"header-dropdown-content-item",key:d},m.a._(c,{countNotificationOfGroup:a||0,hideDropdown:t,keepDropdownOpen:s,notification:n,modelFanClubTiers:i})):null}))}),to=s(189);class so extends m.a.Component{constructor(...e){super(...e),this.state={isNoticationsStateToggling:!1},this.timeoutId=0,this.propsUpdateToActionsMap=[{update:"isPushEnabled",action:()=>{const{isPushEnabled:e}=this.props;!this.props.isPushEnabled&&e&&(this.setState({isNoticationsStateToggling:!0}),this.clearTimeout(),this.timeoutId=setTimeout(()=>{this.setState({isNoticationsStateToggling:!1})},700))}}],this.notificationDropdownLinkClickHandler=e=>{this.props.readAllNotifications(),this.props.dropdownLinkClickHandler(e)},this.keepDropdownOpenElementClickHandler=e=>{e.stopPropagation()},this.newNotificationSocketEventHandler=e=>{const{notification:t,user:s,privateMessage:a,fanClubSubscriptions:i}=e,{counterpart:o,currentUser:n,isModelChatPrivateTabOpen:r,viewCamPageBranch:c}=this.props,d=l()(c,"match.params.username"),p=s&&s.username===d;t.type===ti.r.MODEL_ONLINE&&p?this.props.deleteNotifications([t.id]):(this.props.addNotification(e),this.showAnimation(),t.type===ti.r.MODEL_ONLINE&&this.removeModelOnlineNotification(t.id)),r&&a&&l()(s,"id")===l()(o,"id")&&this.props.removeNotification(t.id)},this._f7=({notificationId:e})=>{this.props.removeNotification(e)},this.removeModelOnlineNotification=e=>Ra()(this.props.deleteNotifications,9e5,[e]),this.hideAnimation=()=>{this.setState({shouldAnimate:!1})},this.hideDropdown=()=>{this.props.releaseInterface()},this.enableNotifications=(e,t)=>{t.stopPropagation(),this.props.toggleModelSubscriptions(e)},this._f8=()=>{const{currentUser:e,isPushAvailable:t}=this.props;return l()(e,"isModel",!1)&&t?m.a._("div",{className:"header-notifications-subscription"},this._f9(),this._fa()):null},this._fb=()=>{const{dropdownLinkRefHandler:e,hasNewNotification:t,isDropdownOpen:s,notificationsCount:a,unreadCount:i}=this.props;if(!a)return null;const o=this.state.shouldAnimate&&t;return m.a._("a",{className:Object(j.c)("dropdown-link",{active:s,"has-new-notifications":o,"has-unread-notifications":i}),onAnimationEnd:this.hideAnimation,onClick:this.notificationDropdownLinkClickHandler,ref:e},m.a._(ye.a,{img:"notifications"}),m.a._("span",{className:"dropdown-notification-count"},i>99?"99+":i))}}_A(){Object(T.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(T.a)(this.propsUpdateToActionsMap,e,this.props)}componentWillUnmount(){this.clearTimeout()}clearTimeout(){clearTimeout(this.timeoutId)}_B6(){const{currentUser:e,isLoggedIn:t}=this.props;return t?m.a._(Ne.a,{eventsWithCallbacks:[{subscriptionKey:`newNotification:${e.id}`,callback:this.newNotificationSocketEventHandler},{subscriptionKey:`notificationDeleted:${e.id}`,callback:this._f7}]}):null}showAnimation(){this.setState({shouldAnimate:!0})}_ct(){const{dropdownContentRefHandler:e,keepDropdownOpen:t,messages:s,modelFanClubTiers:a}=this.props;return 0===s.length?null:m.a._("div",{className:"header-dropdown-content-wrapper",ref:e},m.a._(Va.a,null,m.a._(eo,{onHide:this.hideDropdown,keepDropdownOpen:t,messages:s,modelFanClubTiers:a})),this._f8())}_f9(){return m.a._("div",{className:"header-notifications-subscription-content"},m.a._("div",{className:"header-notifications-title"},Object(Se.d)("header.notificationsSettings.enabled")),m.a._("div",{className:"header-notifications-action"},m.a._(Oe.a,{to:"/settings"},Object(Se.d)("header.notificationsSettings.settings"))))}_fa(){const{isPushEnabled:e}=this.props,{isNoticationsStateToggling:t}=this.state,s="header_notificaitons_settings";return e&&!t?null:m.a._(Xs.CSSTransition,{classNames:"header-notifications-subscription-content",in:!(e&&t),timeout:700,enter:!1},m.a._("div",{className:"header-notifications-subscription-content"},m.a._("div",{className:"header-notifications-title"},Object(Se.d)("header.notificationsSettings.disabled")),m.a._("div",{className:"header-notifications-tooltip",id:s,onClick:this.keepDropdownOpenElementClickHandler},m.a._(ye.a,{img:"question"})," ",m.a._(za.a,{placement:"bottom",shouldPreventDefault:!0,isMobileRelative:!1,targetId:s,isMobileRelative:!1},Object(Se.d)("header.notificationsSettings.tooltip"))),m.a._("div",{className:"header-notifications-action"},m.a._(Na.a,{isChecked:e,onChange:this.enableNotifications}))))}render(){const{className:e,dropdownRootRefHandler:t,isDropdownOpen:s}=this.props;return m.a._("div",{className:Object(j.c)(e,"personal-notifications-dropdown"),ref:t},this._fb(),s&&this._ct(),this._B6())}}so.displayName="PersonalNotificationsDropdown";const ao={addNotification:$a.a,deleteNotifications:$a.c,removeNotification:$a.g,readAllNotifications:$a.f,releaseInterface:f.p,saveFanClubUsersTier:Fa.d,toggleModelSubscriptions:ls.e};so.defaultProps={isDropdownOpen:!1,counterpart:null};var io=Object(g.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},config:{data:{features:i}},conversations:{counterpart:o}}=e,{messages:n,notificationsCount:r}=Object(Ta.c)(e),c=Object(Ta.i)(e),d=t&&t.isModel?Object(Da.a)(e,t.username):null;return{counterpart:o,currentUser:t,hasNewNotification:c>0,isLoggedIn:s&&!a,isModelChatPrivateTabOpen:Object(xa.j)(e),isPushEnabled:Object(Ba.b)(e),isPushAvailable:Object(As.b)()&&l()(i,"notifications.push"),modelFanClubTiers:d,messages:n,notificationsCount:r,unreadCount:c,viewCamPageBranch:Object(_e.U)(e)}},ao)(so);class oo extends m.a.Component{constructor(...e){super(...e),this.state={shouldRender:!1,isBlockVisible:!1},this._Fm=()=>{this.setState({shouldRender:!1,isBlockVisible:!1})}}_A(){this.props.isVisible&&this.setState({shouldRender:!0})}componentDidUpdate(e,t){this.state.shouldRender!==t.shouldRender&&this.state.isBlockVisible!==this.state.shouldRender?this.updateState=setTimeout(()=>{this.setState({isBlockVisible:this.state.shouldRender})}):this.props.isVisible!==e.isVisible&&(this.props.isVisible?this.state.shouldRender||(this.updateState=setTimeout(()=>{this.setState({shouldRender:!0})})):this.state.isBlockVisible&&(this.updateState=setTimeout(()=>{this.setState({isBlockVisible:!1})})))}componentWillUnmount(){clearInterval(this.updateState)}render(){return this.state.shouldRender?m.a._(Xs.CSSTransition,{classNames:this.props.classNames,timeout:this.props.timeout,in:this.state.isBlockVisible,onExited:this._Fm},this.props.children):null}}oo.displayName="CSSTransitionWrapper";const no=({isMobile:e,isVisible:t,title:s,subTitle:a,controls:i,onCloseClickHandler:o,isProcessing:n=!1,classname:r="",iconImg:l="tokens-plus-green"})=>m.a._(oo,{classNames:Object(j.c)("top-up-wrapper",r),isVisible:t,timeout:{enter:e?0:750,exit:e?0:200}},m.a._("div",{className:Object(j.c)("top-up-wrapper",{mobile:e,"is-processing":n})},m.a._("div",{className:"instant-top-up-content"},m.a._("div",{className:"instant-top-up-close-btn media-after-s-hidden",onClick:o},m.a._(ye.a,{img:"close-3"})),m.a._("div",{className:"instant-top-up-aside"},m.a._(ye.a,{img:l})),m.a._("div",{className:"instant-top-up-main"},m.a._("div",{className:"instant-top-up-titles"},m.a._("div",{className:"instant-top-up-title"},s),m.a._("div",{className:"instant-top-up-subtitle"},a)),m.a._("div",{className:"instant-top-up-controls"},i)),m.a._("div",{className:"instant-top-up-close-btn media-up-to-xs-hidden",onClick:o},m.a._(ye.a,{img:"close-3"})))));no.displayName="InstantTopUpContent";var ro=no;const lo=({isMobile:e,isLoggedIn:t,isVisible:s,appearance:a="all",showFreeTokensForCardVerificationMethodAction:i,closeFreeTokensForCardVerificationTopUpAction:o})=>{if("guest"===a&&t||"authorized"===a&&!t)return null;const n=m.a._("span",{className:"free-tokens-for-card-verification-title"},"Get ",m.a._("span",{className:"free-tokens-for-card-verification-title-accent"},"50 free tokens")," for card verification");return m.a._(ro,{classname:Object(j.c)("instant-top-up-wrapper free-tokens-for-card-verification",{"for-guest-only":"authorized"!==a}),isMobile:e,isProcessing:!1,isVisible:s,onCloseClickHandler:o,title:n,subTitle:"Take interaction with models to the next level with free tokens for verifying your card.",iconImg:"credit-card",controls:m.a._(Tt.a,{style:"apply-alter2",size:"small",onClick:i},"Get ",m.a._("span",{className:"media-up-to-s-hidden"},"Free")," Tokens")})};lo.displayName="FreeTokensForCardVerification";const co={closeFreeTokensForCardVerificationTopUpAction:Vt.b,showFreeTokensForCardVerificationMethodAction:Vt.s};var po=Object(g.c)(e=>({isLoggedIn:Object(Yt.l)(e),isVisible:Object(Ds.q)(e)}),co)(lo),uo=(s(74),s(59)),ho=s(72);const mo=()=>m.a._(h.Fragment,null,m.a._(uo.a,{size:22,loaderType:"sector-circle"}),Object(Se.d)("instantTopUp.processing"));mo.displayName="ProcessingControls";const go=({tokensSum:e,currencyAmount:t,onAddClick:s,onBuyClick:a})=>m.a._(h.Fragment,null,m.a._(Tt.a,{style:"apply-alter2",size:"small",onClick:s},m.a._(Dt.a,{elements:{pale:m.a._("span",{className:"highlighted-pale"})},parameters:{tk_amount:e,currency_amount:t},messageId:"instantTopUp.button"})),m.a._("div",{className:"instant-top-up-additional-action",onClick:a},Object(Se.d)("instantTopUp.otherPackage")));go.displayName="AddTokensControls";const bo=e=>{const{isProcessing:t,tokensSum:s,currencySum:a,currencyCode:i,onAddClick:o,onBuyClick:n}=e;if(t)return m.a._(mo,null);const r=Object(ho.e)(a,i);return m.a._(go,{tokensSum:s,currencyAmount:r,onAddClick:o,onBuyClick:n})};bo.displayName="InstantTopUpControls",bo.defaultProps={currencySum:"0",currencyCode:"USD",tokensSum:"0"};var _o=bo,vo=s(51);const fo={emitButtonEvent:f.b,resetPurchase:Vt.l,updateInstantTopUp:Vt.C};class Co extends m.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:["hasPurchaseFailed","purchaseSucceededToken"],action:()=>{this.props.isProcessing&&(this.resetPurchase(),this.hide())}},{update:["location"],action:({isVisible:e,location:t})=>{this.props.location!==t&&e&&this.hide()}}],this.resetPurchase=()=>{setTimeout(()=>{this.props.resetPurchase()},200)},this.hide=(e=!1)=>{this.props.updateInstantTopUp({isInstantTopUpAvailable:!1,isTrusted:e})},this.addTokensClickHandler=()=>{this.props.emitButtonEvent(pe.b.INSTANT_TOP_UP_CLICK)},this.buyTokensClickHandler=()=>{this.props.emitButtonEvent(pe.b.INSTANT_TOP_UP_TOKENS_LINK),this.hide()},this.onCloseClickHandler=()=>{this.hide({isTrusted:!0}),this.resetPurchase()}}_A(){Object(T.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(T.a)(this.propsUpdateToActionsMap,e,this.props)}_B6(){const{isLoggedIn:e,currentUser:t}=this.props;return e&&(t.isGreen||t.isGold||t.isExGreen)?m.a._(Ne.a,{events:[`instantTokensTopUp:${t.id}`]}):null}_Dw(e){return["giropay","ideal","sofort"].includes(e)?Object(Se.d)("buyTokens.methods.sepa"):l()(vo.i,e,Object(Se.d)(`buyTokens.methods.${e}`))}render(){const{tokensSum:e,currencySum:t,currencyCode:s,isMobile:a,isProcessing:i,isVisible:o,lowBalancePackageMethod:n}=this.props;return m.a._(m.a.Fragment,null,m.a._(ro,{classname:"instant-top-up-wrapper",isMobile:a,isProcessing:i,isVisible:o,onCloseClickHandler:this.onCloseClickHandler,title:Object(Se.d)("instantTopUp.title"),subTitle:m.a._(Dt.a,{parameters:{payment_method:this._Dw(n)},messageId:`instantTopUp.subtitle${a?"_mobile":""}`}),controls:m.a._(_o,{isProcessing:i,tokensSum:e,currencySum:t,currencyCode:s,onAddClick:this.addTokensClickHandler,onBuyClick:this.buyTokensClickHandler})}),this._B6())}}Co.displayName="InstantTopUp";var No=Object(g.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s},tokens:{isPurchaseCompleted:a,hasPurchaseFailed:i}}=e,o=Object(Ds.E)(e),n=l()(o,"currencyCode"),r=l()(o,"currencySum"),c=l()(o,"tokensSum"),d=Object(Ds.t)(e),p=Object(_e.R)(e);return{currencyCode:n,currencySum:r,currentUser:t,hasPurchaseFailed:i,isPurchaseCompleted:a,purchaseSucceededToken:Object(Ds.P)(e),isLoggedIn:s,isProcessing:Object(Ds.Z)(e),lowBalancePackageMethod:Object(Ds.F)(e),isVisible:d,tokensSum:c,location:p}},fo)(Co);const Oo={emitButtonEvent:f.b,resetPurchase:Vt.l,updateTopUpStatus:f.B};class yo extends m.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:["location"],action:({isVisible:e,location:t})=>{this.props.location!==t&&e&&this.hide()}}],this.hide=()=>{this.props.updateTopUpStatus(!1)},this._fc=()=>{this.props.emitButtonEvent(pe.b.HEADER_TOKENS_TOP_UP_CLICK),this.hide()},this._fd=()=>{this.hide()}}_A(){Object(T.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(T.a)(this.propsUpdateToActionsMap,e,this.props)}_B6(){const{isLoggedIn:e,currentUser:t}=this.props;return e&&(t.isGreen||t.isGold||t.isExGreen)?m.a._(Ne.a,{events:[`tokensTopUp:${t.id}`]}):null}render(){const{isMobile:e,isVisible:t}=this.props;return m.a._(m.a.Fragment,null,m.a._(ro,{isMobile:e,isVisible:t,onCloseClickHandler:this._fd,title:Object(Se.d)("topUp.title"),subTitle:e?Object(Se.d)("topUp.subTitleMobile"):Object(Se.d)("topUp.subTitle"),controls:m.a._(Tt.a,{onClick:this._fc,style:"apply"},Object(Se.d)("topUp.button"))}),this._B6())}}yo.displayName="TopUp";var wo=Object(g.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s}}=e;return{currentUser:t,isLoggedIn:s,isVisible:Object(Ds.C)(e),location:Object(_e.R)(e)}},Oo)(yo),So=s(230);class ko extends m.a.Component{constructor(...e){super(...e),this.buyTokensClickHandler=()=>{this.props.emitButtonEvent(pe.b.HEADER_TOKENS_MENU_BTN)},this.plusButtonClickHandler=e=>{e.stopPropagation(),this.props.emitButtonEvent(pe.b.HEADER_TOKENS_MENU_ICON)},this._ct=()=>{const{userProfile:e,isStudioTokensHistoryEnable:t}=this.props,{isGold:s,isGreen:a,isModel:i,isStudio:o,studioId:n,tokensPaid:r}=e,l=!i&&!o&&(s||a||r>0),c=i;return m.a._("div",{className:"header-dropdown-content-wrapper"},m.a._(Va.a,null,m.a._("ul",{className:"header-dropdown-content"},!i&&!o&&m.a._("li",{className:"list-item-wrapper"},m.a._(Tt.a,{style:"apply-alter",display:"block",onClick:this.buyTokensClickHandler},Object(Se.d)("buyTokens.buyTokens"))),c&&m.a._("li",null,m.a._(Oe.a,{to:"/earnings"},m.a._(ye.a,{img:"earnings"}),Object(Se.d)("earnings.model.tokensMenuLabel"))),l&&m.a._("li",null,m.a._(Oe.a,{to:"/tokens-history"},m.a._(ye.a,{img:"payment-history"}),Object(Se.d)("tokensHistory.tokensHistory"))),o&&m.a._("li",null,m.a._(Oe.a,{to:"/studio-earnings"},m.a._(ye.a,{img:"tokens-1"}),Object(Se.d)("tokensHistory.studioEarnings"))),o&&t&&m.a._("li",null,m.a._(Oe.a,{to:"/earnings/tokens-history"},m.a._(ye.a,{img:"tokens"}),Object(Se.d)("tokensHistory.studioTokensHistory"))),(i&&!n||o)&&m.a._("li",null,m.a._(Oe.a,{to:"/payments-settings"},m.a._(ba.a,{shouldAnalyzePaymentSettings:!0,user:e,type:"alert-small"},"!"),m.a._(ye.a,{img:"payment-settings"}),Object(Se.d)("userMenu.paymentsSettings"))),(i&&!n||o)&&m.a._("li",null,m.a._(Oe.a,{to:"/payments-history"},m.a._(ye.a,{img:"payment-history-1"}),Object(Se.d)("userMenu.paymentsHistory"))))))},this._fb=()=>{const{dropdownLinkClickHandler:e,isDropdownOpen:t,isSandbox:s,userProfile:a,isLayoutUpToM:i,shouldUseDiscountIcon:o}=this.props,n=i&&a.isStudio;return m.a._("a",{className:Object(j.c)("dropdown-link",{active:t&&!s}),onClick:e},!n&&m.a._(ba.a,{shouldAnalyzePaymentSettings:!0,user:a,type:"alert-medium"},"!"),m.a._(ye.a,{img:"tokens-1"}),this.isTokensValueVisible&&m.a._(Dt.a,{elements:{tokensAmount:m.a._("span",{className:"tokens-amount"},this.getTokensAmount()),abbreviation:m.a._("span",{className:"tokens-abbreviation"})},messageId:"buyTokens.tokensInHeader"}),m.a._("span",{className:"dropdown-arrow"},m.a._(ye.a,{img:"selectbox"})),this.isBuyTokensIconVisible&&m.a._("span",{className:Object(j.c)("add-icon-wrapper",{"tokens-menu-discount-icon":o}),onClick:this.plusButtonClickHandler},!o&&m.a._(ye.a,{img:"add"})))}}get isTokensValueVisible(){return!this.props.userProfile.isStudio}get isBuyTokensIconVisible(){const{isRegular:e,isGold:t,isGreen:s}=this.props.userProfile;return e||t||s}getTokensAmount(){const{userProfile:{tokens:e},isLayoutUpToS:t,isLayoutUpToXS:s}=this.props;return s&&e>9999||t&&e>99999?Object(So.d)(e):`${e}`}render(){const{className:e,dropdownRootRefHandler:t,isDropdownOpen:s,isSandbox:a,userProfile:{isStudio:i}}=this.props;return m.a._("div",{className:Object(j.c)(e,"tokens-menu",{"not-a-studio":!i}),ref:t},this._fb(),s&&!a&&this._ct(),m.a._(No,null),m.a._(po,{appearance:"authorized"}),m.a._(wo,null))}}ko.displayName="TokensMenu";const jo={emitButtonEvent:f.b,showModal:k.c};ko.defaultProps={componentClassName:"tokens-menu",isSandbox:!1};var Io=Object(g.c)(e=>{const{auth:{isLoggedIn:t,isLoggingOut:s},profile:{user:a}}=e,i=Object(E.c)(e),o=i&&i.shouldUseDiscountIcon,{isStudioTokensHistoryEnable:n}=Object(E.f)(e);return{shouldUseDiscountIcon:o,userProfile:a,isLoggedIn:t&&!s,isLayoutUpToS:Object(ke.s)(e),isLayoutUpToXS:Object(ke.u)(e),isLayoutUpToM:Object(ke.r)(e),isSandbox:Object(ot.b)(e),isStudioTokensHistoryEnable:n}},jo)(ko);class To extends m.a.Component{constructor(...e){super(...e),this.dropdownRenderRootRef=void 0,this.dropdownContentRef=void 0,this.propsUpdateToActionsMap=[{update:ke.F,action:()=>this.interfaceBlockChangeHandler(this.props)},{update:ke.J,action:()=>this.adjustDropdownContentPositioning(this.props)}],this.state={isDropdownOpen:this.props.isDropdownOpen},this.adjustDropdownContentPositioning=e=>{if(this.dropdownContentRef){const{isLayoutUpToS:t,windowWidth:s}=e,{left:a}=this.dropdownRenderRootRef.getBoundingClientRect(),{offsetWidth:i}=this.dropdownContentRef,o=s-(s-document.documentElement.offsetWidth)-a;let n;o<i&&!t&&(n=-Math.ceil(Math.abs(o-i))),this.dropdownContentRef.style.left=n?`${n}px`:""}},this.interfaceBlockChangeHandler=({isInterfaceBlocked:e,currentBlockingComponent:t})=>{this.setState({isDropdownOpen:e&&this.dropdownRenderRootRef&&this.dropdownRenderRootRef.contains(t)})},this.hideDropdown=()=>{this.props.releaseInterface()},this.keepDropdownOpen=e=>{e.stopPropagation()},this.dropdownLinkClickHandler=e=>{e.preventDefault(),this.state.isDropdownOpen?this.props.releaseInterface():this.props.blockInterface(e.target)},this.dropdownRootRefHandler=e=>{this.dropdownRenderRootRef=e},this.dropdownLinkRefHandler=e=>{const t=$()(()=>this.adjustDropdownContentPositioning(this.props),500,{leading:!0}),s=new MutationObserver(t);e?s.observe(e,{childList:!0,characterData:!0,subtree:!0}):s.disconnect()},this.dropdownContentRefHandler=e=>{this.dropdownContentRef=e,e&&this.adjustDropdownContentPositioning(this.props)}}_A(){this.state.isDropdownOpen&&this.props.blockInterface(this.dropdownRenderRootRef),Object(T.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(T.a)(this.propsUpdateToActionsMap,e,this.props)}render(){const{isDropdownOpen:e}=this.state,{type:t,className:s,componentClassName:a}=this.props,i={className:Object(j.c)("header-dropdown",s,a,{active:e}),dropdownLinkClickHandler:this.dropdownLinkClickHandler,dropdownLinkRefHandler:this.dropdownLinkRefHandler,dropdownRootRefHandler:this.dropdownRootRefHandler,dropdownContentRefHandler:this.dropdownContentRefHandler,isDropdownOpen:e,keepDropdownOpen:this.keepDropdownOpen};return"userMenu"===t?m.a._(Ea,i):"personalNotifications"===t?m.a._(io,i):"tokensMenu"===t?m.a._(Io,i):"wizardUserMenu"===t?m.a._(Ha,i):null}}To.displayName="HeaderDropdown";const Po={blockInterface:f.a,releaseInterface:f.p};To.defaultProps={isDropdownOpen:!1};var Mo=Object(g.c)(e=>{const{ui:{currentBlockingComponent:t,isInterfaceBlocked:s,windowHeight:a,windowWidth:i}}=e;return{currentBlockingComponent:t,isInterfaceBlocked:s,isLayoutUpToS:Object(ke.s)(e),windowHeight:a,windowWidth:i}},Po)(To);const Eo=()=>pe.j.touch?null:m.a._(za.a,{isMobileRelative:!1,targetId:"headerLogo",placement:"bottom",className:"header-logo-tooltip",maxWidth:350,showDelay:800},m.a._("div",{className:"header-logo-tooltip-header"},"Coronavirus Awareness"),m.a._("div",{className:"header-logo-tooltip-body"},"Stay home, practice good hygiene and take care!",m.a._("div",{className:"header-logo-tooltip-body-link"},m.a._("a",{href:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019/advice-for-public",target:"_blank",rel:"noopener noreferrer"},"Learn how to protect yourself."))));Eo.displayName="HeaderLogoTooltip";var Ao=Eo;const Uo=[It.jc,It.kc];function Ho(e,t,s,a,i,o){const n=["header-logo",o];return(t||s)&&(n.push("logo-with-genders"),((e,t)=>!t&&e&&!Uo.includes(e))(a,e)&&n.push(`logo-${a}`),s&&n.push("logo-xh"),t&&(i?n.push("logo-sc-coronavirus"):n.push("logo-sc"))),n.join(" ")}const Lo=({headerLogoUrl:e,homepageUrl:t,onClick:s,isBroadcaster:a,isCoronavirusLogo:i,isXHamsterLive:o,isStripChat:n,preferredTagUrl:r,className:l})=>{const c=Ho(a,n,o,r,i,l),d=function(e,t,s){return s||t?{}:{backgroundImage:e}}(e,n,o);return m.a._("div",{className:c,id:"headerLogo",key:"header-logo"},m.a._(Oe.a,{to:t,onClick:s,style:d}),n&&i&&m.a._(Ao,null))};Lo.displayName="HeaderLogo",Lo.defaultProps={isCoronavirusLogo:!1};var Ro=Object(g.c)(e=>{const t=Object(xe.h)(e),s=Object(xe.j)(e),{isCoronavirusLogo:a}=Object(E.f)(e);return{headerLogoUrl:Object(xe.d)(e),homepageUrl:Object(le.f)(e),isBroadcaster:Object(ue.d)(e),isCoronavirusLogo:a,isStripChat:t,isXHamsterLive:s,preferredTagUrl:Object(le.i)(e)}})(Lo),Fo=s(68);const Do={startWizard:Fo.f,showModal:k.c};class xo extends m.a.Component{constructor(...e){super(...e),this.rootClickHandler=()=>{const{isLoggedIn:e}=this.props;e?this.props.showModal(pe.F.MODELS_WANTED):this.props.showModal(pe.F.AUTH,{component:"SignUp",triggerSource:Oa.k.US_MODELS_WANTED_HEADER,type:ti.A.MODEL})}}render(){return m.a._("div",{className:"models-wanted",onClick:this.rootClickHandler},m.a._("div",{className:"models-wanted-flag"}),m.a._("div",{className:"models-wanted-text-desktop"}),m.a._("div",{className:"models-wanted-text-mobile"},m.a._("div",{className:"text-models"}),m.a._("div",{className:"text-wanted"})))}}xo.displayName="ModelsWanted";var Bo=Object(g.c)(({auth:{isLoggedIn:e}})=>({isLoggedIn:e}),e=>Object(wa.b)(Do,e))(xo),Vo=s(261);class zo extends m.a.Component{constructor(...e){super(...e),this.indexPageLinkClickHandler=e=>{pe.j.gizmoVrInOculusGo&&(e.preventDefault(),this.props.viewIndexPageInVr())},this.closeFavoritesTooltipHandler=()=>{this.props.hideGuestsTooltip()},this.getIsPersonalNotificationsOpenByDefault=()=>this.props.landingAction===pe.T.PERSONAL_NOTIFICATIONS}render(){const{isModelsWantedPromoAvailable:e,isModel:t,isSandbox:s,isStudio:a,favoritedCount:i,isGuestFavoritesTooltipHidden:o,isLoggedIn:n,isNonNudeWL:r,liveCount:l,isLayoutUpToM:c,homepageUrl:d,topModelsLink:p}=this.props,u=l>0&&!r&&!s,h=!r&&!s,g=!a;return m.a._("header",null,m.a._("div",{className:Object(j.c)("header-top",{guest:!n,"models-wanted-promo":e,"is-model-user":t,"is-studio-user":a,"is-guest-user":!n})},m.a._("div",{className:"container"},m.a._("nav",{className:"nav-left"},m.a._(Ro,{onClick:this.indexPageLinkClickHandler}),u&&m.a._("div",{className:"nav-link live-models-count media-up-to-m-hidden"},m.a._(Oe.a,{to:d,onClick:this.indexPageLinkClickHandler},m.a._(ye.a,{img:"dot"}),m.a._("span",{className:"media-up-to-s-hidden"},m.a._(Dt.a,{messageId:"header.liveModels",parameters:{liveModelsCount:l},elements:{accent:m.a._("span",{className:"accent"})}})))),h&&m.a._("div",{className:"nav-link media-up-to-s-hidden"},m.a._(Oe.b,{to:`${p}/current-month`},m.a._(ye.a,{img:"best-models"}),m.a._("span",{className:"media-up-to-m-hidden"},Object(Se.d)("header.bestModels"))))),m.a._("nav",{className:"nav-right"},e&&m.a._(Bo,null),n&&m.a._(Mo,{type:"personalNotifications",isDropdownOpen:this.getIsPersonalNotificationsOpenByDefault()}),n&&a&&m.a._("div",{className:"nav-button"},m.a._(Oe.b,{activeClassName:"disabled",className:"btn btn-apply",to:"/studio",exact:!0},Object(Se.d)("header.studioModels"))),g&&m.a._("div",{className:Object(j.c)("header-top-favorites","nav-link",{active:!o}),id:"header_favorites_button"},t?m.a._(m.a.Fragment,null,m.a._(ye.a,{img:"favorited"}),m.a._("span",{className:"favorites-count"},Object(ho.k)(i)),m.a._(za.a,{isMobileRelative:!1,placement:"top",shouldPreventDefault:!0,targetId:"header_favorites_button"},Object(Se.d)("header.favorites_model_tooltip"))):m.a._(Oe.b,{to:"/favorites"},m.a._(ye.a,{img:"favorited"}))),g&&!o&&m.a._(za.a,{className:"header-top-favorites-tooltip",indentation:8,isForceVisible:!0,isMobileRelative:!1,onClose:()=>{},maxWidth:c?220:320,placement:"bottom",targetId:"header_favorites_button"},m.a._("div",{className:"header-top-favorites-tooltip-close-button",onClick:this.closeFavoritesTooltipHandler},m.a._(ye.a,{img:"close-3",className:"header-top-favorites-tooltip-close-icon"})),Object(Se.d)("header.myFavoritesTooltip")),m.a._("div",{className:"nav-button media-up-to-m-hidden"},m.a._(ha.a,null)),n&&m.a._(Mo,{type:"tokensMenu"}),m.a._(Mo,{type:"userMenu"}))),m.a._(po,{appearance:"guest"})))}}zo.displayName="HeaderTop";const $o={hideGuestsTooltip:f.f,viewIndexPageInVr:ua.d};var Go=Object(X.h)(Object(g.c)(e=>{const{modelsOnline:{liveCount:t}}=e,s=Object(Xt.a)(e),a=Object(E.q)(e);return{isModel:Object(Xt.i)(e),isStudio:Object(Xt.k)(e),favoritedCount:s?s.favoritedCount:0,isGuestFavoritesTooltipHidden:Object(ke.m)(e),isLayoutUpToM:Object(ke.r)(e),isNonNudeWL:Object(xe.f)(e),isLoggedIn:Object(Yt.l)(e),isSandbox:Object(ot.b)(e),isModelsWantedPromoAvailable:Object(Vo.b)(e),homepageUrl:Object(le.f)(e),liveCount:t,topModelsLink:Object(le.o)(e),landingAction:l()(a,"action","")}},$o)(zo)),Wo=s(129),Ko=s(98),qo=s(56),Jo=s(123),Yo=s(286);const Xo={addApp:Wo.a,updateApp:Wo.m,uploadLogo:Wo.p,uploadScreenShot:Wo.q,deleteScreenShots:Wo.c},Qo=[{label:"Chat Bot",value:"Chat Bot"}];class Zo extends m.a.Component{constructor(e){super(e),this.submit=()=>{const{app:e}=this.props,{title:t,description:s,settingsDescription:a,summary:i,source:o,image:n,category:r,contact:l}=this.state,c={title:t,description:s,settingsDescription:a,summary:i,source:o,image:n,category:r,contact:l};e.id?this.props.updateApp(e.id,c):this.props.addApp(c),this.closeClickHandler()},this.saveImage=()=>{const{app:e}=this.props,{image:t}=this.state;e.id&&this.props.uploadLogo(e.id,t),this.closeClickHandler()},this.saveScreenShots=()=>{const{app:e}=this.props,{photo:t}=this.state;e.id&&this.props.uploadScreenShot(e.id,t),this.closeClickHandler()},this.deleteScreenShots=()=>{const{app:e}=this.props;if(e.id){const t=e.screenshots.map(e=>e.id);this.props.deleteScreenShots(e.id,t)}this.closeClickHandler()},this.inputChangeHandler=Ze()(e=>({target:t})=>{this.setState({[e]:t.value})}),this.selectHandler=Ze()(e=>({value:t})=>{this.setState({[e]:t})}),this.fileInputHandler=Ze()(e=>({target:t})=>{this.setState({[e]:t.files[0]})}),this.closeClickHandler=()=>{this.props.onClose()};const{app:t}=this.props;this.state={title:t.title,description:t.description,settingsDescription:t.settingsDescription,summary:t.summary,source:t.source,category:t.category,contact:t.contact}}render(){const{app:e={}}=this.props,{title:t,description:s,settingsDescription:a,summary:i,source:o,contact:n,category:r,image:c,photo:d}=this.state,p=!!l()(e,"screenshots.length");return m.a._(Ko.a,{isWrapperCloseDisabled:!0,className:"modal-wrapper app-management-modal",onClose:this.closeClickHandler,source:"appManagementModal",titlePosition:"outside"},m.a._("div",{className:"app-management-modal-wrapper"},m.a._(qo.a,{autoCapitalize:"none",onChange:this.inputChangeHandler("title"),value:t,placeholder:"Title",type:"text",maxLength:250}),m.a._(qo.a,{autoCapitalize:"none",onChange:this.inputChangeHandler("summary"),value:i,placeholder:"Summary",type:"text"}),m.a._(Yo.a,{isControlled:!0,minRows:4,onChange:this.inputChangeHandler("description"),placeholder:"Write description here...",value:s}),m.a._(Yo.a,{isControlled:!0,minRows:4,onChange:this.inputChangeHandler("settingsDescription"),placeholder:"Write description for settings here...",value:a}),m.a._(Jo.a,{placeholder:"Category",onSelect:this.selectHandler("category"),value:r,options:Qo}),m.a._(qo.a,{autoCapitalize:"none",onChange:this.inputChangeHandler("contact"),value:n,placeholder:"Contact",type:"text"}),m.a._(Yo.a,{isControlled:!0,minRows:4,onChange:this.inputChangeHandler("source"),placeholder:"Write your source code here...",value:o}),m.a._(Tt.a,{style:"apply",size:"medium",disabled:!t||!s,onClick:this.submit},"SAVE"),m.a._("input",{className:"file-input",type:"file",accept:"image/*",onChange:this.fileInputHandler("image")}),m.a._(Tt.a,{style:"apply",size:"medium",disabled:!c||!e.id,onClick:this.saveImage},"SAVE LOGO"),m.a._("input",{className:"file-input",type:"file",accept:"image/*",onChange:this.fileInputHandler("photo")}),m.a._(Tt.a,{style:"apply",size:"medium",disabled:!e.id||!d,onClick:this.saveScreenShots},"SAVE SCREENSHOTS"),m.a._(Tt.a,{style:"apply",size:"medium",disabled:!p,onClick:this.deleteScreenShots},"DELETE SCREENSHOTS")))}}Zo.displayName="AppManagementModal",Zo.defaultProps={app:{}};var en=Object(g.c)(null,Xo)(Zo),tn=s(713),sn=s(210),an=s.n(sn),on=s(184),nn=s.n(on),rn=s(391),ln=s(213);const cn=/\{#([a-zA-Z0-9[\]._:-]+)\/\}/g,dn=/({username})/gi,pn=new RegExp(`${ln.d.source}|${dn.source}`,"g"),un=(e,t)=>Number(t)>-1?e.split(cn).filter(e=>!!e.trim()).map(e=>`{#rules[${t}].${e}/}`).join(" "):e,hn=e=>(e=>He()(e,e=>{if(!nn()(e))return e;const t=e.split(pn);return He()(t,(e,t)=>{if(ln.d.test(e)){const s=Object(ln.b)(e);return m.a._(rn.a,{key:t,code:ln.c[s]})}return dn.test(e)?m.a._("span",{key:t,className:"username-mention"},"@user"):e})}))((e=>{const{currentUser:t,template:s,botSenderName:a,formFields:i}=e,o=s.split(cn);return He()(o,e=>{if(e.indexOf("sender")>-1){const s="model"===l()(i,e,"")?t:{username:a,isModel:!0};return m.a._(Ja.b,{isGenderIconHidden:!0,user:s,key:e})}return l()(i,e,"")})})(e)),mn=e=>m.a._("div",{className:"app-settings-preview-field"},hn(e));mn.displayName="PreviewField";var gn=Object(g.c)(e=>{const{auth:{currentUser:t}}=e;return{currentUser:t}})(mn),bn=s(249);class _n extends m.a.Component{constructor(e){super(e),this.getSelectedNav=()=>{const{selectedRule:e}=this.state;return e>=this.props.getRules().length?0:e},this.navClickHandler=e=>{const{currentTarget:{dataset:{navItem:t}}}=e;this.setState({selectedRule:Number(t)})},this.addRuleClickHandler=()=>{const{rulesFields:e=[]}=this.props;this.props.setRules([...this.props.getRules(),this.props.getDefaultValues(e)]),this.setState(()=>({selectedRule:this.props.getRules().length-1}))},this.deleteRuleClickHandler=e=>{const{currentTarget:{dataset:{navItem:t}}}=e;e.stopPropagation();const s=O()(this.props.getRules(),(e,s)=>s!==Number(t));this.props.setRules(s)},this.state={selectedRule:0}}_A(){0===this.props.getRules().length&&this.addRuleClickHandler()}_F(){const{rulesFields:e=[]}=this.props,t=this.getSelectedNav(),s=e.map(e=>this.props._B3({...e,id:`rules[${t}].${e.id}`},t));return m.a._("div",{className:"settings-rules-fields"},s)}_fe(){const{maxRules:e=10}=this.props;return this.props.getRules().length>=e?null:m.a._("div",{className:"app-settings-rules-nav-item",onClick:this.addRuleClickHandler,key:"add"},m.a._("div",{className:"app-settings-rules-nav-item-label"},"Add",m.a._(ye.a,{img:"plus-unframed",size:12})))}_Hm(){const e=this._fe();return e?[...this._ff(),e]:this._ff()}_ff(){const e=this.props.getRules(),t=this.getSelectedNav();return He()(e,(s,a)=>m.a._("div",{className:"app-settings-rules-nav-item","data-nav-item":a,onClick:this.navClickHandler,key:a},m.a._("div",{className:Object(j.c)("app-settings-rules-nav-item-label",{active:t===Number(a)})},`Rule ${a+1}`),e.length>1&&m.a._("span",{className:"app-settings-rules-nav-remove",onClick:this.deleteRuleClickHandler,"data-nav-item":a},m.a._(ye.a,{img:"close-3",size:10}))))}render(){const e=this.getSelectedNav();return m.a._("div",{className:"app-settings-rules"},m.a._(bn.a,{className:"app-settings-rules-nav",activeIndex:e,showMoreButtonText:"More"},this._Hm()),m.a._("div",{className:"app-settings-rules-container"},this._F()))}}_n.displayName="AppSettingsRules";var vn=_n,fn=s(273);class Cn extends m.a.Component{constructor(e){super(e),this.inputChangeHandler=Ze()(e=>({target:t})=>{const s={...this.state.values};an()(s,e,t.value),this.setState({values:s})}),this.selectHandler=Ze()(e=>t=>{const s=Array.isArray(t)?t.map(({value:e})=>e):t.value,a={...this.state.values};an()(a,e,s),this.setState({values:a})}),this.saveClickHandler=e=>{e.preventDefault(),this.props.saveHandler(this.state.values),this.props.closeHandler()},this.cancelClickHandler=()=>{this.props.closeHandler()},this.getRules=()=>l()(this.state.values,"rules",[]),this.setRules=e=>{this.setState(t=>({values:{...t.values,rules:e}}))},this._B3=(e,t)=>{const{id:s,type:a,label:i,options:o=[],isMultiple:n=!1,template:r="",botSenderName:c="",style:d,rulesFields:p,maxRules:u}=e,h=l()(this.state.values,s);let g=null;switch(a){case fn.a.text:return m.a._("div",{className:"settings-field",key:s},m.a._("div",{className:"settings-text",style:d},i));case fn.a.textarea:g=m.a._("textarea",{className:"textarea",id:s,onChange:this.inputChangeHandler(s),value:h,maxLength:1e3,autoCapitalize:"none",rows:3});break;case fn.a.select:g=m.a._(Jo.a,{id:s,size:"small",onSelect:this.selectHandler(s),value:h,options:He()(o,({label:e,value:t})=>({label:e,value:t}))});break;case fn.a.preview:g=m.a._(gn,{template:un(r,t),formFields:this.state.values,botSenderName:c});break;case fn.a.rules:return m.a._(vn,{key:s,rulesFields:p,maxRules:u,_B3:this._B3,getRules:this.getRules,setRules:this.setRules,getDefaultValues:this.getDefaultValues});case fn.a.userType:g=m.a._(Jo.a,{id:s,size:"small",isClearable:!0,isMultiple:n,onSelect:this.selectHandler(s),value:h,options:He()(this.getUserTypes(),e=>({label:e.label,value:e.value}))});break;case fn.a.visibility:g=m.a._(Jo.a,{id:s,size:"small",isSearchable:!0,onSelect:this.selectHandler(s),value:h,options:He()(this.getVisibilityOptions(),e=>({label:e,value:e}))});break;case fn.a.number:g=m.a._(qo.a,{id:s,type:"number",size:"small",onChange:this.inputChangeHandler(s),defaultValue:h});break;case fn.a.string:default:g=m.a._(qo.a,{id:s,type:"text",size:"small",onChange:this.inputChangeHandler(s),defaultValue:h})}return m.a._("div",{className:"settings-field",key:s},m.a._("div",{className:"settings-label"},m.a._("label",{htmlFor:s},i)),m.a._("div",{className:"settings-value"},g))};const t={...this.getDefaultValues(e.formFields),...this.props.values};this.state={values:{...this.getDefaultValues(e.formFields),...t}}}_A(){const{isInstallation:e}=this.props;e&&this.props.saveHandler(this.state.values)}getDefaultValues(e){return e.filter(({type:e})=>e!==fn.a.text).reduce((e,{id:t,defaultValue:s})=>({...e,[t]:s}),{})}getUserTypes(){return[{label:"Guests",value:"isGuest"},{label:"Greys",value:"isRegular"},{label:"Greens",value:"isGreen"},{label:"Golds",value:"isGold"},{label:"Knights",value:"isKnight"},{label:"Fan Club Subscribers",value:"isFanClub"}]}getVisibilityOptions(){return["All","User"]}_B4(){const{formFields:e,isInstallation:t}=this.props;return m.a._("form",{onSubmit:this.saveClickHandler},m.a._("div",{className:"form-fields"},He()(e,e=>this._B3(e))),m.a._("div",{className:"form-controls"},m.a._(Tt.a,{style:"apply",type:"submit"},"Save"),m.a._(Tt.a,{className:"close-button",onClick:this.cancelClickHandler},t?"Set Up Later":"Cancel")))}render(){return m.a._("div",{className:"settings-form"},this._B4())}}Cn.displayName="AppSettingsForm";const Nn={updateAppSettings:Wo.n};class On extends m.a.Component{constructor(...e){super(...e),this.saveSettings=e=>{const{app:t}=this.props,s=l()(t,"modelSettings.isEnabled",!1);this.props.updateAppSettings(t.id,s,e)},this.closeClickHandler=()=>{this.props.onClose()}}_B7(){const{app:e}=this.props;return m.a._("div",{className:"header"},m.a._("img",{className:"app-image",src:e.imageUrl,alt:""}),m.a._("div",{className:"name-container"},m.a._("div",{className:"name"},e.title),m.a._("div",{className:"author"},m.a._(ye.a,{img:"stripchat-logo"}),"Stripchat")))}render(){const{app:e,isInstallation:t}=this.props,s=l()(e,"modelSettings.settings");return m.a._(Ko.a,{isWrapperCloseDisabled:!0,className:"modal-wrapper app-settings-modal",onClose:this.closeClickHandler,source:"appSettingsModal",titlePosition:"outside"},m.a._("div",{className:"inner-modal-wrapper"},this._B7(),m.a._("div",{className:"description"},e.summary),m.a._("div",{className:"description"},e.settingsDescription),m.a._(Cn,{formFields:tn.a,values:s,isInstallation:t,saveHandler:this.saveSettings,closeHandler:this.closeClickHandler})))}}On.displayName="AppSettingsModal",On.defaultProps={app:{}};var yn=Object(g.c)(null,Nn)(On);const wn={uninstallApp:Wo.l,selectAppDescription:Wo.k};class Sn extends m.a.Component{constructor(...e){super(...e),this.closeClickHandler=()=>{this.props.onClose()},this.removeApp=()=>{const{app:e}=this.props;this.props.uninstallApp(e.id),this.props.selectAppDescription(null),this.closeClickHandler()}}render(){return m.a._(Ko.a,{isWrapperCloseDisabled:!0,className:"modal-wrapper confirm-remove-app-modal",onClose:this.closeClickHandler,source:"appRemoveModal",titlePosition:"outside"},m.a._("div",{className:"inner-modal-wrapper"},"Would you like to remove the extension from your room?",m.a._("div",{className:"buttons"},m.a._(Tt.a,{onClick:this.closeClickHandler},"Cancel"),m.a._(Tt.a,{onClick:this.removeApp,style:"accept"},"Remove"))))}}Sn.displayName="ConfirmRemoveAppModal",Sn.defaultProps={app:{}};var kn=Object(g.c)(null,wn)(Sn),jn=s(48),In=s(60);class Tn extends In.a{constructor(...e){super(...e),this.cancelClickHandler=()=>{const{onClose:e,updatePlayerType:t}=this.props;t(""),e()}}_F(){return m.a._("div",{className:"air-play-connecting-modal"},m.a._(ye.a,{img:"airplay",size:40}),m.a._("span",null,Object(Se.d)("viewCam.airPlay.connected")),m.a._(Tt.a,{onClick:this.cancelClickHandler,style:"default-filled"},Object(Se.d)("viewCam.airPlay.disconnect")))}}const Pn={updatePlayerType:jn.O};Tn.propTypes={className:d.a.string,isCloseBtnShown:d.a.bool,isWrapperCloseDisabled:d.a.bool,onClose:d.a.func.isRequired,titlePosition:d.a.string,...Object(M.a)(Pn)},Tn.defaultProps={...In.a.defaultProps,className:"air-play-connecting-modal-wrapper",isCloseBtnShown:!1,isWrapperCloseDisabled:!0,titlePosition:"none"};var Mn=Object(g.c)(null,e=>Object(wa.b)(Pn,e))(Tn);class En extends In.a{constructor(...e){super(...e),this.onClickEventHandler=()=>{"/settings"===this.props.location.pathname?this.props.hideModal():this.props.routerPush("/settings")}}_D(){return m.a._("span",null,Object(Se.d)("confirmEmail.title"))}_F(){const{description:e}=this.props;return m.a._("div",{className:"modal-body"},m.a._(ye.a,{img:"mail",size:80}),m.a._("div",{className:"description"},e),m.a._(Tt.a,{size:"medium",onClick:this.onClickEventHandler},Object(Se.d)("confirmEmail.goToSettings")))}}const An={hideModal:k.a,routerPush:P.H};En.propTypes={className:d.a.string,description:d.a.string.isRequired,isCloseBtnShown:d.a.bool,isWrapperCloseDisabled:d.a.bool,titlePosition:d.a.string,...Object(M.a)(An)},En.defaultProps={...In.a.defaultProps,titlePosition:"outside",isCloseBtnShown:!0,isWrapperCloseDisabled:!1,className:"confirm-email-modal"};var Un=Object(X.h)(Object(g.c)(null,e=>Object(wa.b)(An,e))(En)),Hn=s(298),Ln=s.n(Hn),Rn=s(104),Fn=s(86),Dn=s(73),xn=s(563);class Bn extends m.a.Component{constructor(...e){super(...e),this.closeClickHandler=()=>{this.props.onClose()},this.regenerateTokenClickHandler=()=>{this.props.generateExternalToken()}}_A(){const{externalBroadcastToken:e}=this.props;e||this.props.generateExternalToken()}_k(){const{externalBroadcastSettings:e}=this.props,t=n()(e,["url"]);return He()(t,(e,t)=>m.a._("div",{className:Object(j.c)("settings-row",`settings-row-${t}`),key:t},m.a._("div",{className:"settings-name"},Object(Se.d)(`externalBroadcast.settings.${t}`)),m.a._("div",{className:"settings-value"},e)))}render(){const{streamNameToken:e,className:t,hostRoot:s,externalBroadcastSettings:a}=this.props,i=Ln()(s.replace(/(.+)\.(.+)/,"$1"));return m.a._(Ko.a,{className:Object(j.c)("external-broadcast-specification",t),onClose:this.closeClickHandler,source:"externalBroadcast",titlePosition:"outside"},m.a._("div",{className:"broadcast-specification-header"},m.a._("div",{className:"header-title"},m.a._(ye.a,{img:"camera-settings",size:50}),m.a._("span",{className:"text-external-broadcast"},Object(Se.d)("externalBroadcast.header",{siteName:i}))),m.a._("div",{className:"header-sub-title"},Object(Se.d)("externalBroadcast.copy")),m.a._("div",{className:"header-input-wrapper"},m.a._("div",{className:"header-copy"},Object(Se.d)("externalBroadcast.server")),m.a._(xn.a,{value:l()(a,"url"),readOnly:!0})),m.a._("div",{className:"header-input-wrapper"},m.a._("div",{className:"header-copy"},Object(Se.d)("externalBroadcast.token")),m.a._(xn.a,{value:e,readOnly:!0})),m.a._("div",{className:"header-generate-token-wrapper"},m.a._("span",{className:"header-generate-token",onClick:this.regenerateTokenClickHandler},m.a._(Dt.a,{className:"header-generate-token-label",messageId:"externalBroadcast.refreshToken",elements:{icon:m.a._(ye.a,{img:"renew"}),link:m.a._("span",null)}})))),m.a._("div",{className:"broadcast-specification-settings"},m.a._("div",{className:"settings-title"},Object(Se.d)("externalBroadcast.settings.title")),m.a._("div",{className:"settings-description"},m.a._(Dt.a,{messageId:"externalBroadcast.settings.description",elements:{span:m.a._("span",{className:"settings-description-highlighted"})}})),this._k(),m.a._("div",{className:"settings-description-important"},"*"," ",Object(Se.d)("externalBroadcast.settings.important"))),m.a._("div",{className:"broadcast-specification-footer"},m.a._("span",{className:"broadcast-specification-help"},m.a._(it.a,{href:"https://wiki.stripchat.com/How_to_use_OBS_studio",className:"broadcast-specification-link"},m.a._(ye.a,{img:"exclamation-in-circle"}),Object(Se.d)("externalBroadcast.help"))),m.a._(Tt.a,{onClick:this.closeClickHandler},Object(Se.d)("externalBroadcast.close"))))}}Bn.displayName="ExternalBroadcastSpecificationModal";const Vn={generateExternalToken:Rn.j};var zn=Object(g.c)(e=>{const t=Object(Dn.i)(e);return{externalBroadcastSettings:Object(Fn.g)(e),externalBroadcastToken:Object(Dn.h)(e),hostRoot:Object(E.h)(e),streamNameToken:t}},e=>Object(wa.b)(Vn,e))(Bn),$n=s(84),Gn=s(312),Wn=s(75);class Kn extends In.a{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:[Fn.u],action:()=>{this.props.hideModal(pe.F.GROUP_SHOW_MODES)}}],this.modalCloseHandler=()=>{this.props.onClose()},this.modalKeyDownHandler=e=>{e.keyCode===pe.C.escape&&this.modalCloseHandler()},this.cancelGroupShow=e=>{e.preventDefault(),this.props.cancelGroupShowAnnouncement()},this.startGroupShow=e=>{e.preventDefault();const{topic:t}=this.state;t?(this.modalCloseHandler(),this.props.startGroupShow(t)):this.setState({topic:""})},this.delayedStartOfGroupShow=e=>{e.preventDefault();const{announcePeriodDuration:t}=this.props,{topic:s}=this.state;s?(this.modalCloseHandler(),this.props.announceGroupShow({delay:t,topic:s})):this.setState({topic:""})},this.getLearnMoreUrl=()=>{const{isStripChat:e,isXHamsterLive:t}=this.props;return e?"https://wiki.stripchat.com/Basic_Tour_for_Models":t?"https://wiki.xhamsterlive.com/Main_Page#Watch_Group_Shows":"https://wiki.supportlivecam.com/Main_Page#Watch_Group_Shows"},this.closeModalAndGoToPricingSettings=()=>{this.props.setBroadcastSettingsTab($n.c.INFORMATION),this.props.onCloseWithScroll($n.k)()},this._D=()=>Object(Se.d)("privateModes.title"),this.onGroupShowTopicChange=e=>{const t=e.target.value;this.setState({topic:t}),this.props.saveGroupShowTopic(t,"perMinute")},this.onTicketShowTopicChange=e=>{const t=e.target.value;this.setState({topicForTicketShow:t}),this.props.saveGroupShowTopic(t,"ticket")},this.delayedStartOfTicketShow=e=>{e.preventDefault();const{announcePeriodDuration:t}=this.props,{topicForTicketShow:s}=this.state;s?(this.modalCloseHandler(),this.props.announceGroupShow({delay:t,topic:s,type:"ticket"})):this.setState({topicForTicketShow:""})}}_A(){super._A();const{groupShowAnnouncementTopic:e}=this.props;Object(mt.a)(this,document,"keydown",this.modalKeyDownHandler),e.perMinute&&this.setState({topic:e.perMinute}),e.ticket&&this.setState({topicForTicketShow:e.ticket})}_F(){const{pricingUrl:e}=this.props,t=this.getLearnMoreUrl();return m.a._(h.Fragment,null,m.a._("div",{className:"modal-body"},this._fg(),this._fh()),m.a._("div",{className:"modal-footer"},m.a._(it.a,{href:t,className:"action-link"},m.a._(ye.a,{img:"exclamation-in-circle"}),Object(Se.d)("button.learnMore")),m.a._(Oe.a,{to:e,className:"action-link",onClick:this.closeModalAndGoToPricingSettings},Object(Se.d)("privateModes.priceSettings"))))}_fg(){const{ticketRate:e,groupShowAnnouncementTopic:t,isGroupShowAnnounced:s,isTicketShowsAllowed:a,pricingUrl:i}=this.props;return a?m.a._("div",{className:"private-modes-block"},m.a._("div",{className:"private-mode-icon"},m.a._(ye.a,{img:"group"})),m.a._("div",{className:"private-mode-body"},m.a._("div",{className:"private-mode-title"},Object(Se.d)("privateModes.ticketShow.title")),m.a._(Oe.a,{to:i,className:"private-mode-rate action-link",onClick:this.closeModalAndGoToPricingSettings},m.a._(Dt.a,{messageId:"privateModes.ticketRate",parameters:{rate:e}})),m.a._("div",{className:"private-mode-description"},Object(Se.d)("privateModes.ticketShow.text")),m.a._("label",{className:"private-mode-label",htmlFor:"private_show_description_input"},Object(Se.d)("topic")),m.a._(qo.a,{id:"ticket_show_description_input",disabled:s,placeholder:Object(Se.d)("privateModes.ticketShow.placeholder"),defaultValue:t.ticket,className:"private-mode-input",onChange:this.onTicketShowTopicChange,maxLength:50}),this._fi(),m.a._("div",{className:"private-mode-actions"},this._fj()))):null}_fk(){const{topic:e}=this.state;return e||void 0===e?null:m.a._(Wn.a,{error:{message:Object(Se.d)("privateModes.groupShow.fillTopicError")},targetId:"private_show_description_input"})}_fi(){const{topicForTicketShow:e}=this.state;return e||void 0===e?null:m.a._(Wn.a,{error:{message:Object(Se.d)("privateModes.groupShow.fillTopicError")},targetId:"ticket_show_description_input"})}_fh(){const{groupRate:e,isGroupShowsAllowed:t,groupShowAnnouncementTopic:s,isGroupShowAnnounced:a,isStripChat:i,pricingUrl:o}=this.props;return t?m.a._("div",{className:"private-modes-block"},m.a._("div",{className:"private-mode-icon"},m.a._(ye.a,{img:"group"})),m.a._("div",{className:"private-mode-body"},m.a._("div",{className:"private-mode-title"},Object(Se.d)("privateModes.groupShow.title")),m.a._(Oe.a,{to:o,className:"private-mode-rate action-link",onClick:this.closeModalAndGoToPricingSettings},m.a._(Dt.a,{messageId:"privateModes.rate",parameters:{rate:e}})),m.a._("div",{className:"private-mode-description"},Object(Se.d)("privateModes.groupShow.text"),i&&m.a._("a",{className:"private-mode-description-more-link",target:"_blank",rel:"noreferrer noopener",href:"https://help.stripchat.com/en/support/solutions/articles/35000129006-how-to-start-a-group-show"},Object(Se.d)("privateModes.groupShow.more"))),m.a._("label",{className:"private-mode-label",htmlFor:"private_show_description_input"},Object(Se.d)("topic")),m.a._(qo.a,{id:"private_show_description_input",disabled:a,placeholder:Object(Se.d)("privateModes.groupShow.placeholder"),defaultValue:s.perMinute,className:"private-mode-input",onChange:this.onGroupShowTopicChange,maxLength:50}),this._fk(),m.a._("div",{className:"private-mode-actions"},this._fl()))):null}_fj(){const{isGroupShowAnnounced:e,joinedUsersAmount:t,groupShowAnnouncementType:s}=this.props;if(e&&"ticket"===s)return m.a._(h.Fragment,null,m.a._(Tt.a,{style:"accept",onClick:this.cancelGroupShow},Object(Se.d)("privateModes.ticketShow.cancelAnnouncement")),m.a._(Dt.a,{className:"private-mode-joined",messageId:"privateModes.ticketShow.usersJoined",parameters:{amount:t},choiceParameter:"amount"}));const{topicForTicketShow:a}=this.state,i=""===a||e&&"ticket"!==s;return m.a._(Tt.a,{disabled:i,onClick:this.delayedStartOfTicketShow},m.a._(Dt.a,{messageId:"privateModes.ticketShow.announceAndStart",parameters:{minutes:It.a},choiceParameter:"minutes"}))}_fl(){const{isGroupShowAnnounced:e,joinedUsersAmount:t,groupShowAnnouncementType:s}=this.props;if(e&&"perMinute"===s)return m.a._(h.Fragment,null,m.a._(Tt.a,{style:"accept",onClick:this.cancelGroupShow},Object(Se.d)("privateModes.groupShow.cancelAnnouncement")),m.a._(Dt.a,{className:"private-mode-joined",messageId:"privateModes.groupShow.usersJoined",parameters:{amount:t},choiceParameter:"amount"}));const{topic:a}=this.state,i=""===a||e&&"perMinute"!==s;return m.a._(h.Fragment,null,m.a._(Tt.a,{disabled:i,onClick:this.delayedStartOfGroupShow},m.a._(Dt.a,{messageId:"privateModes.groupShow.announceAndStart",parameters:{minutes:It.a},choiceParameter:"minutes"})),m.a._(Tt.a,{disabled:i,onClick:this.startGroupShow},Object(Se.d)("button.startNow")))}}const qn={announceGroupShow:Rn.d,cancelGroupShowAnnouncement:Rn.e,hideModal:k.a,startGroupShow:Rn.s,saveGroupShowTopic:Rn.o,setBroadcastSettingsTab:Rn.p};Kn.propTypes={...In.a.propTypes,groupShowAnnouncementTopic:d.a.shape({perMinute:d.a.bool,ticket:d.a.bool}),groupRate:d.a.number,ticketRate:d.a.number,announcePeriodDuration:d.a.number,isVirtualPrivateModeAllowed:d.a.bool,isGroupShowsAllowed:d.a.bool,isTicketShowsAllowed:d.a.bool,groupShowAnnouncementType:d.a.string,isGroupShowAnnounced:d.a.bool,joinedUsersAmount:d.a.number,isStripChat:d.a.bool,isXHamsterLive:d.a.bool,isTicketShow:d.a.bool,...Object(M.a)(qn)},Kn.defaultProps={...In.a.defaultProps,className:"private-modes-modal-popup",isCloseBtnShown:!0,titlePosition:"outside"};var Jn=Object(g.c)(e=>{const{broadcast:{model:t,groupShowAnnouncementTopic:s}}=e,{groupRate:a,ticketRate:i=10,username:o}=t;return{groupRate:a,ticketRate:i,groupShowAnnouncementTopic:s,pricingUrl:Object(Gn.a)(e,o),announcePeriodDuration:Object(G.g)(),isVirtualPrivateModeAllowed:Object(Fn.p)(e),isGroupShowsAllowed:Object(Fn.n)(e),isTicketShowsAllowed:Object(Fn.o)(e),groupShowAnnouncementType:Object(G.h)(e),isGroupShowAnnounced:Object(G.w)(e),joinedUsersAmount:Object(G.m)(e),isStripChat:Object(xe.h)(e),isXHamsterLive:Object(xe.j)(e),isTicketShow:Object(G.Ab)(e)}},qn)(Kn),Yn=s(139),Xn=s(63),Qn=s.n(Xn),Zn=s(106),er=s.n(Zn);class tr extends h.Component{constructor(...e){super(...e),this.removeLevel=()=>{const{level:e}=this.props;this.props.onRemoveLevel(e)},this.onSelectVibrationHandler=({value:e})=>{const{level:t}=this.props;this.props.onChange({...t,vibration:e})},this.onChangeNumberFiledHandler=e=>{const{target:{name:t,value:s}}=e,{level:a}=this.props,i=Number(s);Number.isNaN(i)||this.props.onChange({...a,[t]:i})}}render(){const{isSingleLevel:e,index:t,level:s,error:a}=this.props,i=He()(It.V,e=>({value:e,label:Object(Se.d)(`kiirooSettingsModal.settings.levels.${e}`)}));return m.a._("div",{className:Object(j.c)("kiiroo-settings-level",{error:a}),id:s.id},m.a._("div",{className:"kiiroo-settings-level-wrapper"},m.a._("div",{className:"kiiroo-settings-level-label"},Object(Se.d)("kiirooSettingsModal.settings.level")," ",t),m.a._("div",{className:"kiiroo-settings-level-tip"},m.a._(qo.a,{name:"min",value:s.min||"",onChange:this.onChangeNumberFiledHandler,size:"small",type:"text",maxlength:"5"}),Object(Se.d)("kiirooSettingsModal.settings.to"),m.a._(qo.a,{name:"max",value:s.max||"",onChange:this.onChangeNumberFiledHandler,size:"small",type:"text",maxlength:"5"})),m.a._("div",{className:"kiiroo-settings-level-duration"},m.a._(qo.a,{name:"duration",value:s.duration||"",onChange:this.onChangeNumberFiledHandler,size:"small",type:"text",maxlength:"5"})),m.a._("div",{className:"kiiroo-settings-level-vibration"},m.a._(Jo.a,{onSelect:this.onSelectVibrationHandler,value:s.vibration,options:i,size:"small"})),!e&&m.a._("div",{className:"kiiroo-settings-level-remove","data-level-id":s.id,onClick:this.removeLevel},m.a._(ye.a,{img:"close-5"}))),a&&m.a._(Wn.a,{error:a,targetId:s.id}))}}tr.displayName="KiirooSettingsLevel",tr.defaultProps={error:null,index:0,isSingleLevel:!0,level:{},onChange:va.a,onRemoveLevel:va.a};var sr=tr;const ar={id:Number(er()()),min:null,max:null,duration:null,vibration:It.V.LOW},ir={updateKiirooSettings:Yn.i};class or extends h.Component{constructor(...e){super(...e),this.state={hasSettingsChanged:!1,settings:[],errors:{}},this.addLevel=()=>{const{settings:e}=this.state,t={...ar,id:Number(er()())};this.setState({hasSettingsChanged:!0,settings:[...e,t]})},this.removeLevel=e=>{const{settings:t}=this.state,s=O()(t,t=>t.id!==e.id);this.setState({hasSettingsChanged:!0,settings:s})},this.onChange=e=>{const{settings:t}=this.state,s=Qn()(t,(t,s)=>s.id===e.id?(t.push(e),t):(t.push(s),t),[]);this.setState({hasSettingsChanged:!0,settings:s})},this.getlevelsWithId=e=>He()(e,e=>({...e,id:Number(er()())})),this.getlevelsWitouthId=e=>He()(e,e=>n()(e,"id")),this.getIsLevelError=e=>e.min&&e.max&&e.max<e.min,this.getIsLevelFieldsEmpty=e=>!e.min&&!e.max&&!e.duration,this.getIsLevelEmpty=e=>!e.min||!e.max||!e.duration,this.getIsLevelIntersection=e=>{const{settings:t}=this.state;if(this.getIsLevelEmpty(e))return!1;const s=O()(t,t=>t.id!==e.id&&e.id>t.id);return ga()(s,t=>e.min<=t.min||e.min<=t.max||e.max<t.min||e.max<=t.max)},this.getValidateLevels=e=>Qn()(e,(e,t)=>{const s=this.getIsLevelEmpty(t),a=this.getIsLevelError(t),i=this.getIsLevelIntersection(t);return a?e[t.id]={message:Object(Se.d)("kiirooSettingsModal.settings.errors.reverse")}:i?e[t.id]={message:Object(Se.d)("kiirooSettingsModal.settings.errors.intersection")}:s&&(e[t.id]={message:Object(Se.d)("kiirooSettingsModal.settings.errors.empty")}),e},{}),this.getLevelError=e=>{const{errors:t}=this.state;return l()(t,e.id,null)},this.getLevelsWithoutEmpty=()=>{const{settings:e}=this.state;if(e.length>1){const t=O()(e,e=>!this.getIsLevelFieldsEmpty(e));return t.length>=1?t:[ar]}return e},this.saveKiirooSettings=e=>{const t=this.getlevelsWitouthId(e);this.props.updateKiirooSettings(t)},this.updateKiirooSettings=()=>{const e=this.getLevelsWithoutEmpty(),t=this.getValidateLevels(e);this.setState({settings:e,errors:t}),i()(t)&&this.saveKiirooSettings(e)}}_A(){const{settings:e}=this.props,t=i()(e)?[ar]:e;this.setState({hasSettingsChanged:!1,settings:this.getlevelsWithId(t)})}componentDidUpdate(e){const{settings:t}=e,{settings:s}=this.props;if(s!==t){const e=i()(s)?[ar]:s;this.setState({hasSettingsChanged:!1,settings:this.getlevelsWithId(e)})}}_fm(){const{settings:e}=this.state;return e.length>=15?null:m.a._("div",{className:"kiiroo-settings-add-level",onClick:this.addLevel},m.a._(ye.a,{img:"plus-unframed"}),Object(Se.d)("kiirooSettingsModal.settings.addLevel"))}_fn(){const{settings:e}=this.state,t=e.length<=1;return He()(e,(e,s)=>m.a._(sr,{level:e,key:e.id,index:s+1,onRemoveLevel:this.removeLevel,onChange:this.onChange,error:this.getLevelError(e),isSingleLevel:t}))}_B7(){const e="kiirooSettingsModal.settings.header";return m.a._("div",{className:"kiiroo-settings-header"},m.a._("div",{className:"kiiroo-settings-header-item"},Object(Se.d)(`${e}.level`)),m.a._("div",{className:"kiiroo-settings-header-item"},Object(Se.d)(`${e}.tip`)),m.a._("div",{className:"kiiroo-settings-header-item"},Object(Se.d)(`${e}.duration`)),m.a._("div",{className:"kiiroo-settings-header-item"},Object(Se.d)(`${e}.vibration`)))}render(){const{hasSettingsChanged:e}=this.state;return m.a._("div",{className:"kiiroo-settings"},m.a._("div",{className:"kiiroo-settings-levels"},this._B7(),this._fn()),this._fm(),m.a._("div",{className:"kiiroo-settings-actions"},m.a._(Tt.a,{size:"large",style:e?"apply":"default",onClick:this.updateKiirooSettings,disabled:!e},e?Object(Se.d)("kiirooSettingsModal.settings.save"):Object(Se.d)("kiirooSettingsModal.settings.saved"))))}}or.displayName="KiirooSettings",or.defaultProps={settings:[ar]};var nr=Object(g.c)(null,ir)(or);const rr=({device:e})=>m.a._("div",{className:"kiiroo-settings-modal-wizard-device"},m.a._("div",{className:"kiiroo-settings-modal-wizard-device-type"},m.a._(ye.a,{img:"lovense",size:17}),m.a._("div",{className:"kiiroo-settings-modal-wizard-device-label"},m.a._("div",{className:"kiiroo-settings-modal-wizard-device-name"},e),m.a._("div",{className:"kiiroo-settings-modal-wizard-device-status"},Object(Se.d)("kiirooSettingsModal.settings.devices.connected")))),m.a._("div",{className:"kiiroo-settings-modal-wizard-device-badge"}));rr.displayName="KiirooSettingsDevice";var lr=rr,cr=s(109);const dr={emitButtonEvent:f.b,updateKiirooToken:Yn.j,loadKiirooSettings:Yn.b};class pr extends m.a.Component{constructor(...e){super(...e),this.state={isKiirooAuth:!1},this.closeClickHandler=()=>{this.props.onClose()},this.reconnectClickHandler=()=>{this.props.updateKiirooToken(),this.setState({isKiirooAuth:!1})}}_A(){const{isBroadcastingPage:e,isKiirooAuth:t,user:s}=this.props;this.setState({isKiirooAuth:t}),t?(e&&this.props.loadKiirooSettings(s.id),e||this.props.emitButtonEvent(pe.b.VIEWCAM_KIIROO_CONNECTED)):(this.props.updateKiirooToken(),e||this.props.emitButtonEvent(pe.b.VIEWCAM_KIIROO_CONNECTION))}componentDidUpdate(e,t){const{isKiirooAuth:s,kiirooToken:a}=e,{isKiirooAuth:i,kiirooToken:o,user:n}=this.props,{isKiirooAuth:r}=this.state,l=i!==r&&t.isKiirooAuth===r;o===a&&(l&&this.setState({isKiirooAuth:i}),i&&i!==s&&this.props.loadKiirooSettings(n.id))}_D(){const{user:e}=this.props,{isKiirooAuth:t}=this.state;return e.isModel?t?Object(Se.d)("kiirooSettingsModal.model.modalDeviceTitle"):Object(Se.d)("kiirooSettingsModal.model.modalAuthTitle"):t?Object(Se.d)("kiirooSettingsModal.user.modalDeviceTitle"):Object(Se.d)("kiirooSettingsModal.user.modalAuthTitle")}_fo(){const{kiirooToken:e}=this.props;return m.a._("div",{className:"kiiroo-settings-modal-wizard auth"},pe.j.touch&&m.a._("div",{className:"kiiroo-settings-modal-wizard-alert"},Object(Se.d)("kiirooSettingsModal.auth.alert")),m.a._("ul",{className:"kiiroo-settings-modal-wizard-descriptions"},m.a._("li",{className:"kiiroo-settings-modal-wizard-description"},m.a._(Dt.a,{elements:{strong:m.a._("strong",null)},messageId:"kiirooSettingsModal.auth.step1"})),m.a._("li",{className:"kiiroo-settings-modal-wizard-description"},Object(Se.d)("kiirooSettingsModal.auth.step2")),m.a._("li",{className:"kiiroo-settings-modal-wizard-description"},Object(Se.d)("kiirooSettingsModal.auth.step3")),m.a._("li",{className:"kiiroo-settings-modal-wizard-description"},Object(Se.d)("kiirooSettingsModal.auth.step4"))),m.a._("div",{className:"kiiroo-settings-modal-wizard-qrcode"},m.a._("img",{src:`http://api.qrserver.com/v1/create-qr-code/?data=${e}`,alt:"qrcode"})))}_fp(){const{kiirooDevices:e,isKiiroOnline:t}=this.props;return e&&e.length&&t?He()(e,e=>m.a._(lr,{device:e,key:e})):m.a._("div",{className:"kiiroo-settings-modal-wizard-device error"},Object(Se.d)("kiirooSettingsModal.settings.noDevicesConnectedMessage"))}_fq(){const{kiirooDevices:e,kiirooSettings:t,user:s}=this.props,a=e&&e.length;return m.a._("div",{className:"kiiroo-settings-modal-wizard settings"},!s.isModel&&m.a._("div",{className:"kiiroo-settings-modal-wizard-title"},Object(Se.d)("kiirooSettingsModal.user.devices.title")),!s.isModel&&m.a._("div",{className:"kiiroo-settings-modal-wizard-description"},Object(Se.d)("kiirooSettingsModal.user.devices.description")),s.isModel&&m.a._("div",{className:"kiiroo-settings-modal-wizard-devices-header"},a?Object(Se.d)("kiirooSettingsModal.settings.connectedDevices"):Object(Se.d)("kiirooSettingsModal.settings.noDevicesConnected")),m.a._("div",{className:"kiiroo-settings-modal-wizard-devices"},this._fp()),!s.isModel&&m.a._("div",{className:"back-to-model"},m.a._(Tt.a,{style:"default",onClick:this.closeClickHandler},Object(Se.d)("kiirooSettingsModal.user.backToModel"))),s.isModel&&m.a._(h.Fragment,null,m.a._("div",{className:"kiiroo-settings-modal-wizard-settings-header"},Object(Se.d)("kiirooSettingsModal.settings.vibrationSettings")),m.a._("div",{className:"kiiroo-settings-modal-wizard-settings"},m.a._(nr,{settings:t}))))}render(){const{isKiirooAuth:e}=this.state;return m.a._(Ko.a,{className:"modal-wrapper kiiroo-settings-modal",onClose:this.closeClickHandler,source:"kiirooSettingsModal",titlePosition:"outside",title:this._D()},m.a._("div",{className:"kiiroo-settings-modal-content"},!e&&this._fo(),e&&this._fq()),m.a._("div",{className:Object(j.c)("kiiroo-settings-modal-footer",{levels:e})},m.a._("a",{className:"kiiroo-settings-modal-footer-link",href:"https://cdn.stripst.com/pdf/kiiro_howto.pdf",target:"_blank",rel:"noopener noreferrer nofollow"},m.a._(ye.a,{img:"exclamation-in-circle"}),Object(Se.d)("kiirooSettingsModal.footer.learnMore")),e&&m.a._("a",{className:"kiiroo-settings-modal-footer-link",onClick:this.reconnectClickHandler},Object(Se.d)("kiirooSettingsModal.footer.reconnect"))))}}pr.displayName="KiirooSettingsModal";var ur=Object(g.c)(e=>({isKiirooAuth:Object(cr.d)(e),kiirooToken:Object(cr.j)(e),isKiiroOnline:Object(cr.c)(e),kiirooDevices:Object(cr.h)(e),kiirooSettings:Object(cr.i)(e),user:Object(Xt.a)(e),isBroadcastingPage:Object(G.r)(e)}),dr)(pr);class hr extends In.a{constructor(e){super(e),this._Bo=e=>{e.preventDefault(),this.props.params.onSubmit({description:this.state.description.trim(),name:this.state.name.trim(),previousName:this.props.params.name}),this.closeButtonClickHandler(e)},this._fr=e=>{e.preventDefault(),this.closeButtonClickHandler(e)},this._fs=e=>{e.preventDefault(),this.setState({isVisibleConfirmation:!0})},this._ft=e=>{e.preventDefault(),this.props.params.onRemove(this.props.params.name),this.closeButtonClickHandler(e)},this._fu=e=>{const{value:t}=e.target;this.setState({name:t.replace(/^\s+/,""),isExistedName:this.props.params.reservedNames.includes(t.toLowerCase().trim()),hasUrlInTitle:/\bhttps?:\/\//i.test(t)})},this._fv=e=>{this.setState({description:e.target.value.replace(/^\s+/,"")})},this.state={...this.state,description:this.props.params.description,name:this.props.params.name,hasUrlInTitle:!1,isExistedName:!1,isVisibleConfirmation:!1,isVisibleExample:!1}}_fw(){return m.a._("div",{style:{textAlign:"center"}},m.a._("h3",null,Object(Se.d)("fanClub.benefits.form.shouldDeleteBenefit")),m.a._("form",{className:"model-fan-club-edit-custom-benefit-modal-content-controls",style:{width:"200px",margin:"20px auto 0"}},m.a._(Tt.a,{onClick:()=>this.setState({isVisibleConfirmation:!1}),style:"default-restyled",type:"button"},Object(Se.d)("fanClub.benefits.form.keepBenefit")),m.a._(Tt.a,{onClick:this._ft,style:"accept",type:"submit"},Object(Se.d)("button.delete"))))}_fx(e){return m.a._("span",{className:"example-wrapper"},m.a._("span",{className:"example-title"},`${Object(Se.d)("example")} ${e}`),m.a._("span",{className:"example-text"},m.a._(Dt.a,{elements:{accent:m.a._("span",{className:"accent"})},messageId:`fanClub.benefits.examples.${e}.title`})),m.a._("span",{className:"example-text"},m.a._(Dt.a,{elements:{accent:m.a._("span",{className:"accent"})},messageId:`fanClub.benefits.examples.${e}.description`})))}_fy(){return this.state.isExistedName?m.a._(Wn.a,{error:{message:Object(Se.d)("fanClub.benefits.error.alreadyUsedName")},targetId:"model-fan-club-edit-custom-benefit-modal-content-name"}):this.state.hasUrlInTitle?m.a._(Wn.a,{error:{message:Object(Se.d)("fanClub.benefits.error.urlName")},targetId:"model-fan-club-edit-custom-benefit-modal-content-name"}):null}_F(){if(this.state.isVisibleConfirmation)return this._fw();const{description:e,hasUrlInTitle:t,isExistedName:s,isVisibleExample:a,name:i}=this.state,o=this.state.name!==this.props.params.name||this.state.description!==this.props.params.description;return m.a._("div",{className:"model-fan-club-edit-custom-benefit-modal-content",onClick:()=>this.setState({isVisibleExample:!1})},m.a._("span",{className:"model-fan-club-edit-custom-benefit-modal-content-close",onClick:this.closeButtonClickHandler},m.a._(ye.a,{img:"close-3",size:12})),m.a._("h3",null,"Custom Extra Benefit"),m.a._("div",{className:"text-block"},Object(Se.d)("fanClub.benefits.form.customBenefitInfo")," ",m.a._("span",{className:"interactive primary",id:"custom-benefit-form-example-tooltip",onClick:e=>{e.stopPropagation(),this.setState({isVisibleExample:!a})}},Object(Se.d)("examplesShow")," ",a&&m.a._(za.a,{className:"model-fan-club-tooltip",isMobileRelative:!1,isForceVisible:!0,targetId:"custom-benefit-form-example-tooltip"},this._fx(1),this._fx(2)))),m.a._("form",{onSubmit:this._Bo},m.a._("label",{className:"label"},m.a._("div",{className:"label-title text-block"},m.a._(Dt.a,{elements:{accent:m.a._("span",{className:"accent"})},messageId:"fanClub.benefits.form.customBenefitInputName"})," ",m.a._("span",{style:{whiteSpace:"nowrap"}},Object(Se.d)("fanClub.benefits.form.customBenefitInputNameForAll"),m.a._("span",{id:"custom-benefit-form-name-tooltip",style:{display:"inline-block"}},m.a._(ye.a,{img:"question",size:18}),m.a._(za.a,{className:"model-fan-club-tooltip",isMobileRelative:!1,placement:"top",targetId:"custom-benefit-form-name-tooltip"},Object(Se.d)("fanClub.benefits.form.customBenefitInputNameTooltip"))))),m.a._(qo.a,{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:Object(j.c)({error:s}),display:"block",id:"model-fan-club-edit-custom-benefit-modal-content-name",maxLength:30,onChange:this._fu,placeholder:Object(Se.d)("fanClub.benefits.form.customBenefitInputNamePlaceholder"),value:i}),this._fy()),m.a._("label",{className:"label"},m.a._("span",{className:"label-title text-block"},m.a._(ye.a,{img:"lock-1",size:18}),m.a._(Dt.a,{elements:{accent:m.a._("span",{className:"accent"})},messageId:"fanClub.benefits.form.customBenefitInputDescription"})),m.a._(Yo.a,{display:"block",isControlled:!0,maxLength:300,onChange:this._fv,placeholder:Object(Se.d)("fanClub.benefits.form.customBenefitInputDescriptionPlaceholder"),value:e})),m.a._("div",{className:"model-fan-club-edit-custom-benefit-modal-content-controls"},m.a._("div",null,m.a._(Tt.a,{disabled:!o||s||t||!i.trim(),style:"apply-primary",type:"submit"},Object(Se.d)("settings.save")),m.a._(Tt.a,{disabled:!o,onClick:this._fr,style:"default-restyled",type:"button"},Object(Se.d)("settings.cancel"))),Boolean(this.props.params.onRemove)&&m.a._("span",{className:"remove",onClick:this._fs},Object(Se.d)("fanClub.benefits.form.deleteBenefit")))),m.a._("div",{className:"model-fan-club-edit-custom-benefit-modal-footer"},m.a._(Dt.a,{elements:{link:m.a._("a",{className:"accent interactive",href:`https://wiki.${this.props.hostRoot}/Rules_for_Models`,rel:"noreferrer noopener",target:"_blank"})},messageId:"fanClub.benefits.agreeTermsOfUse"})))}}var mr=Object(g.c)(e=>({hostRoot:Object(E.h)(e)}))(hr);class gr extends In.a{constructor(e){super(e),this.onClickEventHandler=()=>{const{acceptWarning:e,warningId:t}=this.props;e(t),this.setState({isWarningAccepted:!1})},this.changeCheckboxValue=e=>{this.setState({isWarningAccepted:e.target.checked})},this.state={...this.state,isWarningAccepted:!1}}_D(){return m.a._("span",null,Object(Se.d)("modelWarningModal.title"))}_F(){const{moderatorUsername:e,reason:t}=this.props,{isWarningAccepted:s}=this.state;return m.a._("div",{className:"modal-body"},m.a._(ye.a,{img:"wrong",size:80}),m.a._("div",{className:"description"},Object(Se.d)("modelWarningModal.description")),m.a._("div",null,m.a._(Dt.a,{messageId:"modelWarningModal.reason",elements:{reasonWrapper:m.a._("span",{className:"reason-wrapper"})},parameters:{reason:t}})),m.a._("div",{className:"accept-wrapper"},m.a._(qo.a,{checked:s,id:"accept_warning_checkbox",type:"checkbox",onChange:this.changeCheckboxValue}),m.a._("label",{htmlFor:"accept_warning_checkbox"},Object(Se.d)("modelWarningModal.agreeAndAccept"))),m.a._("div",null,m.a._(Tt.a,{size:"medium",style:"apply",onClick:this.onClickEventHandler,disabled:!s},Object(Se.d)("button.close"))),m.a._("div",null,m.a._(Oe.a,{className:"contact-admin",target:"_blank",to:`/messages/${e}`},Object(Se.d)("modelWarningModal.contactAdmin"))))}}const br={acceptWarning:Rn.a};gr.propTypes={className:d.a.string,isCloseBtnShown:d.a.bool,isWrapperCloseDisabled:d.a.bool,moderatorUsername:d.a.string,reason:d.a.string,titlePosition:d.a.string,warningId:d.a.number,...Object(M.a)(br)},gr.defaultProps={...In.a.defaultProps,titlePosition:"outside",isCloseBtnShown:!1,isWrapperCloseDisabled:!0,className:"model-warning-modal"};var _r=Object(g.c)(null,e=>Object(wa.b)(br,e))(gr),vr=s(136),fr=s.n(vr);const Cr=["spam","hate"];class Nr extends m.a.PureComponent{constructor(e){super(e),this.closeClickHandler=()=>{this.props.onClose()},this.closeDebounced=$()(()=>{this.props.onClose()},1500),this._Bo=()=>{const{chatOwner:e,message:t}=this.props;this.props.reportUser(e.id,t.id,this.state.selected),this.setState({step:1},this.closeDebounced)},this.selectReport=e=>{this.setState({selected:e.target.value})},this._fz=e=>{const{selected:t}=this.state,s=e===t;return m.a._("div",{key:`report_${e}`,className:"report-user-modal-reports-item"},m.a._(qo.a,{type:"radio",checked:s,onChange:this.selectReport,value:e,theme:"red",name:"report",id:e}),m.a._("label",{htmlFor:e},Object(Se.d)(`camChat.report.${e}`)))},this._g0=()=>m.a._("div",{className:"report-user-modal-content-thank-you"},m.a._(ye.a,{img:"check-round-2",size:32}),Object(Se.d)("camChat.report.thankYou")),this._g1=()=>m.a._("div",{className:"report-user-wrapper"},m.a._("div",{className:"report-user-modal-header"},Object(Se.d)("camChat.report.title",{username:this.props.userData.username})),m.a._("div",{className:"report-user-modal-reports"},He()(Cr,this._fz)),m.a._("div",{className:"report-user-modal-controls"},m.a._(Tt.a,{style:"accept",onClick:this._Bo},Object(Se.d)("button.submit")),m.a._(Tt.a,{onClick:this.closeClickHandler},Object(Se.d)("button.cancel")))),this._F=()=>{const{step:e}=this.state;return m.a._("div",{className:"report-user-modal-content"},0===e?m.a._("div",{className:"close-button",onClick:this.closeClickHandler},m.a._(ye.a,{img:"close-3",size:12})):null,e<=1&&m.a._(Xs.CSSTransition,{classNames:"report-user-content-transition",exit:!0,timeout:200,in:0===e,onExited:()=>this.setState({step:2})},this._g1()),e>1&&m.a._(Xs.CSSTransition,{classNames:"report-user-thank-you-transition",timeout:500,in:e>1},this._g0()))},this.state={step:0,selected:fr()(Cr)}}componentWillUnmount(){this.closeDebounced.cancel()}render(){return m.a._(Ko.a,{className:"modal-wrapper report-user-modal",onClose:this.closeClickHandler,titlePosition:"none"},this._F())}}Nr.displayName="ReportUserModal";var Or=Object(g.c)(null,{reportUser:Pi.y})(Nr),yr=s(214),wr=s.n(yr),Sr=s(167);class kr extends m.a.Component{constructor(...e){super(...e),this.state={switcherState:"",tooltipId:"anonymous-tip-switcher"},this.toggleAnonymous=()=>{const{modelId:e,isEnabled:t,currentUser:s}=this.props;s.isGold?this.props.setAnonymousTipsState(e,!t):(this.setState({switcherState:"on"}),setTimeout(()=>{this.setState({switcherState:""})},250))},this.makeMeGold=()=>{this.props.showSubscriptionPackage(pe.b.VIEWCAM_SEND_ONLINE_TIP)},this._g2=()=>{const{isCompactLayout:e,isEnabled:t,currentUser:s}=this.props,{tooltipId:a}=this.state;return t||s.isGold?null:m.a._(za.a,{className:"anonymous-tip-switcher-tooltip",placement:"top",targetId:a,isMobileRelative:!1,_Dv:()=>m.a._(ye.a,{img:"close-2"}),triggerOnClick:!0,showDelay:250,ref:e=>{this.nonGoldTooltip=e}},m.a._("div",{className:Object(j.c)("anonymous-tip-switcher-tooltip-container",{compact:e})},m.a._("div",{className:"anonymous-tip-switcher-tooltip-header"},Object(Se.d)("sendTip.anonTooltipHeader")),m.a._("div",{className:"anonymous-tip-switcher-tooltip-subheader"},m.a._(Dt.a,{messageId:"sendTip.anonTooltipSubheader",elements:{span:m.a._("span",{className:Object(j.c)({hidden:e})})}})),!e&&m.a._("ul",{className:"anonymous-tip-switcher-tooltip-list"},m.a._(Dt.a,{messageId:"buyTokens.tryGoldMembershipForFreeTooltip.list",elements:{li:m.a._("li",null)}})),m.a._("div",{className:"anonymous-tip-switcher-tooltip-controls"},m.a._(Tt.a,{style:"gold",onClick:this.makeMeGold},Object(Se.d)("button.makeMeGold")))))},this._g3=()=>{const{isEnabled:e}=this.props,{tooltipId:t}=this.state;return e||pe.j.touch?null:m.a._(za.a,{placement:"bottom",targetId:t,isMobileRelative:!1,showDelay:1e3},Object(Se.d)("sendTip.anonTipTooltipOff"))}}manualCloseTooltip(){this.nonGoldTooltip&&this.nonGoldTooltip.setState({isVisible:!1})}render(){const{isEnabled:e}=this.props,{switcherState:t,tooltipId:s}=this.state;return m.a._(m.a.Fragment,null,m.a._("div",{id:s,className:"anonymous-tip-switcher",onClick:e=>e.stopPropagation()},m.a._(Na.a,{onChange:this.toggleAnonymous,className:t,isChecked:e,switcherIcon:"incognito",size:"large",theme:"mixed-light"})),this._g3(),this._g2())}}kr.displayName="AnonymousTipSwitcher";const jr={showSubscriptionPackage:Vt.v,setAnonymousTipsState:jn.y};var Ir=Object(g.c)(e=>{const{auth:{currentUser:t},viewCam:{model:s},ui:{windowHeight:a}}=e,i=l()(s,"id");return{currentUser:t||{},isEnabled:Object(G.X)(e),isCompactLayout:a<540,modelId:i}},jr,null,{forwardRef:!0})(kr);class Tr extends In.a{constructor(e,t){super(e,t),this.dropdownOptions=[{value:"public",label:Object(Se.d)(pe.j.isMobile?"sendTip.public":"sendTip.visibleForAll")},{value:"private",label:Object(Se.d)(pe.j.isMobile?"sendTip.private":"sendTip.visibleForModel")}],this.changeTipAmountHandler=e=>{const t=parseInt(e.target.value,10)||0;this.setPredefinedTipAmount(t)},this.setPredefinedTipAmount=e=>{const{availableTokens:t}=this.props;this.props.saveTipAmount(e),this.setState({amount:e,isCustomSelected:!1,hasEnoughTokens:t>=e})},this.changeCustomAmountHandler=e=>{const{availableTokens:t}=this.props,s=parseInt(e.target.value,10)||0;let a=!0;s>t&&(a=!1),this.props.saveTipAmount(s),this.setState({customAmount:s,hasEnoughTokens:a,isPreferredValuesChanged:!0})},this.selectCustomAmountHandler=({target:e})=>{const{id:t}=e,{availableTokens:s}=this.props,{customAmount:a,isCustomSelected:i}=this.state;i||this.setState({amount:0,isCustomSelected:!0,hasEnoughTokens:s>=a},()=>{"customTokens"!==t&&this.setFocusOnCustomAmountInput()})},this.changeCommentHandler=e=>{const t=e.target.value;this.setState({message:t.length>It.nc?t.substr(0,It.nc):t,isPreferredValuesChanged:!0})},this.changeCommentTypeHandler=e=>{this.setState({isPrivateComment:"private"===e.value})},this.modalKeyDownHandler=e=>{const{hasEnoughTokens:t}=this.state;e.keyCode===pe.C.enter&&t&&this.sendTipHandler(e)},this._g4=()=>{this.props.emitButtonEvent(pe.b.VIEWCAM_SEND_TIP_BUY_TOKENS)},this.getTipType=()=>{const{isModelOffline:e,isPrivateTip:t}=this.props;return e?pe.b.SEND_OFFLINE_TIP_MODAL_SEND:t?pe.b.SEND_PRIVATE_TIP_MODAL_SEND:pe.b.SEND_ONLINE_TIP_MODAL_SEND},this.sendTipHandler=e=>{e.stopPropagation();const{amount:t,customAmount:s,isCustomSelected:a,message:i,isPrivateComment:o,isPreferredValuesChanged:n}=this.state,{amplitudeEventProps:r,isAnonymous:l,user:c,isModelOffline:d,source:p}=this.props,u=a?s:t,h=this.getTipType(),m={amplitudeEventProps:r,message:i,modelId:c.id,tipsAmount:u,isAnonymous:l,source:p,isPrivate:o};n&&(m.amplitudeEventProps=void 0,m.source=void 0),o&&d&&(m.isAnonymous=!1),this.props.emitButtonEvent(h,m)},this.disabledCommentsClickHandler=()=>{this.setState({commentEnabled:!0},()=>{const{commentRef:e}=this;e&&e.focus()})},this._g5=e=>{const{isPrivateTip:t}=this.props,{amount:s,isCustomSelected:a}=this.state,i=!a&&s===e,o=Object(Se.d)("sendTip.tipModelTokens",{tokens:`<strong>${e}</strong>`});return m.a._("div",{className:"radio-wrapper",onClick:wr()(this.setPredefinedTipAmount,e),key:e},m.a._("div",{className:"radio-container"},m.a._(qo.a,{size:"medium",type:"radio",id:`send_tip_radio_${e}`,name:"sendTip",theme:t?"gold":"default",checked:i,value:e,onChange:this.changeTipAmountHandler,ref:e=>{this.checkedRadioInputRef=i?e:void 0}}),m.a._("label",{htmlFor:`send_tip_radio_${e}`},m.a._("strong",null,e)," ",Object(Se.d)("sendTip.tokens"))),m.a._("div",{className:Object(j.c)("description media-up-to-s-hidden",{checked:i})},m.a._("div",{dangerouslySetInnerHTML:{__html:o}})))},this.modalClick=()=>{this.anonymousTipSwitcherRef&&this.anonymousTipSwitcherRef.manualCloseTooltip()},this.preventNotPositiveNumber=e=>{const{nativeEvent:t,target:s}=e;null==t.data||/^[0-9]$/.test(t.data)||(e.preventDefault(),e.stopPropagation(),s.value=`${this.state.customAmount||""}`)};const{availableTokens:s,tipAmount:a,tokenPackages:i,message:o}=e,n=!St()(i,a);this.state={...this.state,amount:a,commentEnabled:"",customAmount:n?a:0,hasEnoughTokens:s>=a,isCustomSelected:n,isPrivateComment:!1,isPreferredValuesChanged:!1,message:o}}_A(){if(super._A(),this.state.isCustomSelected)pe.j.desktop&&this.setFocusOnCustomAmountInput();else{const{checkedRadioInputRef:e}=this;e&&e.focus()}Object(mt.a)(this,document,"keydown",this.modalKeyDownHandler)}setFocusOnCustomAmountInput(){const{customTokensRef:e}=this;e.focus();const t=e.value;e.value=null,e.value=t}getSendTipButtonText(){const{isPrivateTip:e,isModelOffline:t,isAnonymous:s}=this.props;return e?Object(Se.d)("button.sendPrivateTip"):s&&!t?Object(Se.d)("button.sendAnonymousTip"):Object(Se.d)("button.sendTip")}_g6(){const{isPrivateComment:e}=this.state,t=this.dropdownOptions[e?1:0];return pe.j.isMobile?m.a._("div",{className:"mobile-comment-mode-select"},m.a._(ye.a,{img:e?"spy-off":"spy-on"}),m.a._("span",null,t.label),m.a._("select",{onChange:e=>this.changeCommentTypeHandler(e.target),value:t.value},this.dropdownOptions.map(e=>m.a._("option",{key:e.value,value:e.value},e.label)))):m.a._(Jo.a,{onSelect:this.changeCommentTypeHandler,options:this.dropdownOptions,value:t.value})}_g7(){const{isModelOffline:e,isPrivateTip:t,isAnonymous:s}=this.props,{amount:a,customAmount:i,hasEnoughTokens:o,message:n}=this.state,r=!e&&!t&&n;return m.a._(Xs.CSSTransition,{classNames:"fade-transition",timeout:500,key:"comments-wrapper",exit:!1},m.a._("div",null,m.a._("div",{className:"comments-wrapper"},m.a._("div",{className:"comments"},m.a._(qo.a,{className:Object(j.c)("input-comment",{"has-comment":r}),defaultValue:n,placeholder:Object(Se.d)("sendTip.tokensComment"),ref:e=>{this.commentRef=e},onChange:this.changeCommentHandler,maxLength:It.nc,theme:t?"gold":"default"}),r&&this._g6(),m.a._("div",{className:"clearfix"}))),m.a._("div",{className:Object(j.c)("controls",{public:!t})},!t&&!e&&m.a._(Ir,{ref:e=>{this.anonymousTipSwitcherRef=e}}),m.a._(Tt.a,{className:Object(j.c)("buy-tokens",{anonymous:s}),style:"apply",size:"large",disabled:!(a||i>0)||!o,onClick:this.sendTipHandler},this.getSendTipButtonText()))))}_g8(){const{availableTokens:e,isLoggedIn:t}=this.props;return m.a._(Xs.CSSTransition,{classNames:"fade-transition",timeout:500,key:"need-more-tokens",exit:!1},m.a._("div",{className:"need-more-tokens"},m.a._(ye.a,{img:"tokens-plus-green",className:"media-up-to-s-hidden"}),m.a._("div",{className:"need-more-tokens-text"},m.a._(Dt.a,{className:"more-tokens",elements:{span:m.a._("span",{className:"more-tokens-alt"})},messageId:"sendTip.needMoreTokes"}),m.a._("br",null),t&&m.a._(Dt.a,{className:"tokens-left",choiceParameter:"tokens",messageId:"sendTip.tokensLeft",parameters:{tokens:e}})),m.a._("div",{className:"buy-tokens-wrapper"},m.a._(Tt.a,{style:"apply",onClick:this._g4},Object(Se.d)("button.buyTokens")))))}_D(){const{isPrivateTip:e,user:t}=this.props,{login:s}=t;return e?null:m.a._(Dt.a,{elements:{strong:m.a._("strong",null)},messageId:"sendTip.tipModalTitle",parameters:{username:s}})}_F(){if(!this.props.user)return null;const{isPrivateTip:e,tokenPackages:t,user:{login:s}}=this.props,{customAmount:a,hasEnoughTokens:i,isCustomSelected:o}=this.state,n=e?"privateTipModalTitle":"howManyTokensWouldYouLikeToTip";return m.a._("div",{className:Object(j.c)("modal-body",{private:e}),onClick:this.modalClick},m.a._("div",{className:"title"},m.a._(Dt.a,{messageId:`sendTip.${n}`,elements:{strong:m.a._("strong",null)},parameters:{username:s}})),t.map(this._g5),m.a._("div",{className:"radio-wrapper",onClick:this.selectCustomAmountHandler},m.a._("div",{className:"radio-container"},m.a._(qo.a,{type:"radio",size:"medium",id:"send_tip_radio_custom",name:"sendTip",checked:o,value:0,onChange:this.selectCustomAmountHandler,theme:e?"gold":"default"}),m.a._("label",{htmlFor:"send_tip_radio_custom"},Object(Se.d)("sendTip.customAmount"))),m.a._("div",{className:"description"},m.a._(qo.a,{className:"input-tokens",id:"customTokens",inputMode:"numeric",min:"0",step:"1",ref:e=>{this.customTokensRef=e},onFocus:this.selectCustomAmountHandler,onChange:this.changeCustomAmountHandler,onInput:this.preventNotPositiveNumber,type:"number",value:a||"",theme:e?"gold":"default"}))),m.a._(Xs.TransitionGroup,null,i?this._g7():this._g8()))}}const Pr={emitButtonEvent:f.b,saveTipAmount:f.q,sendTip:Sr.d,showSubscriptionPackage:Vt.v,setAnonymousTipsState:jn.y};Tr.propTypes={...Tr.propTypes,availableTokens:d.a.number.isRequired,isModelOffline:d.a.bool,isPrivateTip:d.a.bool,isLoggedIn:d.a.bool,tipAmount:d.a.number,source:d.a.string,modelId:d.a.number,tokenPackages:d.a.array,user:d.a.object.isRequired,message:d.a.string,amplitudeEventProps:d.a.shape({isFromMenu:d.a.bool,prodType:d.a.string.isRequired,prodSubtype:d.a.string.isRequired}),...Object(M.a)(Pr)},Tr.defaultProps={...In.a.defaultProps,className:"send-tip-modal",isModelOffline:!1,message:"",titlePosition:"outside",tokenPackages:[20,50,100,200],source:void 0};var Mr=Object(g.c)((e,t)=>{const{ui:{tipAmount:s},auth:{currentUser:a,isLoggedIn:i},viewCam:{model:o}}=e,n=l()(o,"id"),{amplitudeEventProps:r,message:c}=t;return{amplitudeEventProps:r,message:c,tipAmount:s,currentUser:a||{},isLoggedIn:i,modelId:n,isAnonymous:Object(G.X)(e)}},Pr)(Tr);class Er extends In.a{constructor(...e){super(...e),this.buttonStartShow=()=>{const{model:e}=this.props;this.props.emitButtonEvent(pe.b.GROUP_SHOW_ACTIVE_JOIN,{model:e})}}_F(){const{model:e,topic:t,isTicketShow:s,remainingPrice:a}=this.props;return m.a._("div",{className:Object(j.c)("modal-body","start-group-show-modal-body-inner")},m.a._("div",{className:"start-group-show-modal-header"},m.a._(Dt.a,{messageId:`viewCam.confirmation.title.${s?"ticket":"group"}`})),m.a._("div",{className:"start-group-show-modal-body"},m.a._("div",{className:"start-group-show-modal-description"},m.a._(Dt.a,{elements:{strong:m.a._("strong",null)},messageId:"viewCam.confirmation.modalDescription",parameters:{model:e.username}})),t&&m.a._("div",{className:"start-group-show-modal-topic"},m.a._(Dt.a,{elements:{strong:m.a._("strong",null)},messageId:"viewCam.confirmation.groupTopic",parameters:{topic:t}})),m.a._("div",{className:"start-group-show-modal-controls"},m.a._(Tt.a,{display:"block",size:"medium",onClick:this.buttonStartShow,style:"primary"},Object(Se.d)("button.joinNow")),m.a._("div",{className:"price"},m.a._(Dt.a,{messageId:s?"privateModes.ticketOneTime":"viewCam.tokensPerMinute",choiceParameter:"tokens",parameters:{tokens:s?a:e.groupRate}})))))}}Er.defaultProps={...In.a.defaultProps,className:"start-group-show-modal",titlePosition:"outside"},Er.propTypes={model:d.a.object.isRequired,topic:d.a.string};const Ar={emitButtonEvent:f.b};var Ur=Object(g.c)(e=>{const{viewCam:{model:t}}=e;return{model:t,topic:Object(G.i)(e),isTicketShow:Object(G.Ab)(e),remainingPrice:Object(G.ib)(e)}},Ar)(Er),Hr=s(514),Lr=s(375),Rr=s.n(Lr);const Fr=({rating:e,starsCount:t=5})=>{const s=`private-rating-stars-group-${Math.random().toString(16).slice(2)}-${Date.now()}`,a=Rr()(t);return m.a._("span",{id:s},a.map((t,s)=>{const a=s+1,i=a<=e;let o;return o=e>=a-.5&&e<a?m.a._(ye.a,{img:"star-half",className:"star-half"}):i?m.a._(ye.a,{img:"star",className:"star-full"}):m.a._(ye.a,{img:"star",className:"star-empty"}),m.a._("span",{key:s},o)}),m.a._(za.a,{placement:"top",targetId:s},Object(Se.d)("viewCam.privateRating.tooltipLabel")))};Fr.displayName="StarsGroup",Fr.defaultProps={starsCount:5};var Dr=Fr;const xr=e=>{const{votersCount:t,rating:s}=e;return s?m.a._("div",{className:"private-rating"},m.a._(Dr,{rating:Object(ho.m)(s)}),m.a._("span",null,m.a._(Dt.a,{messageId:"viewCam.privateRating.votersCount",parameters:{votersCount:t},choiceParameter:"votersCount"}))):null};xr.displayName="PrivateRating";var Br=xr;const Vr=Ze()(e=>e.map(e=>m.a._("span",{className:"private-activity"},Object(Se.d)(`broadcast.activities.${e}`))),e=>e.join()),zr=({model:e,privateActivities:t,publicActivities:s})=>{const a=l()(e,"username",null);return m.a._("div",{className:"private-activities"},m.a._("span",{className:"private-activities-title"},m.a._("span",{className:"private-activities-name"},a)," ",Object(Se.d)("viewCam.confirmation.activities"),":"),Vr(t),Vr(s))};zr.displayName="PrivateActivities";var $r=Object(g.c)(e=>{const{viewCam:{model:t}}=e;return{model:t,privateActivities:Object(G.qb)(e),publicActivities:Object(G.rb)(e)}})(zr);const Gr=({min:e,mode:t})=>{if(e<=1)return null;const s=`min-duration-tooltip-${t}`;return m.a._("div",{className:"min-duration-info"},m.a._("span",null,m.a._(Dt.a,{messageId:"viewCam.minDuration",elements:{plural:m.a._(Dt.a,{elements:{strong:m.a._("strong",null)},messageId:"viewCam.minDurationPlural",parameters:{min:e},choiceParameter:"min"})}})),m.a._("div",{className:"min-duration-tooltip",id:s},m.a._(ye.a,{img:"question"}),m.a._(za.a,{isMobileRelative:!1,placement:"bottom",targetId:s},m.a._(Dt.a,{messageId:"viewCam.minDurationTT",elements:{plural:m.a._(Dt.a,{messageId:"viewCam.minDurationTTPlural",parameters:{minutes:e},choiceParameter:"minutes"})}}))))};Gr.displayName="MinimumDurationWarn";var Wr=Gr;const Kr={CHROME:"https://www.google.com/chrome/",SAFARI:"https://support.apple.com/downloads/safari",FIREFOX:"https://www.mozilla.org/en-US/firefox/new/"},qr={CHROME:Kr.CHROME,SAFARI:Kr.SAFARI},Jr=({mode:e})=>{const t=`supported-browsers-tooltip-${e}`,s=pe.j.firefox&&e===It.Nb.MODE_P2P,a=s?qr:Kr,i=He()(a,(e,t)=>m.a._("li",{key:t},m.a._("a",{className:"link",href:e,target:"_blank",rel:"noopener noreferrer"},Ln()(t))));return m.a._("div",{className:"private-mode-info",id:t},m.a._(Dt.a,{messageId:`viewCam.confirmation.showNotAvailable.show.${e}`,elements:{link:m.a._("a",{className:"link"})}}),m.a._("div",{className:"private-mode-info-tooltip"},m.a._(za.a,{isMobileRelative:!1,placement:"top",targetId:t,maxWidth:270},s&&m.a._(Dt.a,{className:"cam2cam-in-firefox",messageId:"viewCam.confirmation.showNotAvailable.firefoxCam2Cam"}),m.a._("ul",null,i),m.a._(Dt.a,{className:"download",messageId:"viewCam.confirmation.showNotAvailable.download"}))))};Jr.displayName="ShowNotAvailable";var Yr=Jr;const Xr=({mode:e})=>{const t=`${e}-record-tooltip`;return m.a._("div",{className:"show-record-info"},m.a._("span",null,Object(Se.d)(`viewCam.confirmation.recordShow.${e}.text`)),m.a._("div",{className:"show-record-tooltip",id:t},m.a._(ye.a,{img:"question"}),m.a._(za.a,{isMobileRelative:!1,placement:"top",targetId:t},Object(Se.d)(`viewCam.confirmation.recordShow.${e}.tooltip`))))};Xr.displayName="ShowRecord";var Qr=Xr;const Zr=({model:e})=>e.doSpy?null:m.a._("div",{className:"spying-policy-wrapper"},m.a._(ye.a,{img:"spy-off",size:18}),m.a._("span",{className:"spying-policy-description"},Object(Se.d)("viewCam.confirmation.spying.title"),m.a._("span",{className:"spying-policy-active"},Object(Se.d)("viewCam.confirmation.spying.off"))),m.a._("span",null,m.a._("span",{className:"spying-policy-help",id:"spying_help"},"?"),m.a._(za.a,{className:"spying-policy-tooltip",placement:"top",isMobileRelative:!1,targetId:"spying_help"},Object(Se.d)("viewCam.confirmation.spying.spyOff"))));Zr.displayName="SpyingPolicy";var el=Object(g.c)(e=>{const{viewCam:{model:t}}=e;return{model:t}})(Zr);const tl=e=>{const{isCam2camEnabled:t,isPrivateEnabled:s,model:a,shouldStorePrivates:i,isPrivateSupported:o,isCam2camSupported:n}=e;return m.a._("div",{className:"modes"},s&&m.a._("div",{className:"mode-wrapper"},m.a._("div",{className:"description"},m.a._(Dt.a,{messageId:`viewCam.confirmation.description.${It.Nb.MODE_PRIVATE}`,elements:{strong:m.a._("strong",null)},parameters:{model:a.username}})),m.a._("div",{className:"mode-wrapper-private-controls-btn"},m.a._(el,{model:a}),m.a._("div",{className:Object(j.c)("controls",{disabled:!o})},m.a._(Tt.a,{display:"block",size:"medium",style:"primary",disabled:!o,onClick:()=>{e.emitButtonEvent(pe.b.START_PRIVATE_MODAL_PRIVATE,{minProp:"privateMinimum",modelId:a.id,privateType:"private"})}},Object(Se.d)("button.private")),m.a._("div",{className:"price"},m.a._(Dt.a,{messageId:"viewCam.tokensPerMinute",choiceParameter:"tokens",parameters:{tokens:a.privateRate}}))),o&&m.a._(Wr,{min:a.privateMinDuration,mode:"privateMinDuration"}),i&&o&&m.a._(Qr,{mode:It.Nb.MODE_PRIVATE}),!o&&m.a._(Yr,{mode:It.Nb.MODE_PRIVATE}))),t&&m.a._("div",{className:"mode-wrapper"},m.a._("div",{className:"description"},m.a._(Dt.a,{messageId:`viewCam.confirmation.description.${It.Nb.MODE_P2P}`,elements:{strong:m.a._("strong",null)},parameters:{model:a.username}})),m.a._("div",{className:"mode-wrapper-private-controls-btn"},m.a._("div",{className:Object(j.c)("controls",{disabled:!n})},m.a._(Tt.a,{display:"block",size:"medium",style:"primary",disabled:!n,onClick:()=>{e.emitButtonEvent(pe.b.START_PRIVATE_MODAL_P2P,{minProp:"p2pMinimum",modelId:a.id,privateType:"p2p"})}},Object(Se.d)("button.startCam2Cam")),m.a._("div",{className:"price"},m.a._(Dt.a,{messageId:"viewCam.tokensPerMinute",choiceParameter:"tokens",parameters:{tokens:a.p2pRate}}))),n&&m.a._(Wr,{min:a.p2pMinDuration,mode:"p2pMinDuration"}),i&&n&&m.a._(Qr,{mode:It.Nb.MODE_P2P}),!n&&m.a._(Yr,{mode:It.Nb.MODE_P2P}))))};tl.displayName="PrivateControls";const sl={emitButtonEvent:f.b};var al=Object(g.c)(e=>{const{viewCam:{model:t}}=e;return{model:t,isCam2camEnabled:Object(G.s)(e),isPrivateEnabled:Object(G.L)(e),isCam2camSupported:Object(G.t)(e),isPrivateSupported:Object(G.M)(e),shouldStorePrivates:Object(Fn.t)(e)}},sl)(tl);const il=e=>{const{isSpySupported:t,isCurrentUserCanSpy:s,isFanClubSubscribed:a,isFanClubSpyAvailable:i,minTierForSpying:o,model:n}=e;return m.a._("div",{className:"modes"},m.a._("div",{className:"mode-wrapper"},m.a._("div",{className:"description"},m.a._(Dt.a,{messageId:"viewCam.confirmation.description.spy",elements:{strong:m.a._("strong",null)},parameters:{model:n.username}})),m.a._("div",{className:Object(j.c)("controls",{disabled:!t})},m.a._(Tt.a,{display:"block",size:"medium",style:"primary",disabled:!t,onClick:()=>{e.emitButtonEvent(pe.b.START_PRIVATE_MODAL_SPY,{isFree:s,minProp:"spyMinimum",modelId:n.id,privateType:"spy"})}},Object(Se.d)(s?"button.spyNowFree":"button.spyNow")),m.a._("div",{className:"price"},s?Object(Se.d)("fanClub.spyDescription"):m.a._(Dt.a,{messageId:"viewCam.tokensPerMinute",choiceParameter:"tokens",parameters:{tokens:n.spyRate}})),t&&!s&&i&&m.a._("a",{className:"additional-info",onClick:t=>{t.preventDefault(),e.emitJoinFanClubButtonEvent({selectedTierTab:o})}},Object(Se.d)(a?"fanClub.upgradeForSpyFree":"fanClub.joinForSpyFree"))),!t&&m.a._(Yr,{mode:"spy"})))};il.displayName="SpyControls";const ol={emitButtonEvent:f.b,emitJoinFanClubButtonEvent:f.c};var nl=Object(g.c)(e=>{const{viewCam:{model:t,userFanClub:s}}=e;return{model:t,isFanClubSpyAvailable:Object(to.b)(s),isFanClubSubscribed:Object(to.a)(s),isCurrentUserCanSpy:Object(to.c)(s),isSpySupported:Object(G.P)(e),minTierForSpying:Object(to.d)(s)}},ol)(il);let rl=null;class ll extends In.a{constructor(e){super(e),this.propsUpdateToActionsMap=[{update:["model.id"],action:()=>{const{isCam2camEnabled:e,isPrivateEnabled:t,isSpy:s}=this.props;t||e||s||this.props.onClose()}},{update:(e,t)=>!(!e.isSpy||!t.isSpy||e.model.status===t.model.status||e.model.id!==t.model.id)&&(t.model.status!==It.lb.STATUS_PRIVATE&&t.model.status!==It.lb.STATUS_VIRTUAL_PRIVATE),action:()=>{this.props.onClose()}},{update:["isSocketReady"],action:()=>{const{isSocketReady:e}=this.props;e?(rl&&(clearTimeout(rl),rl=null),this.setState({isConnectionPending:!1})):(this.setState({isConnectionPending:!0}),rl=setTimeout(()=>(this.showConnectionErrorModal(),Promise.reject(new Error("Private show is unavailable at the moment, due to a technical problem."))),1e4))}}],this.showConnectionErrorModal=()=>{this.props.showModal(pe.F.TECHNICAL_PROBLEM,{i18nTranslate:{title:"viewCam.technicalProblem.title",description:"viewCam.technicalProblem.description",button:"viewCam.technicalProblem.button",action:"viewCam.technicalProblem.action"}})},this.state={...this.state,isConnectionPending:!1}}_gb(){return m.a._("div",{className:"annex"},Object(Se.d)(`viewCam.confirmation.annex.${this.isSpy?"spy":"private"}`))}_F(){const{isCam2camEnabled:e,isPrivateEnabled:t,isSpy:s,model:a}=this.props,{isConnectionPending:i}=this.state;return m.a._(m.a.Fragment,null,m.a._("div",{className:Object(j.c)("modal-body",{full:e&&t&&!s})},m.a._("div",{className:"start-private-modal-header"},m.a._(Dt.a,{elements:{strong:m.a._("strong",null)},messageId:s?"viewCam.confirmation.title.spy":"viewCam.confirmation.title.private",parameters:{model:l()(a,"username",null)}}),!s&&m.a._(ye.a,{img:"lock"})),!s&&m.a._(Br,{rating:l()(a,"ratingPrivate",null),votersCount:l()(a,"ratingPrivateUsers",null)}),m.a._(Hr.a,null),!a||i?m.a._("div",{className:"loader-wrapper"},m.a._(uo.a,null)):s?m.a._(nl,null):m.a._(al,null),m.a._($r,null)),this._gb())}}const cl={emitButtonEvent:f.b,showModal:k.c};ll.propTypes={...In.a.propTypes,isCam2camEnabled:d.a.bool,isPrivateEnabled:d.a.bool,isSpy:d.a.bool,model:d.a.shape({id:d.a.number,username:d.a.string}),...Object(M.a)(cl)},ll.defaultProps={...In.a.defaultProps,className:"start-private-modal",titlePosition:"outside"};var dl=Object(g.c)(e=>{const{viewCam:{model:t},appSettings:{data:{isSocketReady:s}}}=e;return{model:t,isSocketReady:s,isCam2camEnabled:Object(G.s)(e),isPrivateEnabled:Object(G.L)(e),privateActivities:Object(G.qb)(e)}},cl)(ll),pl=s(285),ul=s(466),hl=s(403);const ml=(e,t)=>{const s=(e=>{if(!e)return null;for(const t of e)if("card"===t.name){const e={};for(const s of t.packages)e[s.type.slice(-5).toLowerCase()]=s.currencySum;return e}return null})(e);return(null==s?void 0:s[t])||null},gl=(e,t)=>It.I.indexOf(e)>It.I.indexOf(t),bl=({buttonText:e,isPrimary:t,chargeInfo:s,isDisabled:a,onClick:i})=>m.a._(m.a.Fragment,null,m.a._(Tt.a,{disabled:a,style:t?"apply-primary":"grouped",onClick:i},e),m.a._("p",{className:"user-fan-club-subscribe-modal-footer-tier-price-info"},s));bl.displayName="ChargeInfo";const _l=({subscription:e,fanClubSubscribeCurrency:t,modelSubscriptionTiers:s,selectedTier:a,onManage:i,onUpgrade:o})=>{const n=ml(s,a);if(e.tier===a){const t=Object(Ga.j)(e.expireAt,Ga.f.DAY_MONTH_YEAR);return m.a._(bl,{buttonText:Object(Se.d)("fanClub.user.subscriptionModal.manageSubscription"),onClick:i,chargeInfo:m.a._(m.a.Fragment,null,m.a._(Dt.a,{messageId:"fanClub.user.subscriptionModal.tierChargeInfo.renews",parameters:{renewDate:t}}))})}if(gl(a,e.tier)){const e=m.a._(m.a.Fragment,null,m.a._(Dt.a,{messageId:"fanClub.user.subscriptionModal.tierChargeInfo.chargedInstantly"}),m.a._("br",null),Object(Se.d)("fanClub.user.subscriptionModal.tierChargeInfo.renewsMonthly"));return m.a._(bl,{onClick:o,buttonText:Object(Se.d)("fanClub.user.subscriptionModal.subscribeBtn",{price:Object(Se.d)(`buyTokens.price.${t}`,{price:n})}),chargeInfo:e,isPrimary:!0})}return m.a._(bl,{onClick:i,buttonText:Object(Se.d)("fanClub.user.subscriptionModal.manageSubscription"),chargeInfo:m.a._(Dt.a,{messageId:"fanClub.user.subscriptionModal.tierChargeInfo.downgrade",parameters:{tierOld:Object(Se.d)(It.J[e.tier]),tierNew:Object(Se.d)(It.J[a])}})})};_l.displayName="UserFanClubSubscribeModalChargeActive";const vl=({isProcessing:e,fanClubSubscribeCurrency:t,modelSubscriptionTiers:s,subscription:a,selectedTier:i,onRenew:o,onManage:n,onUpgrade:r})=>{const l=ml(s,i),c=a.tier===i,d=gl(i,a.tier);if(c||d){if(d){const s=m.a._(m.a.Fragment,null,m.a._(Dt.a,{messageId:"fanClub.user.subscriptionModal.tierChargeInfo.chargedInstantly",parameters:{price:l}}),m.a._("br",null),m.a._(Dt.a,{messageId:"fanClub.user.subscriptionModal.tierChargeInfo.renewsMonthly"}));return m.a._(bl,{buttonText:Object(Se.d)("fanClub.user.subscriptionModal.subscribeBtn",{price:Object(Se.d)(`buyTokens.price.${t}`,{price:l})}),isDisabled:e,isPrimary:!0,chargeInfo:s,onClick:r})}const s=m.a._(m.a.Fragment,null,m.a._(Dt.a,{messageId:"fanClub.user.subscriptionModal.tierChargeInfo.renewsMonthly",parameters:{price:l}}),m.a._("br",null),m.a._(Dt.a,{messageId:"fanClub.user.subscriptionModal.tierChargeInfo.cancelAnytime"}));return m.a._(bl,{buttonText:Object(Se.d)("fanClub.user.subscriptionModal.renewBtn"),isDisabled:e,isPrimary:!0,chargeInfo:s,onClick:o})}return m.a._(bl,{buttonText:Object(Se.d)("fanClub.user.subscriptionModal.manageSubscription"),chargeInfo:m.a._(Dt.a,{messageId:"fanClub.user.subscriptionModal.tierChargeInfo.downgradeCancelled",parameters:{tierOld:Object(Se.d)(It.J[a.tier]),tierNew:Object(Se.d)(It.J[i])}}),isDisabled:e,onClick:n})};vl.displayName="UserFanClubSubscribeModalChargeCancelled";const fl=({fanClubSubscribeCurrency:e,modelSubscriptionTiers:t,selectedTier:s,onSubscribe:a})=>{const i=ml(t,s),o=m.a._(m.a.Fragment,null,Object(Se.d)("fanClub.user.subscriptionModal.tierChargeInfo.renewsMonthly"),m.a._("br",null),m.a._(Dt.a,{messageId:"fanClub.user.subscriptionModal.tierChargeInfo.cancelAnytime"}));return m.a._(bl,{onClick:a,isDisabled:!i,isPrimary:!0,buttonText:i?Object(Se.d)("fanClub.user.subscriptionModal.subscribeBtn",{price:Object(Se.d)(`buyTokens.price.${e}`,{price:i})}):Object(Se.d)("fanClub.user.subscribe"),chargeInfo:o})};function Cl(){return(Cl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}fl.displayName="UserFanClubSubscribeModalChargeUnsubscribed";const Nl=e=>{const{availableTiers:t,onChangeTab:s,selectedTier:a,subscription:i}=e;return m.a._("div",{className:"user-fan-club-subscribe-modal-footer-tabs"},It.I.filter(e=>!t||!(i&&i.tier&&gl(e,i.tier)&&!t.includes(e))).map(e=>{const t=a===e,i=Object(Se.d)(It.J[e]),o=Object(j.c)("user-fan-club-subscribe-modal-footer-tab",`tier-${e}`,{active:t});return m.a._("div",{className:o,onClick:s(e),key:e},m.a._(is.a,{tier:e,size:18}),i)}))};Nl.displayName="UserFanClubModalTabs";const Ol=e=>{const{currentUser:t,selectedTier:s}=e;return m.a._("div",null,m.a._("div",{className:"user-fan-club-subscribe-modal-footer-tier-benefits"},Object(Se.d)("fanClub.user.subscriptionModal.tierBenefits")),m.a._("div",{className:"user-fan-club-subscribe-modal-footer-username"},m.a._(is.a,{tier:s,size:18}),t?m.a._(Ja.a,{user:t,isIconVisible:!1}):Object(Se.d)("feedback.form.placeholders.username")))};Ol.displayName="UserFanClubBenefitsUsername";class yl extends m.a.Component{constructor(...e){super(...e),this._D8=()=>{this.props.onSubscribe(this.props.selectedTierTab)},this._gc=()=>{this.props.onUpgrade(this.props.selectedTierTab)}}_gd(){const{currentUser:e,modelSubscriptionTiers:t,subscription:s,fanClubSubscribeCurrency:a,isProcessing:i,selectedTierTab:o}=this.props,{onRenew:n,onManageSubscription:r}=this.props;let l;const c={subscription:s,selectedTier:o,onSubscribe:this._D8,onRenew:n,onManage:r,onUpgrade:this._gc};if(s)switch(s.status){case It.G.ACTIVE:l=m.a._(_l,Cl({},c,{fanClubSubscribeCurrency:a,modelSubscriptionTiers:t}));break;case It.G.CANCELLED:l=m.a._(vl,Cl({},c,{fanClubSubscribeCurrency:a,isProcessing:i,modelSubscriptionTiers:t}))}return l||(l=m.a._(fl,Cl({},c,{fanClubSubscribeCurrency:a,modelSubscriptionTiers:t}))),m.a._("div",{className:"user-fan-club-subscribe-modal-footer-tier"},l)}render(){return m.a._("div",{className:"user-fan-club-subscribe-modal-footer"},this._gd())}}yl.displayName="UserFanClubSubscribeModalFooter";const wl=[{key:"support"},{key:"specialStatus",shouldShow:(e,t)=>Object(hl.a)(e.benefits,It.E.SPECIAL_BADGE_IN_CHAT,t)},{key:"privateChat"},{key:"contentAccess",shouldShow:(e,t)=>Boolean(e.exclusiveContentAccess)&&Object(hl.a)(e.benefits,It.E.CONTENT_ACCESS,t)},{key:"freeSpy",shouldShow:(e,t)=>Boolean(e.spyAccess)&&Object(hl.a)(e.benefits,It.E.FREE_SPYING,t)}];class Sl extends m.a.PureComponent{constructor(...e){super(...e),this.state={currentCustomBenefit:null},this._ge=({key:e,shouldShow:t})=>{const{userFanClub:s,selectedTier:a}=this.props;return!t||t(s,a)?m.a._("li",{className:"user-fan-club-subscribe-modal-body-benefit",key:e},m.a._(ye.a,{img:"check-1",size:11}),m.a._(Dt.a,{messageId:`fanClub.user.subscriptionModal.benefits.${e}`})):null},this._gf=e=>{const{userFanClub:t}=this.props;let s;if(e.isDescriptionExist){if(Boolean(t.subscription&&t.subscription.tier)&&e.tiers[t.subscription.tier].isActive&&t.subscription.status!==It.G.INACTIVE)s=m.a._("span",{className:"user-fan-club-subscribe-modal-body-benefit-description-link active",onClick:()=>this.setState({currentCustomBenefit:e})},e.name,m.a._(ye.a,{img:"next-small",size:11}));else{const t=`benefit-custom-${e.name.replace(/\s/g,"_")}-tooltip`;s=m.a._("span",{className:"user-fan-club-subscribe-modal-body-benefit-description-link",id:t},e.name,m.a._(ye.a,{img:"next-small",size:11}),m.a._(za.a,{className:"model-fan-club-tooltip",isMobileRelative:!1,placement:"top",targetId:t},Object(Se.d)("fanClub.user.subscriptionModal.benefits.subscribeToGetAccessCustomBenefit")))}}else s=m.a._(m.a.Fragment,null,e.name);return m.a._("li",{className:"user-fan-club-subscribe-modal-body-benefit",key:e.name},m.a._(ye.a,{img:"gift",size:11}),s)}}_gg(){const e=wl.map(this._ge).filter(Boolean);return m.a._("ul",{className:"user-fan-club-subscribe-modal-body-benefits-list"},e)}_gh(){const e=this.props.userFanClub.benefits.filter(e=>"custom"===e.type&&e.tiers[this.props.selectedTier].isActive).map(this._gf);return e.length?m.a._(m.a.Fragment,null,m.a._("p",{className:"user-fan-club-subscribe-modal-body-benefits-title"},Object(Se.d)("fanClub.user.subscriptionModal.benefits.titleExtra")),m.a._("ul",{className:"user-fan-club-subscribe-modal-body-benefits-list"},e)):null}_gi(){return m.a._("div",{className:"user-fan-club-subscribe-modal-body-benefit-description"},m.a._("div",{className:"user-fan-club-subscribe-modal-body-benefit-description-title"},m.a._("span",{className:"user-fan-club-subscribe-modal-body-benefit-description-back",onClick:()=>this.setState({currentCustomBenefit:null})},m.a._(ye.a,{img:"arrow-left"}),Object(Se.d)("fanClub.benefits.backToBenefits"))),m.a._("div",{className:"user-fan-club-subscribe-modal-body-benefit-description-name"},this.state.currentCustomBenefit.name),m.a._("div",{className:"user-fan-club-subscribe-modal-body-benefit-description-info"},this.state.currentCustomBenefit.description))}render(){return m.a._(m.a.Fragment,null,Boolean(this.state.currentCustomBenefit)&&this._gi(),m.a._("div",{className:this.state.currentCustomBenefit?"user-fan-club-subscribe-modal-smart-hidden":""},m.a._(Nl,{availableTiers:this.props.availableTiers,onChangeTab:this.props.onChangeTab,selectedTier:this.props.selectedTier,subscription:this.props.userFanClub.subscription})),m.a._("div",{className:"user-fan-club-subscribe-modal-body"},m.a._("div",{className:this.state.currentCustomBenefit?"user-fan-club-subscribe-modal-smart-hidden":""},m.a._("p",{className:"user-fan-club-subscribe-modal-body-benefits-title"},Object(Se.d)("fanClub.user.subscriptionModal.benefits.title")),this._gg(),this._gh(),m.a._(Ol,{currentUser:this.props.currentUser,selectedTier:this.props.selectedTier}))))}}Sl.displayName="UserFanClubSubscribeModalBody";const kl=e=>{const{userFanClub:t,model:s}=e,{subscription:a}=t,i={modelName:s.username},o={span:m.a._("span",{className:"accent"})};let n="fanClub.user.subscriptionModal.unsubscribedMessage";if(a)switch(i.tierName=Object(Se.d)(It.J[a.tier]),i.expirationDate=Object(Ga.j)(a.expireAt,Ga.f.DAY_MONTH_YEAR),a.status){case It.G.ACTIVE:n="fanClub.user.subscriptionModal.activeMessage";break;case It.G.CANCELLED:n="fanClub.user.subscriptionModal.cancelledMessage"}return m.a._("p",{className:"user-fan-club-subscribe-modal-header-info"},m.a._(Dt.a,{messageId:n,elements:o,parameters:i}))};kl.displayName="SubsctiptionInfoText";class jl extends m.a.PureComponent{_gj(){const{model:e,userFanClub:{subscription:t}}=this.props,s=!t||t.status===It.G.INACTIVE;let a=null;if(s)a=m.a._(Dt.a,{messageId:"fanClub.user.subscriptionModal.header.subscribeTo"});else switch(t.status){case It.G.CANCELLED:a=m.a._(Dt.a,{messageId:"fanClub.user.subscriptionModal.header.renewSubscription"});break;case It.G.ACTIVE:a=m.a._(Dt.a,{messageId:"fanClub.user.subscriptionModal.header.currentTier",parameters:{tierName:Object(Se.d)(It.J[t.tier])},elements:{span:m.a._("span",{className:"tier-name"})}})}return m.a._(m.a.Fragment,null,m.a._("div",{className:"user-fan-club-subscribe-modal-header-avatar"},m.a._(Ia.a,{user:e}),!s&&m.a._("div",{className:"user-fan-club-subscribe-modal-header-badge"},m.a._(is.a,{tier:t.tier,size:18}))),m.a._("div",{className:"user-fan-club-subscribe-modal-header-info"},m.a._("p",{className:"user-fan-club-subscribe-modal-header-title"},a),m.a._("p",{className:"user-fan-club-subscribe-modal-header-sub-title"},m.a._(Dt.a,{messageId:"fanClub.user.subscriptionModal.header.modelFanClub",parameters:{modelName:e.username}}))))}render(){const{subscription:e}=this.props.userFanClub,t=Object(j.c)("user-fan-club-subscribe-modal-header-wrapper",e&&e.status!==It.G.INACTIVE&&`subscribed tier-${e.tier}`);return m.a._("div",{className:t},m.a._("div",{className:"user-fan-club-subscribe-modal-header"},this._gj()),m.a._(kl,{userFanClub:this.props.userFanClub,model:this.props.model}))}}jl.displayName="UserFanClubSubscribeModalHeader";class Il extends m.a.Component{constructor(e){super(e),this._gk=ct()(async()=>{await this.props.loadCam(this.props.model.username),this.setState({isProcessing:!1})},0),this._gl=e=>()=>{this.setState({selectedTierTab:e})},this._D8=e=>{this.props.emitButtonEvent(pe.b.USER_JOIN_FAN_CLUB_BUY,{tier:e,model:this.props.model})},this._D7=async()=>{this.setState({isProcessing:!0}),await this.props.renewSubscriptionForFanClub(this.props.model.id),this._gk()},this._gm=()=>{this.props.history.push("/subscriptions")},this._gc=e=>{this.props.emitButtonEvent(pe.b.USER_JOIN_FAN_CLUB_BUY,{tier:e,model:this.props.model})},this.state={isProcessing:!1,selectedTierTab:e.selectedTierTab||l()(e.userFanClub,"subscription.tier")||It.H.FIRST}}_A(){this.props.updatePurchaseOptions()}componentWillUnmount(){this._gk.cancel()}render(){const{userFanClub:e}=this.props;if(!e||!e.isActive)return null;const{availableTiers:t,subscription:s}=e,{currentUser:a,model:i,fanClubSubscribeCurrency:o,modelSubscriptionTiers:n}=this.props;return m.a._(Ko.a,{backgroundColor:null,className:Object(j.c)("user-fan-club-subscription-modal"),minHeight:null,minWidth:null,onClose:this.props.onClose,source:"userFanClubSubscriptionModal",titlePosition:"outside"},m.a._(jl,{model:i,userFanClub:e}),m.a._(Sl,{availableTiers:this.props.availableTiers,currentUser:a,model:i,onChangeTab:this._gl,selectedTier:this.state.selectedTierTab,userFanClub:e}),m.a._(yl,{availableTiers:t,currentUser:a,fanClubSubscribeCurrency:o,isProcessing:this.state.isProcessing,model:i,modelSubscriptionTiers:n,selectedTierTab:this.state.selectedTierTab,subscription:s,onSubscribe:this._D8,onRenew:this._D7,onUpgrade:this._gc,onManageSubscription:this._gm}))}}Il.displayName="UserFanClubSubscribeModal";const Tl={closeModal:Fo.a,emitButtonEvent:f.b,loadCam:jn.m,renewSubscriptionForFanClub:ul.c,updatePurchaseOptions:Vt.G};var Pl=Object(X.h)(Object(g.c)(e=>{const t=Object(G.pb)(e),s=Object(Yt.h)(e),a=Object(G.ub)(e);return{model:t,currentUser:s,fanClubSubscribeCurrency:Object(Ds.k)(e),userFanClub:a,modelSubscriptionTiers:Object(pl.a)(e)}},Tl)(Il));const Ml=["videoIsNotSmooth","audioIsNotWorking","videoIsNotWorking","videoStoppedPlaying","videoIsDistortion","videoQualityIsBad"];class El extends m.a.PureComponent{constructor(e){super(e),this.closeClickHandler=()=>{this.props.onClose()},this.closeByTimeout=$()(()=>{this.props.onClose()},2e3),this.updateModalContent=()=>{this.setState({isReportSended:!0}),this.closeByTimeout()},this.videoQualityReport=()=>{const{selected:e}=this.state;this.props.videoQualityReport(e),this.updateModalContent()},this.selectReport=e=>{const{value:t}=e.target;this.setState({selected:t})},this._fz=e=>{const{selected:t}=this.state,s=e===t;return m.a._("div",{key:`report_${e}`,className:"video-quality-report-modal-reports-item"},m.a._(qo.a,{type:"radio",checked:s,onChange:this.selectReport,value:e,theme:"red",name:"report",id:e}),m.a._("label",{htmlFor:e},Object(Se.d)(`videoQualityReportModal.reports.${e}`)))},this._g0=()=>m.a._("div",{className:"video-quality-report-modal-content-thank-you"},m.a._(ye.a,{img:"check-round-2",size:32}),Object(Se.d)("videoQualityReportModal.thankYou")),this._g1=()=>m.a._("div",{className:"video-quality-report-wrapper"},m.a._("div",{className:"video-quality-report-modal-header"},Object(Se.d)("videoQualityReportModal.header")),m.a._("div",{className:"video-quality-report-modal-reports"},He()(Ml,this._fz)),m.a._("div",{className:"video-quality-report-modal-controls"},m.a._(Tt.a,{style:"accept",onClick:this.videoQualityReport},Object(Se.d)("button.submit")),m.a._(Tt.a,{onClick:this.closeClickHandler},Object(Se.d)("button.cancel")))),this._F=()=>{const{isReportSended:e}=this.state;return m.a._("div",{className:"video-quality-report-modal-content"},e?null:m.a._("div",{className:"close-button",onClick:this.closeClickHandler},m.a._(ye.a,{img:"close-3",size:12})),m.a._(Xs.CSSTransition,{classNames:"video-quality-report-thank-you-transition",key:"video-quality-report-thank-you",exit:!1,timeout:500,in:Boolean(e)},this._g0()),m.a._(Xs.CSSTransition,{classNames:"video-quality-report-content-transition",key:"video-quality-report-content",exit:!0,timeout:200,in:!e},this._g1()))},this.state={isReportSended:!1,selected:fr()(Ml)}}componentWillUnmount(){this.closeByTimeout.cancel()}render(){return m.a._(Ko.a,{className:"modal-wrapper video-quality-report-modal",onClose:this.closeClickHandler,titlePosition:"none"},this._F())}}El.displayName="VideoQualityReportModal";const Al={videoQualityReport:W.k};var Ul=Object(g.c)(null,Al)(El),Hl=s(342);class Ll extends m.a.Component{constructor(...e){super(...e),this.state={actionTaken:!1,selectedTab:It.zc.WINDOWS},this.closeTimeout=void 0,this.cancelClickHandler=()=>{this.props.onClose()},this.registerLocalUserAction=()=>{this.setState({actionTaken:!0})},this.selectNavItem=e=>{this.setState({selectedTab:e})},this.tabClickHandler=e=>{this.selectNavItem(e),this.registerLocalUserAction()}}_A(){this.closeTimeout=setTimeout(()=>{this.props.isAppropriateOs&&!this.state.actionTaken&&this.props.onClose()},2e4),pe.j.android&&this.setState({selectedTab:It.zc.ANDROID})}componentWillUnmount(){clearTimeout(this.closeTimeout)}_cg(){const{selectedTab:e}=this.state,t=e===It.zc.WINDOWS,s=e===It.zc.ANDROID;return m.a._(h.Fragment,null,pe.j.android?m.a._("span",{className:"watch-vr-modal-android-actions-subheader"},"Download GizmoVR for your headset:"):m.a._("div",{className:"watch-vr-modal-nav"},m.a._("a",{className:Object(j.c)("watch-vr-modal-nav-item",{selected:t}),onClick:()=>this.tabClickHandler(It.zc.WINDOWS)},"Windows"),m.a._("a",{className:Object(j.c)("watch-vr-modal-nav-item",{selected:s}),onClick:()=>this.tabClickHandler(It.zc.ANDROID)},"Android")),m.a._("div",{className:Object(j.c)("watch-vr-modal-nav-content",{windows:t})},t&&this._gn(),s&&this._go()))}_gn(){return m.a._(h.Fragment,null,m.a._("div",{className:"button-hint"},m.a._(Tt.a,{className:"watch-vr-modal-actions-download",onClick:this.registerLocalUserAction,style:"private",size:"large",type:"anchor",href:"https://gizmovr.com/install/steamvr",target:"_blank"},m.a._(ye.a,{img:"steam",size:22}),"Steam VR"),m.a._("span",{className:"watch-vr-modal-hint"},"Oculus Rift & HTC Vive")),m.a._("div",{className:"button-hint"},m.a._(Tt.a,{className:"watch-vr-modal-actions-download",onClick:this.registerLocalUserAction,style:"private",size:"large",type:"anchor",href:"https://gizmovr.com/install/oculus",target:"_blank"},m.a._(ye.a,{img:"oculus",size:22}),"Oculus"),m.a._("span",{className:"watch-vr-modal-hint"},"Oculus Rift")))}_go(){return m.a._(h.Fragment,null,!pe.j.oculusGo&&m.a._(h.Fragment,null,m.a._(Tt.a,{className:"watch-vr-modal-actions-download",onClick:this.registerLocalUserAction,style:"private",size:"large",type:"anchor",href:"https://gizmovr.com/install/cardboard",target:"_blank"},m.a._(ye.a,{img:"vr",size:22}),"Cardboard"),m.a._(Tt.a,{className:"watch-vr-modal-actions-download",onClick:this.registerLocalUserAction,style:"private",size:"large",type:"anchor",href:"https://gizmovr.com/install/daydream",target:"_blank"},m.a._(ye.a,{img:"daydream",size:22}),"Daydream"),m.a._(Tt.a,{className:"watch-vr-modal-actions-download",onClick:this.registerLocalUserAction,style:"private",size:"large",type:"anchor",href:"https://gizmovr.com/install/gearvr",target:"_blank"},m.a._(ye.a,{img:"oculus",size:22}),"GearVR")),m.a._(Tt.a,{className:"watch-vr-modal-actions-download",onClick:this.registerLocalUserAction,style:"private",size:"large",type:"anchor",href:"https://gizmovr.com/install/oculus_go",target:"_blank"},m.a._(ye.a,{img:"oculus",size:22}),"Oculus GO"))}_gp(){const{isXHamsterLive:e,isWhiteLabel:t,siteName:s,vrWikiUrl:a}=this.props;return m.a._("div",{className:"watch-vr-modal-help"},m.a._(Dt.a,{elements:{strong:m.a._("span",null)},messageId:"watchVrModal.description"}),!t&&m.a._(Dt.a,{messageId:"watchVrModal.help",parameters:{siteName:e?"xHamsterLive":s},elements:{link:m.a._(it.a,{href:a,onClick:this.registerLocalUserAction,className:"link"})}}))}_gq(){const{siteName:e,isXHamsterLive:t}=this.props;return m.a._("div",{className:"watch-vr-modal-steps"},m.a._("div",{className:"watch-vr-modal-step"},m.a._("div",{className:"watch-vr-modal-step-number"},"1"),m.a._("div",{className:"watch-vr-modal-step-description"},Object(Se.d)(`watchVrModal.steps.one${pe.j.oculusGo?"OculusGo":""}`))),m.a._("div",{className:"watch-vr-modal-step"},m.a._("div",{className:"watch-vr-modal-step-number"},"2"),m.a._("div",{className:"watch-vr-modal-step-description"},m.a._(Dt.a,{messageId:`watchVrModal.steps.two${pe.j.oculusGo?"OculusGo":""}`,parameters:{siteName:t?"xHamsterLive":e}}))))}_gr(){return m.a._(h.Fragment,null,this._gq(),m.a._("div",{className:"watch-vr-modal-bg-actions"},this._cg(),this._gp()))}_gs(){const{isWhiteLabel:e}=this.props;return m.a._(h.Fragment,null,m.a._("div",{className:"watch-vr-modal-requirements-wrapper"},m.a._("div",{className:"watch-vr-modal-requirements"},m.a._(ye.a,{img:"exclamation-in-circle"}),m.a._(Dt.a,{elements:{strong:m.a._("strong",null)},messageId:"watchVrModal.requirements"})),m.a._("div",{className:"watch-vr-modal-requirements"},m.a._(ye.a,{img:"vr"}),m.a._(Dt.a,{elements:{strong:m.a._("strong",null)},messageId:"watchVrModal.description"}))),!e&&m.a._("div",{className:"watch-vr-modal-actions"},m.a._(Tt.a,{className:"watch-vr-modal-actions-learn-more",style:"private",type:"anchor",href:this.props.vrWikiUrl,target:"_blank",size:"large"},Object(Se.d)("watchVrModal.learnMoreButton"))))}render(){const{isXHamsterLive:e,isStripchat:t,isAppropriateOs:s}=this.props,a=e||t;return m.a._(Ko.a,{className:"watch-vr-modal",onClose:this.cancelClickHandler,source:"watchVrModal",titlePosition:"outside"},m.a._("div",{className:"watch-vr-modal-content"},m.a._("div",{className:"watch-vr-modal-header"},a&&m.a._("div",{className:Object(j.c)("logo",{xhl:e,stripchat:t})}),m.a._("div",{className:"watch-vr-modal-title"},Object(Se.d)("watchVrModal.title")),s&&m.a._("div",{className:"watch-vr-modal-sub-title"},Object(Se.d)("watchVrModal.subTitle"))),s?this._gr():this._gs()))}}Ll.displayName="WatchVrModal",Ll.defaultProps={isAppropriateOs:!0};var Rl=Object(g.c)(e=>{const{config:{data:{whiteLabelHost:t}}}=e;return{isStripchat:Object(xe.h)(e),isXHamsterLive:Object(xe.j)(e),isWhiteLabel:Object(xe.i)(e),siteName:Ln()(t.replace(/(.+)\.(.+)/,"$1")),vrWikiUrl:Object(Hl.e)(e)}})(Ll),Fl=s(281);class Dl extends In.a{constructor(...e){super(...e),this.onClickEventHandler=()=>{const{currentUserTokens:e,emitButtonEvent:t,showModal:s,whatsApp:a}=this.props;e>=a.minTokens?window.open(a.link):s(pe.F.PURCHASE_TOKENS),t(Oa.g.WHATS_APP_START)}}_F(){const{model:e,whatsApp:t}=this.props;return m.a._("div",{className:"modal-body"},m.a._("div",{className:"header"},Object(Se.d)("whatsApp.header")),m.a._("div",{className:"subheader"},m.a._(Dt.a,{elements:{strong:m.a._("strong",null)},messageId:"whatsApp.subheader",parameters:{model:e.username}})),m.a._("div",{className:"description"},Object(Se.d)("whatsApp.description")),m.a._("div",{className:"pricing-wrapper",onClick:this.onClickEventHandler},m.a._("span",{className:"pricing"},Object(Se.d)("whatsApp.pricing")),m.a._(Dt.a,{className:"priceValue",elements:{span:m.a._("span",{className:"amount"})},messageId:"whatsApp.pricingValue",parameters:{price:t.messageCost}})),m.a._(Tt.a,{size:"medium",onClick:this.onClickEventHandler},m.a._(ye.a,{img:"whatsapp"}),Object(Se.d)("whatsApp.startBtn")),m.a._(Dt.a,{className:"restriction",messageId:"whatsApp.restriction",parameters:{amount:t.minTokens}}))}}const xl={emitButtonEvent:f.b,showModal:k.c,startWizard:Fo.f};Dl.propTypes={className:d.a.string,isCloseBtnShown:d.a.bool,isWrapperCloseDisabled:d.a.bool,currentUserTokens:d.a.number,model:d.a.shape({username:d.a.string}).isRequired,whatsApp:d.a.shape({link:d.a.string,minTokens:d.a.number,messageCost:d.a.number}).isRequired,titlePosition:d.a.string,...Object(M.a)(xl)},Dl.defaultProps={...In.a.defaultProps,titlePosition:"outside",isCloseBtnShown:!0,isWrapperCloseDisabled:!1,className:"whats-app-modal"};var Bl=Object(X.h)(Object(g.c)(e=>{const{viewCam:{whatsApp:t}}=e;return{model:Object(G.W)(e),currentUserTokens:Object(Fl.a)(e),whatsApp:t}},e=>Object(wa.b)(xl,e))(Dl));function Vl(){return(Vl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class zl extends m.a.Component{constructor(...e){super(...e),this.confirmClickHandler=()=>{window.open(this.props.url,"","_blank,menubar,location,resizable,scrollbars,status"),this.props.onClose()}}render(){const{className:e,siteName:t,...s}=this.props;return m.a._(Ko.a,Vl({className:Object(j.c)("external-url-warning-modal",e),onClose:this.cancelClickHandler,source:"externalUrlWarningModal",titlePosition:"outside"},s),m.a._("div",{className:"image"},m.a._(ye.a,{img:"external-link"})),m.a._("div",{className:"title"},Object(Se.d)("externalUrlWarningModal.title",{siteName:t})),m.a._("div",{className:"description"},Object(Se.d)("externalUrlWarningModal.description",{siteName:t})),m.a._("div",{className:"controls"},m.a._(Tt.a,{onClick:this.props.onClose},Object(Se.d)("button.cancel")),m.a._(Tt.a,{onClick:this.confirmClickHandler,style:"accept"},Object(Se.d)("button.proceed"))))}}zl.displayName="ExternalUrlWarningModal";var $l=Object(g.c)(({whiteLabels:{siteName:e}})=>({siteName:e}))(zl);class Gl extends In.a{constructor(...e){super(...e),this.onClickEventHandler=()=>{window.location.reload()}}_D(){const{i18nTranslate:e}=this.props;return m.a._("span",null,Object(Se.d)(e.title))}_F(){const{i18nTranslate:e}=this.props;return m.a._("div",{className:"modal-body"},m.a._(ye.a,{img:"error",size:80}),m.a._("div",{className:"technical-problem-description"},m.a._("div",null,Object(Se.d)(e.description)),m.a._("div",null,Object(Se.d)(e.action))),m.a._(Tt.a,{style:"apply-alter",size:"medium",onClick:this.onClickEventHandler},Object(Se.d)(e.button)))}}Gl.defaultProps={...In.a.defaultProps,titlePosition:"outside",isCloseBtnShown:!0,isWrapperCloseDisabled:!0,className:"technical-problem-modal"};var Wl=Object(g.c)(({auth:e,config:t})=>({auth:e,config:t,currentUser:e.currentUser,isLoggedIn:e.isLoggedIn&&!e.isLoggingOut}))(Gl),Kl=s(410);const ql=({additionalClassName:e})=>m.a._(m.a.Fragment,null,[{color:"black",className:"site-logo-whitelabel-black"},{color:"#f1f1f1",className:"site-logo-whitelabel-white"}].map(({color:t,className:s})=>m.a._("svg",{key:t,className:`${e} ${s}`,width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m.a._("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 38C8.50659 38 0 29.4934 0 19C0 8.50659 8.50659 0 19 0C29.4934 0 38 8.50659 38 19C38 29.4934 29.4934 38 19 38ZM19 36.1C28.4441 36.1 36.1 28.4441 36.1 19C36.1 9.55593 28.4441 1.9 19 1.9C9.55593 1.9 1.9 9.55593 1.9 19C1.9 28.4441 9.55593 36.1 19 36.1Z",fill:t}),m.a._("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.6264 15.8779H31.0217V18.6413H33.7714V20.0366H31.0217V22.8H29.6264V20.0366H26.8767V18.6413H29.6264V15.8779ZM7.04675 14.8078C7.48452 14.8078 7.91011 14.7714 8.32355 14.6984C8.73699 14.6254 9.11091 14.5038 9.44531 14.3336C9.77971 14.1634 10.0655 13.9445 10.3026 13.677C10.5397 13.4094 10.6948 13.0811 10.7677 12.692H12.464V25.46H10.184V16.4494H7.04675V14.8078ZM20.0762 25.7154C19.4317 25.7154 18.8328 25.6242 18.2796 25.4418C17.7263 25.2594 17.249 24.9949 16.8477 24.6483C16.4464 24.3018 16.1333 23.8792 15.9084 23.3806C15.6834 22.8821 15.5709 22.3227 15.5709 21.7026C15.5709 20.9 15.7807 20.2251 16.2002 19.6779C16.6197 19.1307 17.1882 18.7659 17.9056 18.5835V18.547C17.3219 18.3282 16.8751 17.9907 16.565 17.5347C16.2549 17.0787 16.0999 16.5406 16.0999 15.9205C16.0999 14.8261 16.4434 13.9718 17.1304 13.3578C17.8175 12.7437 18.7994 12.4366 20.0762 12.4366C21.353 12.4366 22.3349 12.7437 23.022 13.3578C23.709 13.9718 24.0525 14.8261 24.0525 15.9205C24.0525 16.5406 23.8975 17.0787 23.5874 17.5347C23.2773 17.9907 22.8304 18.3282 22.2468 18.547V18.5835C22.9642 18.7659 23.5327 19.1307 23.9522 19.6779C24.3717 20.2251 24.5815 20.9 24.5815 21.7026C24.5815 22.3227 24.469 22.8821 24.244 23.3806C24.0191 23.8792 23.706 24.3018 23.3047 24.6483C22.9034 24.9949 22.4261 25.2594 21.8728 25.4418C21.3195 25.6242 20.7207 25.7154 20.0762 25.7154ZM20.0762 14.0782C19.5168 14.0782 19.0426 14.2454 18.6535 14.5798C18.2644 14.9142 18.0698 15.3976 18.0698 16.0299C18.0698 16.6379 18.2583 17.103 18.6352 17.4253C19.0122 17.7475 19.4925 17.9086 20.0762 17.9086C20.6599 17.9086 21.1402 17.7475 21.5172 17.4253C21.8941 17.103 22.0826 16.6379 22.0826 16.0299C22.0826 15.3976 21.888 14.9142 21.4989 14.5798C21.1098 14.2454 20.6356 14.0782 20.0762 14.0782ZM20.0762 24.0738C20.7693 24.0738 21.3469 23.8671 21.809 23.4536C22.2711 23.0402 22.5021 22.4565 22.5021 21.7026C22.5021 20.9973 22.2711 20.4471 21.809 20.0518C21.3469 19.6566 20.7693 19.459 20.0762 19.459C19.3831 19.459 18.8055 19.6566 18.3434 20.0518C17.8813 20.4471 17.6503 20.9973 17.6503 21.7026C17.6503 22.4565 17.8813 23.0402 18.3434 23.4536C18.8055 23.8671 19.3831 24.0738 20.0762 24.0738Z",fill:t}))));ql.displayName="AgeRestrictionLogos";var Jl=ql;const Yl=({className:e})=>m.a._("svg",{className:e,width:"310",height:"108",viewBox:"0 0 310 108",xmlns:"http://www.w3.org/2000/svg"},m.a._("g",{fill:"none",fillRule:"evenodd"},m.a._("path",{d:"M0 0h310v108H0z"}),m.a._("g",{fill:"#FFF"},m.a._("path",{d:"M88.913 58.249h-6.18c-.028 1.787.297 3.33.975 4.63a9.132 9.132 0 0 0 2.745 3.21c1.152.84 2.48 1.455 3.984 1.848 1.505.393 3.057.589 4.656.589 1.979 0 3.72-.23 5.225-.69 1.504-.46 2.765-1.104 3.781-1.93 1.017-.826 1.783-1.808 2.298-2.945.515-1.137.772-2.37.772-3.696 0-1.625-.345-2.959-1.037-4.002-.69-1.042-1.51-1.875-2.46-2.498-.948-.623-1.904-1.076-2.866-1.36-.963-.285-1.715-.481-2.257-.59-1.816-.46-3.287-.84-4.412-1.137-1.124-.298-2.005-.596-2.642-.894-.637-.297-1.064-.622-1.281-.974-.217-.353-.326-.813-.326-1.382 0-.622.136-1.137.407-1.543a3.53 3.53 0 0 1 1.037-1.016c.42-.27.888-.46 1.403-.568a7.488 7.488 0 0 1 1.545-.163c.786 0 1.511.068 2.175.203a5.246 5.246 0 0 1 1.769.69 3.59 3.59 0 0 1 1.24 1.341c.312.569.495 1.287.549 2.153h6.18c0-1.679-.318-3.107-.955-4.285a8.325 8.325 0 0 0-2.582-2.905c-1.084-.758-2.325-1.306-3.72-1.645a18.486 18.486 0 0 0-4.372-.508c-1.3 0-2.602.176-3.903.528a10.902 10.902 0 0 0-3.497 1.625 8.653 8.653 0 0 0-2.5 2.742c-.637 1.097-.956 2.39-.956 3.88 0 1.326.25 2.457.752 3.391a7.175 7.175 0 0 0 1.972 2.336 10.9 10.9 0 0 0 2.765 1.523 27.82 27.82 0 0 0 3.172.995c1.057.298 2.1.57 3.13.813 1.03.244 1.952.528 2.766.853.813.325 1.47.731 1.972 1.219.501.487.752 1.123.752 1.909 0 .73-.19 1.333-.57 1.807-.379.474-.853.847-1.423 1.117a6.37 6.37 0 0 1-1.83.549c-.65.095-1.26.142-1.829.142-.84 0-1.654-.102-2.44-.305s-1.47-.514-2.053-.934a4.616 4.616 0 0 1-1.403-1.645c-.352-.677-.528-1.503-.528-2.478zm28.462-14.014v23.641h6.384V44.235h8.7v-5.362h-23.785v5.362h8.7zm24.803 7.758V43.83h6.993c1.464 0 2.562.318 3.294.954.732.637 1.098 1.659 1.098 3.067 0 1.462-.366 2.519-1.098 3.169-.732.65-1.83.974-3.294.974h-6.993zm-6.384-13.12v29.003h6.384V56.543h6.383c1.6 0 2.752.352 3.456 1.056.705.704 1.166 1.814 1.383 3.331.163 1.164.285 2.383.366 3.656.081 1.273.298 2.37.65 3.29h6.384c-.298-.406-.522-.9-.67-1.483a12.796 12.796 0 0 1-.326-1.848 31.707 31.707 0 0 1-.142-1.909c-.028-.623-.055-1.164-.082-1.625a17.415 17.415 0 0 0-.305-2.193 7.37 7.37 0 0 0-.711-2.011 5.52 5.52 0 0 0-1.26-1.584c-.516-.447-1.166-.779-1.952-.995v-.082c1.626-.65 2.798-1.597 3.517-2.843.718-1.246 1.077-2.722 1.077-4.428 0-1.11-.196-2.146-.59-3.107a7.494 7.494 0 0 0-1.707-2.539c-.746-.731-1.64-1.307-2.684-1.726-1.043-.42-2.216-.63-3.517-.63h-15.654zm29.357 0v29.003h6.383V38.873h-6.383zm18.378 13.648V43.83h4.96c.733 0 1.437.054 2.115.162.678.108 1.274.318 1.79.63.514.311.928.751 1.24 1.32.311.569.467 1.313.467 2.234 0 .92-.156 1.666-.468 2.234a3.431 3.431 0 0 1-1.24 1.32c-.515.312-1.111.522-1.789.63-.678.108-1.382.162-2.114.162h-4.96zm-6.383-13.648v29.003h6.383V57.477h6.71c1.815 0 3.36-.264 4.634-.792 1.274-.528 2.311-1.225 3.11-2.092a8.008 8.008 0 0 0 1.75-2.985 11.02 11.02 0 0 0 .548-3.433c0-1.191-.183-2.342-.549-3.453a8.035 8.035 0 0 0-1.748-2.965c-.8-.867-1.837-1.564-3.11-2.092-1.275-.528-2.82-.792-4.636-.792h-13.092zm47.897 8.733h3.863c-.217-1.543-.678-2.904-1.382-4.082a10.048 10.048 0 0 0-2.643-2.945c-1.057-.785-2.264-1.381-3.619-1.787a14.936 14.936 0 0 0-4.31-.61c-2.223 0-4.195.4-5.916 1.199s-3.158 1.889-4.31 3.27c-1.152 1.38-2.026 2.999-2.623 4.854-.596 1.855-.894 3.838-.894 5.95 0 2.113.278 4.09.833 5.931.556 1.842 1.39 3.44 2.5 4.794 1.112 1.354 2.508 2.417 4.189 3.188 1.68.772 3.646 1.158 5.896 1.158 3.713 0 6.64-1.015 8.782-3.047 2.142-2.03 3.402-4.874 3.782-8.53h-3.863a11.058 11.058 0 0 1-.732 3.331 8.038 8.038 0 0 1-1.687 2.66 7.686 7.686 0 0 1-2.562 1.747c-.99.42-2.121.63-3.395.63-1.735 0-3.226-.325-4.473-.975a8.733 8.733 0 0 1-3.07-2.62c-.8-1.097-1.389-2.383-1.768-3.859-.38-1.476-.57-3.04-.57-4.692 0-1.516.19-2.978.57-4.387.38-1.408.969-2.66 1.768-3.757a8.785 8.785 0 0 1 3.05-2.62c1.233-.65 2.717-.975 4.452-.975 2.033 0 3.788.515 5.266 1.544 1.477 1.029 2.433 2.572 2.866 4.63zm8.946-8.733v29.003h3.862V54.593h15.289v13.283h3.862V38.873h-3.862v12.47H237.85v-12.47h-3.862zm34.358 17.02l4.92-13.527h.08l4.84 13.527h-9.84zm2.887-17.02L259.93 67.876h3.944l3.253-8.733h12.28l3.17 8.733h4.27l-11.344-29.003h-4.27zm25.046 3.25v25.753h3.863V42.123h9.677v-3.25h-23.217v3.25h9.677zM24.972 77.837s-.384-.07-.454-.089c-1.121-.303-2.282-.004-3.113.405-.81.4-.466.234-.466.234a46.714 46.714 0 0 1-4.286 1.874c-4.084 1.556-8.504 2.667-12.954 3.394.395-.594.758-1.164 1.088-1.709.891-1.469 2.033-3.563 3.366-6.124 0 0 1.099-1.94 1.537-2.955.435-1.006-.067-1.957-.692-2.57-.625-.615-1.895-1.994-1.895-1.994C2.507 63.468 0 57.518 0 51.273 0 36.449 14.273 24 32.32 24c18.046 0 32.319 12.448 32.319 27.274 0 14.015-12.754 25.905-29.394 27.164-.366.027-1.104-.26-1.112-1.164-.05-5.44-.1-16.299-.1-16.299 0-.51.351-1.132.784-1.39l12.39-14.35c.289-.334.17-.605-.286-.604l-29.836.014c-.447 0-.575.273-.288.604L29.16 59.567c.429.268.776.9.776 1.408 0 0-.015 10.892.02 16.337.006.834-.824 1.152-1.23 1.11a40.818 40.818 0 0 1-3.754-.585z"}))));Yl.displayName="StripchatLogo";var Xl=Yl;const Ql=({className:e})=>m.a._("svg",{className:e,width:"352",height:"108",viewBox:"0 0 352 108",xmlns:"http://www.w3.org/2000/svg"},m.a._("g",{fill:"none",fillRule:"evenodd"},m.a._("path",{d:"M0 0h352v108H0z"}),m.a._("path",{fill:"#4C4D4E",d:"M111.878 55.93h-10.134v11.6h-5.425V39.813h5.423v11.284h10.144V39.813h5.424V67.53h-5.432z"}),m.a._("path",{d:"M136.818 61.335h-8.51l-2.1 6.137h-5.425l9.977-27.912h4l9.976 27.912h-5.7l-2.218-6.137zm-7.126-4.36h5.938l-1.7-6.234-1.19-4.3h-.198l-1.119 4.287-1.731 6.246z",fill:"#4C4D4E",fillRule:"nonzero"}),m.a._("path",{fill:"#4C4D4E",d:"M170.112 53.269l.028-5.594h-.286l-2.007 4.254-5.047 10.51h-1.741l-5.862-10.79-2.145-4.048h-.289l.07 5.393v14.534h-4.647V39.813h5.068l6.882 11.737 1.707 3.044H162l1.572-3.116 6.477-11.662h5.05V67.53h-5zM192.943 60.086a2.577 2.577 0 0 0-.93-2.059 10.294 10.294 0 0 0-2.335-1.445 91.567 91.567 0 0 0-3.049-1.347 15.568 15.568 0 0 1-3.048-1.7 8.665 8.665 0 0 1-2.336-2.515 7.199 7.199 0 0 1-.93-3.84 8.41 8.41 0 0 1 .674-3.503 6.57 6.57 0 0 1 1.919-2.475 8.247 8.247 0 0 1 2.95-1.465 14.1 14.1 0 0 1 3.8-.471c1.53-.008 3.056.13 4.558.415 1.505.246 2.952.767 4.268 1.537l-1.66 4.634a15.824 15.824 0 0 0-3.4-1.414 14.84 14.84 0 0 0-3.771-.456 4.812 4.812 0 0 0-2.915.751 2.392 2.392 0 0 0-1.01 2.02 2.494 2.494 0 0 0 .931 1.98 10.75 10.75 0 0 0 2.335 1.464c.937.45 1.952.911 3.047 1.386a16.4 16.4 0 0 1 3.049 1.728 8.783 8.783 0 0 1 2.335 2.494 6.858 6.858 0 0 1 .93 3.703 9.132 9.132 0 0 1-.729 3.82 7.229 7.229 0 0 1-2.059 2.671 8.704 8.704 0 0 1-3.207 1.572 15.68 15.68 0 0 1-4.137.513 22.058 22.058 0 0 1-5.224-.553 23.03 23.03 0 0 1-2.71-.729v-5.388c.681.345 1.792.704 2.254.89.514.2 1.039.373 1.572.515.606.164 1.221.296 1.842.396.66.106 1.329.158 1.998.157a6.979 6.979 0 0 0 3.703-.811 2.728 2.728 0 0 0 1.285-2.475zM222.913 44.645h-8.077V67.53h-5.429V44.645h-8.171l1.728-4.83h19.957v4.83zM226.718 39.813h16.43v4.83h-11v6.454h7.368v4.83h-7.367v6.77h11.033v4.831h-16.466V39.813z"}),m.a._("path",{d:"M249.057 40.091c.607-.105 1.26-.204 1.96-.297s1.4-.166 2.1-.217c.697-.052.494-.093 1.154-.12.66-.03 1.267-.042 1.822-.042a31.02 31.02 0 0 1 4.704.355c1.184.213 2.322.628 3.365 1.228a6.56 6.56 0 0 1 2.376 2.395c.632 1.171.94 2.49.89 3.82a9.194 9.194 0 0 1-1.57 5.542 8.787 8.787 0 0 1-4.058 2.552 8.701 8.701 0 0 1 1.963 2.08l5.04 10.136h-6.048l-5.5-11.333-2.772-.03v11.363h-5.423V40.091h-.003zm8.315 4.156c-.556 0-1.103.014-1.644.041-.42.01-.837.063-1.246.157v8.034h2.297a5.783 5.783 0 0 0 3.607-1.022 4.021 4.021 0 0 0 1.345-3.4 3.586 3.586 0 0 0-1.11-2.794 4.664 4.664 0 0 0-3.248-1.01l-.001-.006z",fill:"#4C4D4E",fillRule:"nonzero"}),m.a._("path",{fill:"#E24449",d:"M85.643 67.506l-5.577-9.194-5.535 9.194h-6.229l8.302-13.828-8.302-13.85h6.23l5.534 8.907 5.544-8.906h6.215l-8.302 13.828 8.302 13.829h-6.182z"}),m.a._("path",{d:"M60.805 52.714c-1.474-3.378-3.316-4.486-5.582-6.144a7.56 7.56 0 0 1-2.109-1.91 2.654 2.654 0 0 1-.364-1.344c.014-.585.12-1.164.314-1.716a21 21 0 0 0 1.257-6.974C54.318 31.285 52.973 26 48.811 26a4.955 4.955 0 0 0-1.685.286 5.909 5.909 0 0 0-2.43 1.729c-.819.922-3.248 4.594-4.086 4.951a.786.786 0 0 1-.53-.012 27.476 27.476 0 0 0-8.6-1.454 27.475 27.475 0 0 0-8.597 1.458.786.786 0 0 1-.531.013c-.84-.357-3.27-4.03-4.086-4.952a5.909 5.909 0 0 0-2.432-1.733A4.953 4.953 0 0 0 14.143 26c-4.161 0-5.5 5.286-5.5 8.624.02 2.38.446 4.737 1.257 6.974.194.552.3 1.131.314 1.716 0 .473-.125.937-.364 1.345a7.559 7.559 0 0 1-2.112 1.906c-2.268 1.664-4.11 2.768-5.584 6.15a7.857 7.857 0 0 0-.583 3.175 11.767 11.767 0 0 0 1.603 5.224A43.243 43.243 0 0 0 12.34 72.68c5.538 4.834 12.463 8.27 18.479 8.624.219.012.439.02.66.025.22.004.44-.004.66-.025 6.017-.365 12.94-3.797 18.478-8.624a43.243 43.243 0 0 0 9.166-11.567 11.765 11.765 0 0 0 1.6-5.224 7.857 7.857 0 0 0-.578-3.176zM46.227 34.138c.822-.95 2.767-2.239 4.045-1.458 1.425.872 1.247 3.937.957 5.343-.198.92-.482 1.82-.85 2.686-.305.686-.611 1.448-.918 2.288a15.653 15.653 0 0 1-3.819-3.888 4.05 4.05 0 0 1 .585-4.97zM42.883 41.4a5.995 5.995 0 0 1 2.882 4.686 2.731 2.731 0 0 1-.561 1.997c-.282.302-.67.482-1.083.503a3.438 3.438 0 0 0-.157-4.273 3.209 3.209 0 0 0-2.43-1.3 3.787 3.787 0 0 0-3.901 4.044 4.147 4.147 0 0 1-.629-1.207 4.142 4.142 0 0 1 .806-4.38 4.787 4.787 0 0 1 5.073-.07zm-18.487-6.168a1.741 1.741 0 0 1 1.036-.654 22.743 22.743 0 0 1 5.93-.837h.224c2.005.016 3.999.298 5.93.837.413.086.781.318 1.036.654a.597.597 0 0 1 0 .516 11.244 11.244 0 0 1-1.83 1.714 10.348 10.348 0 0 0-4.219 5.953 7.669 7.669 0 0 0 .158 4.354c.74 2.282 2.37 3.644 3.158 5.709.447.974.487 2.086.112 3.09-.72 1.49-2.829 1.744-4.3 1.775h-.323c-1.45-.03-3.577-.286-4.28-1.783a4.028 4.028 0 0 1 .112-3.09c.786-2.065 2.419-3.42 3.159-5.709a7.667 7.667 0 0 0 .157-4.346 10.321 10.321 0 0 0-4.22-5.953 11.25 11.25 0 0 1-1.84-1.72.597.597 0 0 1 0-.51zM20.075 41.4a4.787 4.787 0 0 1 5.068.061 4.142 4.142 0 0 1 .806 4.381 4.147 4.147 0 0 1-.629 1.207 3.786 3.786 0 0 0-3.905-4.043 3.207 3.207 0 0 0-2.429 1.304 3.437 3.437 0 0 0-.157 4.273 1.595 1.595 0 0 1-1.083-.503 2.731 2.731 0 0 1-.56-1.997 5.995 5.995 0 0 1 2.889-4.683zm-7.386-8.714c1.278-.785 3.223.506 4.045 1.459a4.05 4.05 0 0 1 .58 4.98 15.653 15.653 0 0 1-3.819 3.887c-.305-.838-.611-1.6-.917-2.288a14.759 14.759 0 0 1-.85-2.685c-.29-1.416-.467-4.48.957-5.359l.004.006zM58.3 57.24a41.542 41.542 0 0 1-6.129 9.51 33.11 33.11 0 0 1-8.642 7.564 27.524 27.524 0 0 1-12.04 4.074 27.55 27.55 0 0 1-12.041-4.074 33.108 33.108 0 0 1-8.654-7.56 41.528 41.528 0 0 1-6.128-9.51 4.834 4.834 0 0 1-.03-3.247 10.214 10.214 0 0 1 3.693-4.66c.45-.386 1.02-.6 1.613-.606 1.306.209 2.043 2.03 2.55 3.053-.346.346-.735.629-1.1 1.007-2.23 2.43-1.896 5.5-.516 8.451a36.143 36.143 0 0 0 8.783 10.603c-2.266-5.409-1.399-12.34 4.13-15.485-.486 6.726 14.824 7.87 15.352 0 5.524 3.143 6.391 10.082 4.13 15.485a36.034 36.034 0 0 0 8.783-10.603c1.38-2.952 1.714-6.023-.517-8.45-.352-.384-.74-.66-1.1-1.008.512-1.021 1.247-2.843 2.55-3.053.593.005 1.164.22 1.614.606a10.214 10.214 0 0 1 3.702 4.658 4.834 4.834 0 0 1-.003 3.245z",fill:"#4C4D4E",fillRule:"nonzero"}),m.a._("path",{d:"M36.729 66.207a5.343 5.343 0 0 1-1.944.256 2.714 2.714 0 0 1-2.437-1.471c-.09-.18-.275-.18-.769-.18h-.133c-.494 0-.679 0-.769.18a2.714 2.714 0 0 1-2.442 1.47 5.343 5.343 0 0 1-1.943-.255 10.717 10.717 0 0 0-4.803-.959c2.296 5.275 5.885 9.209 9.96 9.177h.121c4.075.032 7.664-3.902 9.96-9.177a10.63 10.63 0 0 0-4.801.959zm-5.824 7.19a6.004 6.004 0 0 1-1.257-.286 3.17 3.17 0 0 1-1.065-.471 1.487 1.487 0 0 1-.407-.512 27.04 27.04 0 0 1-1.468-4.3 6.286 6.286 0 0 0 4.2-.991v6.562l-.003-.002zm3.879-1.27a1.49 1.49 0 0 1-.407.511 3.17 3.17 0 0 1-1.066.472c-.407.14-.829.236-1.257.286v-6.558a6.286 6.286 0 0 0 4.2.992 27.047 27.047 0 0 1-1.469 4.295l-.001.001z",fill:"#4C4D4E",fillRule:"nonzero"}),m.a._("path",{fill:"#73AD0C",d:"M293.678 67.879h-17.782v-28.1h5.5v23.203h12.282zM298.1 39.78h5.5v28.099h-5.5zM319.207 56.278l.722 4.777h.2l.802-4.818 5.38-16.457h5.779l-10.437 28.3h-3.929l-10.52-28.3h6.384zM335.142 39.78h16.657v4.896h-11.157v6.544h10.154v4.898h-10.154v6.862H352v4.899h-16.858z"})));Ql.displayName="XhamsterLiveLogo";var Zl=Ql;var ec=({siteCode:e})=>{const t="visitors-agreement-site-logo";switch(e){case"whitelabel":return m.a._(Jl,{additionalClassName:t});case"xhamsterlive":return m.a._(Zl,{className:t});case"stripchat":default:return m.a._(Xl,{className:t})}},tc=s(326);function sc(){return(sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const ac={acceptAgreement:Kl.a};class ic extends In.a{constructor(e){super(e),this.acceptAgreementButtonClickHandler=()=>{this.props.acceptAgreement(),window.__visitorsAgreementAcceptPixelEvent&&window.__visitorsAgreementAcceptPixelEvent()},this.declineAgreementClickHandler=e=>{window.__visitorsAgreementDeclineHandler&&window.__visitorsAgreementDeclineHandler(e)},this.getCurrentSiteCode=()=>{const{isXHamsterLive:e,isWhiteLabel:t}=this.props;return t?"whitelabel":e?"xhamsterlive":"stripchat"},this.getIsGenderSwitcherHidden=()=>{const{isWhiteLabel:e,isHomePage:t}=this.props;return e||!t},this.getAdditionalButtonProps=()=>{const{activeGender:e}=this.state;switch(e){case"boys":return{type:"link",to:"/men"};case"trans":return{type:"link",to:"/trans"};default:return{}}},this.state={...this.state,activeGender:"girls"},this.additionalClassName=this.getCurrentSiteCode()}removeAcceptEventListener(){const e=document.querySelector(".btn-visitors-agreement-accept");e&&window.__visitorsAgreementAcceptHandler&&(e.removeEventListener("click",window.__visitorsAgreementAcceptHandler),delete window.__visitorsAgreementAcceptHandler)}_A(){super._A(),this.removeAcceptEventListener()}componentWillUnmount(){super.componentWillUnmount();const e=document.querySelector(".btn-visitors-agreement-decline");e&&e.removeEventListener("click",window.__visitorsAgreementDeclineHandler),delete window.__visitorsAgreementDeclineHandler,delete window.__visitorsAgreementAcceptPixelEvent}_F(){const{isNonNudeWL:e,siteName:t}=this.props,{activeGender:s}=this.state,a=this.getCurrentSiteCode(),i=this.getIsGenderSwitcherHidden(),o=this.getAdditionalButtonProps();return m.a._("div",{className:Object(j.c)("background-wrapper",{"hide-gender-switcher":i})},m.a._("div",{className:"background-gradient"}),m.a._("div",{className:"content-wrapper"},m.a._("div",{className:"content-container"},m.a._("div",{className:`site-logo-wrapper site-logo-wrapper-${s}`},m.a._(ec,{siteCode:a})),m.a._("div",{className:"site-description"},Object(Se.d)(`visitorsAgreement.siteDescription.${a}`,{siteName:t})),m.a._("div",{className:"gender-switcher"},m.a._("div",{className:"gender-switcher-title"},Object(Se.d)("visitorsAgreement.interestedIn")),m.a._("div",{className:"gender-switcher-labels"},["girls","boys","trans"].map(e=>m.a._("label",{key:e,htmlFor:e,className:Object(j.c)("gender-switcher-label",`gender-switcher-label-${e}`,{"gender-switcher-label-active":s===e}),onClick:()=>this.setState({activeGender:e})},m.a._("input",{type:"radio",name:"visitors-agreement-gender-switcher",id:e,value:e,defaultChecked:s===e}),Object(Se.d)(`visitorsAgreement.${e}`))))),m.a._("div",{className:"agreement-terms"},m.a._(Dt.a,{elements:{termsLink:m.a._(Oe.a,{to:"/terms"}),privacyLink:m.a._(Oe.a,{to:"/privacy"})},messageId:"visitorsAgreement.agreementTerms"})," ",m.a._(Dt.a,{elements:{link:m.a._(Oe.a,{to:"/2257"})},messageId:"visitorsAgreement.agreement2257"})),m.a._(Tt.a,sc({autoFocus:!0,onClick:this.acceptAgreementButtonClickHandler,style:"apply-alter",size:"large",className:"btn-visitors-agreement-accept"},o),Object(Se.d)("visitorsAgreement.acceptButtonText"))),m.a._("hr",{className:"divider"}),m.a._("div",{className:"content-container"},m.a._("a",{className:"decline-link visitors-agreement-decline",href:"https://google.com/",onClick:this.declineAgreementClickHandler,rel:"noopener noreferrer nofollow"},Object(Se.d)("visitorsAgreement.declineButtonText")),m.a._("div",{className:"warnings"},m.a._("p",null,!e&&m.a._(h.Fragment,null,m.a._(Dt.a,{elements:{strong:m.a._("strong",null)},messageId:"visitorsAgreement.ageWarningTitle"})," "),m.a._(Dt.a,{elements:{strong:m.a._("strong",null)},messageId:"visitorsAgreement.ageWarningText"})),m.a._("p",null,m.a._(Dt.a,{elements:{link:m.a._(Oe.a,{to:"/privacy"})},messageId:"visitorsAgreement.cookiesWarningText"})),m.a._("p",null,Object(Se.d)("visitorsAgreement.allModelsAdults"))),m.a._("div",{className:"label-link-block"},m.a._("a",{href:"http://www.rtalabel.org/",className:"label-link",target:"_blank",rel:"noopener noreferrer nofollow"},m.a._("div",{className:"rta-logo"})),m.a._("div",{className:"label-link safe-labeling"}),m.a._("a",{href:"http://www.asacp.org/index.php?content=validate",className:"label-link",target:"_blank",rel:"noreferrer noopener nofollow"},m.a._("div",{className:"asacp-label"}))))))}}ic.propTypes={...In.a.propTypes,isNonNudeWL:d.a.bool,isXHamsterLive:d.a.bool,isWhiteLabel:d.a.bool,siteName:d.a.string,isHomePage:d.a.bool,isVisitorsAgreementAccepted:d.a.bool,...Object(M.a)(ac)},ic.defaultProps={...In.a.defaultProps,className:"visitors-agreement-modal full-cover",isCloseBtnShown:!1,isWrapperCloseDisabled:!0,titlePosition:"none"};var oc=Object(g.c)(e=>({siteName:e.whiteLabels.siteName,isVisitorsAgreementAccepted:Object(tc.a)(e),isNonNudeWL:Object(xe.f)(e),isXHamsterLive:Object(xe.j)(e),isWhiteLabel:Object(xe.i)(e),isHomePage:Object(_e.o)(e)}),ac)(ic),nc=s(736),rc=s(401),lc=s(169),cc=s(321);class dc extends In.a{constructor(...e){super(...e),this.isClosedByUser=!1,this.closeButtonClickHandler=e=>{e.preventDefault();const{currentWizardStep:t}=this.props;this.isClosedByUser=!0,t===vo.v.SUCCESS&&this.props.emitUiEvent(pe.S.PURCHASE_PROCESSING_CLOSED_BY_USER),this.closeHandler(e)},this.iframeMessageHandler=e=>{this.props._Ek(e.data)},this._gt=()=>{const{options:e,optionsError:t,triggerSource:s,user:a}=this.props,i={triggerSource:s,modelId:l()(a,"id")};return t||e&&e.methods?m.a._(cc.a,{moduleProvider:lc.o,triggerData:i}):null}}_A(){const{methodName:e,triggerSource:t}=this.props;Object(mt.a)(this,window,"message",this.iframeMessageHandler),this.props.togglePurchaseModalOpenState(!0,t),this.props.loadPromoCampaigns(),this.props.loadPurchaseOptions().then(()=>{"astropay"===e&&this.props.updateMethodName({methodName:e})}),super._A()}componentWillUnmount(){const{currentWizardStep:e,fanClubModel:t,fanClubSelectedType:s}=this.props;t?e===vo.v.SUCCESS?(this.props.loadCam(t.username),this.props.resetPurchase()):e===vo.v.AUTH?this.isClosedByUser||this.props.emitButtonEvent(pe.b.USER_JOIN_FAN_CLUB_BUY,{tier:s,model:t}):this.props.resetPurchase():this.props.resetPurchase(),super.componentWillUnmount()}_D(){return this.props.isFanClubPayment?Object(Se.d)("fanClub.byeTokensModalTitle"):Object(Se.d)("buyTokens.buyTokens")}_F(){const{isLoading:e}=this.props;return m.a._("div",{className:"modal-body-wrapper"},m.a._("div",{className:"modal-body"},e?m.a._(uo.a,{isCentered:!0}):this._gt()))}}const pc={emitButtonEvent:f.b,emitUiEvent:f.e,_Ek:Vt.f,loadCam:jn.m,loadPromoCampaigns:rc.a,loadPurchaseOptions:Vt.i,updateMethodName:Vt.D,resetPurchase:Vt.l,togglePurchaseModalOpenState:Vt.z};dc.propTypes={...In.a.propTypes,fanClubModel:d.a.object,fanClubSelectedType:d.a.string,isLoading:d.a.bool,options:d.a.oneOfType([d.a.arrayOf(d.a.object),d.a.shape({methods:d.a.object})]),optionsError:d.a.instanceOf(Error),triggerSource:d.a.string,user:d.a.shape({id:d.a.number}),...Object(M.a)(pc)},dc.defaultProps={...In.a.defaultProps,className:"buy-tokens-modal",isWrapperCloseDisabled:!0,titlePosition:"outside"};var uc=Object(g.c)(e=>{const{tokens:{currentWizardStep:t,isFanClubPayment:s,fanClubModelName:a,fanClubSelectedType:i,methodName:o,isLoading:n,options:r,optionsError:l}}=e;return{currentWizardStep:t,fanClubModel:Object(ue.m)(e,a),isFanClubPayment:s,fanClubSelectedType:i,methodName:o,isLoading:n,options:r,optionsError:l}},pc)(dc);class hc extends In.a{constructor(...e){super(...e),this.getTriggerSource=()=>{const{type:e}=this.props;switch(e){case It.K.FAVORITE:return pe.b.FAVORITES_LIMIT_REACHED;case It.K.SUBSCRIPTION:return pe.b.SUBSCRIPTION_LIMIT_REACHED;default:return null}},this.clickHandler=()=>{this.props.showModal(pe.F.AUTH,{action:{isDefaultBanner:!0,shouldBypassActionPrefix:!0,type:"createFreeAccount"},component:"SignUp",className:"auth-modal-signup",triggerSource:this.getTriggerSource()})}}_F(){const{type:e}=this.props,t=`addTo${Ln()(e)}Limit`;return m.a._("div",{className:"modal-body"},m.a._(ye.a,{img:"blocked",size:80}),m.a._("div",{className:"add-to-favorites-limit-modal-title"},Object(Se.d)(`${t}.title`)),m.a._("div",{className:"add-to-favorites-limit-modal-description"},Object(Se.d)(`${t}.description`)),m.a._(Tt.a,{style:"default-filled",onClick:this.clickHandler},Object(Se.d)(`${t}.button`)))}}const mc={showModal:k.c};hc.propTypes={type:d.a.oneOf([It.K.SUBSCRIPTION,It.K.FAVORITE]),...Object(M.a)(mc)},hc.defaultProps={...In.a.defaultProps,titlePosition:"outside",isCloseBtnShown:!0,isWrapperCloseDisabled:!0,className:"add-to-favorites-limit-modal"};var gc=Object(g.c)(({auth:e,config:t})=>({auth:e,config:t,currentUser:e.currentUser,isLoggedIn:e.isLoggedIn&&!e.isLoggingOut}),e=>Object(wa.b)(mc,e))(hc);class bc extends In.a{constructor(...e){super(...e),this.clickHandler=()=>{const{model:e}=this.props;this.props.toggleSubscription(e,pe.b.SUBSCRIBE_POPUP)}}_F(){const{model:{username:e}}=this.props;return m.a._("div",{className:"modal-body"},m.a._(ye.a,{img:"notification-in-circle",size:80}),m.a._("div",{className:"add-to-subscription-modal-title"},m.a._(Dt.a,{messageId:"addToSubscriptionModal.title",elements:{strong:m.a._("strong",null)},parameters:{username:e}})),m.a._("div",{className:"add-to-subscription-modal-description"},m.a._(Dt.a,{messageId:"addToSubscriptionModal.description",elements:{strong:m.a._("strong",null)},parameters:{username:e}})),m.a._(Tt.a,{style:"default-filled",onClick:this.clickHandler},Object(Se.d)("addToSubscriptionModal.button")))}}const _c={toggleSubscription:ls.d};bc.propTypes={model:d.a.shape({id:d.a.number.isRequired,username:d.a.string.isRequired}).isRequired,...Object(M.a)(_c)},bc.defaultProps={...In.a.defaultProps,titlePosition:"outside",isCloseBtnShown:!0,isWrapperCloseDisabled:!0,className:"add-to-subscription-modal"};var vc=Object(g.c)(({auth:e,config:t})=>({auth:e,config:t,currentUser:e.currentUser,isLoggedIn:e.isLoggedIn&&!e.isLoggingOut}),e=>Object(wa.b)(_c,e))(bc),fc=s(53),Cc=s(520),Nc=s(527),Oc=s(525);const yc=e=>{const t={Login:()=>!0,SignUp:()=>!0,default:()=>!1};return l()(t,e,t.default)()};class wc extends In.a{constructor(e,t){super(e,t),this.state={...this.state,...wc.getDerivedStateFromProps(this.props)}}static getDerivedStateFromProps(e){const{component:t}=e;return{...In.a.getDerivedStateFromProps(e),isWrapperCloseDisabled:yc(t),component:t,titlePosition:"none"}}_gu(){const{action:e,isCloseBtnShown:t,className:s,email:a,onClose:i,onProceed:o,showRecaptchaForced:n,triggerSource:r}=this.props;return m.a._(Nc.a,{action:e,canClose:t,isCloseBtnShown:t,className:s,email:a,isModal:!0,onAutoFocus:this.onAutoFocus,onClose:i,onProceed:o,triggerSource:r,showRecaptchaForced:n})}_gv(){const{action:e,className:t,email:s,isCloseBtnShown:a,onClose:i,onProceed:o,showRecaptchaForced:n,triggerSource:r,type:l}=this.props;return m.a._(Oc.a,{action:e,canClose:a,isCloseBtnShown:a,className:t,email:s,isModal:!0,onAutoFocus:this.onAutoFocus,onClose:i,onProceed:o,showRecaptchaForced:n,triggerSource:r,type:l})}_gw(){return m.a._(Cc.a,{isModal:!0,onAutoFocus:this.onAutoFocus,onClose:this.props.onClose,onSuccess:this.closeHandler})}_F(){const{component:e}=this.state;if(!e)return null;this[`render${e}Component`];switch(e){case pe.f.FORGOT_PASSWORD:return this._gw();case pe.f.LOGIN:return this._gu();case pe.f.SIGNUP:return this._gv();case pe.f.WHITELABEL:return this._gx()}throw new fc.b(`Failed to render component: ${e}`)}}wc.propTypes={action:d.a.object,className:d.a.string,component:d.a.oneOf(Object.values(pe.f)),email:d.a.string,isCloseBtnShown:d.a.bool,onClose:d.a.func,onProceed:d.a.func,showRecaptchaForced:d.a.bool,triggerSource:d.a.string.isRequired,type:d.a.string};var Sc=Object(g.c)(({config:{data:e}})=>({config:e}))(wc),kc=s(202),jc=s(178);const Ic={ban:kc.a,banUserByMessage:Pi.o};class Tc extends m.a.Component{constructor(...e){super(...e),this.cancelClickHandler=()=>{this.props.onClose()},this.banConfirmClickHandler=()=>{const{modelId:e,user:t}=this.props;this.props.ban(e,t.id,!0,ti.a.BAN),this.props.onClose()},this.banMessageConfirmClickHandler=()=>{const{modelId:e,message:t}=this.props;this.props.banUserByMessage(e,t.id),this.props.onClose()},this.muteConfirmClickHandler=()=>{const{modelId:e,user:t}=this.props;this.props.ban(e,t.id,!0,ti.a.MUTE),this.props.onClose()},this._F=()=>{const{type:e}=this.props;switch(e){case ti.a.MUTE:return this._gy();case ti.a.BAN:default:return this._gz()}}}_gy(){const{user:e}=this.props;return m.a._(h.Fragment,null,m.a._(ye.a,{img:"mute"}),m.a._("div",{className:"ban-confirmation-title"},Object(Se.d)("bans.title.mute",{username:e.username})),m.a._("div",{className:"ban-confirmation-description"},Object(Se.d)("bans.confirmation.mute")),m.a._("div",{className:"ban-confirmation-controls controls"},m.a._(Tt.a,{onClick:this.cancelClickHandler},Object(Se.d)("button.cancel")),m.a._(Tt.a,{onClick:this.muteConfirmClickHandler,style:"accept"},Object(Se.d)("bans.buttons.mute"))))}_h0(){const{hasMuted:e,user:t}=this.props;return m.a._(h.Fragment,null,m.a._(ye.a,{img:"ban-big"}),m.a._("div",{className:"ban-confirmation-title"},Object(Se.d)("bans.title.ban",{username:t.username})),m.a._("div",{className:"ban-confirmation-description"},Object(Se.d)("bans.confirmation.ban")),m.a._("div",{className:"ban-confirmation-description-alter"},Object(Se.d)("bans.confirmation.banAlter")),m.a._("div",{className:"ban-confirmation-controls controls"},m.a._(Tt.a,{onClick:this.banConfirmClickHandler,style:"accept"},Object(Se.d)("bans.buttons.ban")),!e&&m.a._(Tt.a,{onClick:this.muteConfirmClickHandler,style:"signup"},Object(Se.d)("bans.buttons.muteAfterBan")),m.a._(Tt.a,{onClick:this.cancelClickHandler},Object(Se.d)("button.cancel"))))}_h1(){return m.a._(h.Fragment,null,m.a._(ye.a,{img:"ban-big"}),m.a._("div",{className:"ban-confirmation-title"},Object(Se.d)("bans.title.anonymousBan")),m.a._("div",{className:"ban-confirmation-description"},Object(Se.d)("bans.confirmation.anonymousBan")),m.a._("div",{className:"ban-confirmation-controls ban-confirmation-controls-row controls"},m.a._(Tt.a,{onClick:this.banMessageConfirmClickHandler,style:"accept"},Object(Se.d)("bans.buttons.ban")),m.a._(Tt.a,{onClick:this.cancelClickHandler},Object(Se.d)("button.cancel"))))}_gz(){const{message:e,user:t}=this.props;return e?this._h1():this._h0()}render(){const{type:e}=this.props;return m.a._(Ko.a,{className:Object(j.c)("ban-confirmation-modal",e),onClose:this.cancelClickHandler,source:"confirmationModal",titlePosition:"outside"},this._F())}}Tc.displayName="BanConfirmationModal";var Pc=Object(g.c)((e,t)=>{const{modelId:s,user:a}=t;return{hasMuted:a&&Object(jc.c)(e,s,a.id)}},e=>Object(wa.b)(Ic,e))(Tc),Mc=s(94),Ec=s.n(Mc),Ac=s(174),Uc=s.n(Ac),Hc=s(371),Lc=s(521),Rc=s(259),Fc=s(81),Dc=s(256),xc=s(90);const Bc=e=>{const{accessMode:t,hasFanClub:s,id:a,isCostOptionAvailable:i,isFanClubsEnabled:o,onAccessModeSelectHandler:n}=e,r=Object.values(xc.a).filter(e=>(e!==xc.a.PAID||i)&&(o||e!==xc.a.FAN_CLUB)&&e!==xc.a.UNPUBLISHED).map(e=>s||e!==xc.a.FAN_CLUB?{value:e,label:Object(Se.d)(`gallery.albums.accessModes.${e}`)}:{isDisabled:!0,isIgnoreNative:!0,value:e,label:m.a._("div",null,m.a._("div",{id:"editor-album-fan-club"},Object(Se.d)(`gallery.albums.accessModes.${e}`)),m.a._(za.a,{targetId:"editor-album-fan-club"},Object(Se.d)("fanClub.notStarted")))});return m.a._(Jo.a,{className:"form-select edit-access-modal",id:a,onSelect:n,options:r,value:t})};Bc.displayName="SelectAccessMode";var Vc=s(143);const{isRequiredValidator:zc}=Fc.i,$c="cost",Gc="name";class Wc extends In.a{constructor(e){super(e),this.albumNameInputRef=null,this.getFormFields=()=>{const{albumNameInputRef:e,albumCostInputRef:t}=this,{isCostOptionAvailable:s}=this.props,{albumData:a}=this.state,i=a.accessMode===xc.a.PAID,o=Number(Ec()(l()(t,"value",0))),n=!o||o!==a.cost,r=s&&i&&n;return{name:{value:Ec()(e.value),validators:[zc]},...r?{cost:{value:o,validators:[Object(Fc.a)(ti.m,ti.q)]}}:{}}},this.getFormFieldError=e=>l()(this.state.formFieldErrors,e),this.getFormFieldBackendError=e=>l()(this.props.error,`details.${e}`),this.hasFieldError=e=>Boolean(this.getFormFieldError(e)||this.getFormFieldBackendError(e)),this.formSubmitHandler=e=>{const{albumData:t,hasChanges:s,isNew:a}=this.state,o=Object(Fc.g)(this.getFormFields());if(e.preventDefault(),i()(o)){let e=Promise.resolve();a?e=this.props.create(t):s&&(e=this.props.update(t)),e.then(()=>this.props.onClose())}else this.setState({formFieldErrors:o})},this.nameInputChangeHandler=e=>{this.setState({albumData:{...this.state.albumData,name:e.target.value},formFieldErrors:{...this.state.formFieldErrors,name:null},hasChanges:!0})},this.costInputChangeHandler=e=>{const{value:t}=e.target;t&&!Object(Fc.e)(t,ti.m,ti.j)||(this.props.error&&this.props.resetError(),this.setState({albumData:{...this.state.albumData,cost:t},formFieldErrors:{...this.state.formFieldErrors,cost:null},hasChanges:!0}))},this.accessModeSelectHandler=e=>{this.setState({albumData:{...this.state.albumData,accessMode:e.value},formFieldErrors:{},hasChanges:!0},()=>{e.value===xc.a.PAID&&this.albumCostInputRef.focus()})},this._Ce=(e,t)=>{const s=this.getFormFieldError(e),a=this.getFormFieldBackendError(e);let{error:i}=this.props;return s||a?(s&&(i={message:s}),m.a._(Wn.a,{error:i,fieldName:e,targetId:t})):null};const{album:t}=e,s=t?Uc()(t):{accessMode:xc.a.FREE,cost:"",name:""};this.state={...this.state,albumData:{...s,cost:s.cost?s.cost:""},hasChanges:!1,isNew:!e.album,formFieldErrors:{}}}_A(){super._A(),this.albumNameInputRef.focus();const{currentUser:e,isFanClubsEnabled:t,loadModelFanClubState:s}=this.props;t&&s(e.id)}componentWillUnmount(){super.componentWillUnmount(),this.props.editAlbumUnmount()}_D(){const{isNew:e}=this.state,{album:t}=this.props;return e?m.a._(Dt.a,{messageId:"gallery.albums.createNew"}):m.a._(Dt.a,{messageId:"gallery.albums.editAlbum",elements:{albumName:m.a._("span",null,t.name)}})}_F(){const{albumData:e,isNew:t}=this.state,{hasFanClub:s,isCostOptionAvailable:a,isFanClubsEnabled:i,isUpdating:o}=this.props,n=e.accessMode!==xc.a.PAID;return m.a._("form",{className:"modal-body",onSubmit:this.formSubmitHandler},m.a._("div",{className:"form-row"},m.a._("label",{className:"form-label",htmlFor:"albumName"},Object(Se.d)("gallery.albums.name")),m.a._("div",{className:"form-input-group"},m.a._(qo.a,{className:Object(j.c)("form-input",{error:this.hasFieldError(Gc)}),id:"albumName",ref:e=>{this.albumNameInputRef=e},value:e.name,maxLength:"100",onChange:this.nameInputChangeHandler}),this._Ce(Gc,"albumName"))),m.a._("div",{className:"form-row"},m.a._("label",{className:"form-label",htmlFor:"albumAccessMode"},Object(Se.d)("gallery.albums.accessMode")),m.a._("div",{className:"form-select-group"},m.a._(Bc,{accessMode:e.accessMode||"",hasFanClub:s,id:"albumAccessMode",isFanClubsEnabled:i,isCostOptionAvailable:a,onAccessModeSelectHandler:this.accessModeSelectHandler}))),a&&m.a._("div",{className:"form-row"},m.a._("label",{className:"form-label",htmlFor:"albumCost"},m.a._("span",{className:Object(j.c)("cost-label",{disabled:n})},Object(Se.d)("gallery.albums.cost")),m.a._(Rc.a,null,m.a._(Dt.a,{messageId:"gallery.albums.costHelpText",elements:{costLabel:m.a._("span",{className:"cost-label"})},parameters:{minCost:ti.m,maxCost:ti.q}}))),m.a._("div",{className:"form-input-group"},m.a._(qo.a,{className:Object(j.c)("form-input",{error:this.hasFieldError($c)}),disabled:n,id:"albumCost",onChange:this.costInputChangeHandler,ref:e=>{this.albumCostInputRef=e},value:e.cost}),this._Ce($c,"albumCost"))),m.a._("div",{className:"form-buttons-row"},m.a._(Tt.a,{className:"btn btn-apply btn-large",type:"submit",disabled:o},Object(Se.d)(t?"gallery.albums.createAlbum":"saveChanges"))))}}const Kc={create:Dc.c,editAlbumUnmount:Dc.d,loadModelFanClubState:Hc.a,resetError:Dc.g,update:Dc.j};Wc.propTypes={...In.a.propTypes,albumId:d.a.number,album:d.a.object,error:d.a.object,hasFanClub:d.a.bool.isRequired,isCostOptionAvailable:d.a.bool,isFanClubsEnabled:d.a.bool.isRequired,isUpdating:d.a.bool,...Object(M.a)(Kc)},Wc.defaultProps={...In.a.defaultProps,className:"create-album-modal",titlePosition:"outside"};var qc=Object(g.c)((e,{albumId:t})=>{const{config:s,myAlbums:{error:a,isUpdating:i},profile:{user:o}}=e;return{album:Object(Vc.c)(e,t),isFanClubsEnabled:o&&o.isModel&&s.data.features.fanClub,hasFanClub:Object(Lc.a)(e),error:a,isCostOptionAvailable:l()(o,"isApprovedModel",!1),isUpdating:i}},Kc)(Wc),Jc=s(574),Yc=s.n(Jc),Xc=s(717),Qc=s.n(Xc),Zc=s(359),ed=s(309),td=s(163),sd=s(257),ad=s(93),id=s(118);const{isRequiredValidator:od}=Fc.i,nd="cost",rd="title",ld="access",cd="cost",dd="videoTitle",pd=(ad.c.FREE,ad.c.VERIFIED_USERS,ad.c.FRIENDS,ad.c.PAID,ad.c.UNPUBLISHED,ad.c.FAN_CLUB,Rr()(4));class ud extends In.a{constructor(e){super(e),this.scrollableCoverPreviewsContainerRef=null,this.coverPreviewContainers={},this.costInputRef=null,this.titleInputRef=null,this.uploadAbortFn=null,this.propsUpdateToActionsMap=[{update:(e,t)=>e.editingVideoId!==t.editingVideoId,action:()=>{99===this.state.uploadedPercent&&this.setState({uploadedPercent:100})}},{update:(e,t)=>e.updateError!==t.updateError,action:()=>{const{updateError:e}=this.props;e&&this.setState({backendErrors:e.details})}},{update:(e,t)=>e.video!==t.video,action:()=>{const{video:e}=this.props,{hasDoneProcessingWhileEdit:t,videoData:s}=this.state;this.setState({videoData:{...e,title:this.state.videoData.title,cost:this.getVideoCostToRender(s),coverUrl:s.coverUrl||e.coverUrl,accessMode:s.accessMode},hasDoneProcessingWhileEdit:!t&&Object(id.o)({video:s},{video:e})})}},{update:id.m,action:()=>this.setState({isCloseBtnShown:!0})},{update:id.q,action:()=>{this.props.setEditingVideoProcessingFailed(!0),this.setState({isCloseBtnShown:!0})}}],this.getIsCostInputDisabled=()=>this.state.videoData.accessMode!==ad.c.PAID,this.getVideoCostToRender=({cost:e})=>e>0?e:"",this.getFormFields=()=>{const e={title:{value:Ec()(this.titleInputRef.value),validators:[od]}};return this.getIsCostInputDisabled()||(e.cost={value:Ec()(this.costInputRef.value),validators:[Object(Fc.a)(ad.d.MIN,ad.d.MAX)]}),e},this.getFormFieldError=e=>l()(this.state.formFieldErrors,e),this.getFormFieldBackendError=e=>l()(this.state.backendErrors,e),this.getHasFieldError=e=>Boolean(this.getFormFieldError(e)||this.getFormFieldBackendError(e)),this.getPreparedVideo=()=>{const{videoData:e}=this.state;return{...e,cost:ad.c.PAID===e.accessMode?Number(e.cost):0,title:Ec()(e.title)}},this.scrollToCover=e=>{Object(j.g)({scrollableContainer:this.scrollableCoverPreviewsContainerRef,target:e,leftOffset:40,rightOffset:40,axis:"x"})},this.setVideoDataProperties=(e,t=va.a)=>{const{backendErrors:s,formFieldErrors:a,videoData:i}=this.state,o=()=>null;this.setState({videoData:{...i,...e},formFieldErrors:Yc()({...a},e,o),backendErrors:Yc()({...s},e,o)},t)},this.tryRemoveVideo=()=>{const{video:e}=this.props,t=l()(e,"id");t&&this.props.remove(t)},this.coverPreviewsContainerRefHandler=e=>{this.scrollableCoverPreviewsContainerRef=e},this.coverPreviewContainerRefHandler=e=>{e&&(this.coverPreviewContainers[e.dataset.coverName]=e)},this.titleChangeHandler=e=>{this.setVideoDataProperties({title:e.target.value})},this.costChangeHandler=e=>{const{value:t}=e.target;t&&!Object(Fc.e)(t,ad.d.MIN,ad.d.MAX)||this.setVideoDataProperties({cost:t})},this.accessModeSelectHandler=({value:e})=>{const t=ad.c.PAID===e,s={accessMode:e,cost:""};t&&(s.cost=180),this.setVideoDataProperties(s,()=>{t&&this.costInputRef.focus(!0)})},this.coverClickHandler=e=>{const{currentTarget:{dataset:{coverIndex:t}}}=e,{videoData:s}=this.state;this.scrollToCover(e.currentTarget),this.setState({videoData:{...s,cover:s.covers[t],coverUrl:s.coverUrls[t]}})},this.cancelClickHandler=()=>{const{isNew:e}=this.props;this.uploadAbortFn&&this.uploadAbortFn(),e&&this.tryRemoveVideo(),this.props.onClose()},this.tryAgainClickHandler=()=>{this.props.resetErrors(),this.props.setEditingVideoProcessingFailed(!1),this.tryRemoveVideo(),this.props.onClose()},this.formSubmitHandler=e=>{e.preventDefault();const{editingVideoId:t,isNew:s,video:a}=this.props,{hasDoneProcessingWhileEdit:o}=this.state;if(!t)return;const n=Object(Fc.g)(this.getFormFields());if(!i()(n))return void this.setState({formFieldErrors:n});const r=this.getPreparedVideo();s||!Qc()(a,r,(e,t)=>e.title===t.title&&e.coverUrl===t.coverUrl&&e.accessMode===t.accessMode&&e.cost===(t.cost||0))?this.props.update(r,o||s).then(()=>this.props.onClose()):this.props.onClose()},this.uploadProgressHandler=({total:e,loaded:t})=>{const{editingVideoId:s}=this.props;let a=Math.ceil(t/e*100);s||100!==a||(a-=1),this.setState({uploadedPercent:a})},this.uploadSuccessHandler=()=>{this.setState({isUploadCompleted:!0})},this._Ce=(e,t)=>{const s=this.getFormFieldError(e),a=this.getFormFieldBackendError(e);let{updateError:i}=this.props;return s||a?(s&&(i={message:s}),m.a._(Wn.a,{error:i,fieldName:e,targetId:t})):null},this._h2=()=>{const{videoData:e}=this.state;return e.coverUrls?e.coverUrls.map((t,s)=>{const a=e.coverUrl===t;return m.a._("div",{key:t,className:Object(j.c)("cover-preview-container",{selected:a}),"data-cover-index":s,"data-cover-name":e.covers[s],onClick:this.coverClickHandler,ref:this.coverPreviewContainerRefHandler},m.a._("div",{className:"cover-preview-container-inner",style:{backgroundImage:t?`url(${t})`:void 0}}),Boolean(a)&&m.a._(ye.a,{img:"circle-check",size:40}))}):null},this._h3=()=>pd.map(e=>m.a._("div",{key:e,className:"cover-preview-container empty"},m.a._("div",{className:"cover-preview-container-inner"},m.a._(ye.a,{img:"movie",size:24})))),this._h4=()=>{const{videoData:e}=this.state;return m.a._("div",{className:"form-row"},m.a._("label",{className:"form-label"},`${Object(Se.d)("labels.cover")}:`),m.a._("div",{className:"form-input-group"},m.a._(Va.a,{containerRef:this.coverPreviewsContainerRefHandler},m.a._("div",{className:"cover-previews-container"},e.coverUrls&&e.coverUrls.length>0?this._h2():this._h3()))))},this._h5=()=>m.a._("span",{className:"progress-bar-progress-message"},m.a._(ye.a,{img:"check",size:14}),m.a._("span",null,Object(Se.d)("videos.videoPublished"))),this._h6=()=>{const{isNew:e}=this.props,{hasDoneProcessingWhileEdit:t,isUploadCompleted:s,uploadedPercent:a,videoData:i}=this.state,o=i.status===ad.e.PROCESSING;if(!e&&!o&&!t)return null;const n=l()(this.props,"file.name"),r=pe.j.edge?Object(Se.d)("videos.uploadingStatus"):Object(Se.d)("videos.uploadingProgress",{percent:a}),c=o?Object(Se.d)("videos.processingProgress"):r,d=o||t||pe.j.edge?100:a;return m.a._("div",{className:"upload-status-box"},Boolean(n)&&m.a._("div",{className:"upload-status-file-name"},n),m.a._(Zc.c,{done:d,isAnimated:!0,isCompleted:t||!o&&s&&100===a,successMessage:this._h5(),progressMessage:c,type:Zc.b.striped}))},this._h7=()=>{const{hasEditingVideoProcessingFailed:e,preUploadError:t,uploadError:s}=this.props;let a;return e&&(a=Object(Se.d)("videos.messages.processingFailedWhileEdit")),t&&(a=l()(t,"message")),s&&(a=Object(Se.d)("videos.messages.uploadFailed")),m.a._("div",{className:"modal-body"},m.a._("div",{className:"uploading-error-content"},m.a._(ye.a,{img:"error",size:100}),m.a._("span",{className:"error-header"},Object(Se.d)("videos.messages.somethingWrong")),m.a._("span",{className:"error-description"},a),m.a._(Tt.a,{className:"try-again-button",size:"large",style:"auth-banner",onClick:this.tryAgainClickHandler},Object(Se.d)("tryAgain"))))},this._h8=()=>{const{videoData:{coverUrl:e}}=this.state;return e?m.a._("div",{className:"chosen-cover-container"},m.a._("img",{className:"chosen-cover",src:e})):m.a._("div",{className:"chosen-cover-container empty"},m.a._(ye.a,{img:"movie",size:50}))};const{video:t,file:s}=e,a=t?Uc()(t):(e=>({accessMode:ad.c.FREE,title:Object(ed.c)(e.name).slice(0,ad.b),coverUrls:[]}))(s);this.state={...this.state,backendErrors:{},formFieldErrors:{},isUploadCompleted:!1,uploadedPercent:0,videoData:{...a,cost:this.getVideoCostToRender(a)}}}_A(){super._A();const{file:e,isNew:t,preUploadError:s,uploadUrl:a}=this.props;if(e&&!s&&this.props.upload({uploadUrl:a,file:e,uploadProgressHandler:this.uploadProgressHandler,uploadSuccessHandler:this.uploadSuccessHandler,xhrAbortProvider:e=>{this.uploadAbortFn=e},freshFormDataProvider:()=>{const e=this.getPreparedVideo(),{accessMode:t,cost:s}=e;return{...e,cost:ad.c.PAID===t?s||180:s}}}),!t){const{videoData:e}=this.state;this.scrollToCover(this.coverPreviewContainers[e.cover])}const{currentUser:i,isFanClubsEnabled:o,loadModelFanClubState:n}=this.props;o&&n(i.id)}componentWillUnmount(){super.componentWillUnmount(),this.props.setEditingId(null)}_D(){const{isNew:e,preUploadError:t,uploadError:s,video:a}=this.props;return t||s?m.a._(Dt.a,{messageId:"videos.uploadFailed"}):e?m.a._(Dt.a,{messageId:"videos.uploadNew"}):Object(td.d)(Object(Se.d)("videos.edit",{title:a.title}),15,"modal-header-custom-inners")}_F(){const{editingVideoId:e,hasFanClub:t,hasEditingVideoProcessingFailed:s,isCostOptionAvailable:a,isFanClubsEnabled:i,isNew:o,isUpdating:n,preUploadError:r,uploadError:l}=this.props,{videoData:c}=this.state;if(s||o&&(r||l))return this._h7();const d=this.getIsCostInputDisabled();return m.a._("div",null,m.a._("form",{className:Object(j.c)("modal-body",{"new-video":o}),onSubmit:this.formSubmitHandler},m.a._("div",{className:"form-columns"},m.a._("div",{className:"chosen-cover-column"},this._h8()),m.a._("div",{className:"form-fields-column"},this._h6(),this._h4(),m.a._("div",{className:"form-row"},m.a._("label",{className:"form-label",htmlFor:dd},`${Object(Se.d)("labels.title")}:`),m.a._("div",{className:"form-input-group"},m.a._(qo.a,{className:Object(j.c)({error:this.getHasFieldError(rd)}),id:dd,display:"block",type:"text",value:c.title,ref:e=>{this.titleInputRef=e},onChange:this.titleChangeHandler,maxLength:ad.b}),this._Ce(rd,dd))),m.a._("div",{className:"form-row"},m.a._("label",{className:"form-label",htmlFor:ld},`${Object(Se.d)("labels.access")}:`),m.a._("div",{className:"form-input-group"},m.a._(Bc,{accessMode:c.accessMode||"",hasFanClub:t,isFanClubsEnabled:i,id:ld,isCostOptionAvailable:a,onAccessModeSelectHandler:this.accessModeSelectHandler}))),a&&m.a._("div",{className:"form-row"},m.a._("label",{className:"form-label",htmlFor:cd},m.a._("span",{className:Object(j.c)("cost-label",{disabled:d})},`${Object(Se.d)("labels.tokensToAccess")}:`),m.a._(Rc.a,null,m.a._(Dt.a,{messageId:"gallery.albums.costHelpText",elements:{costLabel:m.a._("span",{className:"cost-label"})},parameters:{minCost:ad.d.MIN,maxCost:ad.d.MAX}}))),m.a._("div",{className:"form-input-group"},m.a._(qo.a,{className:Object(j.c)("form-input",{error:this.getHasFieldError(nd)}),disabled:d,id:cd,onChange:this.costChangeHandler,ref:e=>{this.costInputRef=e},value:c.cost}),this._Ce(nd,cd))))),m.a._("div",{className:"form-controls-divider-orient"},m.a._("div",{className:"form-controls-divider"})),m.a._("div",{className:"form-controls-row"},o&&m.a._(Tt.a,{onClick:this.cancelClickHandler},Object(Se.d)("button.abort")),m.a._(Tt.a,{type:"submit",style:"apply",disabled:!e||n},o?Object(Se.d)("button.ok"):Object(Se.d)("button.save")))),m.a._("div",{className:"additional-info-message"},m.a._("span",null,Object(Se.d)("videos.publishMethodMessage"))))}}const hd={loadModelFanClubState:Hc.a,remove:sd.c,resetErrors:sd.d,setEditingId:sd.e,setEditingVideoProcessingFailed:sd.f,update:sd.i,upload:sd.j};ud.propTypes={...In.a.propTypes,editingVideoId:d.a.number,hasFanClub:d.a.bool.isRequired,isCostOptionAvailable:d.a.bool,isUpdating:d.a.bool,isFanClubsEnabled:d.a.bool.isRequired,file:d.a.shape({name:d.a.string,size:d.a.number}),updateError:d.a.object,uploadError:d.a.object,uploadUrl:d.a.string,video:d.a.object,...Object(M.a)(hd)},ud.defaultProps={...In.a.defaultProps,className:"edit-video-modal",titlePosition:"outside"};var md=Object(g.c)(e=>{const{config:t,myVideos:{editingVideoId:s,hasEditingVideoProcessingFailed:a,isUpdating:i,preUploadError:o,updateError:n,uploadError:r},profile:{user:c}}=e;return{editingVideoId:s,hasEditingVideoProcessingFailed:a,hasFanClub:Object(Lc.a)(e),isCostOptionAvailable:l()(c,"isApprovedModel",!1),isFanClubsEnabled:t.data.features.fanClub,isUpdating:i,preUploadError:o,updateError:n,uploadError:r,video:Object(id.b)(e)}},hd)(ud);const gd=[{title:"goldStatus",description:"goldStatusDescription",icon:"gold"},{title:"specialsOffers",icon:"speaker-in-circle"},{title:"emoticons",icon:"emoticons"},{title:"messageAbility",icon:"message-ability"}];class bd extends In.a{constructor(...e){super(...e),this.buyTokensClickHandler=()=>{const{isLoggedIn:e}=this.props;e?this.props.emitButtonEvent(pe.b.INVISIBLE_MODE_MODAL_SUBSCRIBE):this.props.showModal(pe.F.AUTH,{action:{isDefaultBanner:!0,shouldBypassActionPrefix:!0,type:"invisibleMode",onSuccess:()=>this.props.showModal(pe.F.INVISIBLE_MODE)},component:"Login",className:"auth-modal-signup",triggerSource:pe.b.INVISIBLE_MODE_MODAL_SUBSCRIBE})},this._h9=({title:e,description:t,icon:s})=>m.a._("div",{className:"advantage-item",key:s},m.a._(ye.a,{img:s,size:24}),m.a._("div",{className:"advantage-description"},Object(Se.d)(`invisibleMode.${e}`),Boolean(t)&&m.a._("div",{className:"advantage-description-details"},Object(Se.d)(`invisibleMode.${t}`))),m.a._("div",{className:"advantage-item-separation"}))}_F(){return m.a._("div",{className:"modal-body"},m.a._("h1",{className:"invisible-mode-header"},Object(Se.d)("invisibleMode.title")),m.a._(ye.a,{img:"invisible",size:100}),m.a._("div",{className:"invisible-mode-description"},m.a._("div",null,Object(Se.d)("invisibleMode.description")),m.a._("div",null,Object(Se.d)("invisibleMode.descriptionLimit"))),m.a._("div",{className:"invisible-mode-description"},Object(Se.d)("invisibleMode.receive")),m.a._("div",{className:"invisible-mode-advantage"},He()(gd,this._h9)),m.a._(Tt.a,{style:"primary",onClick:this.buyTokensClickHandler,size:"large"},Object(Se.d)("invisibleMode.makeMeGold")))}}const _d={emitButtonEvent:f.b,showModal:k.c};bd.propTypes={isLoggedIn:c.PropTypes.bool.isRequired,...Object(M.a)(_d)},bd.defaultProps={...In.a.defaultProps,titlePosition:"outside",isCloseBtnShown:!0,isWrapperCloseDisabled:!1,className:"invisible-mode-modal"};var vd=Object(g.c)(e=>({isLoggedIn:Object(Yt.l)(e)}),_d)(bd);class fd extends In.a{constructor(...e){super(...e),this.closeHandler=()=>{this.props.hideModal({shouldPersist:!0})}}_F(){const{siteMirrorUrl:e}=this.props;return m.a._("div",{className:"modal-body"},m.a._("div",{className:"logo"}),m.a._("div",{className:"warning-blocking-title"},m.a._(ye.a,{img:"russian-flag",size:40}),"Уважаемые модели и студии!"),m.a._("div",{className:"warning-blocking-description"},m.a._("p",null,"К сожалению, Роскомнадзор ограничил полноценный доступ к сайту Stripchat.com на территории РФ."),m.a._("p",null,"Для тех, у кого возникли сложности с доступом, а так же во избежание возможных неполадок с вашей трансляцией, мы рекомендуем использовать нашу альтернативную ссылку"," ",m.a._("a",{href:e,target:"_blank"},"mywebcamroom.com.")),m.a._("p",null,"Для входа используйте ваш существующий логин и пароль.")),m.a._("div",{className:"warning-blocking-controls"},m.a._(Tt.a,{style:"auth-banner",href:e,target:"_blank",type:"anchor"},"Перейти по ссылке"),m.a._("a",{className:"warning-blocking-close",onClick:this.closeHandler},"Остаться на Stripchat.com")))}}const Cd={hideModal:k.a};fd.propTypes={siteMirrorUrl:d.a.string.isRequired,...Object(M.a)(Cd)},fd.defaultProps={...In.a.defaultProps,className:"mirror-notification-modal",titlePosition:"outside"};var Nd=Object(g.c)(e=>{const{config:{data:{features:{siteMirrorUrl:t}}}}=e;return{siteMirrorUrl:t}},e=>Object(wa.b)(Cd,e))(fd);const Od=()=>m.a._("svg",{className:"pointer-down",viewBox:"0 0 30 45",xmlns:"http://www.w3.org/2000/svg"},m.a._("g",{fillRule:"nonzero"},m.a._("path",{d:"M15 45c8.3 0 15-6.7 15-15V15c0-8.3-6.7-15-15-15S0 6.7 0 15v15c0 8.3 6.7 15 15 15zM2 15C2 7.8 7.8 2 15 2s13 5.8 13 13v15c0 7.2-5.8 13-13 13S2 37.2 2 30V15z"}),m.a._("path",{className:"pointer-down-arrow",d:"M14.3 40.2c.4.4 1 .4 1.4 0l6.5-6.5c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L16 37.1V20c0-.55-.45-1-1-1s-1 .45-1 1v17.1l-4.8-4.8c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l6.5 6.5z"}),m.a._("circle",{transform:"rotate(-180 15 9.5)",cx:"15",cy:"9.5",r:"2.5"})));Od.displayName="PointerSvg";const yd=()=>m.a._("svg",{viewBox:"0 0 264 64",xmlns:"http://www.w3.org/2000/svg"},m.a._("defs",null,m.a._("linearGradient",{x1:"104.779%",y1:"109.411%",x2:"-16.883%",y2:"-18.397%",id:"a"},m.a._("stop",{stopColor:"#3A7CDD",offset:"0%"}),m.a._("stop",{stopColor:"#DC0021",offset:"100%"}))),m.a._("path",{d:"M507.526 1268.966c-3.49 0-6.2-.907-8.126-2.72-1.927-1.813-2.89-4.533-2.89-8.16v-13.362h6.698v13.226c0 1.677.391 2.941 1.173 3.791.782.85 1.853 1.275 3.213 1.275s2.431-.408 3.213-1.224c.782-.816 1.173-2.04 1.173-3.672v-13.396h6.698v13.192c0 3.717-.98 6.488-2.941 8.313-1.96 1.825-4.698 2.737-8.211 2.737zm23.082-.034c-4.488 0-8.205-1.315-11.152-3.944l3.672-4.386c2.38 1.904 4.953 2.856 7.718 2.856 1.813 0 2.72-.567 2.72-1.7 0-.499-.272-.912-.816-1.241-.544-.329-1.61-.674-3.196-1.037-1.45-.34-2.646-.674-3.587-1.003-.94-.329-1.859-.77-2.754-1.326-.895-.555-1.558-1.264-1.989-2.125-.43-.861-.646-1.893-.646-3.094 0-2.244.833-4.074 2.499-5.491 1.666-1.417 3.904-2.125 6.715-2.125 3.899 0 7.163 1.054 9.792 3.162l-3.298 4.658c-2.221-1.564-4.443-2.346-6.664-2.346-.77 0-1.36.147-1.768.442-.408.295-.612.68-.612 1.156 0 .544.278.975.833 1.292.555.317 1.649.657 3.281 1.02 2.992.657 5.219 1.536 6.681 2.635 1.462 1.1 2.193 2.714 2.193 4.845 0 2.403-.873 4.295-2.618 5.678-1.745 1.383-4.08 2.074-7.004 2.074zm11.488-.408v-23.8h19.142v5.61h-12.614v3.604h11.424v5.202h-11.424v3.774h12.784v5.61h-19.312zm36.304 0v-8.908l-9.044-14.892h7.514l4.896 8.67 4.93-8.67h7.378l-9.044 14.79v9.01h-6.63zm35.288-3.128c-2.448 2.403-5.497 3.604-9.146 3.604-3.65 0-6.692-1.196-9.129-3.587-2.437-2.391-3.655-5.321-3.655-8.789 0-3.445 1.23-6.37 3.689-8.772 2.46-2.403 5.514-3.604 9.163-3.604 3.65 0 6.692 1.196 9.129 3.587 2.437 2.391 3.655 5.321 3.655 8.789 0 3.445-1.235 6.37-3.706 8.772zm-9.078-2.346c1.79 0 3.247-.623 4.369-1.87 1.122-1.247 1.683-2.765 1.683-4.556 0-1.768-.578-3.281-1.734-4.539-1.156-1.258-2.618-1.887-4.386-1.887-1.768 0-3.213.623-4.335 1.87-1.122 1.247-1.683 2.765-1.683 4.556 0 1.768.572 3.281 1.717 4.539 1.145 1.258 2.601 1.887 4.369 1.887zm25.598 5.916c-3.49 0-6.2-.907-8.126-2.72-1.927-1.813-2.89-4.533-2.89-8.16v-13.362h6.698v13.226c0 1.677.391 2.941 1.173 3.791.782.85 1.853 1.275 3.213 1.275s2.431-.408 3.213-1.224c.782-.816 1.173-2.04 1.173-3.672v-13.396h6.698v13.192c0 3.717-.98 6.488-2.941 8.313-1.96 1.825-4.698 2.737-8.211 2.737zm13.732-.442v-23.8h11.254c3.468 0 6.052.85 7.752 2.55 1.405 1.405 2.108 3.287 2.108 5.644 0 3.49-1.632 5.927-4.896 7.31l5.678 8.296h-7.616l-4.794-7.208h-2.89v7.208h-6.596zm6.596-12.376h4.352c1.11 0 1.978-.255 2.601-.765s.935-1.218.935-2.125c0-.93-.312-1.632-.935-2.108-.623-.476-1.502-.714-2.635-.714h-4.318v5.712zM508.954 1308c-3.74 0-6.834-1.162-9.282-3.485-2.448-2.323-3.672-5.287-3.672-8.891 0-3.49 1.218-6.426 3.655-8.806 2.437-2.38 5.491-3.57 9.163-3.57 3.763 0 6.981 1.156 9.656 3.468l-3.876 4.658c-1.79-1.496-3.706-2.244-5.746-2.244-1.723 0-3.168.635-4.335 1.904-1.167 1.27-1.751 2.833-1.751 4.692 0 1.927.606 3.508 1.819 4.743 1.213 1.235 2.76 1.853 4.641 1.853 1.541 0 2.81-.329 3.808-.986v-2.89h-4.692v-4.828h10.948v10.71c-2.97 2.448-6.415 3.672-10.336 3.672zm12.678-.476v-23.8h11.254c3.468 0 6.052.85 7.752 2.55 1.405 1.405 2.108 3.287 2.108 5.644 0 3.49-1.632 5.927-4.896 7.31l5.678 8.296h-7.616l-4.794-7.208h-2.89v7.208h-6.596zm6.596-12.376h4.352c1.11 0 1.978-.255 2.601-.765s.935-1.218.935-2.125c0-.93-.312-1.632-.935-2.108-.623-.476-1.502-.714-2.635-.714h-4.318v5.712zm16.52 12.376v-23.8h19.142v5.61h-12.614v3.604H562.7v5.202h-11.424v3.774h12.784v5.61h-19.312zm19.444 0l10.132-23.97h6.358l10.132 23.97h-7.072l-1.734-4.25h-9.18l-1.7 4.25h-6.936zm10.574-9.384h5.338l-2.652-6.766-2.686 6.766zm19.784 9.384v-18.02h-7.14v-5.78h20.876v5.78h-7.14v18.02h-6.596zm34.842.476c-3.445 0-6.352-1.173-8.721-3.519-2.369-2.346-3.553-5.298-3.553-8.857 0-3.49 1.196-6.426 3.587-8.806 2.391-2.38 5.378-3.57 8.959-3.57 4.239 0 7.57 1.677 9.996 5.032l-4.828 3.74c-1.473-1.836-3.219-2.754-5.236-2.754-1.655 0-3.015.612-4.08 1.836-1.065 1.224-1.598 2.731-1.598 4.522 0 1.813.533 3.326 1.598 4.539 1.065 1.213 2.425 1.819 4.08 1.819 1.156 0 2.142-.244 2.958-.731.816-.487 1.62-1.207 2.414-2.159l4.964 3.536c-1.247 1.7-2.697 3.02-4.352 3.961-1.655.94-3.717 1.411-6.188 1.411zm12.032-.476v-23.8h6.596v8.908h8.466v-8.908h6.596v23.8h-6.596v-9.044h-8.466v9.044h-6.596zm22.64 0l10.132-23.97h6.358l10.132 23.97h-7.072l-1.734-4.25h-9.18l-1.7 4.25h-6.936zm10.574-9.384h5.338l-2.652-6.766-2.686 6.766zm17.03 9.384v-23.8h6.154l9.792 12.58v-12.58h6.528v23.8h-5.78l-10.166-13.056v13.056h-6.528zm36.818.476c-3.445 0-6.352-1.173-8.721-3.519-2.369-2.346-3.553-5.298-3.553-8.857 0-3.49 1.196-6.426 3.587-8.806 2.391-2.38 5.378-3.57 8.959-3.57 4.239 0 7.57 1.677 9.996 5.032l-4.828 3.74c-1.473-1.836-3.219-2.754-5.236-2.754-1.655 0-3.015.612-4.08 1.836-1.065 1.224-1.598 2.731-1.598 4.522 0 1.813.533 3.326 1.598 4.539 1.065 1.213 2.425 1.819 4.08 1.819 1.156 0 2.142-.244 2.958-.731.816-.487 1.62-1.207 2.414-2.159l4.964 3.536c-1.247 1.7-2.697 3.02-4.352 3.961-1.655.94-3.717 1.411-6.188 1.411zm12.032-.476v-23.8h19.142v5.61h-12.614v3.604h11.424v5.202h-11.424v3.774h12.784v5.61h-19.312z",transform:"translate(-496 -1244)",fill:"url(#a)",fillRule:"evenodd"}));yd.displayName="UseYourChanceSvg";const wd=()=>m.a._("svg",{viewBox:"0 0 203 56",xmlns:"http://www.w3.org/2000/svg"},m.a._("g",{fill:"#FFF",fillRule:"evenodd"},m.a._("path",{d:"M79.685 22.85V1.15h8.463c3.39 0 6.158 1.028 8.308 3.085C98.606 6.29 99.68 8.879 99.68 12c0 3.1-1.08 5.683-3.24 7.75s-4.924 3.1-8.292 3.1h-8.463zm4.774-4.309h3.689c1.963 0 3.544-.604 4.743-1.813 1.198-1.21 1.798-2.785 1.798-4.728 0-1.922-.605-3.493-1.814-4.712-1.209-1.22-2.785-1.829-4.727-1.829h-3.69v13.082zm36.316 1.426c-2.19 2.17-4.94 3.255-8.246 3.255s-6.05-1.085-8.23-3.255c-2.18-2.17-3.27-4.826-3.27-7.967 0-3.12 1.1-5.771 3.3-7.952 2.202-2.18 4.956-3.27 8.262-3.27 3.307 0 6.05 1.085 8.23 3.255 2.181 2.17 3.271 4.826 3.271 7.967 0 3.12-1.105 5.776-3.317 7.967zm-12.896-3.131c1.24 1.323 2.81 1.984 4.712 1.984 1.902 0 3.462-.656 4.681-1.968 1.22-1.313 1.83-2.93 1.83-4.852 0-1.901-.62-3.513-1.86-4.836-1.24-1.323-2.811-1.984-4.713-1.984-1.901 0-3.461.656-4.68 1.969-1.22 1.312-1.83 2.929-1.83 4.851 0 1.901.62 3.513 1.86 4.836zm27.575 6.355c-2.956 0-5.26-.821-6.913-2.465-1.654-1.643-2.48-4.035-2.48-7.176V1.15h4.774v12.276c0 1.736.408 3.064 1.224 3.983.817.92 1.969 1.38 3.457 1.38 1.488 0 2.64-.444 3.456-1.333.817-.889 1.225-2.18 1.225-3.875V1.15h4.774v12.245c0 3.224-.842 5.663-2.527 7.316-1.684 1.653-4.014 2.48-6.99 2.48zm12.446-.341V1.15h10.075c2.5 0 4.392.64 5.673 1.922.992.992 1.488 2.242 1.488 3.751 0 2.046-.95 3.606-2.852 4.681 1.344.517 2.356 1.193 3.038 2.03.682.837 1.023 1.959 1.023 3.364 0 1.943-.723 3.42-2.17 4.433-1.446 1.013-3.43 1.519-5.952 1.519H147.9zm4.65-12.927h4.402c2.294 0 3.441-.785 3.441-2.356 0-.723-.268-1.276-.806-1.659-.537-.382-1.312-.573-2.325-.573h-4.712v4.588zm0 8.742h5.673c2.253 0 3.38-.806 3.38-2.418 0-1.57-1.179-2.356-3.535-2.356h-5.518v4.774zm15.795 4.185V1.15h4.774v17.36h10.819v4.34h-15.593zm17.251 0V1.15h16.368v4.247H190.34v4.402h10.23v4.247h-10.23v4.557h11.78v4.247h-16.523zm-105.911 32v-21.7h5.146l5.704 9.176 5.704-9.176h5.146v21.7h-4.743V40.683l-6.107 9.269h-.124l-6.045-9.176V54.85h-4.681zm43.756-2.883c-2.19 2.17-4.94 3.255-8.246 3.255s-6.05-1.085-8.23-3.255c-2.18-2.17-3.27-4.826-3.27-7.967 0-3.12 1.1-5.771 3.3-7.952 2.202-2.18 4.956-3.27 8.262-3.27 3.307 0 6.05 1.085 8.23 3.255 2.181 2.17 3.271 4.826 3.271 7.967 0 3.12-1.105 5.776-3.317 7.967zm-12.896-3.131c1.24 1.323 2.81 1.984 4.712 1.984 1.902 0 3.462-.656 4.681-1.969 1.22-1.312 1.83-2.929 1.83-4.851 0-1.901-.62-3.513-1.86-4.836-1.24-1.323-2.811-1.984-4.713-1.984-1.901 0-3.461.656-4.68 1.968-1.22 1.313-1.83 2.93-1.83 4.852 0 1.901.62 3.513 1.86 4.836zm18.523 6.014v-21.7h4.402l10.168 13.361V33.15h4.712v21.7h-4.061l-10.51-13.795V54.85h-4.711zm22.552 0v-21.7h16.368v4.247h-11.625v4.402h10.23v4.247h-10.23v4.557h11.78v4.247H151.62zm24.94 0v-8.556l-8.34-13.144h5.58l5.178 8.711 5.27-8.711h5.425l-8.34 13.051v8.649h-4.773zM16.14 14.89c0-4.41-1.54-5.6-3.99-5.6s-3.99 1.33-3.99 4.83v5.25H.88v-4.76C.88 6.77 4.8 2.29 12.36 2.29c7.56 0 11.48 4.48 11.48 12.32 0 15.4-15.33 21.14-15.33 29.19 0 .35 0 .7.07 1.05h14.56v7H.88v-6.02c0-14.42 15.26-16.8 15.26-30.94zM46.158 2.85h7.14l-8.05 23.8 8.61 25.2h-8.12l-6.3-19.39-6.37 19.39h-7.21l8.61-25.2-8.05-23.8h7.98l5.81 18.06 5.95-18.06z"})));wd.displayName="DoubleMoneySvg";const Sd=()=>m.a._("svg",{viewBox:"0 0 375 128",xmlns:"http://www.w3.org/2000/svg"},m.a._("defs",null,m.a._("linearGradient",{id:"a",y2:"46.008%",x2:"50%",y1:"83.358%",x1:"50%"},m.a._("stop",{offset:"0%",stopColor:"#A41B1B"}),m.a._("stop",{offset:"100%",stopColor:"#1F2A76"}))),m.a._("path",{d:"M17.367 35.925c-5.133 0-9.116-1.333-11.95-4-2.833-2.667-4.25-6.667-4.25-12V.275h9.85v19.45c0 2.467.575 4.325 1.725 5.575 1.15 1.25 2.725 1.875 4.725 1.875 2 0 3.575-.6 4.725-1.8 1.15-1.2 1.725-3 1.725-5.4V.275h9.85v19.4c0 5.467-1.441 9.542-4.325 12.225-2.883 2.683-6.908 4.025-12.075 4.025zm20.197-.65v-35h9.05l14.4 18.5V.275h9.6v35h-8.5l-14.95-19.2v19.2h-9.6zm37.297 0v-35h17.95c4.267 0 7.45 1.05 9.55 3.15 1.5 1.5 2.25 3.417 2.25 5.75 0 3.633-1.8 6.233-5.4 7.8 2.267.733 3.992 1.783 5.175 3.15 1.183 1.367 1.775 3.2 1.775 5.5 0 3-1.167 5.358-3.5 7.075-2.333 1.717-5.583 2.575-9.75 2.575H74.86zm9.45-7.8h7.5c3.1 0 4.65-1.1 4.65-3.3 0-2.1-1.583-3.15-4.75-3.15h-7.4v6.45zm0-13.25h6.1c3.067 0 4.6-1.05 4.6-3.15 0-2-1.467-3-4.4-3h-6.3v6.15zm24.347 21.05v-35h28.15v8.25h-18.55v5.3h16.8v7.65h-16.8v5.55h18.8v8.25h-28.4zm31.397 0v-35h9.7v26.5h16.95v8.5h-26.65zm29.047 0v-35h9.75v35h-9.75zm14.196 0v-35h28.15v8.25h-18.55v5.3h16.8v7.65h-16.8v5.55h18.8v8.25h-28.4zm42.797.25l-14.2-35.25h10.85l7.95 22.15 7.95-22.15h10.65l-14.2 35.25h-9zm16.847-.25l14.9-35.25h9.35l14.9 35.25h-10.4l-2.55-6.25h-13.5l-2.5 6.25h-10.2zm15.55-13.8h7.85l-3.9-9.95-3.95 9.95zm25.047 13.8v-35h17.95c4.267 0 7.45 1.05 9.55 3.15 1.5 1.5 2.25 3.417 2.25 5.75 0 3.633-1.8 6.233-5.4 7.8 2.267.733 3.992 1.783 5.175 3.15 1.183 1.367 1.775 3.2 1.775 5.5 0 3-1.167 5.358-3.5 7.075-2.333 1.717-5.583 2.575-9.75 2.575h-18.05zm9.45-7.8h7.5c3.1 0 4.65-1.1 4.65-3.3 0-2.1-1.583-3.15-4.75-3.15h-7.4v6.45zm0-13.25h6.1c3.067 0 4.6-1.05 4.6-3.15 0-2-1.467-3-4.4-3h-6.3v6.15zm24.347 21.05v-35h9.7v26.5h16.95v8.5h-26.65zm28.847 0v-35h28.15v8.25h-18.55v5.3h16.8v7.65h-16.8v5.55h18.8v8.25h-28.4zm-313.516 41.4c-3.6 3.533-8.083 5.3-13.45 5.3-5.367 0-9.841-1.758-13.425-5.275C2.21 73.183.417 68.875.417 63.775c0-5.067 1.808-9.367 5.425-12.9 3.617-3.533 8.108-5.3 13.475-5.3 5.367 0 9.842 1.758 13.425 5.275 3.584 3.517 5.375 7.825 5.375 12.925 0 5.067-1.816 9.367-5.45 12.9zm-13.35-3.45c2.634 0 4.775-.917 6.425-2.75 1.65-1.833 2.475-4.067 2.475-6.7 0-2.6-.85-4.825-2.55-6.675-1.7-1.85-3.85-2.775-6.45-2.775s-4.725.917-6.375 2.75c-1.65 1.833-2.475 4.067-2.475 6.7 0 2.6.842 4.825 2.525 6.675 1.684 1.85 3.825 2.775 6.425 2.775zm21.897 8.05v-35h28v8.5h-18.3v5.95h16.55v8.05h-16.55v12.5h-9.7zm30.447 0v-35h28v8.5h-18.3v5.95h16.55v8.05H81.36v12.5h-9.7zm30.447 0v-35h28.15v8.25h-18.55v5.3h16.8v7.65h-16.8v5.55h18.8v8.25h-28.4zm31.397 0v-35h16.55c5.1 0 8.9 1.25 11.4 3.75 2.066 2.067 3.1 4.833 3.1 8.3 0 5.133-2.4 8.717-7.2 10.75l8.35 12.2h-11.2l-7.05-10.6h-4.25v10.6h-9.7zm9.7-18.2h6.4c1.633 0 2.908-.375 3.825-1.125.916-.75 1.375-1.792 1.375-3.125 0-1.367-.459-2.4-1.375-3.1-.917-.7-2.209-1.05-3.875-1.05h-6.35v8.4zm36.193 18.2v-35h28v8.5h-18.3v5.95h16.55v8.05h-16.55v12.5h-9.7zm61.497-4.6c-3.6 3.533-8.083 5.3-13.45 5.3-5.366 0-9.841-1.758-13.425-5.275-3.583-3.517-5.375-7.825-5.375-12.925 0-5.067 1.809-9.367 5.425-12.9 3.617-3.533 8.109-5.3 13.475-5.3 5.367 0 9.842 1.758 13.425 5.275 3.584 3.517 5.375 7.825 5.375 12.925 0 5.067-1.816 9.367-5.45 12.9zm-13.35-3.45c2.634 0 4.775-.917 6.425-2.75 1.65-1.833 2.475-4.067 2.475-6.7 0-2.6-.85-4.825-2.55-6.675-1.7-1.85-3.85-2.775-6.45-2.775s-4.725.917-6.375 2.75c-1.65 1.833-2.475 4.067-2.475 6.7 0 2.6.842 4.825 2.525 6.675 1.684 1.85 3.825 2.775 6.425 2.775zm21.897 8.05v-35h16.55c5.1 0 8.9 1.25 11.4 3.75 2.067 2.067 3.1 4.833 3.1 8.3 0 5.133-2.4 8.717-7.2 10.75l8.35 12.2h-11.2l-7.05-10.6h-4.25v10.6h-9.7zm9.7-18.2v-8.4h6.35c1.667 0 2.959.35 3.875 1.05.917.7 1.375 1.733 1.375 3.1 0 1.333-.458 2.375-1.375 3.125-.916.75-2.191 1.125-3.825 1.125h-6.4zm-241.775 64.85c-5.133 0-9.116-1.333-11.95-4-2.833-2.667-4.25-6.667-4.25-12v-19.65h9.85v19.45c0 2.467.575 4.325 1.725 5.575 1.15 1.25 2.725 1.875 4.725 1.875 2 0 3.575-.6 4.725-1.8 1.15-1.2 1.725-3 1.725-5.4v-19.7h9.85v19.4c0 5.467-1.441 9.542-4.325 12.225-2.883 2.683-6.908 4.025-12.075 4.025zm33.947-.05c-6.6 0-12.067-1.933-16.4-5.8l5.4-6.45c3.5 2.8 7.283 4.2 11.35 4.2 2.667 0 4-.833 4-2.5 0-.733-.4-1.342-1.2-1.825-.8-.483-2.367-.992-4.7-1.525-2.133-.5-3.892-.992-5.275-1.475a20.513 20.513 0 0 1-4.05-1.95c-1.317-.817-2.292-1.858-2.925-3.125s-.95-2.783-.95-4.55c0-3.3 1.225-5.992 3.675-8.075 2.45-2.083 5.742-3.125 9.875-3.125 5.733 0 10.533 1.55 14.4 4.65l-4.85 6.85c-3.267-2.3-6.533-3.45-9.8-3.45-1.133 0-2 .217-2.6.65-.6.433-.9 1-.9 1.7 0 .8.408 1.433 1.225 1.9.817.467 2.425.967 4.825 1.5 4.4.967 7.675 2.258 9.825 3.875 2.15 1.617 3.225 3.992 3.225 7.125 0 3.533-1.283 6.317-3.85 8.35-2.567 2.033-6 3.05-10.3 3.05zm28.794-.6v-35h10.25l8.35 13.55 8.35-13.55h10.25v35h-9.65v-20.1l-8.95 13.7h-.2l-8.9-13.6v20h-9.5zm72.497-4.6c-3.6 3.533-8.084 5.3-13.45 5.3-5.367 0-9.842-1.758-13.425-5.275-3.584-3.517-5.375-7.825-5.375-12.925 0-5.067 1.808-9.367 5.425-12.9 3.616-3.533 8.108-5.3 13.475-5.3 5.366 0 9.841 1.758 13.425 5.275 3.583 3.517 5.375 7.825 5.375 12.925 0 5.067-1.817 9.367-5.45 12.9zm-13.35-3.45c-2.6 0-4.742-.925-6.425-2.775-1.684-1.85-2.525-4.075-2.525-6.675 0-2.633.825-4.867 2.475-6.7 1.65-1.833 3.775-2.75 6.375-2.75s4.75.925 6.45 2.775c1.7 1.85 2.55 4.075 2.55 6.675 0 2.633-.825 4.867-2.475 6.7-1.65 1.833-3.792 2.75-6.425 2.75zm21.897 8.05v-35h13.5c6.133 0 10.958 1.6 14.475 4.8 3.516 3.2 5.275 7.4 5.275 12.6 0 5.167-1.784 9.392-5.35 12.675-3.567 3.283-8.434 4.925-14.6 4.925h-13.3zm94.343-5.741l4.947-5.909c3.5 2.8 7.283 4.2 11.35 4.2 2.667 0 4-.833 4-2.5 0-.733-.4-1.342-1.2-1.825-.8-.483-2.366-.992-4.7-1.525-2.133-.5-3.891-.992-5.275-1.475a20.513 20.513 0 0 1-4.05-1.95c-1.316-.817-2.291-1.858-2.925-3.125-.633-1.267-.95-2.783-.95-4.55 0-3.3 1.225-5.992 3.675-8.075 2.45-2.083 5.742-3.125 9.875-3.125 5.734 0 10.534 1.55 14.4 4.65l-4.85 6.85c-3.266-2.3-6.533-3.45-9.8-3.45-1.133 0-2 .217-2.6.65-.6.433-.9 1-.9 1.7 0 .8.409 1.433 1.225 1.9.817.467 2.425.967 4.825 1.5 4.4.967 7.675 2.258 9.825 3.875 2.15 1.617 3.225 3.992 3.225 7.125 0 3.533-1.283 6.317-3.85 8.35-2.566 2.033-6 3.05-10.3 3.05-6.372 0-11.687-1.802-15.947-5.406v4.806h-26.65v-35h9.7v26.5h16.95v2.759zm-84.643-2.859v-17.9h3.95c2.933 0 5.275.8 7.025 2.4 1.75 1.6 2.625 3.783 2.625 6.55 0 2.833-.875 5.033-2.625 6.6-1.75 1.567-4.092 2.35-7.025 2.35h-3.95zm26.596 8.6v-35h28.15v8.25h-18.55v5.3h16.8v7.65h-16.8v5.55h18.8v8.25h-28.4z",fill:"url(#a)",fillRule:"evenodd"}));Sd.displayName="UnbelievableOfferSvg";const kd=()=>m.a._("svg",{viewBox:"0 0 254 60",xmlns:"http://www.w3.org/2000/svg"},m.a._("g",{fill:"#FFF",fillRule:"evenodd"},m.a._("path",{d:"M79.727 22.005v-3.782l7.223-5.921c1.426-1.178 2.408-2.123 2.945-2.837a3.848 3.848 0 0 0 .806-2.371c0-.889-.269-1.581-.806-2.077s-1.24-.744-2.108-.744c-.806 0-1.535.222-2.186.666-.65.445-1.4 1.194-2.247 2.248L80.006 4.49c1.137-1.55 2.31-2.687 3.518-3.41 1.21-.723 2.734-1.085 4.573-1.085 2.253 0 4.061.615 5.425 1.844 1.364 1.23 2.046 2.868 2.046 4.914 0 1.178-.227 2.237-.682 3.177a8.878 8.878 0 0 1-1.767 2.48c-.723.713-1.808 1.628-3.255 2.744l-3.534 2.728h9.455v4.123H79.727zm25.311.372c-3.14 0-5.848-1.085-8.121-3.255l2.882-3.441c1.737 1.57 3.462 2.356 5.177 2.356 1.137 0 2.026-.269 2.666-.806.641-.537.961-1.292.961-2.263 0-.91-.35-1.628-1.054-2.155-.702-.527-1.632-.79-2.79-.79-1.157 0-2.366.269-3.627.806L98.373 11l.62-10.695h13.33V4.49h-9.238l-.248 3.751a11.756 11.756 0 0 1 2.852-.372c2.253 0 4.082.579 5.487 1.736 1.406 1.157 2.108 2.914 2.108 5.27 0 2.294-.749 4.118-2.247 5.471-1.498 1.354-3.498 2.031-5.999 2.031zm18.585-12.834c-.992 1.075-2.263 1.612-3.813 1.612-1.55 0-2.81-.532-3.782-1.597-.971-1.064-1.457-2.381-1.457-3.952 0-1.57.496-2.888 1.488-3.953.992-1.064 2.263-1.596 3.813-1.596 1.55 0 2.81.532 3.782 1.596.971 1.065 1.457 2.382 1.457 3.953 0 1.55-.496 2.862-1.488 3.937zm-6.882 12.462l15.841-21.7h3.689l-15.841 21.7h-3.689zm20.212-1.364c-.992 1.075-2.263 1.612-3.813 1.612-1.55 0-2.81-.532-3.782-1.597-.971-1.064-1.457-2.381-1.457-3.952 0-1.57.496-2.888 1.488-3.953.992-1.064 2.263-1.596 3.813-1.596 1.55 0 2.81.532 3.782 1.597.971 1.064 1.457 2.381 1.457 3.952 0 1.55-.496 2.862-1.488 3.937zM119.872 8.334c.62 0 1.106-.264 1.457-.79.351-.528.527-1.173.527-1.938 0-.744-.191-1.385-.574-1.922-.382-.537-.873-.806-1.472-.806-.62 0-1.106.258-1.457.775s-.527 1.168-.527 1.953c0 .744.191 1.385.573 1.922.383.537.874.806 1.473.806zm13.33 11.098c.62 0 1.106-.264 1.457-.79.351-.528.527-1.173.527-1.938 0-.744-.191-1.385-.574-1.922-.382-.537-.873-.806-1.472-.806-.62 0-1.106.258-1.457.775s-.527 1.168-.527 1.953c0 .744.191 1.385.573 1.922.383.537.874.806 1.473.806zm-52.39 34.573v-21.7h9.92c2.749 0 4.857.734 6.324 2.201 1.24 1.24 1.86 2.914 1.86 5.022 0 3.327-1.55 5.57-4.65 6.727l5.301 7.75h-5.58l-4.712-6.944h-3.689v6.944h-4.774zm4.774-11.16h4.836c1.157 0 2.056-.284 2.697-.853.64-.568.961-1.327.961-2.278 0-1.013-.33-1.782-.992-2.31-.661-.527-1.581-.79-2.759-.79h-4.743v6.231zm15.701 11.16v-21.7h16.368v4.247H106.03v4.402h10.23v4.247h-10.23v4.557h11.78v4.247h-16.523zm18.833 0v-21.7h16.523v4.34h-11.749v4.619h10.354v4.34h-10.354v8.401h-4.774zm18.398 0v-21.7h16.368v4.247h-11.625v4.402h10.23v4.247h-10.23v4.557h11.78v4.247h-16.523zm18.833 0v-21.7h9.92c2.749 0 4.857.734 6.324 2.201 1.24 1.24 1.86 2.914 1.86 5.022 0 3.327-1.55 5.57-4.65 6.727l5.301 7.75h-5.58l-4.712-6.944h-3.689v6.944h-4.774zm4.774-11.16h4.836c1.157 0 2.056-.284 2.697-.853.64-.568.961-1.327.961-2.278 0-1.013-.33-1.782-.992-2.31-.661-.527-1.581-.79-2.759-.79h-4.743v6.231zm15.701 11.16v-21.7h9.92c2.75 0 4.857.734 6.324 2.201 1.24 1.24 1.86 2.914 1.86 5.022 0 3.327-1.55 5.57-4.65 6.727l5.301 7.75h-5.58l-4.712-6.944H182.6v6.944h-4.774zm4.774-11.16h4.836c1.158 0 2.057-.284 2.697-.853.641-.568.961-1.327.961-2.278 0-1.013-.33-1.782-.991-2.31-.662-.527-1.581-.79-2.76-.79h-4.742v6.231zm13.842 11.16l9.3-21.855h4.402l9.3 21.855h-4.991l-1.984-4.867h-9.176l-1.984 4.867h-4.867zm8.556-9.083h5.766l-2.883-7.037-2.883 7.037zm15.857 9.083v-21.7h4.774v17.36h10.819v4.34h-15.594zm24.97.31c-3.555 0-6.624-1.157-9.207-3.472l2.821-3.379c2.129 1.757 4.288 2.635 6.479 2.635.971 0 1.736-.186 2.294-.558.558-.372.837-.889.837-1.55 0-.62-.29-1.121-.868-1.504-.579-.382-1.746-.8-3.503-1.255-1.24-.31-2.242-.615-3.007-.914-.765-.3-1.493-.698-2.186-1.194a4.383 4.383 0 0 1-1.519-1.875c-.32-.755-.48-1.659-.48-2.713 0-1.963.708-3.544 2.123-4.743 1.416-1.199 3.24-1.798 5.472-1.798 3.08 0 5.766.92 8.06 2.759l-2.48 3.596c-2.046-1.426-3.927-2.139-5.642-2.139-.889 0-1.576.18-2.062.542-.485.362-.728.832-.728 1.411 0 .703.3 1.23.899 1.581.6.351 1.86.775 3.782 1.271 2.356.62 4.092 1.416 5.208 2.387 1.116.971 1.674 2.366 1.674 4.185 0 2.108-.728 3.756-2.185 4.944-1.458 1.189-3.385 1.783-5.782 1.783z"}),m.a._("path",{fillRule:"nonzero",d:"M31.208 36.005v-5a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2zm-4-10v1c0 1.103.897 2 2 2v-5c-1.103 0-2 .897-2 2zm3-12c8.837 0 16 7.163 16 16s-7.163 16-16 16-16-7.163-16-16 7.163-16 16-16zm0 5a1 1 0 0 0-1 1v2c-2.206 0-4 1.794-4 4v1c0 2.206 1.794 4 4 4v5c-1.103 0-2-.896-2-2a1 1 0 1 0-2 0c0 2.206 1.794 4 4 4v2a1 1 0 1 0 2 0v-2c2.206 0 4-1.794 4-4v-1c0-2.206-1.794-4-4-4v-5c1.104 0 2 .897 2 2a1 1 0 1 0 2 0c0-2.206-1.794-4-4-4v-2a1 1 0 0 0-1-1zm26 7a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm-26-18a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm-22 22a4 4 0 1 0-8 0 4 4 0 0 0 8 0zm22 22a4 4 0 1 0 0 8 4 4 0 0 0 0-8zM5.006 23.433a1.502 1.502 0 0 0 1.889-.967A24.553 24.553 0 0 1 22.669 6.693a1.5 1.5 0 0 0-.923-2.856A27.565 27.565 0 0 0 4.04 21.544a1.501 1.501 0 0 0 .966 1.889zm32.741-16.74A24.554 24.554 0 0 1 53.52 22.466a1.5 1.5 0 0 0 2.856-.922A27.567 27.567 0 0 0 38.67 3.837a1.5 1.5 0 1 0-.923 2.856zM22.669 53.318A24.556 24.556 0 0 1 6.895 37.546a1.5 1.5 0 0 0-2.855.922 27.567 27.567 0 0 0 17.706 17.707 1.503 1.503 0 0 0 1.889-.967 1.5 1.5 0 0 0-.966-1.89zM55.41 36.577a1.506 1.506 0 0 0-1.89.967 24.556 24.556 0 0 1-15.773 15.774 1.5 1.5 0 0 0 .923 2.856 27.565 27.565 0 0 0 17.706-17.707 1.502 1.502 0 0 0-.966-1.89z"})));kd.displayName="ReferralsBonusSvg";const jd=()=>m.a._("svg",{viewBox:"0 0 201 39",xmlns:"http://www.w3.org/2000/svg"},m.a._("path",{d:"M56.834 22.174h-4.049c0 1.159.186 2.206.632 3.028.445.86 1.04 1.57 1.783 2.094a6.92 6.92 0 0 0 2.6 1.197c.966.262 2.006.374 3.046.374 1.3 0 2.415-.15 3.418-.449.965-.3 1.82-.71 2.451-1.271a5.334 5.334 0 0 0 1.486-1.945c.334-.748.52-1.57.52-2.43 0-1.085-.223-1.945-.669-2.618a6.116 6.116 0 0 0-1.597-1.645c-.631-.411-1.226-.71-1.857-.897-.632-.187-1.115-.3-1.486-.374-1.189-.3-2.155-.561-2.86-.748-.743-.187-1.3-.374-1.709-.598-.409-.187-.706-.412-.817-.636a1.986 1.986 0 0 1-.223-.897c0-.412.074-.748.26-1.01s.408-.486.669-.673c.26-.187.594-.3.928-.374a4.582 4.582 0 0 1 1.003-.112c.52 0 1.003.037 1.412.15.445.074.817.224 1.151.448.335.224.595.524.817.898.223.373.335.86.372 1.42h4.049c0-1.121-.223-2.056-.632-2.804a5.175 5.175 0 0 0-1.671-1.907 7.474 7.474 0 0 0-2.415-1.084 11.985 11.985 0 0 0-2.86-.337c-.854 0-1.709.112-2.563.337a6.708 6.708 0 0 0-2.266 1.084 5.786 5.786 0 0 0-1.634 1.795c-.41.71-.632 1.57-.632 2.543 0 .86.149 1.607.483 2.243a4.333 4.333 0 0 0 1.3 1.533c.52.411 1.114.748 1.82 1.01.669.261 1.375.486 2.08.635.706.187 1.375.374 2.044.524.668.15 1.262.336 1.82.56.52.225.966.487 1.3.786.334.337.483.748.483 1.271 0 .486-.112.86-.372 1.197-.26.299-.557.56-.928.748-.372.187-.78.299-1.19.374-.408.074-.816.074-1.188.074a7.47 7.47 0 0 1-1.597-.187c-.52-.15-.966-.336-1.337-.598-.372-.262-.669-.635-.929-1.084-.334-.486-.446-1.01-.446-1.645zm18.573-9.236v15.555h4.16V12.938h5.684V9.423H69.724v3.515h5.683zm16.196-.262h4.57c.965 0 1.671.224 2.154.636.483.41.706 1.084.706 2.019 0 .972-.223 1.645-.706 2.094-.483.411-1.189.635-2.155.635h-4.569v-5.384zm-4.16 15.817h4.16v-7.441h4.16c1.04 0 1.784.224 2.267.71.483.486.743 1.197.891 2.206.112.748.186 1.57.223 2.393.037.823.186 1.57.409 2.17h4.16a3.35 3.35 0 0 1-.446-.973 6.195 6.195 0 0 1-.222-1.197c-.038-.41-.075-.86-.075-1.27 0-.412-.037-.749-.037-1.085-.037-.486-.111-.972-.186-1.459a5.992 5.992 0 0 0-.445-1.308 3.777 3.777 0 0 0-.818-1.047 2.702 2.702 0 0 0-1.263-.636v-.112c1.078-.411 1.82-1.047 2.303-1.87.483-.822.706-1.795.706-2.916 0-.748-.111-1.421-.371-2.057a5.109 5.109 0 0 0-1.115-1.683A5.018 5.018 0 0 0 100 9.797a6.327 6.327 0 0 0-2.304-.412H87.443v19.108zm19.13-19.07v19.07h4.16V9.423h-4.16zm11.999 8.974v-5.721h3.232c.482 0 .928.037 1.374.112.446.075.817.224 1.152.411.334.187.594.487.817.86.185.374.297.86.297 1.459 0 .598-.112 1.084-.297 1.458a2.027 2.027 0 0 1-.817.86 3.838 3.838 0 0 1-1.152.411 8.185 8.185 0 0 1-1.374.113h-3.232v.037zm-4.16-8.974v19.07h4.16V21.65h4.383c1.189 0 2.192-.187 3.009-.523.817-.337 1.523-.823 2.043-1.384.52-.56.892-1.234 1.152-1.944.26-.71.371-1.496.371-2.244 0-.785-.111-1.533-.371-2.28-.223-.749-.632-1.384-1.152-1.945-.52-.561-1.189-1.01-2.043-1.384-.817-.336-1.857-.523-3.009-.523h-8.544zm31.24 5.72h2.526c-.149-1.009-.446-1.906-.892-2.691-.446-.786-1.04-1.421-1.709-1.945-.705-.523-1.486-.897-2.377-1.159a9.911 9.911 0 0 0-2.823-.411c-1.449 0-2.749.261-3.863.785a8.437 8.437 0 0 0-2.824 2.131 9.343 9.343 0 0 0-1.708 3.179 13.364 13.364 0 0 0-.595 3.926c0 1.383.186 2.692.558 3.889.371 1.196.891 2.243 1.634 3.14.743.898 1.634 1.571 2.749 2.094 1.114.524 2.377.748 3.863.748 2.415 0 4.346-.673 5.72-2.019 1.412-1.346 2.23-3.216 2.452-5.609h-2.526c-.037.786-.223 1.496-.483 2.206a5.06 5.06 0 0 1-1.114 1.758c-.483.486-1.04.86-1.672 1.16-.631.298-1.374.41-2.228.41-1.115 0-2.118-.224-2.935-.635a5.613 5.613 0 0 1-2.006-1.72c-.52-.71-.891-1.57-1.151-2.543-.26-.972-.372-1.982-.372-3.066 0-1.01.112-1.945.372-2.88.26-.934.631-1.757 1.151-2.467a5.613 5.613 0 0 1 2.006-1.72c.817-.412 1.783-.636 2.898-.636 1.337 0 2.488.337 3.417 1.01 1.04.71 1.672 1.72 1.932 3.066zm5.869-5.72v19.07h2.526v-8.75h9.992v8.75h2.526V9.423h-2.526v8.189h-9.992v-8.19h-2.526zm22.4 11.18l3.194-8.9h.037l3.157 8.9h-6.389zm1.894-11.18l-7.393 19.07h2.564l2.117-5.759h8.024l2.08 5.759h2.786L178.6 9.423h-2.786zm16.344 2.131v16.939h2.526V11.554H201V9.423h-15.156v2.131h6.315zM22.994 23.108c.445-.448 8.283-8.787 8.283-8.787a.403.403 0 0 0 .075-.224v-.449c0-.112-.075-.187-.186-.187h-20.32c-.11 0-.185.075-.185.187v.411c0 .075.037.187.074.225l8.21 8.787c.111.112.223.262.297.336.223.262.371.561.409.935v10.545c0 .56-.558.748-.818.71-.817-.074-1.634-.224-2.451-.374 0 0-.26-.037-.298-.074-.742-.187-1.485 0-2.043.261l-.297.15c-.891.449-1.82.86-2.823 1.234A42.437 42.437 0 0 1 2.415 39c.26-.374.482-.748.705-1.122.595-.972 1.338-2.318 2.23-4 0 0 .705-1.272 1.002-1.945.297-.673-.037-1.271-.446-1.683-.408-.411-1.226-1.308-1.226-1.308C1.634 25.8 0 21.912 0 17.836 0 8.151 9.36 0 21.21 0c11.85 0 21.211 8.151 21.211 17.836 0 9.161-8.358 16.939-19.316 17.761-.223 0-.743-.187-.743-.748-.037-3.14-.074-10.432-.074-10.432 0-.411.111-.71.297-.935.112-.037.372-.299.409-.374z",fillRule:"nonzero",fill:"#A41B1B"}));jd.displayName="StripchatLogoSvg";const Id=()=>m.a._("svg",{viewBox:"0 0 208 56",xmlns:"http://www.w3.org/2000/svg"},m.a._("g",{fill:"#FFF",fillRule:"evenodd"},m.a._("path",{d:"M8.317 12.438l-8.129 8.13 2.805 2.805 2.805 2.806 5.292-5.292c2.911-2.911 5.336-5.293 5.388-5.293.052 0 2.477 2.382 5.388 5.293l5.292 5.292 2.805-2.806 2.805-2.806-8.129-8.129c-4.47-4.47-8.143-8.129-8.161-8.129-.018 0-3.69 3.658-8.161 8.13zm0 21.997l-8.129 8.13 2.805 2.805 2.805 2.805 5.292-5.292c2.911-2.91 5.336-5.292 5.388-5.292.052 0 2.477 2.382 5.388 5.292l5.292 5.292 2.805-2.805 2.805-2.806-8.129-8.129c-4.47-4.47-8.143-8.129-8.161-8.129-.018 0-3.69 3.658-8.161 8.13z",fillRule:"nonzero"}),m.a._("path",{d:"M75.845 22.85V5.552h-6.603V1.15h17.98v4.402h-6.603V22.85h-4.774zm30.953-2.883c-2.19 2.17-4.939 3.255-8.246 3.255-3.306 0-6.05-1.085-8.23-3.255-2.18-2.17-3.27-4.826-3.27-7.967 0-3.12 1.1-5.771 3.301-7.951 2.201-2.18 4.955-3.271 8.262-3.271 3.306 0 6.05 1.085 8.23 3.255 2.18 2.17 3.27 4.826 3.27 7.967 0 3.12-1.105 5.776-3.316 7.967zm-12.896-3.131c1.24 1.323 2.811 1.984 4.712 1.984 1.902 0 3.462-.656 4.681-1.968 1.22-1.313 1.83-2.93 1.83-4.852 0-1.901-.62-3.513-1.86-4.836-1.24-1.323-2.811-1.984-4.713-1.984-1.9 0-3.461.656-4.68 1.969-1.22 1.312-1.83 2.929-1.83 4.851 0 1.901.62 3.513 1.86 4.836zm18.523 6.014V1.15h8.866c2.563 0 4.588.692 6.076 2.077 1.488 1.385 2.232 3.214 2.232 5.487 0 2.418-.827 4.293-2.48 5.627-1.653 1.333-3.751 1.999-6.293 1.999h-3.627v6.51h-4.774zm4.774-10.757h3.782c1.178 0 2.103-.31 2.774-.93.672-.62 1.008-1.426 1.008-2.418 0-1.054-.341-1.865-1.023-2.433-.682-.569-1.633-.853-2.852-.853h-3.689v6.634zM70.792 54.85v-21.7h9.92c2.749 0 4.857.734 6.324 2.201 1.24 1.24 1.86 2.914 1.86 5.022 0 3.327-1.55 5.57-4.65 6.727l5.301 7.75h-5.58l-4.712-6.944h-3.689v6.944h-4.774zm4.774-11.16h4.836c1.157 0 2.056-.284 2.697-.853.64-.568.961-1.327.961-2.278 0-1.013-.33-1.782-.992-2.31-.661-.527-1.581-.79-2.759-.79h-4.743v6.231zm13.841 11.16l9.3-21.855h4.402l9.3 21.855h-4.99l-1.985-4.867h-9.176l-1.984 4.867h-4.867zm8.556-9.083h5.766l-2.883-7.037-2.883 7.037zm15.857 9.083v-21.7h4.402l10.168 13.361V33.15h4.712v21.7h-4.061l-10.509-13.795V54.85h-4.712zm22.552 0v-21.7h4.774v9.486l8.804-9.486h5.766l-8.835 9.207 9.238 12.493h-5.735l-6.727-9.238-2.51 2.604v6.634h-4.775zm20.91 0v-21.7h4.774v21.7h-4.774zm8.261 0v-21.7h4.402l10.168 13.361V33.15h4.712v21.7h-4.06l-10.51-13.795V54.85h-4.712zm33 .372c-3.369 0-6.112-1.054-8.23-3.162-2.119-2.108-3.178-4.795-3.178-8.06 0-3.12 1.085-5.771 3.255-7.952 2.17-2.18 4.877-3.27 8.122-3.27 1.88 0 3.472.243 4.774.728 1.302.486 2.552 1.235 3.751 2.248l-3.007 3.627c-.91-.765-1.788-1.323-2.635-1.674-.847-.351-1.86-.527-3.038-.527-1.736 0-3.208.666-4.418 2-1.209 1.333-1.813 2.94-1.813 4.82 0 1.984.615 3.627 1.845 4.929 1.23 1.302 2.805 1.953 4.727 1.953 1.777 0 3.276-.434 4.495-1.302v-3.1h-4.805v-4.123h9.424v9.424c-2.707 2.294-5.797 3.441-9.269 3.441z"})));Id.displayName="TopRankingSvg";const Td={hideModal:k.a,markModalAsSeen:k.b};class Pd extends In.a{constructor(e){super(e),this.loadedImages={footer:!1,header:!1},this.closeHandler=()=>{this.props.hideModal({shouldPersist:!0})},this.imageLoadHandler=e=>{this.loadedImages[e]=!0,Object.values(this.loadedImages).every(e=>e)&&setTimeout(()=>this.setState({hasLoadedImages:!0}),310)},this.supportLinkClickHandler=()=>{this.props.markModalAsSeen(pe.F.MODELS_WANTED)},this._ha=(e,t)=>m.a._("img",{src:e,style:{display:"none"},onLoad:()=>this.imageLoadHandler(t)}),this._hb=e=>{const{headerBackgroundUrl:t}=this.props;return m.a._(Xs.TransitionGroup,null,this.state.hasLoadedImages&&m.a._(Xs.CSSTransition,{classNames:"fade-in-right",timeout:1100},m.a._("div",{className:`mw-header-back-image ${e}`,style:{backgroundImage:t?`url(${t})`:void 0}})))},this.state={...this.state,hasLoadedImages:!1}}_F(){const{footerBackgroundUrl:e,headerBackgroundUrl:t,username:s}=this.props,a={backgroundImage:this.state.hasLoadedImages?`url(${e})`:""};return m.a._("div",{className:"models-wanted-modal"},this._ha(t,"header"),this._ha(e,"footer"),m.a._("div",{className:"mw-header"},this._hb("large"),m.a._("div",{className:"mw-header-top-wrapper"},this._hb("small"),m.a._("div",{className:"mw-header-logo-box"},m.a._(jd,null)),m.a._("div",{className:"mw-header-heading-box"},m.a._(Sd,null))),m.a._("div",{className:"mw-header-bottom-wrapper"},m.a._("p",{className:"mw-header-info"},"Hello,"," ",s,"!"," ",m.a._("br",null),"You are nice, you are beautiful and you are from the US. We have a big deal for you. From the 28th of May until the 30th of June, you will be affected by huge bonuses. Don't waste this time to make it really big. It's time to get rich."),m.a._("div",{className:"mw-rules-pointer"},m.a._(Od,null),m.a._("span",{className:"mw-rules-pointer-text"},"Rules and conditions:")))),m.a._("div",{className:"mw-body"},m.a._("div",null,m.a._("div",{className:"mw-body-row"},m.a._("div",{className:"mw-body-image-box"},m.a._("div",{className:"mw-body-image double-money"},m.a._(wd,null))),m.a._("p",{className:"mw-paragraph"},"All tokens you have earned during the offer will be doubled at the end of June 2018. This is the biggest opportunity for you. Don't miss it.")),m.a._("div",{className:"mw-body-row"},m.a._("div",{className:"mw-body-image-box"},m.a._("div",{className:"mw-body-image referrals"},m.a._(kd,null))),m.a._("p",{className:"mw-paragraph"},"Invite users to Stripchat.com and you will be rewarded with 25% affiliated bonus money on their spendings. You can create affiliation link from your profile.")),m.a._("div",{className:"mw-body-row"},m.a._("div",{className:"mw-body-image-box"},m.a._("div",{className:"mw-body-image top-ranking"},m.a._(Id,null))),m.a._("p",{className:"mw-paragraph"},"Get ahead of the crowd. You will get extra boost to become a featured model. If your perform good, it will be even more significant."))),m.a._("p",{className:"mw-appendix"},"This is a limited period offer valid from 28th May till 30th Jun, 2018.")),m.a._("div",{className:"mw-footer"},m.a._("div",{className:"mw-footer-inner-box"},m.a._("div",{className:"mw-footer-heading"},m.a._(yd,null)),m.a._("p",{className:"mw-paragraph"},m.a._("strong",null,"This is the perfect time to earn money and get new followers"),". Make every moment of your broadcast count.",m.a._("br",null),"We wish you best of luck!"),m.a._("div",{className:"mw-footer-btn-row"},m.a._(Tt.a,{style:"red-blue-gradient",size:"large",onClick:this.closeHandler},"I Got It")),m.a._("div",{className:"mw-footer-appendix"},m.a._(ye.a,{img:"operator"}),m.a._("p",{className:"mw-appendix"},"Got any questions? Feel free to ask our ",m.a._(De.a,{className:"mw-link",onClick:this.supportLinkClickHandler},"24/7 support"),"."))),m.a._("div",{className:"mw-footer-bg large",style:a}),m.a._("div",{className:"mw-footer-bg small",style:a})))}}Pd.propTypes={footerBackgroundUrl:d.a.string.isRequired,headerBackgroundUrl:d.a.string.isRequired,username:d.a.string.isRequired,...Object(M.a)(Td)},Pd.defaultProps={...In.a.defaultProps,className:"models-wanted-modal-wrapper",hasInnerScroll:!0};var Md=Object(g.c)(e=>{const{auth:{currentUser:t}}=e;return{footerBackgroundUrl:Object(ke.z)(e,"users/components/ui/ModelsWantedModal/images/footer-back.png"),headerBackgroundUrl:Object(ke.z)(e,"users/components/ui/ModelsWantedModal/images/header-back.jpg"),username:t?t.username:""}},e=>Object(wa.b)(Td,e))(Pd),Ed=s(325),Ad=s.n(Ed);const Ud="panel_title_textarea_id",Hd="panel_image_file_input_id",Ld="panel_body_textarea_id",Rd=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/,Fd={title:100,body:1e3},Dd={title:{maxLength:e=>!e||e.length<=100},body:{maxLength:e=>!e||e.length<=1e3},imageLink:{invalidUrl:e=>!e||Rd.test(e)}};class xd extends In.a{constructor(e,t){super(e),this.imageInputRef=null,this.onSubmit=e=>{e.preventDefault(),this.props.applyModelProfilePanelModal(this.state.panelUpdated,this.props.isNew),this.closeHandler(e)},this.fileInputChangeHandler=e=>{const t=l()(e,["target","files",0]);t&&this.props.validatePanelImage(t).then(e=>{if(e)this.saveFormValues({image:"",imageUrl:""},{image:e});else{const e=URL.createObjectURL(t);this.saveFormValues({image:t,imageUrl:e})}})},this.saveFormValues=(e,t={})=>{const{formFieldsErrors:s,panelUpdated:a}=this.state;w()(e,(e,t)=>delete s[t]),this.setState({panelUpdated:{...a,...e},formFieldsErrors:{...s,...t}})},this.onTextInputChange=e=>{if(!e)return;const{name:t,value:s=""}=e;let a;w()(Dd[t],(e,t)=>{a||e(s)||(a=t)}),a?this.saveFormValues({[t]:""},{[t]:Object(Se.d)(`profile.profilePanels.addEditPanelModal.formErrors.${a}`,{value:Fd[t],currentValue:s.length})}):this.saveFormValues({[t]:s||""})},this.textHandlers={title:$()(this.onTextInputChange),imageLink:$()(this.onTextInputChange),body:$()(this.onTextInputChange)},this.onTextInputProxy=e=>{this.textHandlers[e.target.name](e.target)},this.triggerOpenFile=()=>{Ad()(this.imageInputRef,"click")},this.removeImage=()=>{this.saveFormValues({image:"",imageUrl:""})},this.togglePreviewMode=()=>{this.setState(e=>({isPreviewMode:!e.isPreviewMode}))},this.isFormValid=()=>{const{panelUpdated:e,formFieldsErrors:t}=this.state;return(e.imageUrl||e.title||e.body)&&i()(He()(t))};const{isNew:s,panel:a}=e;this.state={...this.state,panelUpdated:s?{}:a,formFieldsErrors:{}},s||(this.state.panelUpdated=a)}_D(){const{isNew:e}=this.props,{isPreviewMode:t}=this.state,s=e?"titleAdd":"titleEdit";return m.a._("span",null,Object(Se.d)(`profile.profilePanels.addEditPanelModal.${t?"titlePreview":s}`))}_Ja(e,t){const{formFieldsErrors:s}=this.state,a=s[e];return a?m.a._(Wn.a,{placement:"bottom",error:{message:a},targetId:t}):null}_hc(){const{formFieldsErrors:e,panelUpdated:t}=this.state;return m.a._("div",{className:Object(j.c)("panel-field panel-title",{"panel-field-invalid":e.title})},m.a._("label",null,m.a._(Dt.a,{messageId:"profile.profilePanels.addEditPanelModal.title",elements:{span:m.a._("span",{className:"input-optional"})}})),m.a._("textarea",{id:Ud,className:"textarea",name:"title",defaultValue:t.title,onChange:this.onTextInputProxy,placeholder:Object(Se.d)("profile.profilePanels.addEditPanelModal.titlePlaceholder")}),this._Ja("title",Ud))}_hd(){const{formFieldsErrors:e,panelUpdated:t}=this.state,s=t.imageUrl?"replaceImage":"addImage";return m.a._("div",{className:Object(j.c)("panel-field panel-image",{"panel-field-invalid":e.image})},m.a._("label",null,m.a._(Dt.a,{messageId:"profile.profilePanels.addEditPanelModal.image",elements:{span:m.a._("span",{className:"input-optional"})}})),m.a._("div",{className:"panel-image-preview-small"},m.a._("input",{name:"image",ref:e=>{this.imageInputRef=e},accept:"image/*",type:"file",onChange:this.fileInputChangeHandler}),m.a._(Tt.a,{style:"grouped",id:Hd,onClick:this.triggerOpenFile},Object(Se.d)(`profile.profilePanels.addEditPanelModal.${s}`)),t.imageUrl&&m.a._(h.Fragment,null,m.a._("img",{src:t.imageUrl,alt:""}),m.a._("button",{className:"panel-image-remove-image-btn",onClick:this.removeImage},m.a._(ye.a,{img:"close-2"})))),this._Ja("image",Hd))}_he(){const{panelUpdated:{imageUrl:e,imageLink:t}}=this.state;return m.a._("div",{className:Object(j.c)("panel-field panel-image-url",{disabled:!e})},m.a._("label",null,m.a._(ye.a,{img:"chain-link"}),m.a._(Dt.a,{messageId:"profile.profilePanels.addEditPanelModal.addImageLink",elements:{span:m.a._("span",{className:"input-optional"})}})),m.a._("input",{className:"input",type:"text",id:"panel_image_url_input_id",defaultValue:t,name:"imageLink",onChange:this.onTextInputProxy,placeholder:Object(Se.d)("profile.profilePanels.addEditPanelModal.addImageLinkPlaceholder")}),this._Ja("imageLink","panel_image_url_input_id"))}_hf(){const{panelUpdated:{body:e}}=this.state;return m.a._("div",{className:"panel-field panel-body"},m.a._("label",null,m.a._(Dt.a,{messageId:"profile.profilePanels.addEditPanelModal.body",elements:{span:m.a._("span",{className:"input-optional"})}})),m.a._("textarea",{className:"textarea",id:Ld,name:"body",defaultValue:e,onChange:this.onTextInputProxy,placeholder:Object(Se.d)("profile.profilePanels.addEditPanelModal.bodyPlaceholder")}),this._Ja("body",Ld))}_hg(){const{panelUpdated:{title:e,imageUrl:t,imageLink:s,body:a}}=this.state;return m.a._("div",{className:"preview-mode"},e&&m.a._("div",{className:"preview-mode-title"},e),t&&m.a._("div",{className:"preview-mode-image"},m.a._("a",{href:s,target:"_blank",rel:"nofollow noopener noreferrer"},m.a._("img",{src:t,width:"100%",alt:""}))),a&&m.a._("div",{className:"preview-mode-body"},a))}_F(){const{isPreviewMode:e}=this.state,t=e?"edit":"preview";return m.a._("div",{className:Object(j.c)("modal-body")},m.a._("form",{className:"panel-fields",noValidate:!0,onSubmit:this.onSubmit},!e&&m.a._("div",{className:"edit-mode"},this._hc(),this._hd(),this._he(),this._hf()),e&&this._hg(),m.a._("div",{className:"panel-field panel-preview-toggle"},!e&&m.a._("button",{disabled:!this.isFormValid(),type:"button",onClick:this.togglePreviewMode},m.a._(ye.a,{img:"spy-on"}),m.a._("span",null,Object(Se.d)(`profile.profilePanels.addEditPanelModal.${t}`)))),m.a._("div",{className:"buttons"},m.a._(Tt.a,{style:"apply",disabled:!this.isFormValid(),type:"submit"},Object(Se.d)("button.save")),e?m.a._(Tt.a,{style:"grouped",type:"button",onClick:this.togglePreviewMode},Object(Se.d)("profile.profilePanels.addEditPanelModal.backToEdit")):m.a._(Tt.a,{style:"grouped",type:"button",onClick:this.closeHandler},Object(Se.d)("button.cancel")))))}}xd.propTypes={isNew:d.a.bool,panel:d.a.object},xd.defaultProps={...In.a.defaultProps,className:"profile-panel-modal-wrapper",titlePosition:"outside",isWrapperCloseDisabled:!0};const Bd={validatePanelImage:xs.A,applyModelProfilePanelModal:xs.b};var Vd=Object(g.c)(void 0,Bd)(xd);const zd={emitButtonEvent:f.b,savePrivateShowRecord:jn.t};class $d extends m.a.Component{constructor(...e){super(...e),this.closeClickHandler=()=>{this.props.onClose()},this.submitClickHandler=()=>{const{emitButtonEvent:e,savePrivateShowRecord:t,showId:s,showMode:a}=this.props;t(s,a),a===It.Nb.MODE_PRIVATE&&e(Oa.g.PRIVATE_SAVE_VIDEO),a===It.Nb.MODE_P2P&&e(Oa.g.P2P_SAVE_VIDEO)},this._hh=()=>{const{showMode:e}=this.props;return m.a._(h.Fragment,null,m.a._("div",{className:"save-private-record-modal-title user"},Object(Se.d)(`savePrivateRecordModal.${e}.userTitle`)),e===It.Nb.MODE_P2P&&m.a._("div",{className:"save-private-record-modal-body"},Object(Se.d)(`savePrivateRecordModal.${e}.userContent`)))},this._hi=()=>{const{showMode:e}=this.props;return m.a._(h.Fragment,null,m.a._("div",{className:"save-private-record-modal-title"},Object(Se.d)(`savePrivateRecordModal.${e}.modelTitle`)),m.a._("div",{className:"save-private-record-modal-body"},Object(Se.d)(`savePrivateRecordModal.${e}.modelContent`)))}}_A(){gt.a.startTimeout("savePrivateRecord",3e5,this.props.onClose)}componentWillUnmount(){gt.a.stopTimeout("savePrivateRecord")}render(){const{isModel:e}=this.props;return m.a._(Ko.a,{className:Object(j.c)("modal-wrapper save-private-record-modal",{"save-private-record-modal-model":e}),onClose:this.closeClickHandler,source:"savePrivateRecordModal",titlePosition:"outside",isWrapperCloseDisabled:!0},m.a._(ye.a,{img:"camera-2"}),e?this._hi():this._hh(),m.a._("div",{className:"save-private-record-modal-footer"},m.a._(Tt.a,{onClick:this.submitClickHandler,size:"default",style:"apply"},Object(Se.d)("button.save")),m.a._(Tt.a,{onClick:this.closeClickHandler,size:"default"},Object(Se.d)("button.cancel"))))}}$d.displayName="SavePrivateRecordModal",$d.defaultProps={isModel:!1,showMode:It.Nb.MODE_PRIVATE};var Gd=Object(g.c)(null,zd)($d),Wd=s(301),Kd=s(159),qd=s(411);const Jd={signUpViaGoogle:Kd.g,signUpViaTwitter:Kd.h};class Yd extends m.a.Component{constructor(...e){super(...e),this.state={username:"",email:""},this.closeClickHandler=()=>{this.props.onClose()},this.signUpEventHandler=()=>{const{googleToken:e,triggerSource:t,twitterParams:s={}}=this.props,{username:a,email:i}=this.state;e&&this.props.signUpViaGoogle(a,e,t),s.hash&&this.props.signUpViaTwitter(a,i,s,t)},this.changeUsernameHandler=e=>{this.setState({username:e})},this.changeEmailHandler=e=>{this.setState({email:e.target.value})}}_hj(){const{isPending:e,signUpError:t}=this.props,{username:s,email:a}=this.state,i=e||!s||!a,o=l()(t,"details.email.0");return m.a._("div",{className:"select-username-modal-controls with-mail"},m.a._(qd.a,{onChange:this.changeUsernameHandler,disabled:e,value:s}),m.a._("div",{className:"field-email"},m.a._(qo.a,{autoCapitalize:"none",className:Object(j.c)({error:o}),onChange:this.changeEmailHandler,disabled:e,id:"select_username_email_input",placeholder:Object(Se.d)("signUp.form.placeholders.email")}),o&&m.a._(Wn.a,{error:{message:o},targetId:"select_username_email_input"})),m.a._(Tt.a,{style:"default-filled",size:"medium",disabled:i,onClick:this.signUpEventHandler},Object(Se.d)("selectUsernameModal.button")))}_H(){const{isPending:e,twitterParams:t={}}=this.props,{username:s}=this.state,a=e||!s;return t.hash&&!t.twitterEmail?this._hj():m.a._("div",{className:"select-username-modal-controls"},m.a._(qd.a,{onChange:this.changeUsernameHandler,disabled:e,value:s}),m.a._(Tt.a,{style:"default-filled",size:"medium",disabled:a,onClick:this.signUpEventHandler},Object(Se.d)("selectUsernameModal.button")))}_hk(){return this.props.isWhiteLabel?null:m.a._("div",{className:"logo"})}render(){const{siteName:e}=this.props;return m.a._(Ko.a,{className:"modal-wrapper select-username-modal",onClose:this.closeClickHandler,isWrapperCloseDisabled:!0,source:"selectUsernameModal",titlePosition:"outside",title:this._hk()},m.a._(Wd.a,{component:"SignUp"},m.a._("div",{className:"select-username-modal-wrapper"},m.a._("div",{className:"select-username-modal-header"},m.a._(ye.a,{img:"user-username",size:50}),m.a._("div",{className:"select-username-modal-title-wrapper"},m.a._("div",{className:"select-username-modal-title"},Object(Se.d)("selectUsernameModal.title",{siteName:e})),m.a._("div",{className:"select-username-modal-sub-title"},Object(Se.d)("selectUsernameModal.subTitle")))),m.a._("div",{className:"select-username-modal-body"},m.a._("div",{className:"select-username-modal-description"},Object(Se.d)("selectUsernameModal.description")),this._H()))))}}Yd.displayName="SelectUsernameModal",Yd.defaultProps={googleToken:null,twitterParams:{}};var Xd=Object(g.c)(e=>{const{signUp:{error:t,isPending:s},whiteLabels:{siteName:a}}=e;return{isPending:s,isWhiteLabel:Object(xe.i)(e),signUpError:t,siteName:a}},Jd)(Yd);const{DELETE:Qd}=xs.a;class Zd extends In.a{constructor(e){super(e),this.confirmationChangeHandler=e=>{this.setState({isConfirmed:e.target.checked})},this.deleteMyAccountHandler=e=>{e.preventDefault();const t=this.reasonRef.value;this.props.deleteUser({reason:t})},this.state={...this.state,isConfirmed:!1}}_A(){super._A(),this.props.updatePrepare(Qd)}_D(){return Object(Se.d)("deleteMyAccount.title")}_F(){const e=this.state.isConfirmed;return m.a._("div",{className:"modal-body"},m.a._("form",{onSubmit:this.deleteMyAccountHandler},m.a._("div",{className:"delete-my-account-field-reason"},m.a._("label",{className:"delete-my-account-label",htmlFor:"delete_my_account_reason"},Object(Se.d)("deleteMyAccount.labels.reason"),":"),m.a._(Yo.a,{className:"textarea",autoCapitalize:"none",maxLength:pe.r,autoFocus:!0,rows:3,id:"delete_my_account_reason",ref:e=>{this.reasonRef=e}})),m.a._("div",{className:"form-footer"},m.a._("div",{className:"delete-my-account-field-confirmation"},m.a._("input",{type:"checkbox",id:"delete_my_account_confirmation_input",className:"checkbox",onChange:this.confirmationChangeHandler}),m.a._("label",{htmlFor:"delete_my_account_confirmation_input"},Object(Se.d)("deleteMyAccount.labels.confirmation"))),m.a._("div",{className:"controls"},m.a._(Tt.a,{onClick:this.closeHandler,size:"medium",style:"apply-alter"},Object(Se.d)("deleteMyAccount.cancel")),m.a._("input",{type:"submit",className:"btn btn-medium btn-delete",disabled:!e,value:Object(Se.d)("deleteMyAccount.delete")})))))}}Zd.defaultProps={...Zd.defaultProps,className:"delete-my-account-modal",titlePosition:"outside"},Zd.propTypes={...Zd.propTypes,deleteUser:d.a.func.isRequired,updatePrepare:d.a.func.isRequired};var ep=Object(g.c)(null,e=>Object(wa.b)({deleteUser:xs.d,updatePrepare:xs.s},e))(Zd);class tp extends In.a{constructor(...e){super(...e),this.buttonClickHandler=()=>{this.props.hideModal(pe.F.TOKENS_GIVEAWAY)}}_F(){return m.a._("div",{className:"modal-body"},m.a._("div",{className:"picture-wrapper"}),m.a._("div",{className:"description"},m.a._("div",{className:"title"},m.a._(Dt.a,{elements:{highlighted:m.a._("span",{className:"title-green"})},messageId:"tokensGiveawayModal.title"})),m.a._("div",{className:"steps"},m.a._("div",{className:"step-row"},m.a._("div",{className:"step-number"},"1"),m.a._("div",{className:"step-description-wrapper"},m.a._("div",{className:"step-title"},Object(Se.d)("tokensGiveawayModal.steps.joinModelsRoom.title")),m.a._("div",{className:"step-description"},Object(Se.d)("tokensGiveawayModal.steps.joinModelsRoom.description")))),m.a._("div",{className:"step-row"},m.a._("div",{className:"step-number"},"2"),m.a._("div",{className:"step-description-wrapper"},m.a._("div",{className:"step-title"},Object(Se.d)("tokensGiveawayModal.steps.participateIn.title")),m.a._("div",{className:"step-description"},m.a._(Dt.a,{elements:{strong:m.a._("strong",null)},messageId:"tokensGiveawayModal.steps.participateIn.description"})))),m.a._("div",{className:"step-row"},m.a._("div",{className:"step-number"},"3"),m.a._("div",{className:"step-description-wrapper"},m.a._("div",{className:"step-title"},Object(Se.d)("tokensGiveawayModal.steps.win.title")),m.a._("div",{className:"step-description"},m.a._(Dt.a,{elements:{strong:m.a._("strong",null)},messageId:"tokensGiveawayModal.steps.win.description"}))))),m.a._(Tt.a,{className:"signup",style:"apply-alter",size:"large",onClick:this.buttonClickHandler},Object(Se.d)("tokensGiveawayModal.gotItButtonText"))))}}const sp={hideModal:k.a};tp.propTypes={triggerSource:d.a.string,...Object(M.a)(sp)},tp.defaultProps={...In.a.defaultProps,className:"tokens-giveaway-modal",titlePosition:"outside"};var ap=Object(g.c)(null,e=>Object(wa.b)(sp,e))(tp);const ip={routerPush:P.H};class op extends m.a.Component{constructor(...e){super(...e),this.closeClickHandler=()=>{this.props.onClose()},this.gotToSiteClickHandler=()=>{this.props.routerPush("/"),this.props.onClose()}}_hk(){const{isWhiteLabel:e}=this.props;return e?null:m.a._("div",{className:"logo"})}_hl(){const{isWhiteLabel:e,isXHamsterLive:t}=this.props,s=e?"https://help.supportlivecam.com/support/tickets/new":"https://help.stripchat.com/support/tickets/new";return t?null:m.a._(Dt.a,{messageId:"twoFactorAuthentication.shouldBeAuthorized.descriptionSupport",elements:{link:m.a._("a",{href:s,rel:"nofollow noreferrer noopener",target:"_blank"},Object(Se.d)("twoFactorAuthentication.shouldBeAuthorized.contact"))}})}_hm(){const{email:e}=this.props;return m.a._(h.Fragment,null,m.a._("div",{className:"two-factor-authentication-wrapper"},m.a._(ye.a,{img:"wrong",size:50}),m.a._("div",{className:"two-factor-authentication-header"},m.a._("div",{className:"two-factor-authentication-title"},Object(Se.d)("twoFactorAuthentication.shouldBeAuthorized.title")),m.a._("div",{className:"two-factor-authentication-sub-title"},Object(Se.d)("twoFactorAuthentication.shouldBeAuthorized.subTitle")))),m.a._("div",{className:"two-factor-authentication-description"},m.a._(Dt.a,{messageId:"twoFactorAuthentication.shouldBeAuthorized.description",elements:{email:m.a._("span",{className:"highlight"},Object(td.b)(e))}}),this._hl()))}_hn(){return m.a._(h.Fragment,null,m.a._("div",{className:"two-factor-authentication-wrapper"},m.a._(ye.a,{img:"user-username",size:50}),m.a._("div",{className:"two-factor-authentication-header"},m.a._("div",{className:"two-factor-authentication-sub-title"},Object(Se.d)("twoFactorAuthentication.hasBeenAuthorized.title")))),m.a._("div",{className:"two-factor-authentication-description"},Object(Se.d)("twoFactorAuthentication.hasBeenAuthorized.description")),m.a._("div",{className:"two-factor-authentication-controls"},m.a._(Tt.a,{style:"apply",size:"medium",onClick:this.gotToSiteClickHandler},Object(Se.d)("twoFactorAuthentication.hasBeenAuthorized.button"))))}render(){const{needEmailConfirmation:e}=this.props;return m.a._(Ko.a,{className:"modal-wrapper two-factor-authentication-modal",onClose:this.closeClickHandler,source:"twoFactorAuthentication",titlePosition:"outside",title:this._hk()},e?this._hm():this._hn())}}op.displayName="TwoFactorAuthenticationModal",op.defaultProps={needEmailConfirmation:!1,email:""};var np=Object(g.c)(e=>({isWhiteLabel:Object(xe.i)(e),isXHamsterLive:Object(xe.j)(e)}),ip)(op);class rp extends h.Component{render(){const{backClickHandler:e}=this.props;return m.a._("div",{className:"two-factor-auth-content"},m.a._("div",{className:"two-factor-auth-description"},Object(Se.d)("twoFactorAuthModal.blocked.description")),m.a._("div",{className:"two-factor-auth-controls center"},m.a._(Tt.a,{size:"medium",onClick:e},Object(Se.d)("twoFactorAuthModal.blocked.backBtn"))))}}rp.displayName="TwoFactorBlocked",rp.defualtProps={backClickHandler:va.a};var lp=rp;class cp extends h.Component{constructor(...e){super(...e),this.state={code:""},this.submit=()=>{const{code:e}=this.state;this.props.connectGoogleAuthenticator(e)},this.inputChangeHandler=e=>{const{target:t}=e,s=this.getCodeFromStr(t.value);null!==s&&this.setCodeUpdateAuthError(s)},this.getCodeFromStr=e=>{const t=e.replace(/\D+/g,"");return""===t?"":t>999999?null:t},this.setCodeUpdateAuthError=e=>{this.setState({code:e}),this.props.updateTwoFactorAuthError({})},this.keyDownHandler=e=>{e.keyCode===pe.C.enter&&this.submit()},this.resetError=()=>{this.props.updateTwoFactorAuthError({})}}render(){const{code:e}=this.state,{appStoreImgUrl:t,googlePlayImgUrl:s,data:a,error:i={}}=this.props;return m.a._("div",{className:"two-factor-auth-content two-factor-auth-content-connect"},m.a._("div",{className:"two-factor-auth-description subheader"},Object(Se.d)("twoFactorAuthModal.connect.description")),m.a._("div",{className:"step-wrapper"},m.a._("div",{className:"step-nav"},m.a._("div",{className:"step-number"},"1"),m.a._("div",{className:"step-line"})),m.a._("div",{className:"two-factor-auth-connect-step-download"},m.a._("div",{className:"two-factor-auth-controls-subtitle"},Object(Se.d)("twoFactorAuthModal.connect.download")),m.a._("div",{className:"two-factor-auth-connect-step-content"},m.a._("div",{className:"store"},m.a._("span",null,"iOS"),m.a._("a",{href:"https://apps.apple.com/us/app/google-authenticator/id388497605",rel:"nofollow noreferrer noopener",target:"_blank"},m.a._("img",{src:t,alt:"appStore"}))),m.a._("div",{className:"store"},m.a._("span",null,"Android"),m.a._("a",{href:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2",rel:"nofollow noreferrer noopener",target:"_blank"},m.a._("img",{src:s,alt:"googlePlay"})))))),m.a._("div",{className:"step-wrapper"},m.a._("div",{className:"step-nav"},m.a._("div",{className:"step-number"},"2"),m.a._("div",{className:"step-line"})),m.a._("div",{className:"two-factor-auth-connect-step-qr"},m.a._("div",{className:"two-factor-auth-controls-subtitle"},Object(Se.d)("twoFactorAuthModal.connect.qrCode.title")),m.a._("div",{className:"two-factor-auth-connect-step-content"},m.a._("img",{src:a.qrCode}),m.a._("div",{className:"two-factor-auth-description"},Object(Se.d)("twoFactorAuthModal.connect.qrCode.description"),m.a._("div",{className:"secret-code"},a.secret))))),m.a._("div",{className:"step-wrapper"},m.a._("div",{className:"step-nav"},m.a._("div",{className:"step-number"},"3")),m.a._("div",{className:"two-factor-auth-controls two-factor-auth-connect-code"},m.a._("div",{className:"two-factor-auth-controls-subtitle"},Object(Se.d)("twoFactorAuthModal.connect.digitCode.title")),m.a._("div",{className:"two-factor-auth-description"},Object(Se.d)("twoFactorAuthModal.connect.digitCode.description")),m.a._("div",{className:"field-password"},m.a._(qo.a,{id:"twoFactorDigitCode",autoCapitalize:"none",className:Object(j.c)({error:"code"===i.field}),onChange:this.inputChangeHandler,onFocus:this.resetError,onKeyDown:this.keyDownHandler,value:e,inputmode:"numeric",placeholder:Object(Se.d)("twoFactorAuthModal.connect.digitCode.placeholder")}),i.message&&m.a._(Wn.a,{error:i,targetId:"twoFactorDigitCode",placement:"top",isMobileRelative:!1}),m.a._(Tt.a,{style:"apply",size:"medium",disabled:!e,onClick:this.submit},Object(Se.d)("twoFactorAuthModal.connect.digitCode.btn"))))))}}cp.displayName="TwoFactorConnect";const dp={connectGoogleAuthenticator:Sa.b,updateTwoFactorAuthError:xs.w};cp.defaultProps={data:{}};var pp=Object(g.c)(e=>{const{profile:{twoFactorAuthError:t}}=e;return{appStoreImgUrl:Object(ke.z)(e,"users/components/ui/TwoFactorAuthModal/images/app-store.png"),googlePlayImgUrl:Object(ke.z)(e,"users/components/ui/TwoFactorAuthModal/images/google-play.png"),error:t}},dp)(cp);class up extends h.Component{constructor(...e){super(...e),this.state={password:""},this.submit=()=>{const{password:e}=this.state;this.props.deleteGoogleAuthenticator(e)},this.inputChangeHandler=e=>{this.setState({password:e.target.value}),this.props.updateTwoFactorAuthError({})},this.keyDownHandler=e=>{e.keyCode===pe.C.enter&&this.submit()},this.resetError=()=>{this.props.updateTwoFactorAuthError({})}}render(){const{password:e}=this.state,{siteName:t,error:s={}}=this.props;return m.a._("div",{className:"two-factor-auth-content"},m.a._("div",{className:"two-factor-auth-description"},Object(Se.d)("twoFactorAuthModal.disable.description",{siteName:t})),m.a._("div",{className:"two-factor-auth-controls"},m.a._("div",{className:"two-factor-auth-controls-subtitle"},Object(Se.d)("twoFactorAuthModal.passwordLabel",{siteName:t})),m.a._("div",{className:"field-password"},m.a._(qo.a,{autoCapitalize:"none",className:Object(j.c)({error:"password"===s.field}),onChange:this.inputChangeHandler,onFocus:this.resetError,onKeyDown:this.keyDownHandler,value:e,id:"twoFactorDisablePassword",placeholder:Object(Se.d)("twoFactorAuthModal.passwordPlaceholder"),type:"password"}),s.message&&m.a._(Wn.a,{error:s,targetId:"twoFactorDisablePassword",placement:"top",isMobileRelative:!1}),m.a._(Tt.a,{style:"apply",size:"medium",className:"disable-auth",disabled:!e,onClick:this.submit},Object(Se.d)("twoFactorAuthModal.disable.btn")))))}}up.displayName="TwoFactorDisable";const hp={deleteGoogleAuthenticator:Sa.c,updateTwoFactorAuthError:xs.w};var mp=Object(g.c)(e=>{const{profile:{twoFactorAuthError:t},whiteLabels:{siteName:s}}=e;return{error:t,siteName:s}},hp)(up);class gp extends h.Component{render(){const{backClickHandler:e}=this.props;return m.a._("div",{className:"two-factor-auth-content"},m.a._("div",{className:"two-factor-auth-description"},Object(Se.d)("twoFactorAuthModal.disabled.description")),m.a._("div",{className:"two-factor-auth-controls center"},m.a._(Tt.a,{size:"medium",onClick:e},Object(Se.d)("twoFactorAuthModal.backBtn"))))}}gp.displayName="TwoFactorDisabled",gp.defaultProps={backClickHandler:va.a};var bp=gp;class _p extends h.Component{constructor(...e){super(...e),this.state={password:""},this.submit=()=>{const{password:e}=this.state;this.props.getGoogleAuthenticatorCode(e)},this.inputChangeHandler=e=>{this.setState({password:e.target.value}),this.props.updateTwoFactorAuthError({})},this.keyDownHandler=e=>{e.keyCode===pe.C.enter&&this.submit()},this.resetError=()=>{this.props.updateTwoFactorAuthError({})}}render(){const{password:e}=this.state,{siteName:t,error:s={}}=this.props;return m.a._("div",{className:"two-factor-auth-content"},m.a._("div",{className:"two-factor-auth-description"},Object(Se.d)("twoFactorAuthModal.enable.description",{siteName:t})),m.a._("div",{className:"two-factor-auth-controls"},m.a._("div",{className:"two-factor-auth-controls-subtitle"},Object(Se.d)("twoFactorAuthModal.passwordLabel",{siteName:t})),m.a._("div",{className:"field-password"},m.a._(qo.a,{autoCapitalize:"none",className:Object(j.c)({error:"password"===s.field}),onChange:this.inputChangeHandler,onFocus:this.resetError,onKeyDown:this.keyDownHandler,value:e,id:"twoFactorEnablePassword",placeholder:Object(Se.d)("twoFactorAuthModal.passwordPlaceholder"),type:"password"}),s.message&&m.a._(Wn.a,{error:s,targetId:"twoFactorEnablePassword",placement:"top",isMobileRelative:!1}),m.a._(Tt.a,{style:"apply",size:"medium",disabled:!e,onClick:this.submit},Object(Se.d)("button.continue")))))}}_p.displayName="TwoFactorEnable";const vp={getGoogleAuthenticatorCode:Sa.d,updateTwoFactorAuthError:xs.w};var fp=Object(g.c)(e=>{const{whiteLabels:{siteName:t},profile:{twoFactorAuthError:s}}=e;return{error:s,siteName:t}},vp)(_p);class Cp extends h.Component{render(){const{backClickHandler:e}=this.props;return m.a._("div",{className:"two-factor-auth-content two-factor-auth-content-enabled"},m.a._("div",{className:"two-factor-auth-controls-subtitle"},Object(Se.d)("twoFactorAuthModal.enabled.subtitle")),m.a._("div",{className:"two-factor-auth-description"},Object(Se.d)("twoFactorAuthModal.enabled.description")),m.a._("div",{className:"two-factor-auth-controls center"},m.a._(Tt.a,{size:"medium",onClick:e},Object(Se.d)("twoFactorAuthModal.backBtn"))))}}Cp.displayName="TwoFactorEnabled",Cp.defaultProps={backClickHandler:va.a};var Np=Cp;class Op extends h.Component{constructor(...e){super(...e),this.state={code:""},this.submit=()=>{const{code:e}=this.state,{userId:t}=this.props;this.props.confirmGoogleAuthenticatorCode(e,t)},this.inputChangeHandler=e=>{this.setState({code:e.target.value}),this.props.updateTwoFactorAuthError({})},this.keyDownHandler=e=>{e.keyCode===pe.C.enter&&this.submit()},this.resetError=()=>{this.props.updateTwoFactorAuthError({})}}_B8(){const{isWhiteLabel:e}=this.props,t=e?"https://help.supportlivecam.com/en/support/home":"https://help.stripchat.com/en/support/tickets/new";return m.a._("div",{className:"modal-footer"},m.a._(Dt.a,{messageId:"twoFactorAuthModal.required.contact",elements:{link:m.a._("a",{href:t,rel:"nofollow noreferrer noopener",target:"_blank"},Object(Se.d)("twoFactorAuthentication.shouldBeAuthorized.contact"))}}))}render(){const{code:e}=this.state,{error:t={}}=this.props;return m.a._(h.Fragment,null,m.a._("div",{className:"two-factor-auth-content two-factor-auth-content-required"},m.a._("div",{className:"two-factor-auth-description"},Object(Se.d)("twoFactorAuthModal.required.description")),m.a._("div",{className:"two-factor-auth-controls"},m.a._("div",{className:"field-password"},m.a._(qo.a,{className:Object(j.c)({error:"code"===t.field}),onChange:this.inputChangeHandler,onFocus:this.resetError,onKeyDown:this.keyDownHandler,value:e,id:"twoFactorRequiredCode",placeholder:Object(Se.d)("twoFactorAuthModal.required.digitCode")}),t.message&&m.a._(Wn.a,{error:t,targetId:"twoFactorRequiredCode",placement:"top",isMobileRelative:!1}),m.a._(Tt.a,{style:"apply",size:"medium",disabled:!e,onClick:this.submit},Object(Se.d)("button.continue"))))),this._B8())}}Op.displayName="TwoFactorRequired";const yp={confirmGoogleAuthenticatorCode:Sa.a,updateTwoFactorAuthError:xs.w,showModal:k.c};var wp=Object(g.c)(e=>{const{profile:{twoFactorAuthError:t},whiteLabels:{siteName:s}}=e;return{error:t,isWhiteLabel:Object(xe.i)(e),siteName:s}},yp)(Op);class Sp extends h.Component{constructor(...e){super(...e),this.closeClickHandler=()=>{this.props.onClose()}}_D(e,t){const s=Object(j.c)("two-factor-auth-header",{"two-factor-auth-header-disable":"disable"===t,"two-factor-auth-header-enabled":"enabled"===t});return m.a._("div",{className:"two-factor-auth-header-wrapper"},m.a._("div",{className:s},m.a._(ye.a,{img:"shield",size:48}),m.a._("div",{className:"two-factor-auth-sub-title"},e)))}_B7(){const{step:e}=this.props;switch(e){case ti.D.ENABLE:case ti.D.CONNECT:return this._D(Object(Se.d)("twoFactorAuthModal.enable.title"));case ti.D.ENABLED:return this._D(Object(Se.d)("twoFactorAuthModal.enabled.title"),"enabled");case ti.D.DISABLE:return this._D(Object(Se.d)("twoFactorAuthModal.disable.title"),"disable");case ti.D.DISABLED:return this._D(Object(Se.d)("twoFactorAuthModal.disabled.title"),"disable");case ti.D.REQUIRED:return this._D(Object(Se.d)("twoFactorAuthModal.required.title"));case ti.D.BLOCKED:return this._D(Object(Se.d)("twoFactorAuthModal.blocked.title"),"disable");default:return null}}_F(){const{step:e,userId:t}=this.props;switch(e){case ti.D.ENABLE:return m.a._(fp,null);case ti.D.ENABLED:return m.a._(Np,{backClickHandler:this.closeClickHandler});case ti.D.DISABLE:return m.a._(mp,null);case ti.D.DISABLED:return m.a._(bp,{backClickHandler:this.closeClickHandler});case ti.D.REQUIRED:return m.a._(wp,{backClickHandler:this.closeClickHandler,userId:t});case ti.D.BLOCKED:return m.a._(lp,{backClickHandler:this.closeClickHandler});case ti.D.CONNECT:return m.a._(pp,{data:this.props.data});default:return null}}render(){return m.a._(Ko.a,{className:"modal-wrapper two-factor-auth-modal",onClose:this.closeClickHandler,source:"twoFactorAuthentication",titlePosition:"outside",isWrapperCloseDisabled:!0},this._B7(),this._F())}}Sp.displayName="TwoFactorAuthModal",Sp.defaultProps={userId:null};var kp=Sp;class jp extends h.Component{constructor(...e){super(...e),this.closeClickHandler=()=>{this.props.onClose()},this._F=()=>m.a._(h.Fragment,null,m.a._("div",{className:"upload-documents-modal-title"},Object(Se.d)("accountVerification.modalTitle")),m.a._("div",{className:"upload-documents-modal-body"},Object(Se.d)("accountVerification.modalText")))}render(){return m.a._(Ko.a,{className:"modal-wrapper upload-documents-modal",onClose:this.closeClickHandler,source:"savePrivateRecordModal",titlePosition:"outside",isWrapperCloseDisabled:!0},m.a._(ye.a,{img:"check-round-2"}),this._F(),m.a._("div",{className:"upload-documents-modal-footer"},m.a._(Tt.a,{onClick:this.closeClickHandler,size:"default"},Object(Se.d)("button.ok"))))}}jp.displayName="UploadDocumentModal";var Ip=s(575),Tp=s.n(Ip),Pp=s(158),Mp=s.n(Pp),Ep=s(491),Ap=s.n(Ep),Up=s(564),Hp=s(394);let Lp=null;const Rp=(e,t)=>e.selectedItemId!==t.selectedItemId;class Fp extends In.a{constructor(e,t){super(e,t),this.state={images:this.props.userPhotos,isFullScreen:!1,selectedItemId:this.props.selectedItemId,loadedImageIds:[]},this.propsUpdateToActionsMap=[{update:ke.J,action:()=>{this.windowResizeHandler()}},{update:Rp,action:()=>{const{selectedItemId:e}=this.props;this.loadImage(e)}}],this.windowResizeHandler=()=>{const{thumbListRef:e}=this;e&&(e.style.display="none",Lp&&clearTimeout(Lp),Lp=setTimeout(()=>{e&&(e.style.display="block")},100))},this.wheelSelectedHandler=e=>{this.navEventHandler(e,e.deltaY<0?"selectPrev":"selectNext")},this.swipeSelectedHandler=e=>{"Left"===e.direction?this.navEventHandler(e,"selectNext"):"Right"===e.direction?this.navEventHandler(e,"selectPrev"):"Down"===e.direction&&this.props.onClose()},this.wheelThumbsHandler=e=>{this.navEventHandler(e,e.deltaY<0?"scrollPrev":"scrollNext")},this.swipeThumbsHandler=e=>{"Right"===e.direction?this.navEventHandler(e,"scrollPrev"):"Left"===e.direction&&this.navEventHandler(e,"scrollNext")},this.keySelectedHandler=e=>{switch(e.keyCode){case pe.C.arrowLeft:this.navEventHandler(null,"selectPrev");break;case pe.C.arrowRight:this.navEventHandler(null,"selectNext");break;case pe.C.arrowDown:this.state.isFullScreen?this.setState({isFullScreen:!1}):this.closeHandler()}},this.fullScreenSwitchHandler=e=>{e.preventDefault(),this.setState(e=>({isFullScreen:!e.isFullScreen}))},this._ho=()=>{const{images:e,selectedItemId:t}=this.state;return m.a._(Up.a,{onSwipe:this.swipeThumbsHandler},m.a._("div",{className:"user-gallery-popup-thumbs"},this._Hm("scrollPrev"),m.a._("div",{className:"scroll-container",ref:e=>{this.thumbListRef=e}},e.map(({id:e,urlThumb:s},a)=>m.a._("img",{alt:Object(Se.d)("gallery.photoNumber",{number:a+1}),className:Object(j.c)({selected:e===t}),draggable:"false",key:e,onClick:t=>this.selectThumbClickHandler(t,e),src:s}))),this._Hm("scrollNext")))},this._cf=()=>m.a._("div",{className:"btn-close",onClick:this.props.onClose},m.a._(ye.a,{img:"close-3"})),this.scrollLeft=null}_A(){this.addEventListeners(),super._A(),this.scroll=this.getSelectedPhotoScroll(),this._hp()}componentDidUpdate(e){super.componentDidUpdate(e),e.selectedItemId!==this.props.selectedItemId&&(this.scroll=null),Object(ta.i)(this,{...In.a.getDerivedStateFromProps(this.props),images:this.props.userPhotos,selectedItemId:e.selectedItemId===this.props.selectedItemId?this.state.selectedItemId:this.props.selectedItemId}),this._hp()}get selected(){return Jt()(this.state.images,{id:this.state.selectedItemId})}get prev(){const e=this.selected.order;return Ap()(this.state.images,({order:t})=>t<e)}get next(){const e=this.selected.order;return Jt()(this.state.images,({order:t})=>t>e)}get scrollMin(){return 0}get scrollMax(){const{thumbListRef:e}=this;return e?e.scrollWidth-e.offsetWidth:0}get scroll(){return this.scrollLeft}set scroll(e){this.scrollLeft=e,null!==e&&(this.scrollLeft=Math.max(this.scrollLeft,this.scrollMin),this.scrollLeft=Math.min(this.scrollLeft,this.scrollMax))}get allowScrollPrev(){return this.scroll>this.scrollMin}get allowScrollNext(){return this.scroll<this.scrollMax}getImageById(e){return Jt()(this.state.images,{id:e})}getSelectedPhotoScroll(){const{thumbListRef:e}=this;if(!e)return 0;const t=Jt()(e.children,e=>e.classList.contains("selected"));return t?Tp()(t.offsetLeft+t.offsetWidth/2-e.offsetWidth/2):0}addEventListeners(){const{selectedItemRef:e,thumbListRef:t}=this;Object(mt.a)(this,document,"keydown",this.keySelectedHandler),e&&Object(mt.a)(this,e,"wheel",this.wheelSelectedHandler),t&&Object(mt.a)(this,t,"wheel",this.wheelThumbsHandler)}selectThumbClickHandler(e,t){e.preventDefault(),Object(ta.i)(this,{selectedItemId:t},()=>{this.scroll=this.getSelectedPhotoScroll(),this._hp(),this.loadImage(t)})}navEventHandler(e,t,s=!0){if(!s)return;const{isCycled:a}=this.props,{images:i}=this.state,{thumbListRef:o}=this,n=()=>o?Tp()(o.clientWidth*this.props.scrollSpeed):0,r=this.prev,l=this.next;let c=!1,{selectedItemId:d}=this.state;switch(t){case"selectPrev":r?(d=r.id,c=!0):a&&(d=Ws()(i).id,c=!0);break;case"selectNext":l?(d=l.id,c=!0):a&&(d=Mp()(i).id,c=!0);break;case"scrollPrev":this.scroll-=n(),this._hp();break;case"scrollNext":this.scroll+=n(),this._hp();break;default:throw new TypeError("Incorrect type parameter given")}this.setState({selectedItemId:d},()=>{c&&(this.scroll=this.getSelectedPhotoScroll()),this._hp(),this.loadImage(d)})}loadImage(e){const{url:t}=this.getImageById(e),{loadedImageIds:s}=this.state;if(!St()(s,e)){const a=new Image;a.onload=()=>{this.setState({loadedImageIds:[...s,e]})},a.src=t}}_hp(){const{thumbListRef:e}=this;e&&null!==this.scroll&&(e.scrollLeft=this.scroll)}_Hm(e){const{isCycled:t}=this.props,s={selectPrev:{isActive:t||this.prev,className:"prev",icon:"nav-prev"},selectNext:{isActive:t||this.next,className:"next",icon:"nav-next"},scrollPrev:{isActive:this.allowScrollPrev,className:"prev",icon:"nav-prev"},scrollNext:{isActive:this.allowScrollNext,className:"next",icon:"nav-next"}}[e];if(!s)throw new ReferenceError("Incorrect type parameter given");return m.a._("div",{className:Object(j.c)("nav",s.className,{disabled:!s.isActive}),onClick:t=>this.navEventHandler(t,e,s.isActive)},m.a._(ye.a,{img:s.icon}))}_hq(){const{user:e}=this.props,{id:t,url:s,urlThumb:a,status:i}=this.selected,{loadedImageIds:o}=this.state,n=i===ti.I.NOT_REVIEWED&&!e.isApprovedModel&&pe.j.touch,r=St()(o,t);return m.a._(Up.a,{onSwipe:this.swipeSelectedHandler},m.a._("div",{ref:e=>{this.selectedItemRef=e},className:"user-gallery-popup-selected"},m.a._("div",{className:"fullscreen-switch",onClick:this.fullScreenSwitchHandler},m.a._(ye.a,{img:this.state.isFullScreen?"fullscreen-off":"fullscreen-on"})),this._Hm("selectPrev"),m.a._("div",{className:Object(j.c)("img-placeholder",{loaded:r}),key:`${t}-thumb`,style:{backgroundImage:a?`url(${a})`:void 0}}),m.a._("div",{className:Object(j.c)("img",{loaded:r}),key:`${t}-full`,style:{backgroundImage:s?`url(${s})`:void 0}}),this._Hm("selectNext"),n&&m.a._("div",{className:"photo-popup-review-pending-icon-wrapper"},m.a._("div",null,m.a._(ye.a,{img:"hourglass",size:60}),m.a._("div",{className:"tooltip-header"},Object(Se.d)("gallery.notReviewedPhoto.tooltipTitle")),m.a._("div",{className:"tooltip-description"},Object(Se.d)("gallery.notReviewedPhoto.tooltipDescription"))))))}_D(){const{shouldPreventToggleCollection:e,selectedAlbum:t,user:s}=this.props;if(t)return m.a._(m.a.Fragment,null,m.a._(Dt.a,{messageId:"gallery.viewerPopupHeader",elements:{albumName:m.a._("strong",null,t.name)}}),!e&&m.a._(Hp.a,{album:t,owner:s,isModal:!0}))}_F(){const{isFullScreen:e}=this.state;return m.a._("div",{className:Object(j.c)("user-gallery-popup",{fullscreen:e})},m.a._("div",null,this._cf(),this._hq(),!e&&this._ho()))}}Fp.propTypes={...In.a.propTypes,isCycled:d.a.bool,isOwnProfile:d.a.bool,selectedItemId:d.a.number,selectedAlbum:d.a.object.isRequired,shouldPreventToggleCollection:d.a.bool,scrollSpeed:d.a.number,user:d.a.shape({id:d.a.number,isModel:d.a.bool}),userPhotos:d.a.array},Fp.defaultProps={...In.a.defaultProps,className:"user-gallery-popup-modal-wrapper",isCloseBtnShown:!1,isCycled:!0,scrollSpeed:.25,titlePosition:"outside"};var Dp=Object(g.c)((e,t)=>{const{auth:{currentUser:s},ui:{windowWidth:a,windowHeight:i}}=e;return{isOwnProfile:s&&t.user&&s.id===t.user.id,windowWidth:a,windowHeight:i}})(Fp);class xp extends In.a{constructor(...e){super(...e),this.subscribeClickHandler=()=>{const{fromEmoticonError:e}=this.props,t=e?pe.b.MODEL_CHAT_EMOTICON_MAKE_ME_GOLD_LINK:pe.b.USER_LEVELS_MODAL_MAKE_ME_GOLD;this.props.emitButtonEvent(t)},this.renewClickHandler=()=>{this.props.emitButtonEvent(pe.b.USER_LEVELS_MODAL_RENEW)},this.cancelSubscribeHandler=()=>{this.props.routerPush("/gold-membership/unsubscribe")},this.readMoreClickHandler=e=>{e.stopPropagation()},this._a3=e=>{let t="",s="";switch(e){case"invisibleMode":t="userLevels.features.invisibleMode",s="userLevels.featuresDescription.invisibleMode";break;case"canBeKnight":t="userLevels.features.canBeKnight",s="userLevels.featuresDescription.canBeKnight";break;default:return null}return m.a._(Rc.a,{className:"features-help-wrapper"},m.a._("span",{className:"features-help-header"},Object(Se.d)(t)),m.a._("span",{className:"features-help-description"},Object(Se.d)(s)))}}get hasGoldMembership(){const{currentUser:e}=this.props;if(!e)return!1;const{isGoldSubscriber:t,isRebillEnabled:s}=e;return t&&s}getUserLevel(){const{currentUser:e}=this.props;return e?e.isGoldPermanent?"goldPermanent":e.isGoldSubscriber?ti.H.GOLD:e.isGreen?ti.H.GREEN:e.isRegular?ti.H.REGULAR:null:"guest"}_hr(e){if(!St()(ti.H,e))throw new Error(`Unavailable user level given: ${e}`);return ti.e.map((t,s)=>{const a=`user-levels-${t}-${e}`,i=ti.F[e][s];let o;switch(i){case ti.h.FULL:o=Object(Se.d)("userLevels.fullAccess");break;case ti.h.NOT_AVAILABLE:o=Object(Se.d)("userLevels.notAvailable");break;case ti.h.PARTIAL:o=Object(Se.d)("userLevels.limitedAccess");break;default:throw new Error(`Unknown user feature availability given: ${i}`)}const n=St()([ti.h.FULL,ti.h.PARTIAL],i);return m.a._("div",{className:"features-item",key:`${a}-${s}`},m.a._("div",{className:"feature-label-wrapper"},m.a._("div",{className:"feature-label","data-label":Object(Se.d)(`userLevels.features.${t}`)}),this._a3(t)),m.a._("div",{className:"icon-wrapper",id:a},n?m.a._(ye.a,{img:i===ti.h.FULL?"check-1":"check-2",className:Object(j.c)({"not-full":i===ti.h.PARTIAL})}):m.a._(ye.a,{img:"close-5"}),m.a._(za.a,{isMobileRelative:!1,placement:"top",targetId:a},o)))})}_hs(){const{currentUser:e}=this.props,{hasGoldMembership:t}=this;if(!(!e||!(e.isGoldPermanent||e.isModel||e.isStudio)))return null;if(t)return m.a._("div",{className:"action-button-wrapper unsubscribe"},m.a._("span",{onClick:this.cancelSubscribeHandler},Object(Se.d)("userLevels.cancelMembership")));const s=e&&e.isGoldSubscriber&&!e.isRebillEnabled;return s&&!e.mayRenewRebill?null:m.a._("div",{className:"action-button-wrapper subscribe"},m.a._("span",{onClick:s?this.renewClickHandler:this.subscribeClickHandler},Object(Se.d)(s?"userLevels.renew":"userLevels.makeMeGold")))}_ht(){const{siteName:e,userLevelsWikiUrl:t}=this.props,s=this.getUserLevel();return s?m.a._("div",{className:"description"},Object(Se.d)("userLevels.description"),m.a._("span",{className:"user-status-name"},m.a._("div",{className:Object(j.c)("user-status",s)},Object(Se.d)(`userLevels.status.${s}`)),m.a._(Rc.a,{className:"user-status-info"},Object(Se.d)("userLevels.statusHelp",{label:e}),m.a._("div",{className:"readMore",onTouchStart:this.readMoreClickHandler},m.a._("a",{href:t,target:"_blank"},Object(Se.d)("userLevels.readMore")))))):null}_F(){const{siteName:e,userLevelsWikiUrl:t}=this.props;return m.a._("div",{className:"modal-body full"},m.a._("h2",{className:"title"},Object(Se.d)("userLevels.title")),this._ht(),m.a._("div",{className:"wrapper"},m.a._("div",{className:"column-wrapper"},m.a._("div",{className:"column"},m.a._("div",{className:"info"}),m.a._("div",{className:"features"},ti.e.map(e=>m.a._("div",{className:"features-item",key:e},this._a3(e),Object(Se.d)(`userLevels.features.${e}`)))))),m.a._("div",{className:"column-wrapper"},m.a._("div",{className:"column"},m.a._("div",{className:"info"},m.a._("div",{className:"icon-wrapper"},m.a._(ye.a,{img:"user-guest"})),m.a._("div",{className:"type"},Object(Se.d)("userLevels.guests")),m.a._("div",{className:"sub"},Object(Se.d)("userLevels.anonymous"))),m.a._("div",{className:"features"},this._hr(ti.H.GUEST)))),m.a._("div",{className:"column-wrapper"},m.a._("div",{className:"column"},m.a._("div",{className:"info"},m.a._("div",{className:"icon-wrapper"},m.a._(ye.a,{img:"user-regular"})),m.a._("div",{className:"type"},Object(Se.d)("userLevels.regulars")),m.a._("div",{className:"sub"},Object(Se.d)("userLevels.registered"),m.a._(Rc.a,null,Object(Se.d)("userLevels.regularsTypes",{site:e}),m.a._("div",{className:"readMore",onTouchStart:this.readMoreClickHandler},m.a._("a",{href:t,target:"_blank"},Object(Se.d)("userLevels.readMore")))))),m.a._("div",{className:"features"},this._hr(ti.H.REGULAR)))),m.a._("div",{className:"column-wrapper"},m.a._("div",{className:"column"},m.a._("div",{className:"info"},m.a._("div",{className:"icon-wrapper"},m.a._(ye.a,{img:"user-green"})),m.a._("div",{className:"type"},Object(Se.d)("userLevels.greens")),m.a._("div",{className:"sub"},Object(Se.d)("userLevels.registeredWithTokens"))),m.a._("div",{className:"features"},this._hr(ti.H.GREEN)))),m.a._("div",{className:"column-wrapper"},m.a._("div",{className:"column"},m.a._("div",{className:"info"},m.a._("div",{className:"icon-wrapper"},m.a._(ye.a,{img:"user-gold"})),m.a._("div",{className:"type"},Object(Se.d)("userLevels.golds")),m.a._("div",{className:"sub"},Object(Se.d)("userLevels.subscribedToGoldMembership"))),m.a._("div",{className:"features"},this._hr(ti.H.GOLD)),this._hs(),m.a._("div",{className:"column-border"})))))}}const Bp={emitButtonEvent:f.b,routerPush:P.H};xp.propTypes={...In.a.propTypes,currentUser:d.a.shape({isGold:d.a.bool,isRebillEnabled:d.a.bool}),siteName:d.a.string.isRequired,userLevelsWikiUrl:d.a.string.isRequired,fromEmoticonError:d.a.bool,...Object(M.a)(Bp)},xp.defaultProps={...In.a.defaultProps,className:"user-levels-modal",titlePosition:"outside",fromEmoticonError:!1};var Vp=Object(g.c)(e=>{const{config:{data:{links:{levels:t}}},whiteLabels:{siteName:s},ui:{currentModalParams:{fromEmoticonError:a}}}=e;return{userLevelsWikiUrl:t,siteName:s,fromEmoticonError:a}},e=>Object(wa.b)(Bp,e))(xp),zp=s(244),$p=s.n(zp),Gp=s(211),Wp=s(319);function Kp(){return(Kp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const{FRIENDS:qp,PAID:Jp,VERIFIED_USERS:Yp,FAN_CLUB:Xp}=ad.c,Qp=(e,t)=>!0===e.isLostVideo&&!1===t.isLostVideo;class Zp extends m.a.PureComponent{constructor(...e){super(...e),this.state={lastViewsVideo:""},this._hu=()=>{this.state.lastViewsVideo!==this.props.src&&(this.setState({lastViewsVideo:this.props.src}),this.props.onPlay())}}render(){const{src:e,autoPlay:t}=this.props;return m.a._("video",{src:e,controls:!0,onPlay:this._hu,autoPlay:t})}}Zp.displayName="VideoPlayer";class eu extends m.a.Component{constructor(...e){super(...e),this.lastAccessedVideoId=void 0,this.state={shouldPreventAutoplay:!1},this.propsUpdateToActionsMap=[{update:["video","isLostVideo"],action:e=>this.setState({shouldPreventAutoplay:Qp(e,this.props)})}],this._hv=()=>{const{currentUser:e,video:t,sendVideoView:s}=this.props;t.showId&&t.userId===e.id||s(t.userId,t.id)},this._hw=async()=>{await this.props.loadCam(this.props.user.username),this.props.emitJoinFanClubButtonEvent()},this.getAccessClickHandler=()=>{const{user:e,video:t}=this.props;this.props.emitButtonEvent(pe.b.VIDEO_GET_ACCESS,{user:e,video:t})},this.goToSettingsClickHandler=()=>{this.props.emitButtonEvent(pe.b.VIDEO_GO_SETTINGS)},this.signUpClickHandler=()=>{const{user:e}=this.props;this.props.emitButtonEvent(pe.b.VIDEO_SIGNUP,{user:e})},this._hx=e=>{if(!e)return null;const{text:t,...s}=e;return m.a._(Tt.a,Kp({size:"medium"},s),t)}}shouldComponentUpdate(e){const{video:t}=e,{video:s}=this.props;if(!s||!t)return!0;if(Qp(this.props,e))return!0;const a=Boolean(s.videoUrl),i=t.id===this.lastAccessedVideoId,o=t.id===s.id;return!a&&!i||!o}_A(){Object(T.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){const{video:t}=this.props;this.lastAccessedVideoId=l()(t,"videoUrl")?t.id:null,Object(T.a)(this.propsUpdateToActionsMap,e,this.props)}getIsVideoAvailable(){const{video:e,isLostVideo:t}=this.props;return Boolean(e&&e.videoUrl&&!t)}_hy(){const{currentUser:e,isLostVideo:t,user:s,video:a}=this.props,{accessMode:i,cost:o,title:n}=a,r="videos.accessDenied";let l,c,d,p,u;if(t)l={img:"trash-in-circle"},c=m.a._(Dt.a,{messageId:"videos.videoWasDeleted",parameters:{title:n}});else switch(i){case Jp:{const t=!e||!e.isStudio&&!e.isModel,s=t?Jp:"paidNonViewer";l={img:t?"lock-in-circle":"error"},c=m.a._(Dt.a,{messageId:`${r}.${s}.heading`,choiceParameter:"cost",parameters:{cost:o},elements:{amount:m.a._("strong",null,o)}}),d=m.a._(Dt.a,{messageId:`${r}.${s}.body`,elements:{title:m.a._("strong",null,Object(td.d)(n))}}),t&&(p={style:"apply-alter",onClick:this.getAccessClickHandler,text:Object(Se.d)("button.getAccess")});break}case Xp:e&&(e.isStudio||e.isModel)?(l={img:"error"},c=m.a._(Dt.a,{messageId:`${r}.modelOrStudioForFanClub.heading`,choiceParameter:"cost",parameters:{cost:o},elements:{amount:m.a._("strong",null,o)}}),d=m.a._(Dt.a,{messageId:`${r}.modelOrStudioForFanClub.body`,elements:{title:m.a._("strong",null,Object(td.d)(n))}})):(l={img:"diamond-circle"},c=Object(Se.d)(`${r}.fanClub.heading`),d=m.a._(Dt.a,{elements:{accent:m.a._("strong",null)},messageId:`${r}.fanClub.body`}),p={style:"apply-alter",onClick:this._hw,text:Object(Se.d)("fanClub.user.joinFanClub")});break;case Yp:{const t=e?Yp:"verifiedUnregistered";l={img:e?"mail-filled":"user-verified-in-circle"},c=e?null:m.a._(Dt.a,{messageId:`${r}.${t}.heading`}),d=m.a._(Dt.a,{messageId:`${r}.${t}.body`}),p={onClick:e?this.goToSettingsClickHandler:this.signUpClickHandler,style:"auth-banner",text:Object(Se.d)(e?"button.goToSettings":"button.signUp")};break}case qp:l={img:"users-in-circle"},c=m.a._(Dt.a,{messageId:`${r}.${i}.heading`}),d=m.a._(Dt.a,{messageId:`${r}.${i}.body`,elements:{userName:m.a._("strong",null,s.username)}}),u=m.a._(Wp.a,{uniqueName:pe.b.VIDEO_FRIENDSHIP,shouldHideRemovalState:!0,size:"medium",style:"auth-banner",user:s})}return m.a._("div",{className:"access-denied-wrapper"},m.a._("div",{className:"access-denied-cover",style:{backgroundImage:a&&a.microCoverUrl?`url(${a.microCoverUrl})`:void 0}}),m.a._("div",{className:"access-denied-content"},l&&m.a._(ye.a,Kp({className:"access-denied-icon",size:100},l)),c&&m.a._("div",{className:"access-denied-heading"},c),d&&m.a._("div",{className:"access-denied-body"},d),m.a._("div",{className:"access-denied-btn-row"},this._hx(p),Boolean(u)&&u)))}render(){const{video:e}=this.props,{shouldPreventAutoplay:t}=this.state;return e?this.getIsVideoAvailable()?m.a._(Zp,{src:e.videoUrl,autoPlay:!t,onPlay:this._hv}):this._hy():null}}eu.displayName="StripVideoPlayer";const tu={emitButtonEvent:f.b,emitJoinFanClubButtonEvent:f.c,loadCam:jn.m,sendVideoView:Gp.e};var su=Object(g.c)(e=>{const{auth:{currentUser:t},userVideos:{videoToWatch:s}}=e;return{currentUser:t,video:s,isLostVideo:Object(id.e)(e)}},tu)(eu),au=s(357),iu=s(108);class ou extends In.a{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:(e,t)=>e.videoId!==t.videoId,action:()=>{const{videoId:e}=this.props;this.selectVideo(e)}},{update:(e,t)=>!1===e.isEmailVerified&&!0===t.isEmailVerified,action:()=>{const{videoToWatch:e}=this.props;ad.c.VERIFIED_USERS===e.accessMode&&this.selectVideo(e.id)}},{update:iu.j,action:()=>{const{videoToWatch:e}=this.props;ad.c.FRIENDS===e.accessMode&&this.selectVideo(e.id)}}],this.updatePosition=va.a,this.selectVideo=e=>{const{isOwnProfile:t,user:s,userId:a}=this.props;this.props.selectVideo(s,e,t,a)},this.thumbClickHandler=e=>{e.stopPropagation();const{currentTarget:{dataset:{videoId:t,hasFailedProcessing:s}}}=e;s||this.selectVideo(Number(t))},this.nextVideoClickHandler=()=>{const{videos:e,videoToWatch:t}=this.props,s=e[$p()(e,({id:e})=>e===t.id)+1],a=s?s.id:Mp()(e).id;this.selectVideo(a)},this.prevVideoClickHandler=()=>{const{videos:e,videoToWatch:t}=this.props,s=e[$p()(e,({id:e})=>e===t.id)-1],a=s?s.id:Ws()(e).id;this.selectVideo(a)}}_D(){const{shouldPreventToggleCollection:e,user:t,videoToWatch:s}=this.props;return s?m.a._(m.a.Fragment,null,s.title,!e&&m.a._(Hp.a,{video:s,owner:t,isModal:!0})):null}_Gc(){const{isOwnProfile:e,user:t,videos:s,videoToWatch:a}=this.props;return a?m.a._("div",{className:"videos-list-container"},m.a._(au.a,{isOwnProfile:e,selectedVideoId:a.id,smartXScrolling:!0,user:t,videos:s,thumbClickHandler:this.thumbClickHandler})):null}_hz(){const{videoToWatch:e}=this.props;return e?m.a._("div",{className:"under-video-content"},m.a._("div",{className:"under-video-content-right"},m.a._(ye.a,{img:"spy-on",size:18}),m.a._("span",null,Object(Se.d)("videos.viewsCount",{count:e.viewsCount})))):null}_F(){const{user:e,videoToWatch:t,videos:s}=this.props;if(!t)return null;const a=s.length>1||t&&t.id!==l()(s,"[0].id");return m.a._("div",{className:"watch-video-modal-content"},m.a._("div",{className:"video-container"},a&&m.a._("span",{className:"video-container-nav-prev",onClick:this.prevVideoClickHandler},m.a._(ye.a,{img:"prev-small",size:30})),m.a._(su,{user:e}),a&&m.a._("span",{className:"video-container-nav-next",onClick:this.nextVideoClickHandler},m.a._(ye.a,{img:"next-small",size:30}))),this._hz())}}const nu={emitButtonEvent:f.b,selectVideo:Gp.d};ou.propTypes={...In.a.propTypes,failedAccessMode:d.a.oneOf(yt()(ad.c)),isOwnProfile:d.a.bool,shouldPreventToggleCollection:d.a.bool,user:d.a.object.isRequired,userId:d.a.number.isRequired,videoId:d.a.number.isRequired,videos:d.a.array.isRequired,...Object(M.a)(nu)},ou.defaultProps={...In.a.defaultProps,className:"watch-video-modal",titlePosition:"outside",closePosition:"top"};const ru=Object(id.a)(({status:e})=>!e||e===ad.e.READY);var lu=Object(g.c)((e,t)=>{const{auth:{currentUser:s},userVideos:{videoToWatch:a}}=e,i=a||Object(id.j)(e,t);return{currentUser:s,failedAccessMode:Object(id.d)(e,t),isEmailVerified:Object(Xt.f)(e),isMyFriend:Object(iu.f)(e,t.user.id),isOwnProfile:s&&t.user&&s.id===t.user.id,videoToWatch:i,videos:ru(e,t)}},nu)(ou),cu=s(177);function du(){return(du=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const pu={closeModal:Fo.a,processModal:Fo.d,startWizard:Fo.f};class uu extends h.Component{constructor(...e){super(...e),this.elementScrollId=null,this.scrollToElementAfterCloseIfNeed=e=>{if(e.currentModalName&&!this.props.currentModalName){if(null===this.elementScrollId)return;setTimeout(()=>{Et.a.to(`#${this.elementScrollId}`),this.elementScrollId=null},250)}},this.modalCloseHandler=()=>{this.props.closeModal()},this.modalCloseHandlerWithScroll=e=>()=>{this.modalCloseHandler(),this.elementScrollId=e}}componentDidUpdate(e){Object(Yt.b)(e,this.props)&&this.props.processModal(),this.scrollToElementAfterCloseIfNeed(e)}_i0(){let e=null;const{currentModalName:t,currentModalParams:s,isModalBlockedInSandbox:a,startWizard:i,userProfile:o}=this.props,n=l()(o,"tokens",0),r={onClose:this.modalCloseHandler,onCloseWithScroll:this.modalCloseHandlerWithScroll,onProceed:this.props.processModal,currentUser:o,actions:{startModalWizard:i},...s};if(a)return null;switch(t){case pe.F.AUTH:e=m.a._(Sc,du({},r,r.authParams));break;case pe.F.ADD_TO_FAVORITES_LIMIT:e=m.a._(gc,r);break;case pe.F.ADD_TO_SUBSCRIPTION:e=m.a._(vc,r);break;case pe.F.APP_MANAGEMENT:e=m.a._(en,r);break;case pe.F.APP_BOT_SETTINGS:e=m.a._(yn,r);break;case pe.F.APP_BOT_REMOVE:e=m.a._(kn,r);break;case pe.F.AIR_PLAY_CONNECTING_MODAL:e=m.a._(Mn,r);break;case pe.F.BAN_CONFIRMATION:e=m.a._(Pc,r);break;case pe.F.CONFIRM_EMAIL:e=m.a._(Un,r);break;case pe.F.CUSTOM_BENEFIT_EDIT:e=m.a._(mr,du({},r,{className:"model-fan-club-edit-custom-benefit-modal"}));break;case pe.F.DELETE_ACCOUNT:e=m.a._(ep,r);break;case pe.F.EDIT_ALBUM:e=m.a._(qc,r);break;case pe.F.EDIT_VIDEO:e=m.a._(md,r);break;case pe.F.EXTERNAL_BROADCAST_SPECIFICATION:e=m.a._(zn,r);break;case pe.F.EXTERNAL_URL_WARNING:e=m.a._($l,r);break;case pe.F.GROUP_SHOW_MODES:e=m.a._(Jn,r);break;case pe.F.KIIROO_SETTINGS:e=m.a._(ur,r);break;case pe.F.MODEL_WARNING:e=m.a._(_r,r);break;case pe.F.REPORT_CHAT_MESSAGE:e=m.a._(Or,r);break;case pe.F.SAVE_PRIVATE_SHOW_RECORD:e=m.a._(Gd,du({},r,{isModel:o.isModel}));break;case pe.F.SELECT_USERNAME:e=m.a._(Xd,r);break;case pe.F.SITE_MIRROR_NOTIFICATION:e=m.a._(Nd,r);break;case pe.F.TWO_FACTOR_AUTHENTICATION:e=m.a._(np,r);break;case pe.F.TWO_FACTOR_AUTH:e=m.a._(kp,r);break;case pe.F.JOIN_FAN_CLUB_BUY:case pe.F.PURCHASE_TOKENS:e=m.a._(uc,du({onProceed:this.props.processModal},r));break;case pe.F.START_PRIVATE:e=m.a._(dl,r);break;case pe.F.START_GROUP_SHOW:e=m.a._(Ur,r);break;case pe.F.SEND_TIP:e=m.a._(Mr,du({availableTokens:n},r));break;case pe.F.SEND_OFFLINE_TIP:e=m.a._(Mr,du({availableTokens:n,isModelOffline:!0},r));break;case pe.F.TECHNICAL_PROBLEM:e=m.a._(Wl,du({onClose:this.modalCloseHandler},s));break;case pe.F.TOKENS_GIVEAWAY:e=m.a._(ap,r);break;case pe.F.VIDEO_QUALITY_REPORT:e=m.a._(Ul,r);break;case pe.F.VISITORS_AGREEMENT:e=m.a._(oc,r);break;case pe.F.INVISIBLE_MODE:e=m.a._(vd,r);break;case pe.F.MODELS_WANTED:e=m.a._(Md,r);break;case pe.F.UPLOAD_DOCUMENT_SUCCESS:e=m.a._(jp,r);break;case pe.F.USER_LEVELS:e=m.a._(Vp,r);break;case pe.F.WATCH_VIDEO:e=m.a._(lu,r);break;case pe.F.WATCH_VR:e=m.a._(Rl,r);break;case pe.F.WHATSAPP_START:e=m.a._(Bl,r);break;case pe.F.USER_GALLERY_ALBUM:e=m.a._(Dp,r);break;case pe.F.PROFILE_PANEL:e=m.a._(Vd,r);break;case pe.F.FAN_CLUB_SUBSCRIPTION:e=m.a._(Pl,r);break;case pe.F.REDEEM_CODE:e=m.a._(nc.a,r)}return e}render(){return this.props.isModelWizardActive?null:this._i0()}}uu.displayName="ModalsContainer",uu.defaultProps={currentModalParams:null,currentUser:null,isModalBlockedInSandbox:!1,userProfile:null};var hu=Object(g.c)(e=>{const{auth:{isLoggedIn:t,currentUser:s},ui:{currentModalName:a,currentModalParams:i}}=e;return{currentModalName:a,currentModalParams:i,currentUser:s,isLoggedIn:t,userProfile:Object(Xt.a)(e),isModelWizardActive:Object(cu.b)(e),isModalBlockedInSandbox:Object(ot.a)(e,a)}},pu)(uu);const mu={emitUiEvent:f.e,closeNotification:_.a};class gu extends h.Component{constructor(...e){super(...e),this.state={isActive:!1},this.beforeInstallPromptEventHandler=e=>{const{isPWAEnabled:t,isVisible:s}=this.props;v.c.info("PWAEventsHandler: Before Install Prompt Event Handler",t),e.preventDefault(),t&&(this.deferredPrompt=e,this.setState({isActive:s}))},this.appInstalledEventHandler=()=>{v.c.info("User install app"),this.props.emitUiEvent(pe.S.PWA_INSTALL),this.closeNotification(!0)},this.updateUserChoice=e=>{"accepted"===e.outcome?v.c.info("User accepted the A2HS prompt",e):v.c.info("User dismissed the A2HS prompt",e),this.deferredPrompt=null},this.addToHomeScreenEventHandler=()=>{this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(this.updateUserChoice))},this.closeNotification=(e=!1)=>{this.props.closeNotification({type:xt.a.PWA_NOTIFICATION,isPermananet:e})}}_A(){const{isPWAEnabled:e}=this.props;v.c.info("PWAEventsHandler mount",e),e&&(window.addEventListener("beforeinstallprompt",this.beforeInstallPromptEventHandler),window.addEventListener("appinstalled",this.appInstalledEventHandler))}componentDidUpdate(e){const{isPWAEnabled:t}=e,{isPWAEnabled:s}=this.props;t!==s&&(v.c.info("PWAEventsHandler: update",s),s?(window.addEventListener("beforeinstallprompt",this.beforeInstallPromptEventHandler),window.addEventListener("appinstalled",this.appInstalledEventHandler)):(window.removeEventListener("beforeinstallprompt",this.beforeInstallPromptEventHandler),window.removeEventListener("appinstalled",this.appInstalledEventHandler)))}render(){const{isStripchat:e,siteName:t,isVisible:s}=this.props,{isActive:a}=this.state,i=e?"stripchat-logo":"xhl-logo",o=s&&a;return m.a._("div",{className:Object(j.c)("pwa-install-notification-wrapper",{visible:o})},m.a._(Xs.CSSTransition,{classNames:"pwa-install-notification-fade",key:"pwa-install-notification",exit:!1,timeout:100,in:o},m.a._("div",null,m.a._("div",{className:"pwa-install-notification"},m.a._("div",{className:"close-button",onClick:this.closeNotification},m.a._(ye.a,{img:"close-2",size:14})),m.a._("span",{className:"pwa-install-notification-body"},m.a._("div",{className:"pwa-install-notification-content"},m.a._("div",{className:"pwa-install-notification-logo"},m.a._(ye.a,{img:i,size:32})),m.a._("div",null,m.a._("div",{className:"pwa-install-notification-title"},Object(Se.d)("pwaInstallNotification.title",{siteName:t})),m.a._("div",{className:"pwa-install-notification-description"},Object(Se.d)("pwaInstallNotification.description",{siteName:t})))),m.a._(Tt.a,{style:"blue",size:"large",onClick:this.addToHomeScreenEventHandler},Object(Se.d)("pwaInstallNotification.button")))))))}}gu.displayName="PWAInstallNotification",gu.defaultProps={isPWAEnabled:!1,isVisible:!1};var bu=Object(g.c)(e=>{const{whiteLabels:{siteName:t}}=e;return{isStripchat:Object(xe.h)(e),isPWAEnabled:Object(E.l)(e),isVisible:Object(Bt.a)(e,xt.a.PWA_NOTIFICATION),siteName:t}},mu)(gu),_u=s(351);function vu(){return(vu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const fu=e=>m.a._(Xs.CSSTransition,vu({},e,{classNames:"fade-transition"}));fu.displayName="FadeTransition",fu.defaultProps={timeout:pe.P};var Cu=fu;const Nu=({button:e,closeClickHandler:t,icon:s,id:a,message:i})=>m.a._("div",{className:"toast-notification"},m.a._("div",{className:"toast-part-left"},s),m.a._("div",{className:"toast-part-right"},m.a._("div",{"data-toast-id":a,className:"toast-close-icon-box",onClick:t},m.a._(ye.a,{className:"toast-close-icon",img:"close-5"})),i&&m.a._("div",{className:"toast-message"},i),e&&m.a._("div",{className:"toast-buttons"},e)));Nu.displayName="ToastNotification",Nu.defaultProps={button:null,icon:null,message:null};var Ou=Nu;function yu(){return(yu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class wu extends m.a.Component{constructor(...e){super(...e),this.acceptClickHandler=()=>{const{id:e,tokensSum:t}=this.props;this.props.emitButtonEvent(pe.b.TOAST_CARD_VERIFICATION,{id:e,tokensSum:t})},this.getToastProps=({tokensSum:e}={})=>({icon:m.a._(ye.a,{img:"tokens-1",size:23}),message:m.a._("div",null,m.a._(Dt.a,{messageId:"hotOffer"}),m.a._("br",null),m.a._(Dt.a,{messageId:"buyTokens.creditCardVerificationPromo",parameters:{amount:e||vo.c},elements:{strong:m.a._("strong",null)}})),button:m.a._(Tt.a,{style:"delete",onClick:this.acceptClickHandler},Object(Se.d)("button.getNow"))})}render(){return m.a._(Ou,yu({},this.props,this.getToastProps({tokensSum:this.props.tokensSum})))}}wu.displayName="CardVerificationBonus";const Su={emitButtonEvent:f.b};var ku=Object(g.c)(null,e=>Object(wa.b)(Su,e))(wu),ju=s(433),Iu=s(718);function Tu(){return(Tu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Pu={CardVerificationBonus:ku};class Mu extends m.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:(e,t)=>!0===e.shouldShowCardDetailsPromo&&!1===t.shouldShowCardDetailsPromo,action:()=>this.props.removeToast({id:ju.a.CARD_VERIFICATION_BONUS})}],this.showInitialToasts=()=>{const{shouldShowCardDetailsPromo:e,shouldShowCardVerifyCoronavirusPromo:t}=this.props;e&&gt.a.startTimeout("toast:cardVerificationBonus",2e3,()=>this.props.addToast({id:ju.a.CARD_VERIFICATION_BONUS,tokensSum:t?320:void 0}))},this.closeClickHandler=e=>{const{currentTarget:{dataset:{toastId:t}}}=e;this.props.removeToast({id:t})}}_A(){Object(T.a)(this.propsUpdateToActionsMap,{},this.props),this.showInitialToasts()}componentDidUpdate(e){Object(T.a)(this.propsUpdateToActionsMap,e,this.props)}render(){const{toasts:e}=this.props;return m.a._(Xs.TransitionGroup,{className:"toast-notifications"},e.map(({id:e,...t})=>{const s=Pu[e]||Ou;return m.a._(Cu,{key:e},m.a._(s,Tu({closeClickHandler:this.closeClickHandler,id:e},t)))}))}}Mu.displayName="ToastNotifications";const Eu={addToast:_u.a,removeToast:_u.b};var Au=Object(g.c)(e=>({shouldShowCardDetailsPromo:Object(Ds.R)(e)&&!Object(Ds.T)(e)&&!Object(Ds.S)(e),shouldShowCardVerifyCoronavirusPromo:Object(Ds.S)(e),toasts:Object(Iu.a)(e)}),e=>Object(wa.b)(Eu,e))(Mu);const Uu={processAgreementOnClientMount:Kl.b,_Fq:Kl.c,toggleAgreementAccordingToNewLocation:Kl.d};class Hu extends h.Component{constructor(e,t){super(e,t),e._Fq()}_A(){this.props.processAgreementOnClientMount()}componentDidUpdate(e){const{pathname:t}=this.props;e.pathname!==t&&this.props.toggleAgreementAccordingToNewLocation()}render(){return null}}Hu.displayName="VisitorsAgreementController";var Lu=Object(g.c)(e=>({pathname:Object(_e.R)(e)}),Uu)(Hu),Ru=s(133);const Fu={checkWebRTCAvailable:s(183).f};var Du=Object(g.c)(e=>({availablePlayerTypes:Object(Dn.d)(e)}),Fu)(e=>{const{availablePlayerTypes:t}=e;return Object(h.useEffect)(()=>{const s=l()(t,It.Eb.WEBRTC,!1);gt.a.stopTimeout("updatePlayerAvailabilityTimeoutId"),s||gt.a.startTimeout("updatePlayerAvailabilityTimeoutId",3e4,e.checkWebRTCAvailable)},[t]),null}),xu=s(310),Bu=s(277);const Vu=e=>{const{email:t}=e,s=(({isLoggedIn:e,hasDisposableEmail:t,isEmailVerified:s})=>e?t?"headerEmailVerificationDisposable":s?null:"headerEmailVerificationWarning":null)(e);if(!s)return null;const a=Object(pe.V)(t);return m.a._("div",{className:"header-email-verification-warning"},m.a._(Dt.a,{elements:{emailLink:a?m.a._("a",{href:a,target:"_blank",rel:"noopener noreferrer"}):m.a._("span",null),settingsLink:m.a._(Oe.a,{to:"/settings"}),resendConfirmation:m.a._("a",{onClick:()=>e.resendConfirmation()}),strong:m.a._("strong",null)},parameters:{email:t},messageId:s}))};Vu.displayName="HeaderEmailVerificationWarning";const zu={resendConfirmation:Bu.c};Vu.defaultProps={hasDisposableEmail:!1,isEmailVerified:!1,email:""};var $u=Object(g.c)(e=>{const t=Object(Xt.a)(e)||{},{email:s,isEmailVerified:a,hasDisposableEmail:i}=t;return{email:s,isEmailVerified:a,hasDisposableEmail:i,isLoggedIn:Object(Yt.l)(e)}},e=>Object(wa.b)(zu,e))(Vu),Gu=s(341),Wu=s(274);const Ku={loadModelWizard:Gu.d,loadDocumentsPageData:Wu.c,showModelWizard:Gu.f};class qu extends m.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:cu.i,action:()=>{this.props.loadModelWizard()}},{update:cu.h,action:()=>{const{user:e}=this.props;this.props.loadDocumentsPageData(e.id),this.props.showModelWizard()}}]}_A(){Object(T.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(T.a)(this.propsUpdateToActionsMap,e,this.props)}render(){const{currentPhase:e,isModelWizardShow:t,isUpdating:s}=this.props;return t?m.a._(Ko.a,{className:"modal-wrapper model-wizard",isCloseBtnShown:!1,onClose:va.a,source:"modelWizardModal",title:Object(Se.d)("modelWizard.title"),titlePosition:"outside"},m.a._(Mo,{type:"wizardUserMenu"}),m.a._(cc.a,{moduleProvider:lc.e,loaderWrapper:m.a._("div",{className:"modal-content"}),currentPhase:e,isUpdating:s,preventHeaderError:!0}),m.a._(Dt.a,{className:"modal-wizard-footer",messageId:"modelWizard.footer",elements:{link:m.a._(De.a,{className:"wizard-body-content-link"})}})):null}}qu.displayName="ModelWizard",qu.defaultProps={isModelWizardActive:!1,isModelWizardShow:!1,isUpdating:!1,user:null};var Ju=Object(g.c)(e=>{const{profile:{user:t},modelWizard:{isActive:s,isUpdating:a,phase:i}}=e;return{currentPhase:i,isModelWizardShow:s,isModelWizardActive:Object(cu.b)(e),isUpdating:a,user:t}},e=>Object(wa.b)(Ku,e))(qu);class Yu extends m.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:ke.I,action:()=>this.layoutShadedChangeHandler(this.props)}],this.layoutShadedChangeHandler=e=>{const t=document.getElementById("body");e.isLayoutShaded?t.classList.add("shaded"):t.classList.remove("shaded")},this._I5=e=>{const{isInterfaceBlocked:t,releaseInterface:s}=this.props;t&&(v.c.info("MainLayout._I5",e),s(e.target)),xu.a.initialize()}}componentDidUpdate(e,t){const{location:s}=e,{pathname:a}=s,{pathname:i}=this.props.location;a!==i&&this.props.hideAllNotificationsExcept({redirectFromForgotPasswordPage:"/forgot-password"===a&&"/"===i}),Object(T.a)(this.propsUpdateToActionsMap,e,this.props)}_A(){Object(T.a)(this.propsUpdateToActionsMap,{},this.props);const{history:e,location:t,routerReplace:s}=this.props,a=Object(Ru.b)(t,!0),{affiliateId:o,pushNotification:r}=a;if(o&&this.props.emitUiEvent(pe.S.SEND_AFFILIATE_ID_ON_LOAD,{affiliateId:o}),Object(mt.a)(this,window,"unload",()=>{Z.a.remove("loginTriggerSource")}),this.props.emitUiEvent(pe.S.SETUP_DATA_FROM_LOCATION_ON_LOAD),this.props.emitUiEvent(pe.S.CHECK_FOR_FIRST_TIME_VISITOR),r&&this.props.emitUiEvent(pe.S.PUSH_NOTIFICATION_CLICKED,{type:r}),!i()(a)){const t=e.location,i=u.a.stringify(n()(a,[...Oa.h,"affiliateId","action","params","showModal","userReferralProgram","error","userId","no_bb"]));s({...t,search:i?`?${i}`:""})}}componentWillUnmount(){Object(mt.b)(this)}_B6(){const{config:e,isLoggedIn:t,currentUser:s}=this.props;return m.a._(Ne.a,{events:[...t?[`userUpdated:${s.id}`,`userSensitiveUpdated:${s.id}`,`userViewServerChanged:${s.id}`,`userPurchaseCompleted:${s.id}`]:[],...t&&s.isModel&&e.data.features.fanClub&&!e.data.isFanClubAvailable?[`fanClub:${s.id}`]:[]]})}_i1(){return m.a._(m.a.Fragment,null,m.a._(Nt,null),m.a._(ie,null),m.a._(Ce,null),m.a._(re,null),m.a._(V,null),m.a._(Du,null),this._B6())}render(){const{currentUser:e,globallyActiveBranch:t,isLoggedIn:s,isModelWizardAvailable:a,match:{params:i},route:o}=this.props,n=s&&i.username===e.username,r=l()(t,"route.componentKey","").toLowerCase();return m.a._(C.b,null,m.a._(Lu,null),m.a._(hu,null),m.a._("div",{onClick:this._I5,className:Object(j.c)("main-layout",r,{ownpage:n})},a&&m.a._(Ju,null),m.a._("div",{className:"wrapper"},m.a._($u,null),m.a._(bu,null),m.a._(Go,null),m.a._(No,{isMobile:!0}),m.a._(po,{isMobile:!0,appearance:"all"}),m.a._(wo,{isMobile:!0}),m.a._(pa,{globallyActiveBranch:t}),m.a._(ia,null),m.a._(Au,null),m.a._("main",{id:"app"},Object(b.b)(o.routes))),m.a._(rt,null)),m.a._(Y,null),m.a._(ge,null),Object(I.d)()&&this._i1())}}Yu.displayName="MainLayout";const Xu={emitUiEvent:f.e,hideAllNotificationsExcept:_.d,releaseInterface:f.p,routerReplace:P.I};t.a=Object(g.c)((e,t)=>{const{auth:s,auth:{currentUser:a,isLoggedIn:i,isLoggingOut:o},config:n,ui:{isInterfaceBlocked:r,isLayoutShaded:l}}=e;return{auth:s,config:n,currentUser:a,globallyActiveBranch:Object(_e.f)(e,t),isInterfaceBlocked:r,isLayoutShaded:l,isModelWizardAvailable:Object(cu.c)(e),isLoggedIn:i&&!o}},Xu)(Yu)},function(e,t,s){"use strict";s.d(t,"a",(function(){return tt}));var a=s(0),i=s.n(a),o=s(5),n=s(528),r=s(79),l=s.n(r),c=s(706),d=s(33),p=s.n(d),u=s(8),h=s.n(u),m=s(17),g=s(13),b=s(6),_=s(343),v=s(22),f=s(10),C=s(1),N=(s(20),s(29));const O=(e,t="lifetimePicker.buttons")=>{const s=v.f.DAY_MONTH_YEAR,{intervalName:a,from:i,until:o}=e;return a===v.a.CUSTOM?`${Object(v.j)(i,s,"en")} - ${Object(v.j)(o,s,"en")}`:Object(C.d)(`${t}.${a}`)},y=e=>({...Object(v.u)(e),intervalName:e}),w={blockInterface:m.a,releaseInterface:m.p},S={from:"",until:"",isIntervalValid:!1};class k extends a.PureComponent{constructor(...e){super(...e),this.mainButtonRef=void 0,this.mainButtonObserver=void 0,this.state=S,this.setInitialState=e=>{this.setState(S,e)},this.openDropdownHandler=e=>{const{releaseInterface:t,blockInterface:s}=this.props;e.preventDefault(),e.stopPropagation(),this.getIsDropdownOpen()?t():s(e.target)},this.dropdownClickHandler=e=>{e.stopPropagation();const{parentBlockingComponent:t,isInterfaceBlocked:s,blockInterface:a}=this.props;s&&this.mainButtonRef===t&&a(t,null)},this.getIsDropdownOpen=()=>{const{currentBlockingComponent:e,parentBlockingComponent:t,isInterfaceBlocked:s}=this.props;return s&&(e===this.mainButtonRef||t===this.mainButtonRef)},this.predefineDateClickHandler=e=>()=>{const{onUpdate:t}=this.props,s={...Object(v.u)(e),intervalName:e};this.setInitialState(()=>{this.closeDropdown(),t(s)})},this.closeDropdown=()=>{this.props.releaseInterface()},this._i2=(e,t)=>{const s=Object(v.D)(t,v.g.LONG_LOCAL_DATE);return"from"===e?Object(v.I)(Object(v.F)(s,v.e.day)):Object(v.I)(Object(v.i)(s,v.e.day))},this.isIntervalDatesValid=({from:e,until:t})=>Object(v.C)(e,v.f.LONG_LOCAL_DATE)&&Object(v.C)(t,v.f.LONG_LOCAL_DATE),this.isRenderDateSameNowByDay=e=>Object(v.y)(e,new Date,"day"),this.getCustomIntervalForUpdate=({from:e,until:t})=>{const s=this._i2("from",e),a=this._i2("until",t);let i=v.a.CUSTOM;return this.isRenderDateSameNowByDay(e)&&this.isRenderDateSameNowByDay(t)&&(i=v.a.LAST_24_HOURS),{from:s,until:a,intervalName:i}},this.swapIntervalDates=({from:e,until:t})=>{const s=Object(v.D)(e,v.g.LONG_LOCAL_DATE),a=Object(v.D)(t,v.g.LONG_LOCAL_DATE);return!Object(v.C)(e)||!Object(v.C)(t)||a>s?{from:e,until:t}:{from:t,until:e}},this.getMomentNow=()=>new Date,this.switchFeatureDatesToCurrent=({from:e,until:t})=>{const s=this.getMomentNow(),a=Object(v.j)(s,v.f.LONG_LOCAL_DATE);let i=e,o=t;return Object(v.D)(e,v.g.LONG_LOCAL_DATE)>s&&(i=a),Object(v.D)(t,v.g.LONG_LOCAL_DATE)>s&&(o=a),{from:i,until:o}},this.inputChangeHandler=e=>t=>{this.setState(s=>{const a=this.isIntervalDatesValid({...s,[e]:t});return{[e]:t,isIntervalValid:a}})},this.submitCustomIntervalHandler=e=>{const{onUpdate:t,isPending:s}=this.props,{isIntervalValid:a}=this.state;if(e.preventDefault(),!a||s)return;const i=this.swapIntervalDates(this.state),o=this.switchFeatureDatesToCurrent(i),n=this.getCustomIntervalForUpdate(o);this.setInitialState(),this.closeDropdown(),t(n)},this._B=()=>{const{isLayoutUpToS:e,interval:t,buttonsTextsTag:s}=this.props;return i.a._("button",{type:"button",onClick:this.openDropdownHandler,className:"lifetime-picker-btn",ref:e=>{this.mainButtonRef=e}},i.a._(b.a,{img:"calendar",className:"lifetime-picker-btn-icon"}),!e&&O(t,s))},this._H5=()=>{const{buttonIntervalNames:e,isPending:t,interval:s,hasCustomInterval:a,outerClass:o,buttonsTextsTag:n}=this.props,{from:r,until:l,isIntervalValid:c}=this.state;return i.a._("div",{className:Object(f.c)("lifetime-picker-dropdown",o.dropdown),onClick:this.dropdownClickHandler},i.a._("div",{className:"lifetime-picker-predefine-dates"},p()(e,(e,a)=>i.a._("button",{key:a,type:"button",className:Object(f.c)("lifetime-picker-dropdown-item",{"lifetime-picker-dropdown-item-active":s.intervalName===e}),onClick:this.predefineDateClickHandler(e),disabled:t},Object(C.d)(`${n}.${e}`)))),a&&i.a._("form",{className:"lifetime-picker-custom-dates",onSubmit:this.submitCustomIntervalHandler},i.a._("label",{className:"lifetime-picker-custom-dates-label"},Object(C.d)("tableFilter.customDates.label")),i.a._("div",{className:"lifetime-picker-interval"},i.a._(_.a,{mask:Object(v.s)(),placeholder:Object(v.t)(),hasDateFormat:!0,type:"text",value:r,onChange:this.inputChangeHandler("from"),className:"lifetime-picker-interval-input text-small"}),i.a._("div",{className:"lifetime-picker-interval-divider"}),i.a._(_.a,{mask:Object(v.s)(),placeholder:Object(v.t)(),hasDateFormat:!0,type:"text",value:l,onChange:this.inputChangeHandler("until"),className:"lifetime-picker-interval-input text-small"})),i.a._(g.a,{style:"apply",type:"submit",className:"lifetime-picker-interval-submit",disabled:t||!c},"Apply")))}}render(){return i.a._("div",{className:Object(f.c)("lifetime-picker",{"lifetime-picker-open":this.getIsDropdownOpen()})},this._B(),this.getIsDropdownOpen()&&this._H5())}}k.displayName="LifeTimePicker",k.defaultProps={outerClass:{},buttonsTextsTag:"lifetimePicker.buttons"};var j=Object(o.c)(e=>{const{ui:{currentBlockingComponent:t,parentBlockingComponent:s,isInterfaceBlocked:a}}=e;return{currentBlockingComponent:t,parentBlockingComponent:s,isInterfaceBlocked:a,isLayoutUpToS:Object(N.r)(e)}},w)(k);const I=({titleTag:e,interval:t,additionContent:s,isPending:a,intervalChangeHandler:o,buttonsIntervalsNames:n,className:r={},hasCustomInterval:l=!1})=>i.a._("div",{className:Object(f.c)("earnings-table-info",r.root)},i.a._("div",{className:Object(f.c)("earnings-table-info-main",r.main)},i.a._("h1",{className:Object(f.c)("earnings-table-info-title",r.title)},Object(C.d)(`${e}.title`,{interval:O(t,"lifetimePicker.buttons")})),s),i.a._(j,{outerClass:{dropdown:"earnings-table-info-life-time-picker"},interval:t,hasCustomInterval:l,buttonIntervalNames:n,isPending:a,onUpdate:o}));I.displayName="EarningsTableInfo";var T=I,P=s(511);const M=({interval:e,intervalChangeHandler:t})=>{const s=new Date,a=Object(P.a)(()=>[...[0,1,2,3,4,5].map(e=>Object(v.j)(Object(v.F)(Object(v.G)(s,{months:e}),v.e.month),v.f.FULL_MONTH_NAME,"en").toLowerCase()),v.a.LIFETIME]);return i.a._(T,{titleTag:"payingUsers",interval:e,isPending:!1,intervalChangeHandler:t,buttonsIntervalsNames:a,additionContent:i.a._("p",{className:"paying-users-delay-info"},i.a._(b.a,{img:"time",className:"time-icon"}),Object(C.d)("payingUsers.delayInfo")),className:{title:"paying-users-info-title"}})};M.displayName="PayingUsersInfo";var E=M,A=s(2),U=s.n(A),H=s(318),L=s(389),R=s(193),F=s(178);const D=({user:e,modelId:t,hasBanned:s,hasMuted:a,username:o,isAnonymous:n,type:r})=>{if(n)return i.a._("div",{className:"earnings-username-anonymous"},i.a._(b.a,{img:"incognito"}),i.a._("span",null,Object(C.d)("userLevels.anonymous")));if(e){const{isKing:o,isKnight:n,fanClubTier:r}=e;return i.a._("div",{className:"earnings-username-wrapper"},i.a._(R.a,{isKing:o,isKnight:n,isKnightIconVisible:!0,isPopupEnabled:!0,isColored:!0,modelId:t,user:e,isShowMuteButton:!0,isShowBanButton:!0,isShowKnightButtonInPopup:!1,isShowMuteAndBanButtonsInPopup:!1,isMobileRelativeNote:!1,fanClubTier:r}),a?i.a._("div",{className:"earnings-username-extra-btn"},i.a._(L.a,{user:e,modelId:t})):null,s?i.a._("div",{className:"earnings-username-extra-btn"},i.a._(H.a,{user:e,shouldConfirm:!0,shouldConsiderCurrentUser:!0,type:"icon"})):null)}return o?i.a._("span",null,o):i.a._("span",null,r)};D.displayName="EarningsUserName",D.defaultProps={user:null};var x=Object(o.c)((e,t)=>{const{user:s,modelId:a}=t;return{hasBanned:!!s&&Object(F.b)(e,a,s.id),hasMuted:!!s&&Object(F.c)(e,a,s.id)}},null)(D),B=s(191),V=s(59);h.a.shape({name:h.a.string.isRequired,columnClassNames:h.a.arrayOf(h.a.string),headClassNames:h.a.arrayOf(h.a.string),_i5:h.a.func,bodyClassNames:h.a.arrayOf(h.a.string),_Bl:h.a.func}),h.a.arrayOf(h.a.array),h.a.shape({translationId:h.a.string,withLoader:h.a.bool,Loader:h.a.element,rootClassName:h.a.string,headRowClassName:h.a.string,headCellClassName:h.a.string,bodyRowClassName:h.a.string,bodyCellClassName:h.a.string,columnClassName:h.a.string});const z=({children:e,className:t})=>i.a._("div",{className:Object(f.c)("data-table-body-row",t)},e);z.displayName="DataTableBodyRow",z.defaultProps={children:null,className:""};var $=z;const G=({columnsCount:e,children:t,className:s})=>i.a._("div",{className:s,style:{flexBasis:`${100/e}%`}},t);G.displayName="DataTableCell",G.defaultProps={children:null,className:""};var W=G;const K=({data:e,columns:t,isPending:s,loadError:o,options:n})=>{const r=Object(a.useRef)(),l=Object(a.useRef)(),{translationId:c,withLoader:d,bodyRowClassName:p,bodyCellClassName:u,columnClassName:h}=n;Object(a.useEffect)(()=>{r.current&&!l.current?l.current=!0:r.current=!0},[s]);return i.a._("div",{className:"data-table-body"},o?i.a._($,{className:"data-table-body-error"},o.message):l.current&&!e.length?i.a._($,{className:p},i.a._("span",{className:"data-table-text-empty"},Object(C.d)(`${c}.table.emptyTable`))):s&&d?i.a._("div",{className:"data-table-loader"},i.a._(V.a,null)):e.map((e,s)=>{const a=`row-key-${s}`;return i.a._($,{key:a,className:p},e.map((e,s)=>{const a=t[s],o=`cell-key-${s}`;return i.a._(W,{key:o,columnsCount:t.length,className:Object(f.c)("data-table-body-cell",h,u,a.bodyClassNames,a.columnClassNames)},((e,t)=>e._Bl?e._Bl(t):t)(a,e))}))}))};K.displayName="DataTableBody",K.defaultProps={loadError:null};var q=K;const J=({children:e,className:t})=>i.a._("div",{className:Object(f.c)("data-table-head-row",t)},e);J.displayName="DataTableHeadRow",J.defaultProps={children:null,className:""};var Y=J;const X=({columns:e,options:t})=>{const{translationId:s}=t,{headRowClassName:a,headCellClassName:o,columnClassName:n}=t;return i.a._("div",{className:"data-table-head"},i.a._(Y,{className:a},e.map((t,a)=>i.a._(W,{key:a,columnsCount:e.length,className:Object(f.c)("data-table-head-cell",n,o,t.headClassNames,t.columnClassNames)},(e=>e._i5?e._i5():Object(C.d)(`${s}.table.columns.${e.name}`))(t)))))};X.displayName="DataTableHead";var Q=X;const Z=({data:e,columns:t,loadError:s,isPending:a,options:o})=>i.a._("div",{className:Object(f.c)("data-table",o.rootClassName)},i.a._(Q,{columns:t,options:o}),i.a._(q,{data:e,columns:t,isPending:a,loadError:s,options:o}));Z.displayName="DataTable",Z.defaultProps={loadError:null};var ee=Z,te=s(72),se=s(43);const ae=({checked:e,setValue:t})=>i.a._("label",{htmlFor:"paying-users-checkbox-input",className:"paying-users-checkbox",id:"paying-users-checkbox"},i.a._("input",{type:"checkbox",id:"paying-users-checkbox-input",className:"input-checkbox",checked:e,onChange:e=>t(e.target.checked)}),i.a._("span",{className:"check-mark"}),!e&&i.a._(se.a,{isMobileRelative:!1,targetId:"paying-users-checkbox",placement:"right"},Object(C.d)("payingUsers.tooltips.showUsersOnline")));ae.displayName="PayingUsersCheckbox";var ie=ae,oe=s(56);const ne=({value:e="",setValue:t})=>{const s=i.a.createRef(),[o,n]=Object(a.useState)(!1),r=()=>{t(""),n(!o)};Object(a.useEffect)(()=>{o&&s.current&&s.current.focus()},[o]);return o?i.a._("div",{className:"paying-users-search-users open"},i.a._(oe.a,{id:"id",ref:s,size:"small",placeholder:Object(C.d)("payingUsers.searchUsers.placeholder"),onChange:e=>{t(e.target.value)},value:e,className:"input"}),i.a._("div",{role:"button",className:"icon-container",onClick:r},i.a._(b.a,{img:"close-3",className:"icon-close"}))):i.a._("div",{className:"paying-users-search-users close"},i.a._("span",null,"Users"),i.a._("div",{role:"button",className:"icon-container",onClick:r},i.a._(b.a,{img:"search-3",className:"icon-search"})))};ne.displayName="PayingUsersSearchUsers";var re=ne;const le=({id:e,children:t,sortedColumn:s,setSortedColumn:a})=>{const o=()=>e===s.id,{direction:n}=s;return i.a._("div",{role:"button",className:Object(f.c)("paying-users-sortable-head",{[n]:o()}),onClick:()=>{s.id===e?a({id:e,direction:s.direction===B.a.ASC?B.a.DESC:B.a.ASC}):a({id:e,direction:B.a.DESC})}},i.a._("span",null,t),o()?i.a._(b.a,{img:"sort",className:"icon-sort"}):null)};le.displayName="PayingUsersSortableHead";var ce=le;const de=e=>i.a._("div",{className:Object(f.c)("online-status",{"is-online":e})});de.displayName="_i7";const pe=({currentUser:e,isPending:t,loadError:s,users:a,transactions:o,isShowUsersOnline:n,setShowUsersOnline:r,searchUsers:l,setSearchUsers:c,sortedColumn:d,setSortedColumn:p})=>{const u=(e,t)=>()=>i.a._(ce,{id:e,sortedColumn:d,setSortedColumn:p},Object(C.d)(`payingUsers.table.columns.${t}`)),h=(e=0)=>Object(te.i)(e,2),m=([e,t])=>t?`${h(e)} + ${h(t)} VR `:h(e),g=[{name:"online",columnClassNames:["table-cell-user-online"],_i5:()=>i.a._(ie,{checked:n,setValue:r}),_Bl:de},{name:"users",columnClassNames:["align-left","table-cell-username"],bodyClassNames:["table-cell-body-username"],_i5:()=>i.a._(re,{value:l,setValue:c}),_Bl:t=>{const{username:s,user:a}=t,o=!a;return i.a._(x,{user:a,modelId:e.id,username:s,isAnonymous:o,type:""})}},{name:"lastPaid",columnClassNames:["align-left","table-cell-last-paid"],_i5:u(B.b.LAST_PAID,"lastPaid"),_Bl:e=>Object(v.j)(e,v.f.HUMAN_DATE_TIME)},{name:"publicTips",_i5:u(B.b.PUBLIC_TIPS,"publicTip"),_Bl:m},{name:"privateTips",_i5:u(B.b.PRIVATE_TIPS,"privateTip"),_Bl:m},{name:"private",_i5:u(B.b.PRIVATE,"private"),_Bl:m},{name:"cam2cam",_i5:u(B.b.CAM2CAM,"p2p"),_Bl:m},{name:"spyMode",_i5:u(B.b.SPY_MODE,"spy"),_Bl:m},{name:"groupShow",_i5:u(B.b.GROUP_SHOW,"groupShow"),_Bl:m},{name:"content",_i5:u(B.b.CONTENT,"content"),_Bl:m},{name:"fanClub",_i5:u(B.b.FAN_CLUB,"fanClub"),_Bl:m},{name:"totalTokens",bodyClassNames:["table-text-accent"],_i5:u(B.b.TOTAL_TOKENS,"totalTokens"),_Bl:m}],b=o.map(e=>{const{totalTokens:t,lastPaid:s,content:i,cam2cam:o,publicTip:n,publicTipVr:r,privateTip:l,privateTipVr:c,spy:d,vrSpy:p,groupShow:u,private:h,privateVr:m,fanClub:g,userId:b,username:_}=e,v=a[b];return[U()(v,"isOnline",!1),{username:_,user:v},s,[n,r],[l,c],[h,m],[o],[d,p],[u],[i],[g],[t]]});return i.a._("div",{className:"paying-users-table"},i.a._(ee,{columns:g,data:b,isPending:t,loadError:s,options:{translationId:"payingUsers",withLoader:!1,rootClassName:"earnings-table",columnClassName:"table-cell align-right",headRowClassName:"table-head-row",bodyRowClassName:"table-body-row"}}))};pe.displayName="PayingUsersTable";var ue=pe,he=s(234),me=s(51),ge=s(202),be=s(25);const _e={loadBans:ge.b,loadPayingUsers:c.a},ve=v.a.LIFETIME,fe=e=>{const{currentUser:t,isPending:s,error:o,users:n,transactions:r,totalCount:c}=e,{id:d}=t,p=Object(a.useRef)(),[u,h]=Object(a.useState)(1),[m,g]=Object(a.useState)(()=>y(ve)),[b,_]=Object(a.useState)(!1),[f,C]=Object(a.useState)(""),[N,O]=Object(a.useState)({id:B.b.LAST_PAID,direction:B.a.DESC}),w=()=>{const{intervalName:e,until:t}=m;if(e===v.a.LIFETIME)return 0;const s=new Date(t).getUTCFullYear(),a=new Date(t).getUTCMonth()+1;return`${s}${a<10?`0${a}`:a}`},S=Object(P.a)(()=>l()(e.loadPayingUsers,500));return Object(a.useEffect)(()=>{e.loadBans(d)},[]),Object(a.useEffect)(()=>{const t={isOnline:b||"",offset:(u-1)*me.l,limit:me.l,username:f,period:w(),sort:N.id,order:N.direction};if(!p.current)return p.current=!0,void e.loadPayingUsers(d,t);S(d,t)},[m,f,u,b,N]),i.a._("div",{className:"paying-users"},i.a._(E,{interval:m,intervalChangeHandler:e=>{g(e),h(1)}}),i.a._(ue,{currentUser:t,isPending:s,loadError:o,users:n,transactions:r,isShowUsersOnline:b,setShowUsersOnline:_,searchUsers:f,setSearchUsers:C,sortedColumn:N,setSortedColumn:O}),i.a._(he.a,{currentPage:u,itemsCount:c,pageChangeCallback:h,pageSize:me.l,hiddenButtons:!1}))};fe.displayName="PayingUsers";var Ce=Object(o.c)(e=>{const{payingUsers:t}=e;return{...t,currentUser:Object(be.h)(e)}},_e)(fe),Ne=s(467),Oe=(s(38),s(317)),ye=s(285),we=s(36);const Se=[v.a.TODAY,v.a.LAST_24_HOURS,v.a.LAST_7_DAYS,v.a.LAST_30_DAYS,v.a.LAST_90_DAYS,v.a.LAST_365_DAYS,v.a.LIFETIME],ke=e=>{const{isNoHistory:t,inTokens:s,inUsd:a,intervalChangeHandler:o,isPending:n,interval:r}=e;if(t)return i.a._("div",{className:"tokens-history-info"},i.a._("h1",{className:"tokens-history-info-title"},Object(C.d)("tokensHistoryNew.titleNoHistory")));const l=Object(te.i)(s,0),c=Object(te.i)(a);return i.a._(T,{titleTag:"tokensHistoryNew",interval:r,hasCustomInterval:!0,isPending:n,intervalChangeHandler:o,buttonsIntervalsNames:Se,additionContent:a||s?i.a._("div",{className:"tokens-history-info-amount"},i.a._("span",{className:"tokens-history-info-amount-tokens"},l)," tk",i.a._("span",{className:"tokens-history-info-amount-slash"},"/"),i.a._("span",{className:"tokens-history-info-amount-money"},`$${c}`)):null,className:{main:"tokens-history-info-main"}})};ke.displayName="TokensHistoryInfo",ke.defaultProps={inTokens:0,inUsd:0};var je=ke,Ie=s(30),Te=s(291),Pe=s(512);const Me=()=>i.a._("div",{className:"tokens-history-table-empty"},i.a._("div",{className:"tokens-history-table-empty-icon"},i.a._(b.a,{img:"dollar"})),i.a._("div",{className:"tokens-history-table-empty-description"},Object(C.d)("tokensHistoryNew.emptyTable")),i.a._("div",{className:"tokens-history-table-empty-actions"},i.a._(Pe.a,{withIcon:!1,size:"large"})));Me.displayName="TokensHistoryEmpty";var Ee=Me;const Ae=(e,t)=>t.type===Te.d.MODEL_REFERRAL_PROGRAM?i.a._(Ie.a,{to:"/model-referral"},Object(C.d)(e)):Object(C.d)(e),Ue=e=>{const{isNoHistory:t,tokensHistory:s,users:o,isPending:n,loadError:r,currentUser:l,promoCampaigns:c}=e,d=[{name:"users",columnClassNames:["table-cell-username"],bodyClassNames:["table-body-cell-username"],_Bl:e=>{const{userId:t,username:s,isAnonymous:a,type:n}=e,r=o?o[t]:null;return i.a._(x,{user:r,modelId:l.id,username:s,isAnonymous:a,type:n})}},{name:"date",_Bl:e=>Object(v.j)(e,v.f.HUMAN_DATE_TIME)},{name:"type",columnClassNames:["align-right"],bodyClassNames:["table-body-cell-type"],_Bl:e=>{const{type:t,isAnonymous:s}=e,o=U()(e,"extra.promoCampaign",""),n=c[o]||o;let r=`tokensHistory.type.${t}`;o&&(r=`tokensHistory.promoCampaign.${n}`);let l=Ae(r,e);return l!==r||(l=n?Ae("tokensHistory.promoPurchase",e):t),i.a._(a.Fragment,null,s&&i.a._(b.a,{img:"incognito",className:"icon-incognito"}),l)}},{name:"tokens",columnClassNames:["align-right"],bodyClassNames:["table-text-accent"],_Bl:e=>Object(te.i)(e,2)}],p=s.toArray().map(e=>{const{date:t,tokens:s}=e;return[e,t,e,s]});return t?i.a._(Ee,null):i.a._("div",{className:"tokens-history-table"},i.a._(ee,{columns:d,data:p,isPending:n,loadError:r,options:{translationId:"tokensHistoryNew",rootClassName:"earnings-table",columnClassName:"table-cell",headRowClassName:"table-head-row",bodyRowClassName:"table-body-row"}}))};Ue.displayName="TokensHistoryTable",Ue.defaultProps={promoCampaigns:null,loadError:null};var He=Ue;const Le=v.a.LAST_30_DAYS,Re={loadTokensHistory:Oe.d,loadBans:ge.b};class Fe extends a.Component{constructor(...e){super(...e),this.state={currentPage:1,interval:y(Le)},this.intervalChangeHandler=e=>{this.setState({interval:e,currentPage:1}),this.props.loadTokensHistory({...e,offset:0,limit:me.l})},this.pageChangeHandler=e=>{const{interval:t}=this.state;this.setState({currentPage:e}),this.props.loadTokensHistory({...t,offset:(e-1)*me.l,limit:me.l})}}_A(){const{currentUser:{id:e}}=this.props,{interval:t}=this.state;this.props.loadBans(e),this.intervalChangeHandler(t)}render(){const{currentUser:e,totalEarnings:t,numberOfTransactions:s,tokensHistory:a,isPending:o,isNoHistory:n,loadError:r,users:l,getHasBanned:c,promoCampaigns:d}=this.props,{currentPage:p,interval:u}=this.state,{inTokens:h,inUsd:m}=t;return i.a._("div",{className:"tokens-history"},i.a._(je,{interval:u,inTokens:h,inUsd:m,intervalChangeHandler:this.intervalChangeHandler,isNoHistory:n,isPending:o}),i.a._(He,{currentUser:e,isPending:o,tokensHistory:a,users:l,isNoHistory:n,loadError:r,getHasBanned:c,promoCampaigns:d}),!n&&!r&&i.a._(he.a,{currentPage:p,itemsCount:s,pageChangeCallback:this.pageChangeHandler,pageSize:me.l,hiddenButtons:!1}))}}Fe.displayName="TokenHistory",Fe.defaultProps={promoCampaigns:{},loadError:null,isNoHistory:!1};var De=Object(o.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},tokensHistory:{error:i,isPending:o,totalEarnings:n,users:r}}=e;return{currentUser:t,isLoggedIn:s&&!a,tokensHistory:Object(ye.e)(e),users:r,totalEarnings:n,numberOfTransactions:Object(ye.b)(e),promoCampaigns:Object(we.t)(e),isPending:o,loadError:i}},Re)(Fe);function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Be=({className:e,children:t,...s})=>i.a._("div",xe({className:Object(f.c)("tabs-ds",e)},s),t);Be.displayName="Tabs";const Ve=({className:e,to:t,children:s,...a})=>i.a._(Ie.b,xe({to:t,className:Object(f.c)("tab-ds",e),activeClassName:"tab-active-ds",replace:!0},a),s);Ve.displayName="TabLink";var ze=s(97),$e=s(37),Ge=s(28);const We=({isModel:e,isStudio:t,isStudioModel:s,selectedTab:a="tokens-history"})=>i.a._("div",{className:"earnings"},i.a._(ze.a,{className:"title"},Object(C.d)("earnings.model.title")),i.a._("p",{className:"description"},Object(C.d)("earnings.model.description")),e&&i.a._(n.a,null),!s&&i.a._(Ne.a,null),!t&&i.a._(Be,{className:"earnings-tabs"},i.a._(Ve,{to:"/earnings/tokens-history"},Object(C.d)("earnings.model.tabs.earnings")),i.a._(Ve,{to:"/earnings/paying-users"},Object(C.d)("earnings.model.tabs.payingUsers"))),(e=>{switch(e){case"paying-users":return i.a._(Ce,null);case"tokens-history":default:return i.a._(De,null)}})(a));We.displayName="Earnings";var Ke=Object(o.c)(e=>{const t=Object($e.a)(e);return{isModel:Object(Ge.c)(e),isStudio:Object($e.k)(e),isStudioModel:Object(Ge.e)(t)}})(We);const qe=({selectedTab:e})=>i.a._("div",{className:"page container earnings-page"},i.a._(Ke,{selectedTab:e}));qe.displayName="EarningsPage";var Je=qe,Ye=s(524),Xe=s(65),Qe=s(41);const Ze=e=>{switch(e){case"tokens-history":case"paying-users":return e;default:return"tokens-history"}},et=({isModelEarningsEnable:e,match:{params:{tab:t}}})=>i.a._(Xe.a,{titleKey:"seo.title.tokensHistory"},e?i.a._(Je,{selectedTab:Ze(t)}):i.a._(Ye.a,null));et.displayName="ModelEarningsPageComp",et.checkAccess=Qe.v;const tt=Object(o.c)(e=>{const{isModelEarningsEnable:t}=Object(we.f)(e);return{isModelEarningsEnable:t}})(et)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(42),r=s(65),l=s(161),c=s(97),d=s(1),p=s(41),u=(s(20),s(36)),h=s(232),m=s(89),g=s(78),b=s.n(g),_=s(179),v=s.n(_),f=s(116),C=s.n(f),N=s(74),O=s.n(N),y=s(131),w=s.n(y),S=s(33),k=s.n(S),j=s(153),I=s.n(j),T=s(82),P=s.n(T),M=s(27),E=s.n(M),A=s(45),U=s.n(A),H=s(373),L=s.n(H),R=s(2),F=s.n(R),D=s(174),x=s.n(D),B=s(32),V=s(13),z=s(59),$=s(123),G=s(10),W=s(140),K=s(26),q=s(44),J=s(56);class Y extends i.a.Component{constructor(...e){super(...e),this.state={isOnlySelected:!E()(this.props.value)},this.bannedRegionsSelectAllHandler=()=>{const{country:e,onSelect:t}=this.props;this.setState({isOnlySelected:!1}),t(e.code,[])},this.bannedRegionsSelectHandler=e=>{const{country:t,onSelect:s}=this.props;this.setState({isOnlySelected:e.length}),s(t.code,e)},this.onlySelectedClickHandler=()=>{this.setState({isOnlySelected:!0}),this.selectRef.focus()}}render(){const{regions:e,value:t,country:s}=this.props,{isOnlySelected:a}=this.state;return i.a._("div",{className:"banned-region"},i.a._("h4",null,Object(d.d)("settings.bannedRegions.title",{country:s.title})),i.a._("div",{className:"radio-container"},i.a._(J.a,{id:`banned_regions_radio_all_${s.code}`,name:`banned_regions_radio_${s.code}`,onChange:this.bannedRegionsSelectAllHandler,type:"radio",size:"medium",checked:!a}),i.a._("label",{htmlFor:`banned_regions_radio_all_${s.code}`},Object(d.d)("settings.bannedRegions.all"))),i.a._("div",{className:"radio-container"},i.a._(J.a,{id:`banned_regions_radio_only_${s.code}`,name:`banned_regions_radio_${s.code}`,type:"radio",size:"medium",onClick:this.onlySelectedClickHandler,checked:a}),i.a._("label",{htmlFor:`banned_regions_radio_only_${s.code}`},Object(d.d)("settings.bannedRegions.onlyFollowing"),":")),i.a._("form",{className:"settings-form settings-form-inline settings-form-banned-regions"},i.a._("div",{className:"settings-field"},i.a._($.a,{isClearable:!0,isMultiple:!0,isSearchable:!0,onSelect:this.bannedRegionsSelectHandler,options:k()(e,({code:e,title:t})=>({label:t,value:e})),ref:e=>{this.selectRef=e},value:t}))))}}Y.displayName="BannedRegions";var X=Y,Q=s(137),Z=s.n(Q),ee=s(94),te=s.n(ee),se=s(241),ae=s(12),ie=s(6),oe=s(43),ne=s(3),re=s(81),le=s(277);s(184),s(162);class ce extends i.a.Component{constructor(...e){super(...e),this.unlockButtonClickHandler=e=>{e.preventDefault(),this.props.onUnlock()}}_G3(){const{id:e,tooltip:t}=this.props;if(!t)return null;const s=`island_title_${e}`;return i.a._("div",{className:"settings-island-tooltip",id:s},i.a._(ie.a,{img:"question",className:"settings-island-tooltip-icon"}),i.a._(oe.a,{isMobileRelative:!1,targetId:s},t))}render(){const{children:e,additionalButton:t,additionalTitleContent:s,contentClassName:a,className:o,title:n,isLocked:r,lockedText:l}=this.props;return i.a._("div",{className:Object(G.c)("settings-island",o,{"settings-island-locked":r})},i.a._("div",{className:"settings-island-title-wrapper"},i.a._("h3",{className:"settings-island-title"},n),s,this._G3()),i.a._("div",{className:Object(G.c)("settings-island-content",a)},r?i.a._("div",{className:"settings-island-content-button-container"},t,i.a._("button",{type:"button",className:"btn btn-large btn-default settings-island-unlock-button",onClick:this.unlockButtonClickHandler},l)):e))}}ce.displayName="SettingsIsland",ce.defaultProps={additionalTitleContent:null,tooltip:""};var de=ce,pe=s(37);const ue="settings_email",he="settings_change_email_form",me={resendConfirmationEmail:le.c,updateEmail:q.r},ge={formFieldsErrors:{},isLocked:!0,email:"",isSucceeded:!1};class be extends a.PureComponent{constructor(...e){super(...e),this.state=ge,this.cancelClickHandler=()=>{this.setState(ge)},this.getCanSubmit=()=>{const{isUpdating:e}=this.props;return""!==this.state.email&&!e},this.submitClickHandler=e=>{const{userProfile:t,updateEmail:s}=this.props,{email:a}=this.state;if(e.preventDefault(),!this.getCanSubmit())return;const i=Object(re.g)(this.formFields);E()(i)&&s(a,t.isEmailVerified)},this.unlockButtonClickHandler=()=>{const{config:e,isXHamsterLive:t}=this.props;t?window.location.assign(e.data.xhlConfig.url.accountSettings.changeEmail):this.setState({isLocked:!1,isSucceeded:!1})},this.changeHandler=({target:e})=>{const{name:t,value:s}=e;this.setState({[t]:s})},this.resendConfirmationEmailClickHandler=()=>{this.props.resendConfirmationEmail()},this._ij=()=>i.a._("p",{className:"changed-email-is-saved"},i.a._(ae.a,{elements:{strong:i.a._("strong",null)},messageId:"settings.changeEmail.isSavedEmailDescription"})),this._ik=()=>{const{isUpdating:e}=this.props;return i.a._(a.Fragment,null,i.a._("div",{className:"settings-form-wrapper"},this._il()),i.a._(V.a,{type:"submit",size:"large",style:"apply",form:he,disabled:!this.getCanSubmit()},Object(d.d)("settings.save")),i.a._(V.a,{onClick:this.cancelClickHandler,size:"large",disabled:e},Object(d.d)("settings.cancel")))}}componentDidUpdate(e){const{userProfile:t,updateError:s,isSucceeded:a}=this.props;e.isSucceeded||!a?P()(s,e.updateError)||!s?e.userProfile.isEmailVerified&&!t.isEmailVerified&&this.setState({isLocked:!0}):this.setState({formFieldsErrors:s?Z()(s.details,e=>Array.isArray(e)?e.join(". "):e):{}}):this.setState({...ge,isSucceeded:!0,isLocked:!t.isEmailVerified})}get formFields(){return{email:{value:te()(this.state.email),validators:[re.i.isEmailValidator]}}}_Ja(e,t){const s=this.state.formFieldsErrors[e];return s?i.a._(oe.a,{className:"error",isForceVisible:!0,placement:"right",targetId:t},s):null}_il(){const{email:e,formFieldsErrors:t}=this.state,{isUpdating:s}=this.props;return i.a._("form",{id:he,className:"settings-form",onSubmit:this.submitClickHandler},i.a._("div",{className:"settings-field"},i.a._("label",{className:"settings-label",htmlFor:ue},Object(d.d)("settings.changeEmail.labels.email")),i.a._("span",{className:"settings-input"},i.a._(J.a,{type:"email",name:"email",disabled:s,onChange:this.changeHandler,maxLength:ne.q,id:ue,className:Object(G.c)({error:t.email}),value:e,autoComplete:"off"}),this._Ja("email",ue))))}_im(){const{isXHamsterLive:e,userProfile:t}=this.props;return t.isEmailVerified||e?null:i.a._(V.a,{className:"settings-title-email-resend",onClick:this.resendConfirmationEmailClickHandler,size:"large"},Object(d.d)("settings.changeEmail.emailResendConfirmation"))}_io(){const{userProfile:{email:e,isEmailVerified:t}}=this.props,s=t?Object(d.d)("settings.changeEmail.emailConfirmed"):Object(d.d)("settings.changeEmail.emailNotConfirmed");return i.a._("div",{className:Object(G.c)("settings-title-email",{confirmed:t})},e,i.a._("div",{className:"settings-title-email-status",id:"settings_email_status"},t?i.a._(ie.a,{img:"check"}):i.a._(se.a,{type:"alert-medium"},"!")),i.a._(oe.a,{className:Object(G.c)({error:!t}),placement:"top",targetId:"settings_email_status",isMobileRelative:!1},s))}render(){const{userProfile:e,externalAuthServiceName:t}=this.props,{isSucceeded:s,isLocked:a}=this.state,o=Object(d.d)("settings.changeEmail.title"),n=t?"_external":"";return i.a._(de,{title:o,lockedText:Object(d.d)(`settings.changeEmail.lockedText${n}`,{serviceName:t}),additionalTitleContent:this._io(),additionalButton:this._im(),isLocked:a,onUnlock:this.unlockButtonClickHandler},s&&e.isEmailVerified?this._ij():this._ik())}}be.displayName="ChangeEmail",be.defaultProps={config:null,isUpdating:!1,isXHamsterLive:!1,updateError:null};var _e=Object(o.c)(e=>{const{config:t}=e;return{config:t,externalAuthServiceName:Object(K.a)(e),isUpdating:Object(pe.n)(e,q.a.EMAIL),isXHamsterLive:Object(K.j)(e),isSucceeded:Object(pe.l)(e,q.a.EMAIL),updateError:Object(pe.c)(e,q.a.EMAIL),userProfile:Object(pe.a)(e)}},me)(be),ve=s(475),fe=s.n(ve),Ce=s(731),Ne=s.n(Ce),Oe=s(75),ye=s(72),we=s(61);const{PASSWORD:Se}=q.a;class ke extends i.a.Component{constructor(...e){super(...e),this.uid=Object(ye.o)(),this.state={formFieldsErrors:{},isLocked:!0,isValueChanged:!1},this.cancelClickHandler=()=>{this.setState({formFieldsErrors:{},isLocked:!0})},this.submitKeyDownHandler=e=>{e.keyCode===ne.C.enter&&this.submitClickHandler(e)},this.changeHandler=()=>{this.setState({isValueChanged:["oldPassword","newPassword","reTypeNewPassword"].every(e=>Boolean(this[`${e}Ref`].value))})},this.submitClickHandler=e=>{e.preventDefault();const{updateProfile:t,userProfile:s}=this.props,{isUpdatingUser:a,isValueChanged:i}=this.state;if(a||!i)return;const o=Object(re.g)(this.formFields);if(E()(o)){const e={success:Object(d.d)("settings.changePassword.notifications.success")};t({id:s.id,oldPassword:this.formFields.oldPassword.value,password:this.formFields.newPassword.value},Se,{notifications:e})}this.setState({formFieldsErrors:o})},this.unlockButtonClickHandler=()=>{const{config:e,isXHamsterLive:t}=this.props;t?location.assign(e.data.xhlConfig.url.accountSettings.changePassword):this.setState({isLocked:!1})},this._ip=e=>{const{isUpdating:t}=this.props,s=`settings_${fe()(e)}_${this.uid}`,a=!t,o=this.state.formFieldsErrors[e];return i.a._("div",{className:"settings-field",key:e},i.a._("label",{className:"settings-label",htmlFor:s},Object(d.d)(`settings.changePassword.labels.${e}`)),i.a._("span",{className:"settings-input"},i.a._(J.a,{type:"password",disabled:!a,onKeyDown:this.submitKeyDownHandler,onChange:this.changeHandler,maxLength:ne.q,id:s,className:Object(G.c)({error:this.state.formFieldsErrors[e]}),autoCapitalize:"none",ref:t=>{this[`${e}Ref`]=t}}),Boolean(o)&&i.a._(Oe.a,{error:{message:o},targetId:s})))}}get formFields(){const{oldPasswordRef:e,newPasswordRef:t,reTypeNewPasswordRef:s}=this,a=e=>({predicate:t=>t===te()(this[`${e}Ref`].value),errorType:"passwordsDontMatch"});return{oldPassword:{value:te()(e.value),validators:[re.i.isRequiredValidator]},newPassword:{value:te()(t.value),validators:[re.i.isRequiredValidator,re.i.isPasswordValidator,a("reTypeNewPassword")]},reTypeNewPassword:{value:te()(s.value),validators:[re.i.isRequiredValidator,a("newPassword")]}}}componentDidUpdate(e){if(Object(we.g)(this.props,e))return;const{isSucceeded:t,updatePrepare:s,updateError:a}=this.props;if(t)return this.formRef.reset(),s(Se),void Object(we.i)(this,{isValueChanged:!1,isLocked:!0});Object(we.i)(this,{isValueChanged:!1,formFieldsErrors:a?Z()(Ne()(a.details,(e,t)=>"password"===t?"newPassword":t),e=>e.join(". ")):{}})}render(){const e=Object(d.d)("settings.changePassword.title"),{externalAuthServiceName:t,isUpdating:s}=this.props,{isValueChanged:a,isLocked:o}=this.state,n=!s&&a,r=t?"_external":"";return i.a._(de,{title:e,isLocked:o,lockedText:Object(d.d)(`settings.changePassword.lockedText${r}`,{serviceName:t}),onUnlock:this.unlockButtonClickHandler},i.a._("div",{className:"settings-form-wrapper"},i.a._("form",{className:"settings-form",ref:e=>{this.formRef=e}},["oldPassword","newPassword","reTypeNewPassword"].map(this._ip))),i.a._(V.a,{disabled:!n,onClick:this.submitClickHandler,size:"large",style:"apply"},Object(d.d)("settings.save")),i.a._(V.a,{onClick:this.cancelClickHandler,size:"large"},Object(d.d)("settings.cancel")))}}ke.displayName="ChangePassword";var je=Object(o.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},config:i}=e;return{config:i,currentUser:t,externalAuthServiceName:Object(K.a)(e),isLoggedIn:s&&!a,isSucceeded:Object(pe.l)(e,Se),isUpdating:Object(pe.n)(e,Se),isXHamsterLive:Object(K.j)(e),updateError:Object(pe.c)(e,Se),userProfile:Object(pe.a)(e)}},e=>Object(B.b)({updatePrepare:q.s,updateProfile:q.t},e))(ke),Ie=s(7),Te=s(46),Pe=s(233),Me=s(110);const Ee=({countryId:e,className:t})=>i.a._("div",{className:Object(G.c)("country-with-flag text-with-icon",t)},i.a._(Pe.a,{country:e,size:"small"}),i.a._("span",{className:"title"},Object(d.d)(`country.${e}`,{stripTags:!0})));Ee.displayName="CountryWithFlag";const Ae=({primaryTag:e,countryTagName:t})=>i.a._("div",{className:"language-tag text-with-icon"},i.a._(ie.a,{img:"tag"}),i.a._("span",{className:"title"},Object(d.d)(`tagGenders.${e}.${t}`,{stripTags:!0})));Ae.displayName="CountryTag";const Ue={updateSettingsCountryAppearance:q.u},He=e=>{const{primaryTag:t=Ie.x,docsCountriesIds:s,docsLanguageTags:o}=e,[n,r]=Object(a.useState)(e.countryId),[l,c]=Object(a.useState)(e.isCountryDisabled),[p,u]=Object(a.useState)(e.isCountryTagDisabled),h=l!==e.isCountryDisabled||p!==e.isCountryTagDisabled||n!==e.countryId,m=s.map(e=>({label:ne.j.touch?Object(d.d)(`country.${e}`):i.a._(Ee,{key:e,countryId:e}),value:e}));return Object(a.useEffect)(()=>{c(e.isCountryDisabled),u(e.isCountryTagDisabled),r(e.countryId)},[e.isCountryDisabled,e.isCountryTagDisabled,e.countryId]),s.length&&n&&s.includes(n)?i.a._(de,{key:"country-appearance",title:Object(d.d)("settings.countryAppearance.title"),className:"country-appearance"},i.a._("form",{className:"settings-form "},i.a._("div",{className:"field"},i.a._("label",{htmlFor:"country-display",className:"label"},Object(d.d)("settings.countryAppearance.labels.displayCountry")),i.a._(Me.a,{className:"country-switcher",size:"medium",isChecked:!l,onChange:()=>{const t=!l;t&&r(e.countryId),c(t)}}),s.length>1?i.a._($.a,{id:"country-appearance-country-select",options:m,value:n,isDisabled:l,className:"switcher-related-item",onSelect:({value:e})=>{r(e)}}):i.a._(Ee,{className:Object(G.c)("switcher-related-item",{disabled:l}),countryId:n})),!!o.length&&i.a._("div",{className:"country-tag"},i.a._("div",{className:"field"},i.a._("label",{htmlFor:"country-tag-display",className:"label"},Object(d.d)("settings.countryAppearance.labels.displayTag")),i.a._(Me.a,{className:"tag-switcher",size:"medium",isChecked:!p,onChange:()=>{u(!p)}}),i.a._("div",{className:Object(G.c)("language-tags","switcher-related-item",{disabled:p})},o.map(e=>i.a._(Ae,{key:e,primaryTag:t,countryTagName:e})))),i.a._("p",{className:"hint"},Object(d.d)("settings.countryAppearance.hint")))),i.a._(V.a,{disabled:!h,size:"large",style:"apply",onClick:()=>{e.updateSettingsCountryAppearance(l,p,n)}},Object(d.d)("settings.save"))):null};He.displayName="CountryAppearance";var Le=Object(o.c)(e=>{const t=Object(pe.a)(e),s=Object(pe.p)(e),a=Object(u.z)(e);return{primaryTag:Object(Te.k)(e),countryId:F()(t,"profileCountry",""),docsCountriesIds:s,docsLanguageTags:a,isCountryDisabled:F()(t,"isCountryDisabled",!1),isCountryTagDisabled:F()(t,"isCountryTagDisabled",!1)}},Ue)(He),Re=s(18);const{DELETE_ACCOUNT:Fe}=ne.F,De=({showModal:e})=>i.a._("div",{className:"settings-show-delete-my-account"},i.a._(V.a,{size:"small",onClick:t=>{t.preventDefault(),e(Fe)}},Object(d.d)("settings.deleteMyAccount")));De.displayName="DeleteMyAccountButton";var xe=Object(o.c)(null,e=>Object(B.b)({showModal:Re.c},e))(De),Be=s(154),Ve=s(171),ze=s(34),$e=s(166),Ge=s(107);const We={toggleModelSubscriptions:Be.e,updateNotificationSettings:Ge.i};class Ke extends i.a.Component{constructor(...e){super(...e),this.state={isPmCheckboxChecked:!1},this.checkboxRef=null,this.propsUpdateToActionsMap=[{update:["isPushEnabled"],action:e=>{const{isPushEnabled:t}=this.props,{isPushEnabled:s}=e;s!==t&&this.setState({isPmCheckboxChecked:t})}},{update:["isPmSubscriptionActive"],action:()=>{const{isPmSubscriptionActive:e}=this.props;this.state.isPmCheckboxChecked!==e&&this.setState({isPmCheckboxChecked:e})}}],this.togglePushNotification=e=>{this.props.toggleModelSubscriptions(e)},this.saveBtnClickHandler=()=>{const{isPmCheckboxChecked:e}=this.state;this.props.toggleModelSubscriptions(e,[ne.G.PRIVATE_MESSAGES])},this.checkboxClickHandler=()=>{const{checked:e}=this.checkboxRef;this.setState({isPmCheckboxChecked:!e})},this._ir=e=>{this.checkboxRef=e}}_A(){Object(ze.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(ze.a)(this.propsUpdateToActionsMap,e,this.props)}_is(){const{isPushEnabled:e}=this.props;return i.a._("div",{className:"settings-field notifications-switcher",key:"modelPushSwitcher"},i.a._("label",{className:"settings-label",htmlFor:"push"},Object(d.d)("settings.modelNotifications.privateTipsLabel"),":"),i.a._("span",{className:"settings-input"},i.a._(Me.a,{size:"medium",isChecked:e,onChange:this.togglePushNotification})))}_I8(){return i.a._("div",{className:"settings-field notifications-description",key:"modelPushDescription"},Object(d.d)("settings.modelNotifications.privateTipsDesc"))}_it(){const{isPmSubscriptionActive:e,isPushEnabled:t}=this.props,{isPmCheckboxChecked:s}=this.state;return t?i.a._(a.Fragment,null,i.a._("div",{className:"settings-field notifications-checkbox",key:"modelPushCheckbox"},i.a._("input",{ref:this._ir,className:"checkbox checkbox-small white settings-label",id:"private_messages_push",type:"checkbox",checked:s}),i.a._("label",{onClick:this.checkboxClickHandler,className:"settings-input",htmlFor:"private_messages_push"},Object(d.d)("settings.modelNotifications.privateMessagesLabel"))),i.a._(V.a,{className:Object(G.c)({disabled:e===s}),style:"apply",onClick:this.saveBtnClickHandler},Object(d.d)("button.save"))):null}render(){const{isPushAvailable:e}=this.props;if(!e)return null;const t=i.a._(ae.a,{messageId:"settings.modelNotifications.tooltip",elements:{link:i.a._("a",{target:"_blank",rel:"noopener noreferrer",href:"https://caniuse.com/#search=push"})}});return i.a._(de,{key:"settings-model-notifications",id:"settings-model-notifications",title:Object(d.d)("settings.modelNotifications.title"),tooltip:t},i.a._("form",{className:"settings-form settings-form-model-notifications"},this._is(),this._I8(),this._it()))}}Ke.displayName="ModelNotificationsSettings";var qe=Object(o.c)(e=>{const{config:{data:{features:t}}}=e;return{isPmSubscriptionActive:Object(Ve.c)(e),isPushAvailable:Object($e.b)()&&F()(t,"notifications.push"),isPushEnabled:Object(Ve.b)(e)}},We)(Ke),Je=s(104),Ye=s(73);class Xe extends i.a.Component{constructor(...e){super(...e),this.state={shouldKeepComponentVisible:!1},this.togglePlayer=({value:e})=>{const{broadcastType:t}=this.props;e!==t&&this.props.changeBroadcastPlayer(e,!0)}}componentDidUpdate(e){const{broadcastType:t}=e,{broadcastType:s}=this.props,a=t!==s&&s===Ie.Eb.WEBRTC;a&&this.setState({shouldKeepComponentVisible:a})}render(){const{broadcastType:e}=this.props,{shouldKeepComponentVisible:t}=this.state;if(ne.j.touch)return null;if(e===Ie.Eb.WEBRTC&&!t)return null;const{FLASH:s,WEBRTC:a}=Ie.Eb,o=k()([a,s],e=>({value:e,label:Object(d.d)(`settings.player.fields.${e}`)}));return i.a._(de,{key:"player",title:Object(d.d)("settings.player.title")},i.a._("form",{className:"settings-form settings-form-player"},i.a._("div",{className:Object(G.c)("settings-field")},i.a._("label",{className:"settings-label"},Object(d.d)("settings.player.labels.type")),i.a._("span",{className:"settings-input"},i.a._($.a,{onSelect:this.togglePlayer,options:o,value:e})))))}}Xe.displayName="PlayerSwitcher";const Qe={changeBroadcastPlayer:Je.g};var Ze=Object(o.c)(e=>({broadcastType:Object(Ye.x)(e)}),Qe)(Xe),et=s(210),tt=s.n(et),st=s(70),at=s.n(st);function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const{SETTINGS_PRIVACY:ot}=q.a,nt=e=>{if(!e)return[];const t=[{field:"showProfileTo",enabled:!e.isModel},{field:"showTokensTo",enabled:!e.isStudio&&!e.isModel},{field:"whoCanChat",enabled:e.isModel}];return k()(at()(t,"enabled"),"field")};class rt extends i.a.Component{constructor(...e){super(...e),this.state={...rt.getDerivedStateFromProps(this.props),privacyFields:nt(this.props.userProfile),userModified:this.props.userProfile},this.savePrivacyButtonClickHandler=()=>{const{privacyFields:e,userModified:t}=this.state,{updateProfile:s}=this.props;s(O()(t,e),ot)},this.selectFieldChangeHandler=b()(e=>({value:t})=>{const s=/^rates\./,a=s.test(e)?e.replace(s,"").concat("Rate"):e,i=x()(this.state.userModified);i[a]=t,this.setState({userModified:i})})}componentDidUpdate(e){this.props.isSucceeded&&!Object(we.g)(this.props,e)&&this.props.updatePrepare(ot)}static getDerivedStateFromProps(e){const{isSucceeded:t,updateError:s}=e;return t?{isValueChanged:!1,isLocked:!0}:{isValueChanged:!1,formFieldsErrors:s?Z()(s.details,e=>e.join(". ")):{}}}_iu(e){const{availableSettings:t}=this.props,{fieldName:s,fieldClassName:a,settingName:o,...n}=e,r=`settings_${o}_${s}`;return tt()(n,"inputProps.id",r),i.a._("div",{className:Object(G.c)("settings-field",a),key:s},i.a._("label",{className:"settings-label",htmlFor:r},Object(d.d)(`settings.${o}.labels.${s}`)),i.a._("span",{className:"settings-input"},i.a._($.a,it({value:F()(this.state.userModified,s),onSelect:this.selectFieldChangeHandler(s),options:k()(F()(t,s),e=>{const t=`settings.${o}.options.${s}.${e}`,a=Object(d.d)(t);return{value:e,label:a===t?e:a}})},n))))}render(){const{isUpdating:e}=this.props,{privacyFields:t}=this.state,s=P()(O()(this.props.userProfile,t),O()(this.state.userModified,t)),a=e||s;return i.a._(de,{key:"privacy",title:Object(d.d)("settings.privacy.title")},i.a._("form",{className:"settings-form settings-form-privacy"},k()(t,e=>this._iu({fieldName:e,settingName:"privacy"}))),i.a._(V.a,{disabled:a,onClick:this.savePrivacyButtonClickHandler,size:"large",style:"apply"},Object(d.d)("settings.save")))}}rt.displayName="PrivacySettings";var lt=Object(o.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},availableSettings:{data:i}}=e;return{availableSettings:i,currentUser:t,isLoggedIn:s&&!a,isUpdating:Object(pe.n)(e,ot),isSucceeded:Object(pe.l)(e,ot),updateError:Object(pe.c)(e,ot),userProfile:Object(pe.a)(e)}},e=>Object(B.b)({updatePrepare:q.s,updateProfile:q.t},e))(rt),ct=s(86);const dt={updateProfile:q.t};class pt extends i.a.Component{constructor(...e){super(...e),this.togglePrivateRecord=e=>{const t={success:Object(d.d)("notifications.updateProfileSuccess.settings"),error:Object(d.d)("notifications.updateProfileError.settings")};this.props.updateProfile({isStorePrivateRecordings:e},q.a.SETTINGS_PRIVATE_RECORD,{notifications:t})}}_iv(){const{shouldStorePrivates:e}=this.props;return i.a._("div",{className:"settings-field private-records-switcher",key:"privateRecordsSwitcher"},i.a._("label",{className:"settings-label",htmlFor:"privateRecords"},Object(d.d)("settings.privateRecords.allowRecordingLabel"),":"),i.a._("span",{className:"settings-input"},i.a._(Me.a,{size:"medium",isChecked:e,onChange:this.togglePrivateRecord})))}render(){const{recordPrivateSettingsEnabled:e}=this.props;return e?i.a._(de,{id:"private-show-records",key:"private-show-records",title:Object(d.d)("settings.privateRecords.title"),tooltip:Object(d.d)("settings.privateRecords.tooltip")},i.a._("form",{className:"settings-form settings-form-private-records"},this._iv())):null}}pt.displayName="PrivateRecordsSettings";var ut=Object(o.c)(e=>({shouldStorePrivates:Object(ct.c)(e),recordPrivateSettingsEnabled:Object(ct.q)(e)}),dt)(pt),ht=s(15),mt=s(28);const gt={showModal:Re.c};class bt extends i.a.Component{constructor(...e){super(...e),this.toggleTwoFactorAuth=e=>{e?this.props.showModal(ne.F.TWO_FACTOR_AUTH,{step:ht.D.ENABLE}):this.props.showModal(ne.F.TWO_FACTOR_AUTH,{step:ht.D.DISABLE})}}_iw(){const{twoFactorAuthEnabled:e}=this.props;return i.a._("div",{className:"settings-field two-factor-auth-switcher",key:"twoFactorAuthSwitcher"},i.a._("label",{className:"settings-label"},Object(d.d)("settings.twoFactorAuth.switcher"),":"),i.a._("span",{className:"settings-input"},i.a._(Me.a,{size:"medium",isChecked:e,onChange:this.toggleTwoFactorAuth})))}_I8(){const{isStudioOrStudioModel:e}=this.props;return i.a._("div",{className:"settings-field two-factor-auth-description"},Object(d.d)("settings.twoFactorAuth.description")," ",e&&Object(d.d)("settings.twoFactorAuth.descriptionStudio"))}render(){const{twoFactorAuthAvailable:e}=this.props;return e?i.a._(de,{key:"two-factor-auth",title:Object(d.d)("settings.twoFactorAuth.title")},i.a._("form",{className:"settings-form settings-form-two-factor-auth"},this._iw(),this._I8())):null}}bt.displayName="TwoFactorAuthSettings";var _t=Object(o.c)(e=>({twoFactorAuthEnabled:Object(pe.o)(e),twoFactorAuthAvailable:Object(u.x)(e),isStudioOrStudioModel:Object(pe.k)(e)||Object(mt.e)(e)}),gt)(bt);const vt=["bannedCountries","bannedStates"],ft=({bannedCountries:e,bannedStates:t})=>({bannedCountries:C()(I()(t).concat(e)),bannedStates:t});class Ct extends i.a.Component{constructor(...e){super(...e),this.state={userModified:this.props.userProfile},this.saveSettings=(e,t)=>{const s={success:Object(d.d)("notifications.updateProfileSuccess.settings"),error:Object(d.d)("notifications.updateProfileError.settings")};this.props.updateProfile(e,t,{notifications:s})},this.bannedCountriesSelectHandler=e=>{const{userModified:t}=this.state,s=k()(e,"value"),a=v()(s,...I()(t.bannedStates)),i=O()(t.bannedStates,s);this.setState({userModified:{...t,bannedCountries:a,bannedStates:i}})},this.bannedRegionsSelectHandler=(e,t=[])=>{const{userModified:{bannedCountries:s,bannedStates:a}}=this.state;let i={...a},o=[...s];E()(t)?(i=w()(i,e),o.push(e)):(i[e]=k()(t,"value"),o=v()(o,...I()(i))),this.setState({userModified:{...this.state.userModified,bannedCountries:o,bannedStates:i}})},this.saveBannedCountriesButtonClickHandler=()=>{this.saveSettings(O()(this.state.userModified,vt),q.a.SETTINGS_BANNED)},this.selectFieldChangeHandler=b()(e=>({value:t})=>{const s=/^rates\./,a=s.test(e)?e.replace(s,"").concat("Rate"):e;this.setState(e=>{const s=x()(e.userModified);return s[a]=t,{userModified:s}})})}_ix(){const{countries:e,regions:t}=this.props.config,s=ft(this.props.userProfile),a=ft(this.state.userModified),o=E()(s.bannedStates)?E()(a.bannedStates):P()(s.bannedStates,a.bannedStates),n=this.props.isPending||P()(s.bannedCountries,a.bannedCountries)&&o,r=e.map(({code:e})=>({label:Object(d.d)(`country.${e}`),value:e})),l=L()(I()(t),a.bannedCountries);return i.a._(de,{key:"bannedCountries",title:Object(d.d)("settings.bannedCountries.title")},i.a._("form",{className:"settings-form settings-form-inline settings-form-banned-countries"},i.a._("div",{className:Object(G.c)("settings-field")},i.a._($.a,{isClearable:!0,isMultiple:!0,isSearchable:!0,onSelect:this.bannedCountriesSelectHandler,options:r,value:a.bannedCountries}))),l.map(s=>i.a._(X,{country:U()(e,{code:s}),key:s,onSelect:this.bannedRegionsSelectHandler,regions:t[s],value:F()(a.bannedStates,s,[])})),i.a._(V.a,{disabled:n,onClick:this.saveBannedCountriesButtonClickHandler,size:"large",style:"apply"},Object(d.d)("settings.save")))}render(){const{availableSettings:e,canDeleteAccount:t,isPending:s,isSandbox:a,userProfile:o}=this.props;return e&&o?i.a._("div",{className:Object(G.c)("settings-content",{"is-pending":s})},i.a._("div",{className:"settings-wrapper"},i.a._("div",{className:"settings-left"},!a&&i.a._(ut,null),this._ix(),i.a._(lt,null),!a&&i.a._(Le,null)),!a&&i.a._("div",{className:"settings-right"},i.a._(_e,null),i.a._(je,null),i.a._(_t,null),i.a._(Ze,null),i.a._(qe,null))),t&&i.a._(xe,null)):i.a._("div",{className:"loader-container"},i.a._(z.a,{isCentered:!0}))}}Ct.displayName="ModelSettings";var Nt=Object(o.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},availableSettings:{data:i,isPending:o},config:{data:n}}=e,r=Object(pe.a)(e);return{availableSettings:i,canDeleteAccount:!Object(K.j)(e)&&!r.studioId,config:n,currentUser:t,isLoggedIn:s&&!a,isSandbox:Object(W.b)(e),isPending:o,userProfile:r}},e=>Object(B.b)({updateProfile:q.t},e))(Ct),Ot=s(438);class yt extends i.a.Component{constructor(...e){super(...e),this.togglePushNotification=e=>{this.props.updateNotificationSettings({isPushEnabled:e})},this.toggleEmailNotification=e=>{this.props.updateNotificationSettings({isEmailEnabled:e})},this._iy=()=>{const{isEmailAvailable:e,isEmailEnabled:t}=this.props;return e?i.a._("div",{className:Object(G.c)("settings-field"),key:"mail"},i.a._("label",{className:"settings-label",htmlFor:"mail"},Object(d.d)("settings.notifications.labels.mail")),i.a._("span",{className:"settings-input"},i.a._(Me.a,{size:"medium",isChecked:t,onChange:this.toggleEmailNotification}))):null},this._iz=()=>{const{isPushAvailable:e,isPushEnabled:t}=this.props;return e?i.a._("div",{className:"settings-field push-notifications-settings",key:"push"},i.a._("label",{className:"settings-label",htmlFor:"push"},Object(d.d)("settings.notifications.labels.push")),i.a._("span",{className:"settings-input"},i.a._(Me.a,{size:"medium",isChecked:t,onChange:this.togglePushNotification}))):null}}render(){return i.a._(de,{key:"notifications",title:Object(d.d)("settings.notifications.title")},i.a._("form",{className:"settings-form settings-form-notifications"},this._iy(),this._iz()))}}yt.displayName="NotificationsSettings";const wt={hide:n.c,updateNotificationSettings:Ge.i};var St=Object(o.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},config:{data:{features:i}},personalNotifications:{isPushEnabled:o,isEmailEnabled:n}}=e;return{currentUser:t,isEmailAvailable:F()(i,"notifications.email"),isEmailEnabled:n,isLoggedIn:s&&!a,isPushAvailable:F()(i,"notifications.push"),isPushEnabled:o}},wt)(yt),kt=s(596);const jt="id";class It extends i.a.Component{constructor(...e){super(...e),this.state={type:jt,file:null},this.documentChangeHandler=({type:e,file:t,isReady:s})=>{const{validateDocument:a}=this.props;s&&(a({type:e,file:t}),this.setState({type:e,file:t}))},this.saveButtonClickHandler=()=>{const{upload:e}=this.props,{type:t,file:s}=this.state;e({type:t,file:s})}}render(){const{isLoading:e,isDocumentUploaded:t,isUpdating:s,error:a}=this.props,{file:o}=this.state,n=Boolean(e||s||t||!o||a);return i.a._(de,{key:"person",title:Object(d.d)("settings.person.title")},i.a._(kt.a,{document:t?{status:"uploaded"}:{},type:jt,error:a,isPending:e||s,isReadOnly:t,isShowPreview:!t,onChange:this.documentChangeHandler}),i.a._(V.a,{disabled:n,onClick:this.saveButtonClickHandler,size:"large",style:"apply"},Object(d.d)("settings.save")))}}It.displayName="PersonSettings";var Tt=Object(o.c)(e=>{const{studioSettings:{isLoading:t,isUpdating:s,isDocumentUploaded:a,error:i}}=e;return{isLoading:t,isUpdating:s,error:i,isDocumentUploaded:a}},e=>Object(B.b)({upload:Ot.b,validateDocument:Ot.c},e))(It),Pt=s(106),Mt=s.n(Pt),Et=s(39),At=s.n(Et),Ut=s(173),Ht=s.n(Ut),Lt=s(35),Rt=s.n(Lt),Ft=s(79),Dt=s.n(Ft),xt=s(279),Bt=s.n(xt);class Vt extends i.a.Component{constructor(...e){super(...e),this.state={values:this.props.value,errorValues:this.props.errorValues},this.updateValue=()=>{const{onChange:e}=this.props,{values:t}=this.state;e&&e(t)},this.removeItem=b()(e=>()=>{const{values:t}=this.state;this.setState({values:v()(t,e)},this.updateValue)}),this.addItem=e=>{const{inputRef:t}=this,{values:s}=this.state;te()(e)&&(this.setState({values:C()(Bt()(s,e))},this.updateValue),t.value="")},this.clickContainerHandler=()=>{this.inputRef.focus()},this._Cb=e=>{const{inputRef:t}=this;switch(e.keyCode){case ne.C.backspace:if(!t.value){const{values:e}=this.state;this.removeItem(Ht()(e))}break;case ne.C.enter:this.addItem(t.value),e.preventDefault(),e.stopPropagation()}},this.pasteEventHandler=Dt()(()=>{if(this.inputRef){const{value:e}=this.inputRef;this.addItem(e)}},100),this.blurEventHandler=()=>{const{inputRef:e}=this;e&&(e.value="")},this._H8=()=>{const{values:e,errorValues:t}=this.state;return e.map(e=>i.a._("span",{className:Object(G.c)("multiple-item",{error:Rt()(t,e)}),key:e},e,i.a._("div",{className:"multiple-item-remove",onClick:this.removeItem(e)},i.a._(ie.a,{img:"close-4",size:15}))))}}componentDidUpdate(e){if(Object(we.g)(this.props,e))return;const{value:t,errorValues:s}=this.props;Object(we.i)(this,{values:t,errorValues:s})}get value(){return this.state.values}render(){const{className:e,display:t,size:s}=this.props,a=Object(G.c)({input:!0},`text-${s}`,t,"multiple",e);return i.a._("div",{onClick:this.clickContainerHandler,className:a},this._H8(),i.a._("input",{ref:e=>{this.inputRef=e},onKeyDown:this._Cb,onPaste:this.pasteEventHandler,onBlur:this.blurEventHandler}))}}Vt.displayName="MultipleInput",Vt.defaultProps={values:[],errorValues:[],onChange:At.a,display:"inline-block",size:"default"};var zt=Vt;const{STUDIO_STAFF:$t}=q.a,Gt=[];class Wt extends i.a.Component{constructor(...e){super(...e),this.state={hasInputValueChanged:!1,staffUsernames:Gt,notFoundUsernames:Gt,error:null},this.saveButtonClickHandler=()=>{const{updateStaff:e}=this.props,{staffUsernames:t,error:s}=this.state;s||e(t)},this.inputFieldChangeHandler=e=>{const t=L()(this.state.notFoundUsernames,e);let s;e.length>10&&(s=Object(d.d)("settings.staff.errors.limit",{count:10})),t.length>0&&(s=Object(d.d)("settings.staff.errors.notFoundValues",{users:t.join(", ")})),this.setState({error:s,hasInputValueChanged:!0,notFoundUsernames:t,staffUsernames:e})}}componentDidUpdate(e){if(Object(we.g)(this.props,e))return;const{isUpdating:t,staffUsers:s}=this.props,{staffUsernames:a}=this.state;if(t)return void Object(we.i)(this,{staffUsernames:a,error:null,notFoundUsernames:Gt});const i=s.map(e=>F()(e,"username")),o=a.filter(e=>i.every(t=>t.toUpperCase()!==e.toUpperCase()));let n;o.length>0?n=Object(d.d)("settings.staff.errors.notFoundValues",{users:o.join(", ")}):i.length+o.length>10&&(n=Object(d.d)("settings.staff.errors.limit",{count:10}));const r=[...i,...o];Object(we.i)(this,{hasInputValueChanged:!1,staffUsernames:r,notFoundUsernames:o,error:n})}render(){const{isUpdating:e}=this.props,{error:t,hasInputValueChanged:s,notFoundUsernames:a,staffUsernames:o}=this.state,n=Mt()("staff_");return i.a._(de,{key:"staff",title:Object(d.d)("settings.staff.title")},i.a._("form",{className:"settings-form settings-form-privacy"},i.a._("div",{className:"settings-field",id:n},i.a._("label",{className:"settings-label"},Object(d.d)("settings.staff.labels.myStaff")),i.a._("span",{className:"settings-input"},i.a._(zt,{errorValues:a,value:o,onChange:this.inputFieldChangeHandler}),Boolean(t)&&i.a._(Oe.a,{error:{message:t},targetId:n})))),i.a._(V.a,{disabled:Boolean(t)||e||!s,onClick:this.saveButtonClickHandler,size:"large",style:"apply"},Object(d.d)("settings.save")))}}Wt.displayName="StaffSettings";const Kt={updateStaff:q.v};var qt=Object(o.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},config:i}=e,o=Object(pe.a)(e),n=o?at()(Object(mt.t)(e,o.staffIds).toArray(),e=>!e.isDeleted):Gt;return{config:i,currentUser:t,isLoggedIn:s&&!a,isUpdating:Object(pe.n)(e,$t),isSucceeded:Object(pe.l)(e,$t),staffUsers:n,updateError:Object(pe.c)(e,$t)}},Kt)(Wt);class Jt extends i.a.Component{_A(){this.props.load()}render(){const{isPending:e,userProfile:t}=this.props;return e||!t?i.a._("div",{className:"loader-container"},i.a._(z.a,{isCentered:!0})):i.a._("div",{className:Object(G.c)("settings-content",{"is-pending":e})},i.a._("div",{className:"settings-wrapper"},i.a._("div",{className:"settings-left"},i.a._(lt,null),i.a._(qt,null),i.a._(Tt,null),i.a._(St,null)),i.a._("div",{className:"settings-right"},i.a._(_e,null),i.a._(je,null),i.a._(_t,null))))}}Jt.displayName="StudioSettings";var Yt=Object(o.c)(e=>{const{availableSettings:{isPending:t}}=e;return{isPending:t,userProfile:Object(pe.a)(e)}},{load:Ot.a})(Jt);class Xt extends i.a.Component{render(){const{isPending:e,isSandbox:t,userProfile:s}=this.props;return e||!s?i.a._("div",{className:"loader-container"},i.a._(z.a,{isCentered:!0})):i.a._("div",{className:Object(G.c)("settings-content",{"is-pending":e})},i.a._("div",{className:"settings-wrapper"},i.a._("div",{className:"settings-left"},i.a._(lt,null),!t&&i.a._(St,null)),!t&&i.a._("div",{className:"settings-right"},i.a._(_e,null),i.a._(je,null),i.a._(_t,null))),i.a._(xe,null))}}Xt.displayName="UserSettings";var Qt=Object(o.c)(e=>{const{availableSettings:{isPending:t}}=e;return{isPending:t,isSandbox:Object(W.b)(e),userProfile:Object(pe.a)(e)}},e=>Object(B.b)({updateProfile:q.t,updatePrepare:q.s},e))(Xt),Zt=s(25);function es(){return(es=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class ts extends i.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:Zt.c,action:()=>{const{currentUser:e,loadAvailableSettings:t,loadMoreUsers:s}=this.props;t(),e.isStudio&&s(e.staffIds)}},{update:u.q,action:()=>{const{showErrorNotification:e,landingParams:{error:t}}=this.props;t&&e(Object(d.d)(t))}}]}_k(){const{currentUser:e}=this.props;return e.isModel?i.a._(Nt,null):e.isStudio?i.a._(Yt,null):i.a._(Qt,null)}render(){const{isLoggedIn:e}=this.props;let t;return t=e?i.a._("div",{className:"settings-page"},i.a._("div",{className:"page container"},i.a._("div",{className:"page-header"},i.a._(c.a,null,Object(d.d)("settings.title"))),this._k())):null,i.a._(l.a,es({propsUpdateToActionsMap:this.propsUpdateToActionsMap},this.props),i.a._(r.a,{titleKey:"seo.title.settings"},t))}}ts.displayName="SettingsPage",ts.checkAccess=p.j;const ss={loadAvailableSettings:h.a,loadMoreUsers:m.d,showErrorNotification:n.b};t.a=Object(o.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a}}=e;return{landingParams:Object(u.q)(e),currentUser:t,isLoggedIn:s&&!a}},ss)(ts)},,function(e,t,s){"use strict";var a=s(8),i=s.n(a),o=s(0),n=s.n(o),r=s(5),l=s(206),c=s(65),d=s(161),p=s(41),u=s(263),h=s(38),m=s.n(h),g=s(46),b=s(387),_=s(97),v=s(1);const f=e=>n.a._(n.a.Fragment,null,n.a._("div",{className:"page-header"},n.a._(_.a,{className:"my-collection-title"},Object(v.d)("myCollection.header"))),n.a._("div",{className:"model-list-content"},n.a._(b.a,{description:Object(v.d)("myCollection.empty.description"),icon:"album",title:Object(v.d)("myCollection.empty.title"),preferredTagUrl:e.preferredTagUrl})));f.displayName="MyCollectionEmpty";var C=f,N=s(13);const O=({onLoadMoreModels:e})=>n.a._("div",{className:"my-collection-load-more"},n.a._(N.a,{size:"medium",style:"default",onClick:e},Object(v.d)("button.showMore")));O.displayName="MyCollectionLoadMoreModels";var y=O,w=s(30),S=s(48),k=s(58),j=s(18),I=s(17),T=s(12),P=s(235),M=s(6),E=s(43),A=s(3),U=s(10),H=s(124),L=s(390),R=s(357),F=s(90),D=s(143),x=s(493),B=s(28);class V extends n.a.PureComponent{constructor(...e){super(...e),this._j0=()=>{this.props.onGoToSettingsClick(this.props.album)},this._j1=()=>{this.props.onGoToSettingsClick(this.props.album)},this._j2=()=>{this.props.onSubscribeOnFanClubClick(this.props.album)}}render(){const{userOwner:e,album:t}=this.props,{accessMode:s}=t,{FRIENDS:a,PAID:i,VERIFIED_USERS:o,FAN_CLUB:r}=F.a;return s===r?n.a._("div",{className:"photos-gallery"},n.a._("div",{className:"description-icon"},n.a._(M.a,{img:"diamond-circle",size:48})),n.a._("div",{className:"description"},Object(v.d)("myCollection.restrictedMessages.fanClub.title"),n.a._("br",null),Object(v.d)("myCollection.restrictedMessages.fanClub.description",{modelName:e.username})),n.a._("div",{className:"action"},n.a._(N.a,{style:"apply-alter",size:"medium",onClick:this._j2},Object(v.d)("gallery.albums.accessModeDescription.paid.buttonTitle")))):s===a?n.a._("div",{className:"photos-gallery"},n.a._("div",{className:"description-icon"},n.a._(M.a,{img:"users-in-circle",size:48})),n.a._("div",{className:"description"},Object(v.d)("gallery.albums.accessModeDescription.friends.title"),n.a._("br",null),n.a._(T.a,{messageId:"gallery.albums.accessModeDescription.friends.description",elements:{albumOwnerUsername:n.a._("strong",null,e.username)}}))):s===o?n.a._("div",{className:"photos-gallery"},n.a._("div",{className:"description-icon"},n.a._(M.a,{img:"user-verified-in-circle",size:48})),n.a._("div",{className:"description"},Object(v.d)("gallery.albums.accessModeDescription.verified.description")),n.a._("div",{className:"action"},n.a._(N.a,{style:"apply-alter",size:"medium",onClick:this._j0},Object(v.d)("gallery.albums.accessModeDescription.verified.buttonTitle")))):s===i?n.a._("div",{className:"photos-gallery"},n.a._("div",{className:"description-icon"},n.a._(M.a,{img:"lock-in-circle",size:48})),n.a._("div",{className:"description"},n.a._(T.a,{choiceParameter:"cost",elements:{amount:n.a._("strong",null,t.cost)},messageId:"gallery.albums.accessModeDescription.paid.title",parameters:{cost:t.cost}}),n.a._("br",null),n.a._(T.a,{messageId:"gallery.albums.accessModeDescription.paid.description",elements:{albumName:n.a._("strong",null,t.name)}})),n.a._("div",{className:"action"},n.a._(N.a,{style:"apply-alter",size:"medium",onClick:this._j1},Object(v.d)("gallery.albums.accessModeDescription.paid.buttonTitle")))):null}}V.displayName="MyCollectionModelContentRestrictedMessage";const z={[F.a.FAN_CLUB]:{icon:"diamond",tooltipText:"myCollection.fanClubContent"},[F.a.PAID]:{icon:"unlocked",tooltipText:"myCollection.purchasedContent"},[F.a.UNPUBLISHED]:{icon:"spy-off",tooltipText:""}},$={deleteAlbum:u.c,deleteVideo:u.e,deletePrivateVideo:u.d,emitButtonEvent:I.b,emitJoinFanClubButtonEvent:I.c,loadCollection:u.f,loadCam:S.m,routerPush:p.H,showModal:j.c};class G extends n.a.Component{constructor(...e){super(...e),this.state={isEditMode:!1,deletedAlbumIds:m.a.Set(),deletedVideoIds:m.a.Set(),deletedPrivateVideoIds:m.a.Set(),albums:i.a.instanceOf(m.a.OrderedSet),privateVideos:i.a.instanceOf(m.a.OrderedSet),videos:i.a.instanceOf(m.a.OrderedSet),models:i.a.instanceOf(m.a.OrderedSet),morePhotos:i.a.number,moreVideos:i.a.number,profileUrl:i.a.string,username:i.a.string,user:i.a.object},this.mediaCollectionHeaderClickHandler=()=>{this.setState({deletedAlbumIds:m.a.Set(),deletedVideoIds:m.a.Set(),deletedPrivateVideoIds:m.a.Set(),isEditMode:!1})},this.videoThumbClickHandler=e=>{const{currentTarget:{dataset:{hasFailedProcessing:t,isProcessing:s,videoId:a,userId:i}}}=e,{user:o}=this.props,{isEditMode:n}=this.state;n||t||s||this.props.showModal(A.F.WATCH_VIDEO,{isOwnProfile:!1,shouldPreventToggleCollection:!0,user:o,userId:Number(i),videoId:Number(a)})},this._j3=e=>{const{user:t}=this.props;this.props.emitButtonEvent(A.b.USER_GALLERY_BUY_ALBUM,{userId:t.id,albumId:e.id})},this._j4=()=>{this.props.emitButtonEvent(A.b.USER_GALLERY_GO_TO_SETTINGS)},this._j5=async()=>{await this.props.loadCam(this.props.user.username),this.props.emitJoinFanClubButtonEvent()},this.editButtonClickHandler=()=>{const{deletedAlbumIds:e,deletedVideoIds:t,deletedPrivateVideoIds:s,isEditMode:a}=this.state,{albums:i,user:o,videos:n,privateVideos:r}=this.props,l=e.size+t.size,c=i.size+n.size+r.size;if(this.setState({deletedAlbumIds:m.a.Set(),deletedVideoIds:m.a.Set(),deletedPrivateVideoIds:m.a.Set(),isEditMode:!a}),a){const a=e.map(e=>this.props.deleteAlbum(e,o.id)),i=t.map(e=>this.props.deleteVideo(e,o.id)),n=s.map(e=>this.props.deletePrivateVideo(e,o.id));l>=c&&Promise.all([...a,...i,...n]).then(()=>this.props.routerPush("/collection"))}},this.deleteAlbumClickHandler=e=>{const{currentTarget:{dataset:{albumId:t}}}=e;this.setState(({deletedAlbumIds:e})=>({deletedAlbumIds:e.add(Number(t))}))},this.restoreAlbumClickHandler=e=>{const{currentTarget:{dataset:{albumId:t}}}=e;this.setState(({deletedAlbumIds:e})=>({deletedAlbumIds:e.delete(Number(t))}))},this.deleteVideoClickHandler=e=>{const{currentTarget:{dataset:{videoId:t}}}=e;this.setState(({deletedVideoIds:e})=>({deletedVideoIds:e.add(Number(t))}))},this.deletePrivateVideoClickHandler=e=>{const{currentTarget:{dataset:{videoId:t}}}=e;this.setState(({deletedPrivateVideoIds:e})=>({deletedPrivateVideoIds:e.add(Number(t))}))},this.restoreVideoClickHandler=e=>{const{currentTarget:{dataset:{videoId:t}}}=e;this.setState(({deletedVideoIds:e})=>({deletedVideoIds:e.delete(Number(t))}))},this.restorePrivateVideoClickHandler=e=>{const{currentTarget:{dataset:{videoId:t}}}=e;this.setState(({deletedPrivateVideoIds:e})=>({deletedPrivateVideoIds:e.delete(Number(t))}))}}_Ie(){const{isEditMode:e}=this.state;return n.a._(P.a,{isActive:e,onClick:this.editButtonClickHandler})}_j6(e){if(!this.state.isEditMode){if(!Object(D.a)(e))return null;const t=z[e.accessMode];if(!t)return null;const s=`my_collection_unlocked_${e.id}`;return n.a._("div",{className:"access-mode-controls"},n.a._("div",{className:"access-mode",id:s},n.a._(M.a,{img:t.icon}),n.a._(E.a,{isMobileRelative:!1,placement:"left",targetId:s},Object(v.d)(t.tooltipText))))}return this.state.deletedAlbumIds.has(e.id)?n.a._("div",{className:"access-mode-controls"},n.a._(N.a,{className:"btn-restore",onClick:this.restoreAlbumClickHandler,"data-album-id":e.id,size:"extra-small"},Object(v.d)("button.restore"))):n.a._("div",{className:"access-mode-controls"},n.a._("div",{className:"delete-album-button",onClick:this.deleteAlbumClickHandler,"data-album-id":e.id},n.a._(M.a,{img:"trash",size:16})))}_j7(e){const{user:t}=this.props;return n.a._(V,{album:e,userOwner:t,onGetAccessClick:this._j3,onGoToSettingsClick:this._j4,onSubscribeOnFanClubClick:this._j5})}_Jw({album:e,photos:t}){const{user:s}=this.props,{id:a,name:i,photosCount:o}=e,r=this.state.deletedAlbumIds.has(a),l=Object(D.a)(e);return n.a._(n.a.Fragment,{key:a},n.a._("div",{className:Object(U.c)("my-collection-content-header",{faded:r})},n.a._("div",{className:"header-icon"},n.a._(M.a,{img:"album",size:16})),n.a._("div",{className:"name"},i,n.a._("span",{className:"count"},o)),this._j6(e)),n.a._("div",{className:Object(U.c)("model-list-content",{faded:r,restricted:!l})},l?n.a._(L.a,{albumId:a,albumPhotos:t,selectedAlbum:e,isAlbumAccessGranted:!0,isScrollable:!1,user:s,shouldPreventToggleCollection:!0}):this._j7(e)))}_j8(){const{user:e,videos:t}=this.props,{deletedVideoIds:s,isEditMode:a}=this.state;return n.a._(n.a.Fragment,null,n.a._("div",{className:"my-collection-content-header"},n.a._("div",{className:"header-icon"},n.a._(M.a,{img:"camera",size:16})),n.a._("div",{className:"name"},Object(v.d)("myCollection.videos"),n.a._("span",{className:"count"},t.size))),n.a._("div",{className:"model-list-content"},n.a._(R.a,{listItemClassName:"model-list-item",isEditMode:a,isOwnProfile:!1,user:e,videos:t.toArray(),deletedVideoIds:s,thumbClickHandler:this.videoThumbClickHandler,deleteClickHandler:this.deleteVideoClickHandler,restoreClickHandler:this.restoreVideoClickHandler})))}_j9(){const{user:e,privateVideos:t}=this.props,{deletedPrivateVideoIds:s,isEditMode:a}=this.state;return n.a._(n.a.Fragment,null,n.a._("div",{className:"my-collection-content-header"},n.a._("div",{className:"header-icon"},n.a._(M.a,{img:"camera",size:16})),n.a._("div",{className:"name"},Object(v.d)("myCollection.privateShows"),n.a._("span",{className:"count"},t.size))),n.a._("div",{className:"model-list-content"},n.a._(R.a,{listItemClassName:"model-list-item",isEditMode:a,isOwnProfile:!1,user:e,videos:t.toArray(),deletedVideoIds:s,shouldHideCounter:!0,thumbClickHandler:this.videoThumbClickHandler,deleteClickHandler:this.deletePrivateVideoClickHandler,restoreClickHandler:this.restorePrivateVideoClickHandler})))}_B7(){const{profileUrl:e,user:t}=this.props;return n.a._("div",{className:"page-header"},n.a._(_.a,null,n.a._(w.a,{to:"/collection",onClick:this.mediaCollectionHeaderClickHandler},n.a._("span",{className:"media-up-to-s-hidden"},Object(v.d)("myCollection.header")),n.a._("span",{className:"media-after-m-hidden"},n.a._(M.a,{img:"prev-small",size:18}))),Boolean(t)&&n.a._(n.a.Fragment,null,n.a._("span",{className:"media-up-to-s-hidden"},n.a._(M.a,{img:"next-small",size:12})),n.a._(w.a,{to:e,className:"name"},n.a._(H.b,{size:30,user:t,showOnlineStatus:!0}),t.username)),n.a._("div",{className:"stud"}),this._Ie()))}_B8(){const{morePhotos:e,moreVideos:t,profileUrl:s}=this.props;if(e<=0&&t<=0)return null;const a=e>0?n.a._(n.a.Fragment,null," ",n.a._(T.a,{messageId:"myCollection.allModelGalleries.morePhotos",choiceParameter:"photoCount",parameters:{photoCount:e}})):null,i=t>0?n.a._(n.a.Fragment,null," ",n.a._(T.a,{messageId:"myCollection.allModelGalleries.moreVideos",choiceParameter:"videoCount",parameters:{videoCount:t}})):null,o=e>0&&t>0?n.a._("span",null," ",Object(v.d)("myCollection.allModelGalleries.and")):null;return n.a._("div",{className:"page-footer"},n.a._(N.a,{style:"pale",type:"link",to:s},Object(v.d)("myCollection.allModelGalleries.button")),n.a._("div",{className:"description"},n.a._(T.a,{messageId:"myCollection.allModelGalleries.description",elements:{and:o,morePhotos:a,moreVideos:i}})))}render(){const{albums:e,user:t,videos:s,privateVideos:a}=this.props;return n.a._(n.a.Fragment,null,this._B7(),n.a._("hr",null),s.size>0&&t?this._j8():null,a.size>0&&t?this._j9():null,e.size>0&&t?e.map(e=>this._Jw(e)):null,this._B8())}}G.displayName="MyCollectionModelContent";var W=Object(r.c)((e,t)=>{const{myCollection:{videos:s,countPhotos:a,countVideos:i,privateVideos:o}}=e,n=Object(x.a)(e),r=n.reduce((e,t)=>e+t.photos.length,0);return{albums:n,privateVideos:o,profileUrl:Object(k.q)(e,t.username),morePhotos:a-r,moreVideos:i-s.size,user:Object(B.m)(e,t.username),videos:s}},$)(G),K=s(507);const q=({model:e})=>{const{avatarUrl:t,isOnline:s,photoCount:a,previewSize:i,previewTitle:o,previewUrl:r,username:l,videoCount:c,privateVideoCount:d}=e,p=t?{backgroundImage:`url(${t})`}:null,u=r?{backgroundImage:`url(${r})`}:null;return n.a._("div",{className:"my-collection-model model-list-item",key:l},n.a._(w.a,{to:`/collection/${l}/`},n.a._("div",{className:"head"},n.a._("div",{className:"left"},n.a._("div",{className:Object(U.c)("avatar"),style:p},s&&n.a._(K.a,{status:"online"}))),n.a._("div",{className:"right"},n.a._("div",{className:"name"},l),n.a._("div",{className:"details"},a>0&&n.a._(T.a,{messageId:"myCollection.photoCount",parameters:{photoCount:a},choiceParameter:"photoCount"})," ",c>0&&n.a._(T.a,{messageId:"myCollection.videoCount",parameters:{videoCount:c},choiceParameter:"videoCount"})," ",d>0&&n.a._(T.a,{messageId:"myCollection.privateShowsCount",parameters:{privateVideoCount:d},choiceParameter:"privateVideoCount"})))),n.a._("div",{className:Object(U.c)("preview",{empty:!u}),style:u},u?n.a._("div",{className:"details-wrapper"},n.a._("div",{className:"details"},n.a._("div",{className:"left"},o),n.a._("div",{className:"right"},i))):n.a._(M.a,{img:"album",size:48}))))};q.displayName="MyCollectionModel";var J=q;const Y=({models:e})=>n.a._(n.a.Fragment,null,n.a._("div",{className:"page-header"},n.a._(_.a,{className:"my-collection-title"},Object(v.d)("myCollection.header"))),n.a._("hr",null),n.a._("div",{className:"spacer-large"}),n.a._("div",{className:"model-list-content"},n.a._("div",{className:"model-list"},e.map(e=>n.a._(J,{key:e.username,model:e})))));Y.displayName="MyCollectionModels";var X=Y,Q=s(59);const Z=()=>n.a._(n.a.Fragment,null,n.a._("div",{className:"page-header"},n.a._(_.a,{className:"my-collection-title"},Object(v.d)("myCollection.header"))),n.a._("hr",null),n.a._("div",{className:"model-list-content"},n.a._("div",{className:"loader-container"},n.a._(Q.a,{isCentered:!0}))));Z.displayName="MyCollectionPending";var ee=Z;class te extends n.a.Component{_F(){const{hasMoreModels:e,isPending:t,models:s,onLoadMoreModels:a,preferredTagUrl:i,username:o}=this.props;return t?n.a._(ee,null):o?n.a._(W,{username:o}):0===s.size?n.a._(C,{preferredTagUrl:i}):n.a._(n.a.Fragment,null,n.a._(X,{models:s}),e&&n.a._(y,{onLoadMoreModels:a}))}render(){return n.a._("div",{className:"my-collection model-list-wrapper"},n.a._("div",{className:"model-list-container"},this._F()))}}te.displayName="MyCollection";var se=Object(r.c)(e=>{const{myCollection:{isPending:t,models:s}}=e;return{isPending:t,models:s,preferredTagUrl:Object(g.i)(e)}})(te),ae=s(25);function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const oe={loadCollection:u.f};class ne extends n.a.Component{constructor(...e){super(...e),this.state={limit:48},this.propsUpdateToActionsMap=[{update:[ae.b,"username","contentPurchaseToken"],action:()=>{const{loadCollection:e,username:t}=this.props;e(t,this.state.limit)}}],this.loadMoreModelsHandler=()=>{this.setState(e=>({limit:e.limit+48}),()=>this.props.loadCollection(this.props.username,this.state.limit))}}render(){const{modelsCount:e,username:t}=this.props,{limit:s}=this.state;return n.a._(d.a,ie({propsUpdateToActionsMap:this.propsUpdateToActionsMap},this.props),n.a._(c.a,{className:"my-collection-page page page-columns",descriptionKey:"seo.description.myCollection",titleKey:"seo.title.myCollection"},n.a._(l.a,null),n.a._(se,{onLoadMoreModels:this.loadMoreModelsHandler,username:t,hasMoreModels:e>s})))}}ne.displayName="MyCollectionPage",ne.checkAccess=p.t;t.a=Object(r.c)((e,{match:{params:{username:t}}})=>{const{auth:{currentUser:s,isLoggedIn:a},myCollection:{contentPurchaseToken:i,modelsCount:o}}=e;return{contentPurchaseToken:i,currentUser:s,isLoggedIn:a,modelsCount:o,username:t}},oe)(ne)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(41),r=s(205),l=s(320),c=s(388),d=s(206),p=s(237),u=s(7),h=s(58),m=s(46),g=s(65),b=s(246),_=s(283),v=s(284),f=s(269),C=s(10),N=s(1),O=s(31),y=s(26);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class S extends i.a.Component{constructor(...e){super(...e),this._b6=()=>{const{isStripChat:e,tag:t}=this.props;if(!e)return null;const s=Object(N.e)(`${t.primaryTagId}.${t.id}`,{seoExtra:!0});return s&&s.description?i.a._("div",{className:"category-seo-description"},s.description):null}}getMeta(){const{isIndexNotFound:e,isHomepage:t,isNonNudeWL:s,isOnMoreRoute:a,isOnStripbotRecommendedPage:i,primaryTag:o,tag:n,modelsCount:r}=this.props;if(e)return{title:Object(N.e)("seo.title.404")};if(a)return{title:Object(N.e)(`seo.indexHeadings.categories.${n.primaryTagId}.more.title`),description:Object(N.e)(`seo.indexHeadings.categories.${n.primaryTagId}.more.description`)};if(n.id===u.Gb){const e=Object(N.e)(`seo.indexHeadings.categories.${o}.popular.title`);return{description:Object(N.e)(`seo.indexHeadings.categories.${o}.popular.description`),title:e}}if(i){return{title:Object(N.e)("seo.stripbotRecommendedPage.title",{number:r}),description:Object(N.e)("seo.stripbotRecommendedPage.description")}}if(n.isMixed){const e=Object(N.d)(`tagGenders.${n.primaryTagId}.${n.id}`,{stripTags:!0});return{title:Object(N.e)(`seo.title.mixedTag.${n.primaryTagId}`,{tagTranslated:e}),description:"None",descriptionOg:Object(N.e)(`seo.description.mixedTag.${n.primaryTagId}`,{tagTranslated:e})}}if(s){const e=Object(N.e)(`girls.${u.ub}`,{seoExtra:!0});return{title:e&&e.metaTitle?e.metaTitle:Object(N.e)(`seo.title.tag.${u.ub}`),description:e&&e.metaDescription?e.metaDescription:Object(N.e)(`seo.description.tag.${u.ub}`)}}if(!n.id){return{title:Object(N.e)(`seo.title.tag.${n.primaryTagId}`),description:Object(N.e)(`seo.description.tag.${n.primaryTagId}`)}}const l=Object(N.d)(`tagGenders.${n.primaryTagId}.${n.id}`,{stripTags:!0}),c=Object(N.e)(`${n.primaryTagId}.${n.id}`,{seoExtra:!0}),d=c&&c.metaDescription?c.metaDescription:Object(N.e)(`seo.description.tagGenders.${n.primaryTagId}`,{tag:l});return{title:c&&c.metaTitle?c.metaTitle:Object(N.e)(`seo.title.tagGenders.${n.primaryTagId}`,{tag:l}),description:d}}render(){const{isIndexNotFound:e,isMultipleCategoriesIndex:t,isVrBranch:s,searchString:a,mixedTags:o}=this.props;let n;return n=e?i.a._("div",{className:"index-page"},i.a._(b.a,null)):i.a._(i.a.Fragment,null,i.a._(_.a,null),i.a._("div",{className:Object(C.c)("index-page page page-columns",{"vr-index-page":s})},i.a._(v.a,null),i.a._(d.a,null),i.a._("div",{className:"index-page-content-wrapper"},i.a._(p.a,{isLazyLoading:!0,hasFiltersColumn:!0,shouldShowPopularSnapshot:!0,underModelsList:i.a._(c.a,null)},i.a._(l.a,{isMultipleCategoriesIndex:t,searchString:a}),o.length>0&&i.a._(f.a,{className:"index-page-mixed-tags media-up-to-m-hidden",shouldRoute:!0,tags:o,variant:"single-line"})),this._b6()))),i.a._(g.a,w({},this.getMeta(),{willScrollTop:!1}),n)}}S.displayName="IndexPageClassic";var k=Object(o.c)((e,t)=>{const{match:{params:{primaryTag:s=Object(m.b)(e),secondaryTag:a="",searchString:i=""}}}=t,o=a?`${s}/${a}`:s,n=Object(m.m)(e)[o],r=Object(O.x)(e),l=!Object(O.p)(e)||!n,c=Object(O.o)(e),d=Object(y.h)(e),p=Object(O.G)(e);return{isStripChat:d,isHomepage:c,isIndexNotFound:l,isNonNudeWL:Object(y.f)(e),isOnMoreRoute:r,isVrBranch:Object(O.M)(e),isOnStripbotRecommendedPage:p,mixedTags:Object(m.l)(e),primaryTag:Object(m.b)(e),searchString:i,tag:n,modelsCount:p?Object(h.m)(e):0}})(S),j=s(117),I=s(349),T=s(3),P=s(55),M=s(39),E=s.n(M),A=s(79),U=s.n(A),H=s(121),L=s.n(H),R=s(30),F=s(504);var D=(e,t)=>{const s=Object(a.useRef)(!1);Object(a.useEffect)(()=>{if(s.current)return null==e?void 0:e();s.current=!0},t)},x=s(13);const B=!0,V=!1,z=!1,$=!1,G=!0,W=!1,K=({id:e,segmentUrl:t,className:s,currentLocationPathname:o,shouldShowSeeMore:n,modelsCount:r,columnsCount:l,_Ed:c,_ei:d,_ja:p})=>{const[u,h]=Object(a.useState)(B),[m,g]=Object(a.useState)(V),[b,_]=Object(a.useState)(z),[v,f]=Object(a.useState)($),[O,y]=Object(a.useState)(G),[w,S]=Object(a.useState)(W),k=`/${t}`,j=()=>{g(!0),setTimeout(()=>{h(!1),setTimeout(()=>{g(!1),f(!1),_(!0),y(r>=4*l),S(!0)},260)},10)};Object(a.useEffect)(()=>{r>I.a.DESKTOP_COLLAPSE&&v&&j()},[r]),Object(a.useEffect)(()=>{h(B),g(V),f($),_(z),y(G),S(W)},[o]),D(()=>{y(r>=4*l)},[l]);const T=u?n:O,P=`segment-expanded-with-model-items-count-${r}`,M=Object(C.c)(s,P,"expandable-multiple-categories-category",{collapsable:n,"segment-expand":!u,"transition-active":m,"animation-ended":b}),[E,A]=u?[null,()=>{f(!0),r<2*l||j()}]:[k,p];return i.a._("div",{key:e,className:M},i.a._("div",{className:"multiple-categories-category-header"},c(),n&&i.a._("div",{className:"multiple-categories-see-all"},i.a._(x.a,{className:"multiple-categories-see-all-btn",size:"small",style:"pale",type:"link",onClick:p,to:k},Object(N.d)("multipleCategories.seeAll")),i.a._(R.a,{onClick:p,className:"multiple-categories-see-all-link",to:k},Object(N.d)("multipleCategories.seeAll")))),i.a._("div",{className:Object(C.c)("multiple-categories-scroll-bar-wrapper")},d("scroll-bar-container-in-segment","multiple-categories-models-list-wrapper-in-segment"),i.a._("div",{className:Object(C.c)("multiple-categories-expander")})),T&&i.a._(F.a,{onClick:A,url:E,isDisabled:v,isSeeAllButton:w,additionalClassName:"expandable-multiple-categories-segment-see-more"}))};K.displayName="ExpandableMultipleCategoriesSegment";var q=Object(o.c)(e=>({currentLocationPathname:Object(O.R)(e)}))(K),J=s(12),Y=s(97),X=s(80);const Q=({primaryTagId:e,_ei:t,scrollEventAction:s})=>{let o=0;const n=U()(e=>{s({pageName:"index",scrollAxis:e})},1e3),r=()=>{const e=X.a.get();o<e&&n("y"),o=e};return Object(a.useEffect)(()=>(Object(P.a)(Q,document,"scroll",r,!1,"TopStreamsModels"),()=>{Object(P.b)(Q)}),[]),i.a._("div",{key:"topStreamsModels"},i.a._("div",{className:"multiple-categories-category-header"},i.a._(Y.b,{className:"segment-header"},i.a._(J.a,{messageId:`multipleCategories.titles.${e}.topStreamsModels`}))),i.a._("div",{className:"multiple-categories-scroll-bar-wrapper"},t()))};Q.displayName="TopStreamsModels";var Z=Q,ee=s(355),te=s(141),se=s(17),ae=s(233),ie=s(6),oe=s(102),ne=s(21),re=s(103),le=s(29);class ce extends i.a.Component{constructor(...e){super(...e),this.sendScrollEvent=U()(e=>{this.props.scrollEventAction({pageName:"index",scrollAxis:e})},1e3),this.scrollToTop=()=>{X.a.reset()},this._ja=()=>{X.a.reset()},this.onSideSlide=L()(e=>{const{scrollLeft:t}=e.target;this.scrollLeftValue<t&&this.sendScrollEvent("x"),this.scrollLeftValue=t},100),this._Ed=()=>{const{id:e,url:t,tag:s,primaryTagId:a}=this.props,o=i.a._(J.a,{messageId:`multipleCategories.titles.${a}.${e}`,parameters:{tag:Object(N.d)(`tagGenders.${a}.${s.id}`)}}),n="mostPopularModels"===e;let r=null;"countryGenderModels"!==e&&"languageGenderModels"!==e||(u.D.includes(s.id)?r=i.a._(ie.a,{img:s.id}):u.Z.includes(s.id)&&(r=i.a._(ae.a,{size:"medium",country:u.Y[s.id]})));const l=i.a._(i.a.Fragment,null,r,t?i.a._(R.a,{onClick:this.scrollToTop,to:`/${t}`},o):o);return n?i.a._(Y.a,{className:"segment-header"},l):i.a._(Y.b,{className:"segment-header"},l)},this.getModelListComponent=()=>{const{id:e,tag:t,sortBy:s}=this.props,a=this.getModelList();return i.a._(ee.a,{isLazyLoading:"topStreamsModels"===e,htmlIdPrefix:e,sectionId:e,models:a,isOnlineStatusVisible:!1,shouldShowPopularSnapshot:!0,shouldLogPopularSnapshot:!1,sortBy:s,tagUrl:t.url})},this.getScrollBarContainerOptsTags=()=>({...this.scrollBarContainerOptsTags,suppressScrollY:!0}),this.getModelListSlidable=(e,t)=>{const{id:s}=this.props;return i.a._(oe.a,{onNativeScroll:this.onSideSlide,libOptions:this.getScrollBarContainerOptsTags(),additionalClassName:e},i.a._("div",{className:Object(C.c)("multiple-categories-models-list-wrapper",t),key:`${s}-wrapper`},this.getModelListComponent()))}}_A(){const{isSlideViewMode:e}=this.props;this.scrollBarContainerOptsTags={suppressScrollX:!e}}getModelList(){return this.props.models}getShouldShowSeeMore(){const{columnsCount:e,isSlideViewMode:t,models:s,rowsCount:a,url:i}=this.props;return!!i&&(t?s.length>e:s.length>=e*a)}render(){const{id:e,isSlidableSegment:t,models:s,url:a,columnsCount:o,primaryTagId:n}=this.props,r=this.getShouldShowSeeMore();if(!s.length)return null;if("topStreamsModels"===e)return i.a._(Z,{primaryTagId:n,_ei:this.getModelListComponent,scrollEventAction:this.props.scrollEventAction});const l=Object(C.c)("multiple-categories-category",{slidable:t,scrollable:!t,"less-6-items":s.length<6,"less-8-items":s.length<8}),c=t?this.getModelListSlidable:this.getModelListComponent;return i.a._(q,{id:e,className:l,shouldShowSeeMore:r,segmentUrl:a,modelsCount:s.length,columnsCount:o,_Ed:this._Ed,_ei:c,_ja:this._ja})}}ce.displayName="MultipleCategoriesSegment",ce.defaultProps={columnsCount:6,id:1,isSlidableSegment:!1,isSlideViewMode:!1,rowsCount:2,scrollEventAction:E.a};const de={scrollEventAction:se.r};var pe=Object(o.c)((e,t)=>{const{models:s}=t,a=Object(ne.d)()?Object(le.c)():Object(re.a)(e),i=(Object(re.f)(e)||Object(re.d)(e))&&a<=4,o=s.length>a;let n;"topStreamsModels"!==t.id&&"favoriteModels"!==t.id||(n=e.modelFilter.tag),n=n||Object(m.m)(e)[t.url]||u.u;let r=2;return o?i&&s.length<a+Math.floor(a/2)&&(r=1):r=1/0,{columnsCount:a,isSlideViewMode:i,isSlidableSegment:o,rowsCount:r,sortBy:Object(te.b)(n,t.url,e),tag:n,url:t.url}},de)(ce),ue=s(384),he=s(59),me=s(247);s(20);function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class be extends i.a.Component{constructor(...e){super(...e),this._jc=e=>i.a._(pe,ge({},e,{key:e.id,primaryTagId:this.props.primaryTagId}))}_Hl(){return i.a._("div",{className:"media-after-l-hidden"},i.a._(me.a,null),i.a._(f.a,{tags:this.props.inlineTags,shouldScroll:!0,shouldRoute:!0,shouldShowMore:!0}))}_bb(){return i.a._("div",{className:"model-list-wrapper"},i.a._("div",{className:"model-list-container"},i.a._("div",{className:"model-list"},i.a._("div",{className:"loader-wrapper"},i.a._("div",{className:"loader-wrapper-content model-list-item"},i.a._("div",null,i.a._(he.a,{isCentered:!0})))))))}render(){const{isPending:e,multipleCategories:t,modelsCount:s}=this.props;return i.a._("div",{className:"model-list-wrapper multiple-categories-wrapper"},i.a._(ue.a,null),i.a._("div",{className:"model-list-container"},e||s?i.a._(a.Fragment,null,i.a._("div",{className:"model-list-container",style:{display:"none"}},i.a._("div",{className:"model-list-item"})),e&&!s&&this._bb(),this._Hl(),t.map(this._jc)):i.a._("div",{className:"model-list empty"},i.a._(ie.a,{img:"user-guest-1"}),i.a._("div",{className:"empty-list-title"},Object(N.d)("noModelsOnline")))))}}be.displayName="MultipleCategoriesWrapper";var _e=Object(o.c)(e=>({inlineTags:Object(m.c)(e),isPending:Object(h.g)(e),modelsCount:Object(h.p)(e),multipleCategories:Object(h.o)(e),primaryTagId:Object(m.k)(e)}))(be);function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const{iPhoneOrIPod:fe}=T.j;let Ce=!1;const Ne=({isIndexNotFound:e,isMoreBranch:t,isVrBranch:s,siteName:o,saveApiFilterParamsAction:n,tag:r})=>{const l=()=>{Ce||fe||(n({multipleCategoriesLimit:I.a.DESKTOP_EXPAND}),Ce=!0)};Object(a.useEffect)(()=>(Object(P.a)(Ne,document,"mousemove",l,!1,"IndexPageMultipleCategories"),()=>{Object(P.b)(Ne)}),[]);return i.a._(g.a,ve({},(()=>{if(t)return{title:Object(N.e)(`seo.indexHeadings.categories.${r.primaryTagId}.more.title`),description:Object(N.e)(`seo.indexHeadings.categories.${r.primaryTagId}.more.description`)};return{title:Object(N.e)(`seo.title.tag.${r.primaryTagId}`,{siteName:o}),description:Object(N.e)(`seo.description.tag.${r.primaryTagId}`,{siteName:o})}})(),{willScrollTop:!1}),e?i.a._("div",{className:"index-page"},i.a._(b.a,null)):i.a._(i.a.Fragment,null,i.a._(_.a,null),i.a._("div",{className:Object(C.c)("index-page index-page-multiple page page-columns",{"vr-index-page":s})},i.a._(v.a,null),i.a._(d.a,null),i.a._(_e,null))))};Ne.displayName="IndexPageMultipleCategories";const Oe={saveApiFilterParamsAction:j.e};var ye=Object(o.c)((e,t)=>{const{whiteLabels:{siteName:s}}=e,{match:{params:{primaryTag:a=Object(m.b)(e),secondaryTag:i=""}}}=t,o=i?`${a}/${i}`:a;return{siteName:s,isMoreBranch:Object(O.x)(e),tag:Object(m.m)(e)[o]}},Oe)(Ne);const we=e=>e.isMultipleCategoriesIndex?i.a._(ye,e):i.a._(k,e);we.displayName="IndexPage",we.checkAccess=n.r;t.a=Object(o.c)(e=>({isMultipleCategoriesIndex:Object(r.c)(e)}))(we)},function(e,t,s){"use strict";var a=s(2),i=s.n(a),o=s(158),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(5),d=s(41),p=s(99),u=s(224),h=s(65),m=s(161),g=s(113),b=s(10),_=s(1),v=(s(20),s(29)),f=s(245),C=s(168),N=s(78),O=s.n(N),y=s(39),w=s.n(y),S=s(79),k=s.n(S),j=s(121),I=s.n(j),T=s(136),P=s.n(T),M=s(244),E=s.n(M),A=s(45),U=s.n(A),H=s(250),L=s(13),R=s(6),F=s(102),D=s(516),x=s(3),B=s(22),V=s(34),z=s(36),$=s(124);class G extends l.a.Component{render(){const{message:e,onAction:t}=this.props;return l.a._("div",{className:"private-messages-alert"},l.a._("div",{className:"information"},l.a._(R.a,{img:"exclamation"}),l.a._("div",{className:"message"},e)),l.a._(L.a,{onClick:t,style:"auth-banner",type:"button"},Object(_.d)("privateMessages.conversations.openAdminConversation")))}}G.displayName="PrivateMessagesAlert",G.defaultProps={message:""};var W=s(87);function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class q extends l.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:["conversations"],action:()=>{const e=U()(this.props.conversations,"isSelected");e&&this.setState({selectedCounterpart:e.counterpart.id})}}],this.state={isFilterOnlineEnabled:!1,clickedCounterpart:null,selectedCounterpart:null,touchStartCounterpartId:null,touchStartCounterpartCloseFn:w.a},this.scrollBarUpdateThrottled=I()(()=>{this.scrollToSelectedConversation()},100),this.scrollToSelectedConversation=k()(()=>{const{conversationsRef:e}=this,{selectedCounterpart:t,clickedCounterpart:s}=this.state,a=t!==s;if(e&&this.selectedConversationRef&&a){const t=this.selectedConversationRef.getBoundingClientRect(),s=e.getBoundingClientRect(),a=e.scrollTop,i=document.documentElement.scrollTop;e.scrollTop=a+t.top+i-s.top}},500),this.clickHandler=O()(e=>()=>{const{isShifted:t}=this.state;t?this.swipeRightEventHandler():(this.setState({clickedCounterpart:e.id}),this.props.onConversationClicked(e))}),this.filterClickEnableHandler=()=>{this.setState({isFilterOnlineEnabled:!0})},this.filterClickDisableHandler=()=>{this.setState({isFilterOnlineEnabled:!1})},this.removeButtonClickHandler=O()(e=>t=>{t.stopPropagation(),t.preventDefault();const{_je:s}=this.props,a=E()(this.props.conversations,({counterpart:{id:t}})=>t===e),i=this.props.conversations[a];let o;i&&i.isSelected&&(o=this.props.conversations[a+1],o||(o=this.props.conversations[a-1]),o=o?o.counterpart:null),s(i.counterpart,o)}),this.touchStartEventHandler=O()(e=>(t=w.a)=>{const{touchStartCounterpartId:s}=this.state,a={touchStartCounterpartId:e,touchStartCounterpartCloseFn:t};s?s!==e&&(this.swipeRightEventHandler(),this.setState(a)):this.setState(a)}),this.onShiftedHandler=()=>{this.setState({isShifted:!0})},this.onHiddenHandler=()=>{this.setState({isShifted:!1})},this.swipeRightEventHandler=()=>{const{touchStartCounterpartCloseFn:e}=this.state;e(),this.setState({touchStartCounterpartId:null,touchStartCounterpartCloseFn:w.a,isShifted:!1})},this.conversationsRefHandler=e=>{this.conversationsRef=e},this.selectedConversationRefHandler=O()(e=>t=>{e&&(this.selectedConversationRef=t)}),this._jf=e=>{const{wordStickers:t,modelFanClubTiers:s,modelFanClubTiersTerm:a}=this.props,{counterpart:i,isSelected:o,lastMessage:n,unreadCount:r}=e,c=x.j.touch?D.a:"div",d=x.j.touch?{className:"conversation-slider",threshold:90,appearingContentRight:this.getAppearingContent(this.removeButtonClickHandler(i.id)),appearingContentRightWidth:150,onTouchStart:this.touchStartEventHandler(i.id),onShifted:this.onShiftedHandler,onHidden:this.onHiddenHandler}:{};return l.a._(c,K({},d,{onClick:o?w.a:this.clickHandler(i),key:`conversation-wrapper-${i.id}`}),l.a._("div",{className:"conversation-wrapper"},l.a._("div",{className:Object(b.c)("conversation",{selected:o,"counterpart-online":i.isOnline}),ref:this.selectedConversationRefHandler(o),key:i.id},l.a._("div",{className:"counterpart-avatar"},l.a._($.b,{isFavoriteBadgeVisible:!0,user:i})),l.a._("div",{className:"user"},l.a._(W.b,{user:i,size:14,fanClubTier:s?s[i.id]:null,fanClubTierTerm:a?a[i.id]:null})),Boolean(n&&n.createdAt)&&l.a._("div",{className:"date"},Object(B.j)(n.createdAt,B.f.DAY_AND_MONTH)),Boolean(n&&n.body)&&l.a._("div",{className:"message"},n.senderId===i.id&&l.a._(R.a,{img:"reply",size:11}),Object(H.b)(t,n.body,`conversation_${n.id}`)),Boolean(r)&&l.a._("div",{className:"counter"},r>99?"99+":r),!x.j.touch&&l.a._("div",{className:"btn-remove",onClick:this.removeButtonClickHandler(i.id)},l.a._(R.a,{img:"close-4",size:15})))))}}_A(){Object(V.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(V.a)(this.propsUpdateToActionsMap,e,this.props),this.scrollBarUpdateThrottled()}getAppearingContent(e){return l.a._("div",{className:"btn-wrapper"},l.a._(L.a,{size:"small",style:"delete",onClick:e},Object(_.d)("button.delete")))}_jg(){const{conversations:e}=this.props,{isFilterOnlineEnabled:t}=this.state;return e.every(({counterpart:e})=>!e.isOnline)?null:l.a._("div",{className:"filter"},l.a._(L.a,{active:!t,onClick:this.filterClickDisableHandler,size:"extra-small",style:"default-restyled"},Object(_.d)("privateMessages.conversations.filter.all")),l.a._(L.a,{active:t,onClick:this.filterClickEnableHandler,size:"extra-small",style:"default-restyled"},Object(_.d)("privateMessages.conversations.filter.online")))}_jh(){const{conversations:e}=this.props,t=e.filter(({unreadCount:e,counterpart:{isAdmin:t,isSupport:s}})=>e&&(t||s));if(0===t.length)return null;const s=i()(P()(t),"counterpart");return l.a._(G,{message:Object(_.d)("privateMessages.conversations.notifyAboutAdminConversation"),onAction:this.clickHandler(s)})}render(){const{conversations:e,isLoading:t,isUpdating:s}=this.props,{isFilterOnlineEnabled:a}=this.state,i=a?e.filter(({counterpart:e})=>e.isOnline):e,o=t&&(!e.length||s);return l.a._("div",{className:Object(b.c)("private-messages-conversations",{pending:o})},l.a._("div",{className:"header"},this._jg(),l.a._("h3",null,Object(_.d)("privateMessages.conversations.title"))),this._jh(),l.a._(F.a,{containerRef:this.conversationsRefHandler},l.a._("div",{className:"conversation-list"},i&&i.length?i.map(this._jf):l.a._("p",{className:"empty"},Object(_.d)("empty")))))}}q.displayName="PrivateMessagesConversations",q.defaultProps={conversations:[],isPending:!1,wordStickers:[[],[]]};var J=Object(c.c)(e=>({wordStickers:Object(z.C)(e)}))(q),Y=s(33),X=s.n(Y),Q=s(27),Z=s.n(Q),ee=s(35),te=s.n(ee),se=s(30),ae=s(24),ie=s(58),oe=s(18),ne=s(12),re=s(59),le=s(61),ce=s(57),de=s(155),pe=s(32),ue=s(185),he=s(15),me=s(108);class ge extends l.a.Component{constructor(...e){super(...e),this.friendshipAcceptButtonClickHandler=()=>{this.props.addFriends(this.props.counterpart.id)},this.friendshipDeclineButtonClickHandler=()=>{this.props.removeFriends([this.props.counterpart.id])}}_ji(e){const t=Object(b.c)("message private-message-friendship friendship-request-dialog-message",{incoming:this.props.isIncoming});return l.a._("div",{className:t},l.a._("div",{className:"body"},e),this.props.children)}_jj({text:e,className:t=null,username:s=null}){return l.a._("div",{className:Object(b.c)("message private-message-friendship friendship-request-text",{incoming:this.props.isIncoming})},l.a._("div",{className:Object(b.c)("body",t)},Boolean(s)&&l.a._("div",{className:"username"},s),l.a._("div",{className:"text"},e)),this.props.children)}render(){const{FRIENDSHIP_REQUEST_SENT:e,FRIENDSHIP_REQUEST_RECEIVED:t,FRIENDSHIP_APPROVE_SENT:s,FRIENDSHIP_APPROVE_RECEIVED:a,FRIENDSHIP_DECLINE_SENT:i}=he.u,{counterpart:o,currentUser:n,friendship:r,isIncoming:c,type:d}=this.props,p=d===e,u=d===a;let h=d===t,m=d===s,g=d===i;if(h){if(!r)return null;r.status===he.f.APPROVED?(m=!0,h=!1):r.status===he.f.DECLINED&&(g=!0,h=!1)}return p&&!c?this._jj({text:Object(_.d)("privateMessages.friendshipMessage.friendship.requested",{username:o.username}),className:"friendship-status-requested",username:n.username}):h?this._ji(l.a._("div",{className:"friendship-request-dialog"},l.a._("p",null,Object(_.d)("privateMessages.friendshipMessage.friendship.requested",{username:n.username})),l.a._("div",{className:"buttons"},l.a._(L.a,{style:"decline",onClick:this.friendshipDeclineButtonClickHandler},Object(_.d)("button.decline")),l.a._(L.a,{style:"primary",onClick:this.friendshipAcceptButtonClickHandler},Object(_.d)("button.accept"))))):m&&c?this._ji(l.a._("div",{className:"friendship-request-dialog"},l.a._("p",null,Object(_.d)("privateMessages.friendshipMessage.friendship.approved")))):u&&c?this._jj({text:Object(_.d)("privateMessages.friendshipMessage.approved",{username:n.username}),className:"friendship-status-approved",username:o.username}):g&&c?this._ji(l.a._("div",{className:"friendship-request-dialog"},l.a._("p",null,Object(_.d)("privateMessages.friendshipMessage.friendship.declined")))):null}}ge.displayName="PrivateMessageFriendship";var be=Object(c.c)((e,t)=>{const{auth:s}=e,{counterpart:a}=t;return{currentUser:s.currentUser,isLoggedIn:s.isLoggedIn&&!s.isLoggingOut,friendship:Object(me.d)(e,a.id)}},e=>Object(pe.b)({addFriends:ue.a,removeFriends:ue.d},e))(ge),_e=s(17),ve=s(75),fe=s(72),Ce=s(231),Ne=s(37);class Oe extends l.a.Component{constructor(...e){super(...e),this.uid=Object(fe.o)(),this.state={messageDraft:this.props.messageDraft},this.textAreaChangeHandler=()=>{const e=this.messageRef.value;this.setState({messageDraft:e}),this.saveDraftDelayed(e)},this.saveDraftDelayed=k()(e=>this.props.saveDraftDelayed(e,this.props.counterpart.id),he.t),this.keyDownHandler=e=>{e.keyCode===x.C.enter&&(e.preventDefault(),e.stopPropagation(),this.sendMessage())},this.sendMessageHandler=e=>{e.preventDefault(),e.stopPropagation(),this.sendMessage()},this.sendOfflineTipHandler=e=>{e.preventDefault(),e.stopPropagation();const{counterpart:t}=this.props;this.props.emitButtonEvent(x.b.PRIVATE_MESSAGES_TIP,{user:t,modelId:t.id})},this.sendMessage=()=>{const{sendMessage:e,saveDraftDelayed:t,counterpart:s}=this.props,{value:a}=this.messageRef;a.trim()&&(e(a,s.id),t("",s.id),this.setState({messageDraft:""}))}}_A(){this.componentDidRender(this.props)}componentDidUpdate(e){const{messageDraft:t}=this.props,s=e.counterpart.id===this.props.counterpart.id?this.state.messageDraft:t;Object(le.i)(this,{messageDraft:s}),this.componentDidRender(e)}componentDidRender(e){const{messageRef:t}=this;if(x.j.android&&t===document.activeElement&&t.scrollIntoView(),!this.props.isSendingMessage&&v.H&&(t!==document.activeElement&&t.focus(),e.counterpart&&e.counterpart.id!==this.props.counterpart.id)){const e=t.value.length;t.setSelectionRange(e,e)}}render(){const{error:e,isOfflineTipButtonAvailable:t,isSendingMessage:s,messageMaxLength:a}=this.props,{messageDraft:i}=this.state,o=!i||!i.trim()||s,n=`private_messages_composer_${this.uid}`;return l.a._("div",{className:Object(b.c)("private-messages-composer",{"is-pending":s})},l.a._("div",{className:"textarea-container"},l.a._("div",{className:"textarea-wrapper"},l.a._("textarea",{disabled:s,maxLength:a,onChange:this.textAreaChangeHandler,onKeyDown:this.keyDownHandler,ref:e=>{this.messageRef=e},value:i})),l.a._("div",{className:"auto-size"},i||"_")),l.a._("div",{className:"actions"},l.a._("span",null,s&&l.a._(re.a,{isInline:!0,size:this.props.loaderSize}),l.a._("button",{className:Object(b.c)("btn btn-send btn-medium",{disabled:o}),id:n,onClick:this.sendMessageHandler},Object(_.d)("button.send"))),t&&l.a._("button",{className:Object(b.c)("btn btn-default send-private-tip-btn"),onClick:this.sendOfflineTipHandler},Object(_.d)("button.sendPrivateTip"))),Boolean(e)&&l.a._(ve.a,{error:e,fieldName:"body",placement:"top",targetId:n}))}}Oe.displayName="PrivateMessagesComposer";const ye={emitButtonEvent:_e.b,saveDraftDelayed:C.h,sendMessage:C.i};Oe.defaultProps={loaderSize:36};var we=Object(c.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i},ui:{windowWidth:o,windowHeight:n}}=e,{counterpart:r}=t;return{currentUser:s,isLoggedIn:a&&!i,isOfflineTipButtonAvailable:r.isApprovedModel&&!r.isPromo&&!s.isModel&&!s.isStudio,messageMaxLength:Object(Ce.d)(e,{isPrivate:!0}),userProfile:Object(Ne.a)(e),windowWidth:o,windowHeight:n}},ye)(Oe),Se=s(318),ke=s(319),je=s(110),Ie=s(43);class Te extends l.a.Component{render(){const{isSubscribed:e,theme:t}=this.props;return l.a._("div",{className:"private-messages-subscription"},l.a._("label",{className:"subscription-description"},Object(_.d)("privateMessages.notifyAboutNewMessages"),l.a._("div",{className:"subscription-info"},l.a._(Ie.a,{isMobileRelative:!1,placement:"top",targetId:"subscription_trigger"},Object(_.d)("privateMessages.notifyAboutNewMessagesHelp")),l.a._("span",{className:"subscription-help",id:"subscription_trigger"},"?"))),l.a._(je.a,{theme:t,isChecked:e,onChange:this.props.onChange}))}}Te.displayName="PrivateMessagesSubscription",Te.defaultProps={onChange:w.a,theme:"dark"};var Pe=Te;class Me extends l.a.Component{constructor(...e){super(...e),this._Hd=void 0,this.propsUpdateToActionsMap=[{update:v.F,action:()=>this.interfaceBlockChangeHandler(this.props)}],this.state={isDropdownOpen:this.props.isDropdownOpen},this.toggleMenuClickHandler=e=>{e.preventDefault(),this.state.isDropdownOpen?this.props.releaseInterface():this.props.blockInterface(e.target)},this.subscriptionClickEventHandler=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSubscriptionChange()},this.interfaceBlockChangeHandler=({currentBlockingComponent:e,isInterfaceBlocked:t})=>{this.setState({isDropdownOpen:t&&this._Hd&&this._Hd.contains(e)})},this._H6=()=>{const{counterpart:e,isBanButtonVisible:t,isFriendshipButtonVisible:s,isSubscribed:a,isSubscriptionVisible:i}=this.props;return l.a._("div",{className:"dropdown-menu"},l.a._("div",{className:"dropdown-menu-arrow"}),l.a._("ul",null,s&&l.a._("li",null,l.a._(ke.a,{type:"anchor",user:e})),t&&l.a._("li",null,l.a._(Se.a,{type:"anchor",user:e})),i&&l.a._("li",{className:"subscription-button"},l.a._("a",{onClick:this.subscriptionClickEventHandler},l.a._(Pe,{counterpart:e,isSubscribed:a})))))}}componentDidUpdate(e){Object(V.a)(this.propsUpdateToActionsMap,e,this.props)}_A(){Object(V.a)(this.propsUpdateToActionsMap,{},this.props)}render(){const{isDropdownOpen:e}=this.state,{isBanButtonVisible:t,isFriendshipButtonVisible:s,isSubscriptionVisible:a}=this.props;return t||s||a?l.a._("span",{className:Object(b.c)("private-messages-list-dropdown",{open:e}),ref:e=>{this._Hd=e},onClick:this.toggleMenuClickHandler},l.a._("a",{className:"menu-button"},l.a._(R.a,{img:"more"})),e&&this._H6()):null}}Me.displayName="PrivateMessagesListDropDown",Me.defaultProps={isBanButtonVisible:!0};var Ee=Object(c.c)(({ui:{currentBlockingComponent:e,isInterfaceBlocked:t}})=>({currentBlockingComponent:e,isInterfaceBlocked:t}),e=>Object(pe.b)({blockInterface:_e.a,releaseInterface:_e.p},e))(Me),Ae=s(178),Ue=s(181),He=s(96);class Le extends l.a.Component{constructor(...e){super(...e),this.shouldSuppressScrollHandlerOnce=!1,this.wasInScrollZone=!1,this.propsUpdateToActionsMap=[{update:["selectedConversation.counterpart.id"],action:()=>{this.setState({scrollFromEnd:0})}}],this.scrollHandler=I()(()=>{if(this.shouldSuppressScrollHandlerOnce)return void(this.shouldSuppressScrollHandlerOnce=!1);const{selectedConversation:e,isLoading:t,messages:s}=this.props,{counterpart:a}=e;Z()(s)||t||(this.wasInScrollZone||(this.isScrollZonePrev?this.setState({loaderPosition:"top",scrollFromEnd:this.messageListRef.scrollHeight},()=>{const e=s.first();this.props.loadAndReadMessages(a.id,{beforeMessageId:e.id})}):this.isScrollZoneNext&&this.setState({loaderPosition:"bottom",scrollFromEnd:null},()=>{const e=s.slice(-1).pop();this.props.loadAndReadMessages(a.id,{lastMessageId:e.id})})),this.isInScrollZone||null===this.state.scrollFromEnd||this.setState({scrollFromEnd:null}),this.wasInScrollZone=this.isInScrollZone)},x.u),this.state={loaderPosition:"bottom",scrollFromEnd:0},this.buyTokensClickHandler=()=>{this.props.showSubscriptionPackage(x.b.PRIVATE_MESSAGES_MAKE_ME_GOLD)},this.showUserLevelsModalClickHandler=e=>(e.preventDefault(),this.props.showModal(x.F.USER_LEVELS),!1),this.toggleSubscriptionEventHandler=()=>{const{selectedConversation:e}=this.props,{counterpart:t}=e;this.props.togglePmSubscription(t.id)},this._jk=()=>{const{selectedConversation:{counterpart:{id:e}}}=this.props;this.props.loadRelations([e])},this._jl=()=>{const{selectedConversation:{counterpart:{id:e}}}=this.props;this.props.markConversationAsReadByCounterpart(e)},this._jm=e=>l.a._("div",{className:"day",key:e},l.a._("div",null,l.a._("span",null,e))),this._d6=({id:e,body:t,createdAt:s,senderId:a,type:i=null,details:o={amount:null}})=>{const{counterpart:n}=this.props.selectedConversation,{wordStickers:r}=this.props,c=a===n.id,d=this._jn({id:e,createdAt:s}),{PM_PUBLIC_TIP:p,PM_PRIVATE_TIP:u,PM_PRIVATE_TIP_VR:h,PRIVATE_TIP:m,OFFLINE_TIP:g}=ae.f;if(te()([p,u,h,m,g],i))return this._jo({id:e,body:t,senderId:a,createdAt:s,details:o});if(i===he.w)return this._jp({id:e,body:t,senderId:a,createdAt:s,details:o});if(i===ae.f.PM_PRIVATE_STARTED||i===ae.f.PM_PRIVATE_ENDED)return null;if(te()(he.u,i))return l.a._(be,{counterpart:n,isIncoming:c,key:e,type:i},d);const _=c?n.username:this.props.currentUser.username;return l.a._("div",{className:Object(b.c)("message",{incoming:c}),key:e},l.a._("div",{className:"body"},l.a._("div",{className:"username"},_),l.a._("div",{className:"text"},Object(H.b)(r,t,e))),d)},this._jq=()=>l.a._("div",{className:"gold-membership-subscription"},l.a._("p",null,Object(_.d)("privateMessages.cannotSend.goldMembersOnly")),l.a._("p",null,l.a._(ne.a,{elements:{link:l.a._("a",{onClick:this.showUserLevelsModalClickHandler})},messageId:"privateMessages.cannotSend.subscribeToGoldMembership"})),l.a._(L.a,{style:"primary",onClick:this.buyTokensClickHandler},Object(_.d)("button.makeMeGold"))),this._jr=()=>{const{isBannedByCountry:e,isBannedByCounterpart:t,isBannedByCurrentUser:s,isLoggedIn:a,currentUser:i,selectedConversation:{counterpart:o}}=this.props,n={className:"cannot-send"};return s?l.a._("div",n,l.a._("p",null,Object(_.d)("privateMessages.cannotSend.bannedByMe"))):t?l.a._("div",n,l.a._("p",null,Object(_.d)(o.isModel?"privateMessages.cannotSend.youAreBannedByModel":"privateMessages.cannotSend.youAreBannedByUser"))):e?l.a._("div",n,l.a._("p",null,Object(_.d)("camChat.yourCountryIsBlockedByModel"))):a&&(i.isGold||i.isModel)?l.a._("div",n,l.a._("p",null,Object(_.d)("privateMessages.cannotSend.default"))):i.isStudio?l.a._("div",n,l.a._("p",null,Object(_.d)("privateMessages.cannotSend.goldMembersOnly"))):l.a._("div",n,l.a._("p",null,this._jq()))}}get isScrollZonePrev(){return!!this.props.isScrollPrevEnabled&&this.messageListRef.scrollTop<this.props.scrollThreshold}get isScrollZoneNext(){if(!this.props.isScrollNextEnabled)return!1;const{messageListRef:e}=this,t=e.scrollHeight-e.clientHeight-this.props.scrollThreshold;return e.scrollTop>t}get isInScrollZone(){return this.isScrollZonePrev||this.isScrollZoneNext}componentWillUnmount(){this.scrollHandler.cancel()}_A(){Object(V.a)(this.propsUpdateToActionsMap,{},this.props),this.updateScroll()}componentDidUpdate(e){Object(V.a)(this.propsUpdateToActionsMap,e,this.props);const t=e.isSending&&!this.props.isSending;Object(le.i)(this,{scrollFromEnd:t?0:this.state.scrollFromEnd}),this.updateScroll()}updateScroll(){const{messageListRef:e}=this,{scrollFromEnd:t}=this.state;if(!e)return;const s=this.props.isScrollNextEnabled?0:this.props.scrollThreshold,a=e.scrollTop+e.clientHeight,i=e.scrollHeight-a<=s;null!==t?(this.shouldSuppressScrollHandlerOnce=!0,e.scrollTop=e.scrollHeight-t):i&&this.setState({scrollFromEnd:0})}getMessagesByDays(e){const t={};return e.forEach(e=>{const s=Object(B.j)(new Date(e.createdAt),B.f.DAY_AND_LONG_MONTH);t[s]||(t[s]=[]),t[s].push(e)}),t}_B6(){const{selectedConversation:{counterpart:{id:e}},currentUser:t,isLoggedIn:s}=this.props;return l.a._(g.a,{events:s&&t.isModel?[`canBanChanged:${t.id}`]:null,eventsWithCallbacks:[{subscriptionKey:`privateMessagesRead:${e}`,callback:this._jl},{subscriptionKey:`userUpdated:${e}`,callback:this._jk}]})}_jn({id:e,createdAt:t}){const s=l.a._("div",{className:"time"},Object(B.j)(t,B.f.TIME_WITH_SECONDS)),a=this.props.counterpartLastReadMessageId===e?l.a._(R.a,{className:"last-read",img:"check",size:14}):void 0;return l.a._("div",{className:"tail"},s,a)}_jo({id:e,body:t,createdAt:s,senderId:a,details:i}){const{selectedConversation:o,currentUser:n}=this.props,r=a===o.counterpart.id?o.counterpart:n,c=r.username,d=this._jn({id:e,createdAt:s}),p=l.a._(ne.a,{choiceParameter:"tokens",elements:{username:l.a._(W.b,{link:{to:`/user/${c}`},user:r}),strong:l.a._("strong",null)},messageId:"privateMessages.userHasTippedModel",parameters:{username:c,tokens:i.amount}});return l.a._("div",{className:Object(b.c)("message tip"),key:e},l.a._("div",{className:"body"},p,l.a._("div",{className:"tip-comment"},t)),d)}_jp({id:e,createdAt:t,senderId:s}){const{selectedConversation:a,currentUser:i}=this.props,o=s===i.id,n=s===a.counterpart.id?a.counterpart:i,r=n.username,c=o?"userUnlockTips":"userSentYouUnlockTips",d=this._jn({id:e,createdAt:t}),p=l.a._(ne.a,{choiceParameter:"tokens",elements:{username:l.a._(W.b,{link:{to:`/user/${r}`},user:n}),strong:l.a._("strong",null)},messageId:`privateMessages.${c}`,parameters:{username:r}});return l.a._("div",{className:Object(b.c)("message tip"),key:e},l.a._("div",{className:"body"},p),d)}render(){const{canSend:e,counterpartLinkTo:t,error:s,isBanButtonVisible:a,isBannedByCounterpart:i,isBannedByCountry:o,isFriendshipButtonVisible:n,isLoading:r,isLoggedIn:c,isSending:d,messageDraft:p,messages:u,modelFanClubTiers:h,modelFanClubTiersTerm:m,selectedConversation:g,isLayoutMoreThanXL:v}=this.props,{loaderPosition:f}=this.state,{counterpart:C,isSubscribed:N}=g,O=this.getMessagesByDays(u),y=o||i;return c?l.a._("div",{className:Object(b.c)("private-messages-list",{"cannot-send":!e,"is-pending":r})},this._B6(),l.a._("div",{className:"header"},l.a._("div",{className:"header-info"},l.a._(se.a,{className:"back",to:"/messages"},l.a._(R.a,{img:"left",size:18})),l.a._(se.a,{to:t},l.a._($.b,{user:C})),l.a._("h3",null,l.a._(W.b,{link:{to:t},user:C,fanClubTier:h?h[C.id]:null,fanClubTierTerm:m?m[C.id]:null}))),l.a._("div",{className:"controls"},C.isModel&&v&&!y&&l.a._(Pe,{onChange:this.toggleSubscriptionEventHandler,isSubscribed:N,theme:"light"}),!y&&l.a._(Ee,{counterpart:C,isSubscribed:N,isSubscriptionVisible:!v&&C.isModel,onSubscriptionChange:this.toggleSubscriptionEventHandler,isBanButtonVisible:a,isFriendshipButtonVisible:n}))),r&&l.a._(re.a,{className:f,isCentered:!0}),l.a._(F.a,{containerRef:e=>{this.messageListRef=e},onScrollY:this.scrollHandler,onNativeScroll:this.scrollHandler},l.a._("div",{className:"messages"},Z()(O)?l.a._("p",{className:"no-messages"},Object(_.d)("empty")):X()(O,(e,t)=>[this._jm(t),...e.map(this._d6)]))),l.a._("div",{className:"composer"},e?l.a._(we,{counterpart:C,error:s,isSendingMessage:d,messageDraft:p}):this._jr())):null}}Le.displayName="PrivateMessagesList";const Re={loadAndReadMessages:C.b,loadRelations:de.a,markConversationAsReadByCounterpart:C.f,showModal:oe.c,showSubscriptionPackage:ce.v,togglePmSubscription:C.j};Le.defaultProps={canSend:!1,isLoading:!1,isScrollNextEnabled:!1,isScrollPrevEnabled:!0,messageDraft:"",scrollThreshold:30,wordStickers:[[],[]]};var Fe=Object(c.c)((e,t)=>{const{selectedConversation:s}=t,{counterpart:a,canSend:o}=s,{auth:n,privateMessages:r,ui:{windowWidth:l,windowHeight:c}}=e,{isLoading:d,isSending:p,error:u}=r,h=a.isModel?Object(ie.s)(e,a.username):`/user/${a.username}`,m=i()(n,"currentUser.id");return{canBan:Object(He.a)(e,null,a.id),canSend:o,counterpartLinkTo:h,counterpartLastReadMessageId:Object(Ue.c)(e,a.id),currentUser:n.currentUser,error:u,isBanButtonVisible:Object(He.d)(e,a.id),isBannedByCounterpart:Object(He.e)(e,a.id),isBannedByCountry:Object(He.g)(e,a.id),isBannedByCurrentUser:Object(Ae.b)(e,m,a.id),isFriendshipButtonVisible:Object(me.e)(e,a.id),isLayoutMoreThanXL:Object(v.p)(e),isLoading:d,isLoggedIn:n.isLoggedIn&&!n.isLoggingOut,isSending:p,messageDraft:s.messageDraft,messages:Object(Ce.a)(e,a.id),windowHeight:c,windowWidth:l,wordStickers:Object(z.C)(e)}},Re)(Le),De=s(25);function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class Be extends l.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:["username"],action:e=>{const{currentUser:t,loadCounterpart:s,username:a}=this.props,{username:i}=e;a&&a!==t.username&&a!==i&&s({username:a})}},{update:["selectedConversation.counterpart.id"],action:()=>{const{selectedConversation:e}=this.props,t=i()(e,"counterpart",null);this.props.updatePrivateCounterpart(t)}},{update:De.c,action:()=>{const{loadPageData:e,username:t}=this.props;e(t)}},{update:De.f,action:()=>{const{loadCounterpart:e,selectedConversation:t}=this.props;if(t&&t.counterpart){const{username:s}=t.counterpart;e({username:s})}}},{update:["isMyFriend"],action:e=>{const{isMyFriend:t,loadCounterpart:s,selectedConversation:a}=this.props,{isMyFriend:i}=e;if(t&&t!==i&&a&&a.counterpart){const{username:e}=a.counterpart;s({username:e})}}},{update:Ce.e,action:()=>{const{currentUser:e,isLoadingPage:t,conversations:s,username:a,selectedConversation:o,routerReplace:r,isLayoutUpToL:l}=this.props,c=l,d=Boolean(s.length);if(!t&&d){if(!(a&&a!==e.username&&o&&a||c)){const e=n()(s);r(`/messages/${i()(e,"counterpart.username","")}`)}}else!t&&a&&r("/messages")}}],this.userBannedChangeEventHandler=e=>{this.props.processSocketEvent("userBanned",e);const{loadAndReadMessages:t,selectedConversation:s}=this.props;s&&t(s.counterpart.id)},this.userUnbannedChangeEventHandler=e=>{this.props.processSocketEvent("userUnbanned",e);const{loadAndReadMessages:t,selectedConversation:s}=this.props;s&&t(s.counterpart.id)},this.onConversationClicked=e=>{this.props.routerPush(`/messages/${e.username}`)}}_A(){document.body.classList.add("private-messages-page-mounted")}componentWillUnmount(){document.body.classList.remove("private-messages-page-mounted")}_B6(){if(!this.props.isLoggedIn)return null;const{isLoggedIn:e,currentUser:t,selectedConversation:s}=this.props,{id:a}=t,i=e&&t.isModel;return l.a._(g.a,{events:[`newPrivateMessageReceived:${a}`,`newPrivateMessageSent:${a}`,...i?[`knightAdded:${a}`,`knightDeleted:${a}`]:[]],eventsWithCallbacks:[{subscriptionKey:`userBanned:${a}`,callback:this.userBannedChangeEventHandler},{subscriptionKey:`userUnbanned:${a}`,callback:this.userUnbannedChangeEventHandler},...s?[{subscriptionKey:`userBanned:${s.counterpart.id}`,callback:this.userBannedChangeEventHandler},{subscriptionKey:`userUnbanned:${s.counterpart.id}`,callback:this.userUnbannedChangeEventHandler}]:[]]})}render(){const{removeConversation:e,conversations:t,selectedConversation:s,isLoading:a,isUpdating:i,isUserNotFound:o,modelFanClubTiers:n,modelFanClubTiersTerm:r,username:c}=this.props;let d=null;return o?d=l.a._("div",{className:"private-messages-list span-7 not-found"},l.a._("p",null,Object(_.d)("privateMessages.userNotFoundByUsername",{username:c}))):s&&(d=l.a._(Fe,{modelFanClubTiers:n,modelFanClubTiersTerm:r,selectedConversation:s})),l.a._(m.a,xe({propsUpdateToActionsMap:this.propsUpdateToActionsMap},this.props),l.a._(h.a,{titleKey:"seo.title.privateMessages"},l.a._("div",{className:Object(b.c)("page-wrapper private-messages-page",{"has-selected-counterpart":Boolean(s)})},l.a._("div",{className:"page"},l.a._("div",{className:"row"},l.a._("div",{className:"conversations span-5"},this._B6(),l.a._(J,{_je:e,onConversationClicked:this.onConversationClicked,conversations:t,modelFanClubTiers:n,modelFanClubTiersTerm:r,isLoading:a,isUpdating:i})),l.a._("div",{className:"private-messages span-7"},d))))))}}Be.displayName="PrivateMessagesPage",Be.checkAccess=d.i;const Ve={loadPageData:C.e,loadAndReadMessages:C.b,loadCounterpart:C.d,processSocketEvent:u.b,removeConversation:C.g,routerPush:d.H,routerReplace:d.I,updatePrivateCounterpart:f.b};t.a=Object(c.c)((e,t)=>{const{auth:{currentUser:s,isLoggedIn:a,isLoggingOut:i},conversations:o,privateMessages:n}=e,{isLoading:r,isUpdating:l}=o,{isLoadingPage:c}=n,{username:d}=t.match.params,u=Object(Ue.e)(e,{username:d});return{currentUser:s,username:d,isLoading:r,isUpdating:l,isLoadingPage:c,isLayoutUpToL:Object(v.q)(e),isUserNotFound:!r&&d&&!u,conversations:Object(Ue.b)(e,{username:d}),modelFanClubTiers:s&&s.isModel?Object(p.a)(e,s.username):null,modelFanClubTiersTerm:s&&s.isModel?Object(p.b)(e,s.username):null,selectedConversation:u,isLoggedIn:a&&!i,isMyFriend:u&&u.counterpart&&Object(me.f)(e,u.counterpart.id)}},Ve)(Be)},,,,,,,,,,,,,,function(e,t,s){"use strict";var a=s(8),i=s.n(a),o=s(0),n=s.n(o),r=s(5),l=s(229),c=s(206),d=s(27),p=s.n(d),u=s(117),h=s(248),m=s(172),g=s(13),b=s(6),_=s(1);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class f extends n.a.Component{constructor(...e){super(...e),this.toggleButtonClickHandler=()=>{const{favorite:e,onDeleteClick:t}=this.props;t(e.id)}}render(){const{favorite:e,isDeleted:t,isEditMode:s}=this.props;let a;return s&&(a=t?n.a._(g.a,{className:"btn-restore",onClick:this.toggleButtonClickHandler},Object(_.d)("button.restore")):n.a._("span",{className:"remove-button",onClick:this.toggleButtonClickHandler},n.a._(b.a,{img:"close-4"}))),n.a._(h.a,v({},Object(m.b)(this.props,e),{model:e,isFavoritedHeartHidden:!0,clickHandler:this.props.clickHandler}),a)}}f.displayName="FavoritesListItem";var C=f,N=s(127),O=s(141),y=s(46),w=s(308),S=s(387),k=s(32),j=s(18),I=s(3),T=s(20),P=s(29);class M extends n.a.Component{constructor(...e){super(...e),this.clickHandler=()=>{this.props.showModal(I.F.AUTH,{action:{isDefaultBanner:!0,shouldBypassActionPrefix:!0,type:"createFreeAccount"},component:"SignUp",className:"auth-modal-signup",triggerSource:I.b.SAVE_SETTINGS_BANNER})}}render(){const{isVisible:e}=this.props;return n.a._("div",{className:"header-guest-banner-wrapper"},e&&n.a._("div",{className:"header-guest-banner"},n.a._("div",{className:"header-guest-banner-icon"},n.a._(b.a,{img:"wrong"})),n.a._("div",{className:"header-guest-banner-body"},n.a._("div",{className:"header-guest-banner-body--wrapper"},n.a._("div",{className:"header-guest-banner-title"},Object(_.d)("headerGuestBanner.title")),n.a._("div",{className:"header-guest-banner-description"},Object(_.d)("headerGuestBanner.description"))),n.a._("div",{className:"header-guest-banner-button"},n.a._(g.a,{style:"default-outline",onClick:this.clickHandler},Object(_.d)("headerGuestBanner.button"))))))}}M.displayName="HeaderGuestBanner";const E={showModal:j.c};var A=Object(r.c)(e=>{const{auth:{currentUser:t}}=e;return{currentUser:t,isVisible:Object(P.n)(e)}},e=>Object(k.b)(E,e))(M),U=s(97),H=s(10);function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class R extends w.a{constructor(...e){super(...e),this.modelListItemClickHandler=()=>{this.props.saveFilterParams({sortBy:Object(O.b)(void 0,"favorites")})},this.loadMoreHandler=()=>{this.props.isPending||this.props.isFavoriteModelsPending||this.props.loadMoreFavorites()},this.editHandler=e=>{p()(e)||this.props.removeFavorites(e)}}get listItems(){const{favorites:e}=this.props;return e.map(e=>n.a._(C,L({},Object(m.b)(this.props,e.model),{shouldShowPopularSnapshot:!0,favorite:e.model,id:e.model.id,key:e.model.id,clickHandler:this.modelListItemClickHandler})))}get hasMore(){return this.props.hasMore}get isLoadingMore(){return this.props.isFavoriteModelsPending}get onLoadMore(){return this.loadMoreHandler}get additionalClassNames(){return Object(H.c)(this.props.className,"favorites")}get additionalInfiniteScrollProps(){return{stubClassName:"model-list-item-stub"}}_Dt(){const{isLoggedIn:e,preferredTagUrl:t}=this.props,s=e?"description":"descriptionForGuests";return n.a._(S.a,{title:Object(_.d)("myFavoritesEmpty.title"),icon:"favorite-empty",description:`${Object(_.d)(`myFavoritesEmpty.${s}`)}\n${Object(_.d)("myFavoritesEmpty.descriptionSecond")}`,preferredTagUrl:t})}_D(){return n.a._("div",{className:Object(H.c)("favorites-title","page-header")},n.a._(U.a,null,Object(_.d)("myFavorites")),n.a._(A,null))}}const F={loadMoreFavorites:l.d,removeFavorites:l.e,saveFilterParams:u.f};R.propTypes={...R.propTypes,favorites:i.a.array,hasMore:i.a.bool,isLoggedIn:i.a.bool,isPending:i.a.bool,isFavoriteModelsPending:i.a.bool,preferredTagUrl:i.a.string.isRequired,...Object(T.a)(F)};var D=Object(r.c)(e=>{const{auth:{isLoggedIn:t},ui:{windowWidth:s,windowHeight:a},favorites:i}=e;return{favorites:Object(N.b)(e),hasMore:Object(N.g)(e),isLoggedIn:t,isFavoriteModelsPending:i.isPendingModelsList,preferredTagUrl:Object(y.i)(e),windowHeight:a,windowWidth:s,...Object(m.a)(e)}},F)(R),x=s(65),B=s(247),V=s(41);const z={loadFavorites:l.c};class $ extends n.a.Component{_A(){this.props.loadFavorites()}render(){const{isPending:e}=this.props;return n.a._(x.a,{isDataPending:e,titleKey:"seo.title.favorites"},n.a._("div",{className:"favorites-page page page-columns"},n.a._(c.a,null),n.a._("div",{className:"model-list-wrapper"},n.a._("div",{className:"model-list-container"},n.a._(B.a,null),n.a._("div",{className:"model-list-content"},n.a._(D,{isEditable:!0,isPending:e}))))))}}$.displayName="FavoritesPage",$.checkAccess=V.q;t.a=Object(r.c)(e=>{const{favorites:t}=e;return{isPending:t.isPending}},z)($)},function(e,t,s){"use strict";var a=s(0),i=s.n(a),o=s(65),n=s(2),r=s.n(n),l=s(39),c=s.n(l),d=s(5),p=s(146),u=s(32),h=s(42),m=s(1),g=s(61),b=s(726),_=s(13),v=s(98),f=s(6);const C=({onClose:e})=>i.a._(v.a,{className:"document-safe-upload-success-modal",titlePosition:"outside",isWrapperCloseDisabled:!0,isCloseBtnShown:!1,source:"documentSafeUpload"},i.a._("div",{className:"document-safe-upload-success"},i.a._(f.a,{img:"check-round-2"}),i.a._("h1",{className:"title"},Object(m.d)("documentSafeUpload.success.title")),i.a._("p",{className:"description"},Object(m.d)("documentSafeUpload.success.description")),i.a._(_.a,{onClick:e,size:"default"},Object(m.d)("button.ok"))));C.displayName="SuccessUpload";var N=C;const O=({isLoading:e,isUploadDisabled:t,onUpload:s})=>{const o=Object(a.useRef)(null);return i.a._("form",{className:"document-safe-upload-form"},i.a._(f.a,{className:"upload-icon",img:"upload"}),i.a._("h1",{className:"title"},Object(m.d)("documentSafeUpload.uploadForm.title")),i.a._("p",{className:"description"},Object(m.d)("documentSafeUpload.uploadForm.description")),i.a._("input",{accept:"image/*",ref:o,type:"file",onChange:e=>{s(e),o.current&&(o.current.value="")},tabIndex:0,disabled:t}),i.a._(_.a,{onClick:()=>{o.current&&o.current.click()},size:"default",disabled:t},e?Object(m.d)("documentSafeUpload.uploadForm.button.uploading"):Object(m.d)("documentUpload.button")),i.a._("div",{className:"divider"}),i.a._("div",{className:"declaimer"},i.a._(f.a,{className:"declaimer-icon",img:"lock"}),i.a._("p",{className:"declaimer-text"},Object(m.d)("documentSafeUpload.uploadForm.declaimer"))))};O.displayName="UploadForm";var y=O,w=s(9);const S={upload:b.a,showErrorNotification:h.b},k=e=>{const[t,s]=Object(a.useState)(!1),[o,n]=Object(a.useState)(!1);let l=c.a;return Object(a.useEffect)(()=>()=>l(),[]),i.a._("div",{className:"document-safe-upload"},i.a._(y,{isLoading:o,isUploadDisabled:o||t,onUpload:async t=>{const a=(e=>e.target&&e.target.files&&e.target.files.length?e.target.files[0]:null)(t);if(!a)return;n(!0);const{signature:i}=(()=>{const{pathname:t}=e.location;return{signature:t.replace(/^\/\w+-+\w+\//,"")}})(),{promise:o,cancel:c}=Object(g.h)(e.upload(i,a));l=c;try{(t=>{if(t.type===w.E){const s=r()(t,"data.error.message",Object(m.d)("errors.serverError"));e.showErrorNotification(s)}t.type===w.G&&s(!0)})(await o)}catch(t){if(t.isCanceled)return;e.showErrorNotification(Object(m.d)("errors.serverError"))}n(!1)}}),t&&i.a._(N,{onClose:()=>s(!1)}))};k.displayName="DocumentSafeUpload";var j=Object(u.d)(Object(d.c)(null,S),p.h)(k);const I=()=>i.a._(o.a,{titleKey:"seo.title.support.documentSaveUpload"},i.a._("div",{className:"container island-page"},i.a._(j,null)));I.displayName="DocumentSafeUploadPage";t.a=I},function(e,t,s){"use strict";var a=s(8),i=s.n(a),o=s(0),n=s.n(o),r=s(5),l=s(32),c=s(154),d=s(33),p=s.n(d),u=s(27),h=s.n(u),m=s(248),g=s(172),b=s(13),_=s(6),v=s(1);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class C extends n.a.Component{constructor(...e){super(...e),this._I5=()=>{const{subscription:e,onDeleteClick:t}=this.props;t(e.id)}}render(){const{subscription:e,isDeleted:t,isEditMode:s}=this.props;let a;return s&&(a=t?n.a._(b.a,{className:"btn-restore",onClick:this._I5},Object(v.d)("button.restore")):n.a._("span",{className:"remove-button",onClick:this._I5},n.a._(_.a,{img:"close-4"}))),n.a._(m.a,f({},Object(g.b)(this.props,e),{model:e}),a)}}C.displayName="SubscriptionListItem";var N=C,O=s(171),y=s(308),w=s(97),S=s(10),k=s(20),j=s(89),I=s(28);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class P extends y.a{constructor(...e){super(...e),this.loadMoreHandler=()=>{const{isPending:e,loadMoreUsers:t}=this.props;e||t(this.props.subscriptionIds)},this.editHandler=e=>{h()(e)||this.props.removeSubscriptions(e,"myFollowingsPage")}}get listItems(){return p()(this.props.subscriptions,e=>n.a._(N,T({},Object(g.b)(this.props,e.model),{id:e.model.id,key:e.model.id,subscription:e.model})))}get hasMore(){return this.props.hasMore}get isLoadingMore(){return this.props.isUsersPending}get onLoadMore(){return this.loadMoreHandler}get additionalClassNames(){return Object(S.c)("page-block","subscriptions")}get additionalInfiniteScrollProps(){return{stubClassName:"model-list-item-stub"}}_D(){return n.a._("div",{className:"page-header"},n.a._(w.a,null,Object(v.d)("mySubscriptions")))}}const M={loadMoreUsers:j.d,removeSubscriptions:c.c};P.propTypes={...P.propTypes,hasMore:i.a.bool,isPending:i.a.bool,isUsersPending:i.a.bool,subscriptionIds:i.a.arrayOf(i.a.number),subscriptions:i.a.array,...Object(k.a)(M)};var E=Object(r.c)(e=>{const{users:t,ui:{windowWidth:s,windowHeight:a}}=e,i=Object(O.f)(e);return{subscriptions:Object(O.e)(e),hasMore:Object(I.h)(e,i).length>0,isUsersPending:t.isPending,subscriptionIds:i,windowHeight:a,windowWidth:s,...Object(g.a)(e)}},M)(P),A=s(65),U=s(161),H=s(41),L=s(25);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class F extends n.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:L.c,action:()=>{this.props.loadSubscriptions()}}]}render(){const{isLoggedIn:e,isPending:t}=this.props;let s;return s=e?n.a._("div",{className:"subscriptions-page"},n.a._("div",{className:"page model-list-container"},n.a._(E,{isEditable:!0,isPending:t}))):null,n.a._(U.a,R({propsUpdateToActionsMap:this.propsUpdateToActionsMap},this.props),n.a._(A.a,{titleKey:"seo.title.subscriptions"},s))}}F.displayName="SubscriptionsPage",F.checkAccess=H.j;t.a=Object(r.c)(e=>{const{auth:{currentUser:t,isLoggedIn:s,isLoggingOut:a},subscriptions:i}=e;return{currentUser:t,isLoggedIn:s&&!a,isPending:i.isPending}},e=>Object(l.b)({loadSubscriptions:c.a},e))(F)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(386),r=s(46),l=s(65),c=s(97),d=s(121),p=s.n(d),u=s(223),h=s.n(u),m=s(63),g=s.n(m),b=s(33),_=s.n(b),v=s(2),f=s.n(v),C=s(282),N=s(17),O=s(280),y=s.n(O),w=s(102),S=s(10),k=s(1),j=s(80);let I=null;class T extends i.a.Component{constructor(...e){super(...e),this.clickHandler=e=>{if(e.preventDefault(),!I){const e=document.querySelector(".live-tags-index-container");I=e.offsetHeight}const t=document.querySelector(".header-notifications-wrapper"),s=t?t.offsetHeight:0,{currentTarget:{hash:a="letter_all"}={}}=e;j.a.to(a,{duration:150,offset:-I-s})},this._jt=e=>{const{groupedTags:t,highlightedIndex:s}=this.props,a=e.charCodeAt(0);return i.a._("a",{className:Object(S.c)("live-tags-index-letter",{active:y()(t[e])>0,highlighted:s===e}),key:`live-tags-link-${a}`,onClick:this.clickHandler,href:`#letter_${a}`},e)}}render(){const{alphabet:e,className:t,highlightedIndex:s,style:a,shouldRenderFeatured:o}=this.props,r=o?"featured":"all";return i.a._("div",{className:"live-tags-index-container",ref:e=>{this.liveTagsIndexRef=e}},i.a._("div",{className:Object(S.c)("live-tags-index-wrapper",t),style:a},i.a._(w.a,null,i.a._("div",{className:"live-tags-index-navigation"},i.a._("a",{className:Object(S.c)("live-tags-index-letter","active",{highlighted:s===r}),onClick:this.clickHandler,href:`#letter_${r}`},Object(k.d)("all")),["#",...e].map(this._jt))),i.a._(n.a,null)))}}T.displayName="LiveTagsIndex",T.defaultProps={className:"",style:{}};var P=T,M=s(3),E=s(55),A=(s(20),s(61)),U=s(379);let H={},L=null,R=null,F=0,D=null,x=null;const B=["featured","all"],V={releaseInterface:N.p};class z extends i.a.Component{constructor(...e){super(...e),this.state={highlightedIndex:"all",isFixed:!1},this.scrollEventHandler=()=>{const e=j.a.get(),t=g()(h()(_()(Object.keys(H),e=>Number(e)),"offset"),(t,s)=>e+5>=s?s:t,0);(this.getIsTopAnchorHighlighted()||B.includes(H[t]))&&this.state.highlightedIndex!==H[t]&&this.props.releaseInterface();const s=document.querySelector(".live-tags-group-vertical"),{top:a=0}=s?s.getBoundingClientRect():{};this.setState({highlightedIndex:H[t],isFixed:e>a})},this.setOffsetForGroup=(e,t)=>{if(!D){const e=document.querySelector("header");D=f()(e,"offsetHeight",0)}if(!x){const e=document.querySelector(".header-sub");x=f()(e,"offsetHeight",0)}if(!L){const e=document.querySelector(".live-tags-index-container");L=f()(e,"offsetHeight",0)}const s=t+D+x-L-5;this.props.shouldRenderFeatured&&"featured"===e||!this.props.shouldRenderFeatured&&"all"===e?H={0:e}:H[s]=e},this._ju=()=>{const{alphabet:e,groupedTags:t}=this.props;return _()(["#",...e],e=>t[e]&&this._jv(e))}}_A(){this.scrollThrottledEventHandler=p()(this.scrollEventHandler,M.v),Object(E.a)(this,window,"scroll",this.scrollThrottledEventHandler),this.props.shouldRenderFeatured&&this.setState({highlightedIndex:"featured"})}componentWillUnmount(){this.scrollThrottledEventHandler.cancel(),Object(E.b)(this)}getIsTopAnchorHighlighted(){return B.includes(this.state.highlightedIndex)}shouldComponentUpdate(e,t){let s=this.state.highlightedIndex!==t.highlightedIndex||this.state.isFixed!==t.isFixed||this.props.groupedTags!==e.groupedTags;if(this.getIsTopAnchorHighlighted()){R||(R=document.querySelector(".header-notifications-wrapper"));const e=R.offsetHeight;e!==F&&(F=e,s=!0)}else F=0;return s}componentDidUpdate(e){e.tag.primaryTagId!==this.props.tag.primaryTagId&&this.setState({highlightedIndex:this.props.shouldRenderFeatured?"featured":"all"})}_jw(e){return _()(e,e=>i.a._(C.a,{className:"live-tags-link",tag:e,key:`live-tags-link-${e.id}`,shouldReleaseInterface:!0,shouldRenderCounter:!0,shouldRenderBadge:!0}))}_jv(e){const t=this.props.groupedTags[e];return 0===t.length?null:this._jx({letter:e,tags:t})}_jx({letter:e,tags:t,chunksCount:s=5,segmentCode:a}){const o=a||e.charCodeAt(0);return i.a._("div",{key:`tagGroup_${o}`,id:`letter_${o}`,ref:t=>!a&&t&&this.setOffsetForGroup(e,t.offsetTop),className:"live-tags-group-vertical"},i.a._("div",{className:"live-tags-group-vertical-title"},"all"===a?Object(k.d)("all"):e),i.a._("div",{className:"live-tags-group-vertical-tags"},Object(A.k)(t,s).map((e,t)=>i.a._("div",{className:"live-tags-group-vertical-tags-column",key:`tagGroup_${o}_${t}`},this._jw(e)))))}_jy(){const{groupedTags:{all:e}}=this.props;return this._jx({tags:e,segmentCode:"all"})}render(){const{alphabet:e,groupedTags:t,shouldRenderFeatured:s}=this.props,{highlightedIndex:a,isFixed:o}=this.state;return i.a._("div",null,Boolean(e)&&i.a._(P,{className:Object(S.c)({fixed:o,container:o}),alphabet:e,groupedTags:t,style:{top:o?`${F}px`:"inherit"},highlightedIndex:a,ref:e=>e&&this.setOffsetForGroup(s?"featured":"all",0),shouldRenderFeatured:s}),i.a._("div",{className:"live-tags__container"},s&&this._jx({tags:t.featured,segmentCode:"featured",letter:Object(k.d)("allTagsPage.featured")}),e?this._ju():this._jy()))}}z.displayName="LiveTags";var $=Object(o.c)((e,t)=>{const s=Object(U.a)(e);return{alphabet:M.a[s],groupedTags:Object(r.n)(e)[t.tag.primaryTagId],shouldRenderFeatured:Boolean(M.a[s])&&["girls","couples"].includes(t.tag.primaryTagId)}},V)(z);const G=e=>{const{tag:t}=e;return i.a._(l.a,{descriptionKey:`seo.description.liveTags.${t.primaryTagId}`,titleKey:`seo.title.liveTags.${t.primaryTagId}`},i.a._("div",{className:"page",key:"livetagspage"},i.a._("div",{className:"livetag-page-header"},i.a._("div",{className:"page-header"},i.a._(c.a,null,Object(k.e)(`seo.indexHeadings.liveTags.${t.primaryTagId}`))),i.a._(n.a,null)),i.a._($,{tag:t})))};G.displayName="LiveTagsPage";t.a=Object(o.c)((e,{match:{params:{primaryTag:t}}})=>({tag:Object(r.m)(e)[t]}))(G)},,,,function(e,t,s){"use strict";s.d(t,"a",(function(){return N}));var a=s(0),i=s.n(a),o=s(5),n=s(320),r=s(388),l=s(206),c=s(237),d=s(7),p=s(46),u=s(65),h=s(10),m=s(1),g=s(41),b=s(26);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class v extends i.a.Component{constructor(...e){super(...e),this._b6=()=>{const{isStripChat:e,tag:t}=this.props;if(!e)return null;const s=Object(m.e)(`${t.primaryTagId}.${t.id}`,{seoExtra:!0});return(null==s?void 0:s.description)?i.a._("div",{className:"category-seo-description"},s.description):null}}getMeta(){const{isNonNudeWL:e,tag:t}=this.props;if(e){const e=Object(m.e)(`girls.${d.ub}`,{seoExtra:!0});return{title:(null==e?void 0:e.metaTitle)?e.metaTitle:Object(m.e)(`seo.title.tag.${d.ub}`),description:(null==e?void 0:e.metaDescription)?e.metaDescription:Object(m.e)(`seo.description.tag.${d.ub}`)}}if(!t.id){return{title:Object(m.e)(`seo.title.tag.${t.primaryTagId}`),description:Object(m.e)(`seo.description.tag.${t.primaryTagId}`)}}const s=Object(m.d)(`tagGenders.${t.primaryTagId}.${t.id}`,{stripTags:!0}),a=Object(m.e)(`${t.primaryTagId}.${t.id}`,{seoExtra:!0}),i=(null==a?void 0:a.metaDescription)?a.metaDescription:Object(m.e)(`seo.description.tagGenders.${t.primaryTagId}`,{tag:s});return{title:(null==a?void 0:a.metaTitle)?a.metaTitle:Object(m.e)(`seo.title.tagGenders.${t.primaryTagId}`,{tag:s}),description:i}}render(){const{searchString:e}=this.props;return i.a._(u.a,_({},this.getMeta(),{willScrollTop:!1,indexingType:"none"}),i.a._("div",{className:Object(h.c)("index-page page page-columns")},i.a._(l.a,null),i.a._("div",{className:"index-page-content-wrapper"},i.a._(c.a,{isLazyLoading:!0,hasFiltersColumn:!0,shouldShowPopularSnapshot:!0,underModelsList:i.a._(r.a,null)},i.a._(n.a,{isMultipleCategoriesIndex:!1,searchString:e})),this._b6())))}}v.displayName="SearchPageComp";const f=Object(o.c)((e,t)=>{const{match:{params:{primaryTag:s=Object(p.b)(e),secondaryTag:a="",searchString:i=""}}}=t,o=a?`${s}/${a}`:s,n=Object(p.m)(e)[o];return{isStripChat:Object(b.h)(e),isNonNudeWL:Object(b.f)(e),searchString:i,tag:n}})(v),C=e=>i.a._(f,e);C.displayName="SearchPage",C.checkAccess=g.r;var N=C},function(e,t,s){"use strict";var a=s(33),i=s.n(a),o=s(27),n=s.n(o),r=(s(8),s(0)),l=s.n(r),c=s(5),d=s(323),p=s(388),u=s(32),h=s(324),m=s(18),g=s(13),b=s(6),_=s(3),v=s(1);s(20);class f extends l.a.Component{constructor(...e){super(...e),this.clickHandler=()=>{this.props.showModal(_.F.AUTH,{action:{isDefaultBanner:!0,shouldBypassActionPrefix:!0,type:"createFreeAccount"},component:"SignUp",className:"auth-modal-signup",triggerSource:_.b.WATCH_HISTORY})}}render(){const{isVisible:e}=this.props;return l.a._("div",{className:"watch-history-banner-wrapper"},e&&l.a._("div",{className:"watch-history-banner"},l.a._("div",{className:"watch-history-banner-icon"},l.a._(b.a,{img:"wrong"})),l.a._("div",{className:"watch-history-banner-body"},l.a._("div",{className:"watch-history-banner-body--wrapper"},l.a._("div",{className:"watch-history-banner-title"},Object(v.d)("watchHistory.banner.title")),l.a._("div",{className:"watch-history-banner-description"},Object(v.d)("watchHistory.banner.description"))),l.a._("div",{className:"watch-history-banner-button"},l.a._(g.a,{style:"apply",onClick:this.clickHandler},Object(v.d)("watchHistory.banner.button"))))))}}f.displayName="WatchHistoryBanner";const C={showModal:m.c};var N=Object(c.c)(e=>({isVisible:Object(h.b)(e)}),e=>Object(u.b)(C,e))(f),O=s(206),y=s(248),w=s(237),S=s(172),k=s(46),j=s(65),I=s(161),T=s(470),P=s(387),M=s(59),E=s(247),A=s(41),U=s(25),H=s(97);function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class R extends l.a.Component{constructor(...e){super(...e),this.state={isWatchHistoryClearConfirmationOpen:!1},this.propsUpdateToActionsMap=[{update:U.b,action:()=>{this.props.load()}}],this.confirmClearHistory=()=>{this.setState({isWatchHistoryClearConfirmationOpen:!0})},this.clearHistoryConfirm=()=>{this.props.remove()},this.clearHistoryCancel=()=>{this.setState({isWatchHistoryClearConfirmationOpen:!1})},this._Bm=()=>l.a._("div",{className:"watch-history-page page page-columns"},l.a._(O.a,null),l.a._("div",{className:"model-list-wrapper"},l.a._("div",{className:"model-list-container"},l.a._(E.a,null),l.a._("div",{className:"model-list-content"},this._jz(),l.a._("div",{className:"model-list"},l.a._(M.a,{isCentered:!0}))))))}_k0(){const{isLoggedIn:e,models:t}=this.props;return e&&!n()(t)?l.a._("div",{onClick:this.confirmClearHistory,className:"watch-history-clear"},l.a._(b.a,{img:"close-3",size:10}),Object(v.d)("watchHistory.clear")):null}_jz(){return l.a._("div",{className:"page-header"},l.a._(H.a,{className:"watch-history-page-title"},Object(v.d)("watchHistory.header")),l.a._(N,null),this._k0())}_Id(){const{models:e,preferredTagUrl:t}=this.props,{isWatchHistoryClearConfirmationOpen:s}=this.state;return n()(e)?l.a._(l.a.Fragment,null,l.a._(P.a,{className:"without-top-margin",title:Object(v.d)("watchHistory.empty.title"),icon:"watch-history-big",description:Object(v.d)("watchHistory.empty.description"),preferredTagUrl:t}),l.a._(w.a,{isLazyLoading:!0,shouldShowPopularSnapshot:!0,hasFiltersColumn:!1,underModelsList:l.a._(p.a,null)},l.a._("div",{className:"model-list-header"},l.a._("h2",null,Object(v.d)("seo.indexHeadings.searchNoResults"))))):l.a._("div",{className:"model-list"},i()(e,e=>l.a._(y.a,L({key:e.id,model:e},Object(S.b)(this.props,e)))),s&&l.a._(T.a,{onConfirm:this.clearHistoryConfirm,onCancel:this.clearHistoryCancel},l.a._("p",null,Object(v.d)("watchHistory.clearConfirm"))))}render(){return l.a._(I.a,L({propsUpdateToActionsMap:this.propsUpdateToActionsMap},this.props),l.a._(j.a,{titleKey:"seo.title.watchHistory",descriptionKey:"seo.description.watchHistory",_Bm:this._Bm,isDataPending:this.props.isPending},l.a._("div",{className:"watch-history-page page page-columns"},l.a._(O.a,null),l.a._("div",{className:"model-list-wrapper"},l.a._("div",{className:"model-list-container"},l.a._(E.a,null),l.a._("div",{className:"model-list-content"},this._jz(),this._Id()))))))}}R.displayName="WatchHistoryPage",R.checkAccess=A.q;const F={load:d.c,remove:d.d};t.a=Object(c.c)(e=>{const{auth:{isLoggedIn:t,currentUser:s},watchHistory:{isPending:a,models:i}}=e;return{currentUser:s,isLoggedIn:t,isPending:a,models:i,preferredTagUrl:Object(k.i)(e),...Object(S.a)(e)}},F)(R)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(32),r=s(65),l=s(161),c=s(13),d=s(6),p=s(59),u=s(1),h=s(41),m=(s(20),s(80)),g=s(277),b=s(94),_=s.n(b),v=s(2),f=s.n(v),C=s(30),N=s(12),O=s(75),y=s(56),w=s(3);const S={display:"none"};class k extends i.a.Component{constructor(...e){super(...e),this.setPasswordClickHandler=e=>{e.preventDefault();const t=_()(f()(this.passwordRef,"value","")),s=_()(f()(this.confirmPasswordRef,"value",""));this.props.changePassword(t,s)},this._k1=e=>{const{error:t,isUpdating:s}=this.props,a=f()(t,"details",{});return i.a._("div",{className:"form-field"},i.a._("label",{className:"form-label",htmlFor:e},Object(u.d)(`confirmEmail.form.labels.${e}`)),i.a._("span",{className:"form-input"},i.a._(y.a,{type:"password",name:e,id:e,ref:t=>{this[`${e}Ref`]=t},disabled:s,onChange:this.changeHandler,onKeyDown:this.submitKeyDownHandler,maxLength:w.q}),a.type===e&&i.a._(O.a,{error:{message:a.text},targetId:e})))}}render(){const{currentUser:e,isUpdating:t}=this.props;if(!e)return null;const{username:s}=e;return i.a._("form",{className:"set-password"},i.a._("div",{className:"set-password-title"},Object(u.d)("confirmEmail.form.title")),i.a._("div",{className:"set-password-description"},i.a._(N.a,{elements:{link:i.a._(C.a,{to:"/settings"})},messageId:"confirmEmail.form.description"})),i.a._("div",{className:"set-password-inputs"},i.a._(y.a,{type:"text",name:"login",id:"login",value:s,style:S}),this._k1("password"),this._k1("confirmPassword")),i.a._("div",{className:"set-password-controls"},i.a._(c.a,{disabled:t,size:"medium",style:"apply",type:"submit",onClick:this.setPasswordClickHandler},Object(u.d)("confirmEmail.form.buttons.setPassword")),i.a._(c.a,{disabled:t,size:"medium",to:"/",type:"link",replace:!0},Object(u.d)("confirmEmail.form.buttons.later"))))}}k.displayName="SetPassword";var j=Object(o.c)(e=>{const{auth:{currentUser:t},confirmEmail:{error:s,isUpdating:a}}=e;return{currentUser:t,error:s,isUpdating:a}},e=>Object(n.b)({changePassword:g.a},e))(k),I=s(25);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const P=(e,t)=>e.shouldShowSetPassword&&!t.shouldShowSetPassword;class M extends i.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:["match.params.confirmationKey","match.params.userId"],action:()=>{const{match:{params:{userId:e,confirmationKey:t}},performEmailConfirmation:s}=this.props;s(e,t)}},{update:I.e,action:()=>{this.props.routerPush("/")}},{update:P,action:()=>m.a.reset()}],this._k2=()=>{const{confirmationType:e,hasChangedPassword:t,shouldShowSetPassword:s}=this.props;if(!e)return null;const a=t?"passwordChanged":e;return i.a._("div",{className:"confirm-email-actions"},i.a._("div",{className:e},i.a._(d.a,{img:e,size:100})),i.a._("div",{className:"confirm-email-description"},Object(u.d)(`confirmEmail.${a}`)),s?i.a._(j,null):i.a._(c.a,{size:"medium",type:"link",style:"auth-banner",to:"/",replace:!0},Object(u.d)("confirmEmail.goToMainPage")))}}render(){const{isConfirmingEmail:e}=this.props;return i.a._(l.a,T({propsUpdateToActionsMap:this.propsUpdateToActionsMap},this.props),i.a._(r.a,{className:"page confirm-email-page",titleKey:"seo.title.confirmEmail",indexingType:"none"},e?i.a._(p.a,{isCentered:!0}):this._k2()))}}M.displayName="ConfirmEmailPage";const E={performEmailConfirmation:g.b,routerPush:h.H};t.a=Object(o.c)(e=>{const{auth:{isLoggedIn:t,isLoggingOut:s,currentUser:a},confirmEmail:{confirmationType:i,hasChangedPassword:o,isConfirmingEmail:n,shouldShowSetPassword:r}}=e;return{confirmationType:i,currentUser:a,hasChangedPassword:o,isConfirmingEmail:n,shouldShowSetPassword:r,isLoggedIn:t&&!s}},e=>Object(n.b)(E,e))(M)},function(e,t,s){"use strict";var a=s(502),i=(s(8),s(0)),o=s.n(i),n=s(5),r=s(65),l=s(12),c=s(59);function d({children:e}){return o.a._("div",{className:"being-redirected"},o.a._(c.a,{isInline:!0}),o.a._(l.a,{messageId:"navigationMessages.beingRedirected",className:"being-redirected-message"}),e)}d.displayName="BeingRedirected",d.defaultProps={children:null};var p=d,u=s(36);class h extends o.a.Component{_A(){const{supportUrl:e}=this.props;e&&window.location.replace(e)}_k3(){const{isLoggedIn:e,supportUrl:t}=this.props;return o.a._(p,null,!e&&o.a._(a.Helmet,null,o.a._("link",{rel:"canonical",href:t})))}render(){return o.a._(r.a,{titleKey:"seo.title.support.form"},o.a._("div",{className:"container island-page feedback-page"},this._k3()))}}h.displayName="FeedbackPage";t.a=Object(n.c)(e=>({isLoggedIn:e.auth.isLoggedIn,supportUrl:Object(u.v)(e)}))(h)},function(e,t,s){"use strict";s(8);var a=s(0),i=s.n(a),o=s(5),n=s(65),r=s(59),l=s(1),c=s(41),d=(s(20),s(397)),p=s(94),u=s.n(p),h=s(2),m=s.n(h),g=s(32),b=s(13),_=s(75),v=s(56),f=s(3),C=s(10),N=s(34),O=s(15),y=s(25);class w extends i.a.Component{constructor(...e){super(...e),this.propsUpdateToActionsMap=[{update:[y.c],action:()=>this.props.routerPush("/")}],this.resetPasswordButtonClickHandler=e=>{e.preventDefault();const t=u()(m()(this.passwordRef,"value","")),s=u()(m()(this.passwordRepeatRef,"value",""));this.props.resetPassword(this.props.recoveryKey,t,s)}}_A(){Object(N.a)(this.propsUpdateToActionsMap,{},this.props)}componentDidUpdate(e){Object(N.a)(this.propsUpdateToActionsMap,e,this.props)}_Ce(){return i.a._("div",{className:"reset-password island-wrapper"},i.a._("div",{className:"island island-small text-center"},Object(l.d)("passwordRecovery.recoverCheckError")))}render(){const{isResettingPassword:e,resetPasswordError:t,resetPasswordSuccess:s}=this.props,a=m()(t,"details",{});return t&&"passwordError"!==a.type&&"passwordRepeatError"!==a.type?this._Ce():i.a._("div",{className:"reset-password island-wrapper"},i.a._("div",{className:"island island-small"},i.a._("div",{className:"island-header"},i.a._("h1",{className:"island-title"},Object(l.d)("passwordRecovery.resetPassword"))),i.a._("form",{className:"forgot-password-form island-form"},i.a._("div",{className:"field field-password"},i.a._(v.a,{autoCapitalize:"none",className:Object(C.c)("input-password",{error:!1}),disabled:s,minLength:O.o,maxLength:f.q,placeholder:Object(l.d)("passwordRecovery.newPassword"),ref:e=>{this.passwordRef=e},id:"reset_password_password",required:!0,type:"password"}),"passwordError"===a.type&&i.a._(_.a,{error:{message:a.text},targetId:"reset_password_password"})),i.a._("div",{className:"field field-password"},i.a._(v.a,{autoCapitalize:"none",className:Object(C.c)("input-password",{error:!1}),disabled:s,minLength:O.o,maxLength:f.q,placeholder:Object(l.d)("passwordRecovery.newPasswordRepeat"),ref:e=>{this.passwordRepeatRef=e},id:"reset_password_passwordRepeat",required:!0,type:"password"}),"passwordRepeatError"===a.type&&i.a._(_.a,{error:{message:a.text},targetId:"reset_password_passwordRepeat"})),i.a._("div",{className:"field field-action field-submit"},i.a._(b.a,{className:"input-submit btn-action",disabled:e||s,style:"primary",type:"submit",onClick:this.resetPasswordButtonClickHandler},Object(l.d)("button.submit"))))))}}w.displayName="ResetPassword";const S={resetPassword:d.c,routerPush:c.H};var k=Object(o.c)(({auth:{currentUser:e,isLoggedIn:t,isLoggingOut:s},passwordRecovery:{isResettingPassword:a,resetPasswordError:i,resetPasswordSuccess:o}})=>({currentUser:e,isLoggedIn:t&&!s,isResettingPassword:a,resetPasswordError:i,resetPasswordSuccess:o}),e=>Object(g.b)(S,e))(w);class j extends i.a.Component{_A(){const{isLoggedIn:e,checkRecoveryKey:t,match:{params:{recoveryKey:s}},routerPush:a}=this.props;!e&&s?t(s):a("/")}_Ce(){return i.a._("div",{className:"container island-page reset-password-page"},i.a._("div",{className:"reset-password island-wrapper"},i.a._("div",{className:"island island-small text-center"},Object(l.d)("passwordRecovery.recoverCheckError"))))}render(){const{isCheckingRecoveryKey:e,match:{params:{recoveryKey:t}},recoveryKeyCheckError:s}=this.props;let a;return a=s||!t?this._Ce():i.a._("div",{className:"container island-page reset-password-page"},e?i.a._(r.a,{isCentered:!0}):i.a._(k,{recoveryKey:t})),i.a._(n.a,{titleKey:"seo.title.resetPassword"},a)}}j.displayName="ResetPasswordPage";const I={checkRecoveryKey:d.a,routerPush:c.H};t.a=Object(o.c)(({auth:{isLoggedIn:e,isLoggingOut:t},passwordRecovery:{recoveryKeyCheckError:s,isCheckingRecoveryKey:a}})=>({isCheckingRecoveryKey:a,isLoggedIn:e&&!t,recoveryKeyCheckError:s}),I)(j)},,,,function(e,t,s){"use strict";s.d(t,"a",(function(){return m}));var a=s(0),i=s.n(a),o=s(5),n=s(46),r=s(10),l=s(36),c=s(26),d=s(28);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const u=(e,t)=>{switch(e){case"stripchat":switch(t){case"boys":return"site-logo-sc site-logo-sc-boys";case"trans":return"site-logo-sc site-logo-sc-trans";case"none":default:return"site-logo-sc"}case"stripchat-coronavirus":switch(t){case"boys":return"site-logo-sc-coronavirus site-logo-sc-coronavirus-boys";case"trans":return"site-logo-sc-coronavirus site-logo-sc-coronavirus-trans";case"none":default:return"site-logo-sc-coronavirus"}case"stripchat-red":switch(t){case"boys":return"site-logo-sc-red site-logo-sc-red-boys";case"trans":return"site-logo-sc-red site-logo-sc-red-trans";case"none":default:return"site-logo-sc-red"}case"xhamsterlive":switch(t){case"boys":return"site-logo-xhl site-logo-xhl-boys";case"trans":return"site-logo-xhl site-logo-xhl-trans";case"none":default:return"site-logo-xhl"}case"whitelabel":default:return"site-logo-whitelabel"}},h=({type:e,gender:t,whitelabelLogoUrl:s,className:a,children:o,...n})=>i.a._("div",p({className:Object(r.c)(a,u(e,t),"site-logo"),style:"whitelabel"===e?{backgroundImage:s}:{}},n),o);h.displayName="SiteLogoComponent";const m=({onLightBackground:e=!1,...t})=>{const s=Object(o.e)(c.h),a=Object(o.e)(c.j),r=Object(o.e)(e=>Object(l.f)(e).isCoronavirusLogo),u=Object(o.e)(c.d),m=Object(o.e)(d.d),g=Object(o.e)(n.i);return i.a._(h,p({type:s?e?"stripchat-red":r?"stripchat-coronavirus":"stripchat":a?"xhamsterlive":"whitelabel",gender:m||"girls"===g?"none":"boys"===g?"boys":"trans"===g?"trans":"none",whitelabelLogoUrl:u},t))};m.displayName="SiteLogo"}]]);
//# sourceMappingURL=shared.20200430115445.js.map