(function(){var c;function ba(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function n(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:ba(a)}}var ca="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},fa;if("function"==typeof Object.setPrototypeOf)fa=Object.setPrototypeOf;else{var ha;a:{var ia={ic:!0},ja={};try{ja.__proto__=ia;ha=ja.ic;break a}catch(a){}ha=!1}fa=ha?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ka=fa,la="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};function ma(a){a=["object"==typeof globalThis&&globalThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var p=ma(this);function na(){na=function(){};p.Symbol||(p.Symbol=oa)}function pa(a,b){this.hc=a;la(this,"description",{configurable:!0,writable:!0,value:b})}pa.prototype.toString=function(){return this.hc};var oa=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new pa("jscomp_symbol_"+(d||"")+"_"+b++,d)}var b=0;return a}();function qa(){na();var a=p.Symbol.iterator;a||(a=p.Symbol.iterator=p.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&la(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return sa(ba(this))}});qa=function(){}}function sa(a){qa();a={next:a};a[p.Symbol.iterator]=function(){return this};return a}
function ta(a,b){qa();a instanceof String&&(a+="");var d=0,e={next:function(){if(d<a.length){var f=d++;return{value:b(f,a[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e}function q(a,b){if(b){var d=p;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in d||(d[f]={});d=d[f]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&la(d,a,{configurable:!0,writable:!0,value:b})}}
q("Array.prototype.keys",function(a){return a?a:function(){return ta(this,function(b){return b})}});q("Promise",function(a){function b(l){this.Da=0;this.qb=void 0;this.la=[];var g=this.hb();try{l(g.resolve,g.reject)}catch(h){g.reject(h)}}function d(){this.X=null}function e(l){return l instanceof b?l:new b(function(g){g(l)})}if(a)return a;d.prototype.Cb=function(l){if(null==this.X){this.X=[];var g=this;this.Db(function(){g.rc()})}this.X.push(l)};var f=p.setTimeout;d.prototype.Db=function(l){f(l,0)};d.prototype.rc=function(){for(;this.X&&this.X.length;){var l=this.X;this.X=[];for(var g=0;g<l.length;++g){var h=l[g];l[g]=null;try{h()}catch(m){this.nc(m)}}}this.X=null};d.prototype.nc=function(l){this.Db(function(){throw l;})};b.prototype.hb=function(){function l(m){return function(r){h||(h=!0,m.call(g,r))}}var g=this,h=!1;return{resolve:l(this.Mc),reject:l(this.pb)}};b.prototype.Mc=function(l){if(l===this)this.pb(new TypeError("A Promise cannot resolve to itself"));else if(l instanceof b)this.Qc(l);else{a:switch(typeof l){case "object":var g=null!=l;break a;case "function":g=!0;break a;default:g=!1}g?this.Lc(l):this.Hb(l)}};b.prototype.Lc=function(l){var g=void 0;try{g=l.then}catch(h){this.pb(h);return}"function"==typeof g?this.Rc(g,l):this.Hb(l)};b.prototype.pb=function(l){this.Zb(2,l)};b.prototype.Hb=function(l){this.Zb(1,l)};b.prototype.Zb=function(l,g){if(0!=this.Da)throw Error("Cannot settle("+l+", "+g+"): Promise already settled in state"+this.Da);this.Da=l;this.qb=g;this.sc()};b.prototype.sc=function(){if(null!=this.la){for(var l=0;l<this.la.length;++l)k.Cb(this.la[l]);this.la=null}};var k=new d;b.prototype.Qc=function(l){var g=this.hb();l.Ja(g.resolve,g.reject)};b.prototype.Rc=function(l,g){var h=this.hb();try{l.call(g,h.resolve,h.reject)}catch(m){h.reject(m)}};b.prototype.then=function(l,g){function h(K,N){return"function"==typeof K?function(da){try{m(K(da))}catch(ea){r(ea)}}:N}var m,r,D=new b(function(K,N){m=K;r=N});this.Ja(h(l,m),h(g,r));return D};b.prototype.catch=function(l){return this.then(void 0,l)};b.prototype.Ja=function(l,g){function h(){switch(m.Da){case 1:l(m.qb);break;case 2:g(m.qb);break;default:throw Error("Unexpected state: "+m.Da);}}var m=this;null==this.la?k.Cb(h):this.la.push(h)};b.resolve=e;b.reject=function(l){return new b(function(g,h){h(l)})};b.race=function(l){return new b(function(g,h){for(var m=n(l),r=m.next();!r.done;r=m.next())e(r.value).Ja(g,h)})};b.all=function(l){var g=n(l),h=g.next();return h.done?e([]):new b(function(m,r){function D(da){return function(ea){K[da]=ea;N--;0==N&&m(K)}}var K=[],N=0;do K.push(void 0),N++,e(h.value).Ja(D(K.length-1),r),h=g.next();while(!h.done)})};return b});function t(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
q("WeakMap",function(a){function b(h){this.va=(g+=Math.random()+1).toString();if(h){h=n(h);for(var m;!(m=h.next()).done;)m=m.value,this.set(m[0],m[1])}}function d(){}function e(h){var m=typeof h;return"object"===m&&null!==h||"function"===m}function f(h){if(!t(h,l)){var m=new d;la(h,l,{value:m})}}function k(h){var m=Object[h];m&&(Object[h]=function(r){if(r instanceof d)return r;f(r);return m(r)})}if(function(){if(!a||!Object.seal)return!1;try{var h=Object.seal({}),m=Object.seal({}),r=new a([[h,2],[m,3]]);if(2!=r.get(h)||3!=r.get(m))return!1;r.delete(h);r.set(m,4);return!r.has(h)&&4==r.get(m)}catch(D){return!1}}())return a;var l="$jscomp_hidden_"+Math.random();k("freeze");k("preventExtensions");k("seal");var g=0;b.prototype.set=function(h,m){if(!e(h))throw Error("Invalid WeakMap key");f(h);if(!t(h,l))throw Error("WeakMap key fail: "+h);h[l][this.va]=m;return this};b.prototype.get=function(h){return e(h)&&t(h,l)?h[l][this.va]:void 0};b.prototype.has=function(h){return e(h)&&t(h,l)&&t(h[l],this.va)};b.prototype.delete=function(h){return e(h)&&t(h,l)&&t(h[l],this.va)?delete h[l][this.va]:!1};return b});q("Map",function(a){function b(){var g={};return g.U=g.next=g.head=g}function d(g,h){var m=g.P;return sa(function(){if(m){for(;m.head!=g.P;)m=m.U;for(;m.next!=m.head;)return m=m.next,{done:!1,value:h(m)};m=null}return{done:!0,value:void 0}})}function e(g,h){var m=h&&typeof h;"object"==m||"function"==m?k.has(h)?m=k.get(h):(m=""+ ++l,k.set(h,m)):m="p_"+h;var r=g.ra[m];if(r&&t(g.ra,m))for(g=0;g<r.length;g++){var D=r[g];if(h!==h&&D.key!==D.key||h===D.key)return{id:m,list:r,index:g,H:D}}return{id:m,list:r,index:-1,H:void 0}}function f(g){this.ra={};this.P=b();this.size=0;if(g){g=n(g);for(var h;!(h=g.next()).done;)h=h.value,this.set(h[0],h[1])}}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var g=Object.seal({x:4}),h=new a(n([[g,"s"]]));if("s"!=h.get(g)||1!=h.size||h.get({x:4})||h.set({x:4},"t")!=h||2!=h.size)return!1;var m=h.entries(),r=m.next();if(r.done||r.value[0]!=g||"s"!=r.value[1])return!1;r=m.next();return r.done||4!=r.value[0].x||"t"!=r.value[1]||!m.next().done?!1:!0}catch(D){return!1}}())return a;qa();var k=new WeakMap;f.prototype.set=function(g,h){g=0===g?0:g;var m=e(this,g);m.list||(m.list=this.ra[m.id]=[]);m.H?m.H.value=h:(m.H={next:this.P,U:this.P.U,head:this.P,key:g,value:h},m.list.push(m.H),this.P.U.next=m.H,this.P.U=m.H,this.size++);return this};f.prototype.delete=function(g){g=e(this,g);return g.H&&g.list?(g.list.splice(g.index,1),g.list.length||delete this.ra[g.id],g.H.U.next=g.H.next,g.H.next.U=g.H.U,g.H.head=null,this.size--,!0):!1};f.prototype.clear=function(){this.ra={};this.P=this.P.U=b();this.size=0};f.prototype.has=function(g){return!!e(this,g).H};f.prototype.get=function(g){return(g=e(this,g).H)&&g.value};f.prototype.entries=function(){return d(this,function(g){return[g.key,g.value]})};f.prototype.keys=function(){return d(this,function(g){return g.key})};f.prototype.values=function(){return d(this,function(g){return g.value})};f.prototype.forEach=function(g,h){for(var m=this.entries(),r;!(r=m.next()).done;)r=r.value,g.call(h,r[1],r[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var l=0;return f});q("Number.isNaN",function(a){return a?a:function(b){return"number"===typeof b&&isNaN(b)}});q("Object.is",function(a){return a?a:function(b,d){return b===d?0!==b||1/b===1/d:b!==b&&d!==d}});q("Array.prototype.includes",function(a){return a?a:function(b,d){var e=this;e instanceof String&&(e=String(e));var f=e.length;d=d||0;for(0>d&&(d=Math.max(d+f,0));d<f;d++){var k=e[d];if(k===b||Object.is(k,b))return!0}return!1}});q("String.prototype.includes",function(a){return a?a:function(b,d){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(b,d||0)}});var ua="function"==typeof Object.assign?Object.assign:function(a,b){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var f in e)t(e,f)&&(a[f]=e[f])}return a};q("Object.assign",function(a){return a||ua});q("Set",function(a){function b(d){this.M=new Map;if(d){d=n(d);for(var e;!(e=d.next()).done;)this.add(e.value)}this.size=this.M.size}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var d=Object.seal({x:4}),e=new a(n([d]));if(!e.has(d)||1!=e.size||e.add(d)!=e||1!=e.size||e.add({x:4})!=e||2!=e.size)return!1;var f=e.entries(),k=f.next();if(k.done||k.value[0]!=d||k.value[1]!=d)return!1;k=f.next();return k.done||k.value[0]==d||4!=k.value[0].x||k.value[1]!=k.value[0]?!1:f.next().done}catch(l){return!1}}())return a;qa();b.prototype.add=function(d){d=0===d?0:d;this.M.set(d,d);this.size=this.M.size;return this};b.prototype.delete=function(d){d=this.M.delete(d);this.size=this.M.size;return d};b.prototype.clear=function(){this.M.clear();this.size=0};b.prototype.has=function(d){return this.M.has(d)};b.prototype.entries=function(){return this.M.entries()};b.prototype.values=function(){return this.M.values()};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(d,e){var f=this;this.M.forEach(function(k){return d.call(e,k,k,f)})};return b});q("Array.prototype.values",function(a){return a?a:function(){return ta(this,function(b,d){return d})}});function va(){return document.cookie.split(";").map(function(a){return a.trim()}).filter(function(a){return"csrftoken="===a.substring(0,10)}).map(function(a){return decodeURIComponent(a.substring(10))})[0]};if(void 0===(new FormData).has){var wa=document.createElement("script");wa.src="https://ssl-ccstatic.highwebmedia.com/js/formdata.min.js";document.head.appendChild(wa)}function xa(a){var b="";null===a.match(/^[a-zA-Z]+:\/\//)&&(b="/");return""+b+a}function ya(a){for(var b=new FormData,d=n(Object.keys(a)),e=d.next();!e.done;e=d.next())e=e.value,b.append(e,a[e]);return b}
function za(a){switch(a.readyState){case 0:return"request not sent";case 4:switch(a.status){case 0:return"network error";case 400:return"bad request";case 401:return"unauthorized";case 403:return"access denied";case 404:return"not found";case 429:return"request throttled";case 500:return"server error";default:return"unknown status "+a.status}default:return"unknown ready state "+a.readyState}}
function u(a){var b=Error.call(this,za(a));this.message=b.message;"stack"in b&&(this.stack=b.stack);var d=this;this.fc=a;this.toString=function(){return"XhrError: "+d.message}}var v=Error;u.prototype=ca(v.prototype);u.prototype.constructor=u;if(ka)ka(u,v);else for(var Aa in v)if("prototype"!=Aa)if(Object.defineProperties){var Ba=Object.getOwnPropertyDescriptor(v,Aa);Ba&&Object.defineProperty(u,Aa,Ba)}else u[Aa]=v[Aa];u.vd=v.prototype;function Ca(){new Promise(function(a){a()})}
function Da(a){return 200<=a&&299>=a||1223===a}function w(a,b){b=void 0===b?6E4:b;var d=new XMLHttpRequest;return[d,new Promise(function(e,f){d.onload=function(){Da(d.status)?e(d):f(new u(d))};d.onerror=function(){f(new u(d))};d.open("GET",xa(a));d.withCredentials=!0;d.timeout=b;d.setRequestHeader("X-Requested-With","XMLHttpRequest");d.send()})]}
function x(a,b){var d=b instanceof FormData?b:ya(b);b=Ea(d);void 0===b?y("CSRF token is undefined",{cookies:document.cookie}):d.set("csrfmiddlewaretoken",b);return new Promise(function(e,f){var k=new XMLHttpRequest;k.open("POST",xa(a),!0);k.withCredentials=!0;k.onerror=function(){f(new u(k))};k.onload=function(){Da(k.status)?e(k):f(new u(k))};k.setRequestHeader("X-Requested-With","XMLHttpRequest");k.send(d)})}
function Ea(a){var b;a.has("csrfmiddlewaretoken")&&(b=a.get("csrfmiddlewaretoken"));return void 0!==va()?va():b};function z(a){this.O=a;this.ec={};try{this.parsed=JSON.parse(a)}catch(b){y("Cannot JSON parse",{message:a}),this.parsed={}}}z.prototype.R=function(a){this.ec[a]=!0};function A(a,b){a.R(b);if(null!==a.parsed[b])return a.parsed[b]}z.prototype.getAsString=function(a){return""+A(this,a)};function B(a,b,d){d=void 0===d?!0:d;var e=A(a,b);if("string"!==typeof e)d&&void 0!==e&&C("getStringOrUndefined("+b+"): "+e+" is wrong type",{message:a.O});else return e}
function E(a,b,d){d=void 0===d?!0:d;var e=A(a,b);return"string"!==typeof e?(d&&C("getString("+b+"): "+e+" is wrong type",{message:a.O}),""):e}function Fa(a){var b=void 0===b?!0:b;var d=A(a,"private_show_minimum_minutes");return"string"!==typeof d&&"number"!==typeof d?(b&&C("getStringWithNumbers(private_show_minimum_minutes): "+d+" is wrong type",{message:a.O}),""):""+d}
function Ga(a){for(var b=new Map,d=n(["from_username","user","username"]),e=d.next();!e.done;e=d.next())e=e.value,void 0!==B(a,e,!1)&&b.set(e,B(a,e,!1));return b}function F(a,b,d){d=void 0===d?!1:d;var e=void 0===e?!0:e;var f=A(a,b);return"boolean"!==typeof f?(e&&C("getBoolean("+b+"): "+f+" is wrong type",{message:a.O}),d):f}function G(a,b,d){d=void 0===d?!0:d;var e=A(a,b);return"number"!==typeof e?(d&&C("getNumber("+b+"): "+e+" is wrong type",{message:a.O}),NaN):e}
function Ha(a,b){var d=void 0===d?!0:d;var e=A(a,b);if("number"!==typeof e)d&&void 0!==e&&C("getNumberOrUndefined("+b+"): "+e+" is wrong type",{message:a.O});else return e}function Ia(a,b){a=H(a,b);return""===a?new z("{}"):new z(a)}function H(a,b,d){d=void 0===d?!0:d;var e=A(a,b);return"object"!==typeof e?(d&&C("getObjectString("+b+"): "+e+" is wrong type",{message:a.O}),""):JSON.stringify(e)}
function Ja(a,b){var d=void 0===d?!0:d;var e=A(a,b);return"object"!==typeof e?(d&&C("getObject("+b+"): "+e+" is wrong type",{message:a.O}),{}):e}function I(a){var b=[],d;for(d in a.parsed)!0!==a.ec[d]&&b.push(d);b=n(b);for(d=b.next();!d.done;d=b.next())d=d.value,"object"===typeof a.parsed[d]&&JSON.stringify(a.parsed[d])};var Ka;function J(){if(void 0===Ka){var a=!0;try{window.localStorage.setItem("cbModernizr","cbModernizr"),window.localStorage.removeItem("cbModernizr")}catch(b){a=!1}Ka=a}return Ka}function La(){var a=document.createElement("a").style;a.cssText="background-color:rgba(150,255,150,.5)";return-1<(""+a.backgroundColor).indexOf("rgba")}Object.prototype.hasOwnProperty.call(window,"onorientationchange");var L;function Ma(){if(void 0!==L)return L;try{var a=Object.defineProperty({},"passive",{get:function(){L=!0}});window.addEventListener("testPassive",function(){},a);window.removeEventListener("testPassive",function(){},a);void 0===L&&(L=!1)}catch(b){L=!1}return L}setTimeout(function(){},200);var Na={},Oa={};function M(a){return Number.isNaN(Number(a))?0:Number(a)}
function Pa(a,b,d,e){e=void 0===e?!1:e;var f=void 0===f?!1:f;if(b===window)var k=Na[a]=M(Na[a])+1;else if(b===document)k=Oa[a]=M(Oa[a])+1;else if(b instanceof HTMLElement){var l="data-listener-count-"+a;k=M(b.getAttribute(l))+1;b.setAttribute(l,""+k)}else k=1;42<k&&C('event listener "'+a+'" has too many listeners. Element: '+(b===document?"document":b===window?"window":b.outerHTML.split(">")[0]+">"),{listeners:k,"max-listeners":42});void 0!==window.addEventListener?(e=Ma()?{capture:e,passive:f}:e,b.addEventListener(a,d,e)):void 0!==window.attachEvent?b.attachEvent("on"+a,d):y("Could not resolve addEventListenerPoly( "+a+" ) to "+b)}
function Qa(a,b,d,e){e=void 0===e?!1:e;var f=void 0===f?!1:f;if(b===window)var k=Na[a]=M(Na[a])-1;else if(b===document)k=Oa[a]=M(Oa[a])-1;else if(b instanceof HTMLElement){var l="data-listener-count-"+a;k=M(b.getAttribute(l))-1;b.setAttribute(l,""+k)}else k=1;0>k&&y('event listener "'+a+'" removed without being added',{listeners:k});void 0!==window.removeEventListener?(e=Ma()?{capture:e,passive:f}:e,b.removeEventListener(a,d,e)):void 0!==window.detachEvent?b.detachEvent("on"+a,d):y("Could not resolve removeEventListenerPoly( "+
a+" ) from "+b)};function Ra(){this.Jb=[]}function Sa(a,b){a.Jb.push(b)};var Ta={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},Ua="webkitFullscreenEnabled webkitFullscreenElement webkitRequestFullscreen webkitExitFullscreen webkitfullscreenchange webkitfullscreenerror".split(" "),Va="mozFullScreenEnabled mozFullScreenElement mozRequestFullScreen mozCancelFullScreen mozfullscreenchange mozfullscreenerror".split(" "),Wa="msFullscreenEnabled msFullscreenElement msRequestFullscreen msExitFullscreen MSFullscreenChange MSFullscreenError".split(" "),O;"fullscreenEnabled"in document?O=Object.keys(Ta):Ua[0]in document?O=Ua:Va[0]in document?O=Va:Wa[0]in document&&(O=Wa);function Xa(){var a=this;this.message=document.createElement("div");this.A=document.createElement("div");this.C=document.createElement("div");this.G=document.createElement("div");this.accept=document.createElement("div");this.Ea=function(){};this.Qb=[];this.A.style.display="none";this.A.style.position="fixed";this.A.style.overflow="auto";this.A.style.zIndex="101";this.A.style.top="0";this.A.style.left="0";this.A.style.width="100%";this.A.style.height="100%";this.A.style.zIndex="2000";this.A.style.color="#000000";La()?this.A.style.backgroundColor="rgba(0, 0, 0, 0.4)":this.A.style.backgroundColor="rgb(0, 0, 0)";this.C.style.width="440px";this.C.style.position="relative";this.C.style.backgroundColor="white";this.C.style.display="inline-block";this.C.style.borderRadius="10px";this.C.style.textAlign="left";this.C.style.overflow="hidden";this.C.style.zIndex="2001";this.C.style.fontFamily="Helvetica, Arial, sans-serif";this.message.style.display="inline-block";this.message.style.wordWrap="break-word";this.message.style.padding="20px";this.message.style.textAlign="left";this.C.appendChild(this.message);var b=document.createElement("div");b.style.borderTop="1px solid rgb(204, 204, 204)";b.style.textAlign="center";b.style.height="40px";b.style.color="#0268ff";b.style.background="#f9f9f9";this.accept.style.width="70px";this.accept.style.padding="3px";this.accept.style.display="inline-block";this.accept.style.cssFloat="right";this.accept.style.position="relative";this.accept.style.top="7px";this.accept.style.right="10px";this.accept.style.boxSizing="border-box";this.accept.innerText="OK";this.accept.style.cursor="pointer";this.accept.style.color="#fff";this.accept.style.background="#006ffc";this.accept.style.border="1px solid #006ffc";this.accept.onclick=function(d){d.stopPropagation();void 0!==a.fa&&a.fa();Ya.Ea()};b.appendChild(this.accept);this.G.style.width="70px";this.G.style.padding="3px";this.G.style.display="inline-block";this.G.style.cssFloat="right";this.G.style.position="relative";this.G.style.top="7px";this.G.style.right="25px";this.G.innerText="Cancel";this.G.style.cursor="pointer";this.G.style.background="#fff";this.G.style.border="1px solid rgb(204, 204, 204)";this.G.onclick=function(d){d.stopPropagation();void 0!==a.za?a.za():void 0!==a.fa&&a.fa();Ya.Ea()};b.appendChild(this.G);this.C.appendChild(b);this.A.appendChild(this.C)}
Xa.prototype.resize=function(){this.C.style.width=Math.min(440,document.documentElement.clientWidth-40)+"px";this.C.style.left=Math.max(0,(this.A.offsetWidth-this.C.offsetWidth)/2)+"px";this.C.style.top=Math.max(0,(this.A.offsetHeight-80-this.C.offsetHeight)/2)+"px"};Xa.prototype.display=function(a,b,d,e){var f=this;e=void 0===e?!1:e;if(this.active)this.Qb.push({Fc:a,fa:b,za:d,innerHTML:e});else{e?this.message.innerHTML=a:this.message.innerText=a;this.A.style.display="block";this.fa=b;void 0===d?Ya.G.style.display="none":(this.za=d,Ya.G.style.display="");var k=new Ra,l=function(h){h.stopPropagation();h.preventDefault();a:for(var m=n(k.Jb),r=m.next();!r.done;r=m.next())if(r=r.value,h.which===r.keyCode&&(!r.Ub||h.ctrlKey||h.metaKey)){r.Ib(h);break a}};Sa(k,{keyCode:13,Ub:!1,Ib:function(){b();f.Ea()}});Sa(k,{keyCode:27,Ub:!1,Ib:function(){void 0!==d?d():b();f.Ea()}});this.active=!0;var g=function(){f.resize()};Pa("keydown",document,l,!0);Pa("resize",window,g);Pa("orientationchange",window,g);this.Ea=function(){try{Qa("keydown",document,l,!0)}catch(m){}try{Qa("resize",window,g)}catch(m){}f.A.style.display="none";f.active=!1;f.A.parentElement===document.body&&document.body.removeChild(f.A);f.fa=void 0;f.za=void 0;var h=f.Qb.shift();void 0!==h&&f.display(h.Fc,h.fa,h.za,h.innerHTML)};a=void 0!==O?document[O[Ta.fullscreenElement]]:void 0;void 0!==a&&a?a.appendChild(this.A):document.body.appendChild(this.A);this.resize()}};var Ya=new Xa;function Za(a,b){void 0===b&&(b=function(){});Ya.display(a,b,void 0,!1)};function $a(){var a=window.location.search;0<a.length&&"?"===a[0]&&(a=a.slice(1));var b={};a=n(a.split("&"));for(var d=a.next();!d.done;d=a.next())d=d.value,d.includes("=")&&(d=d.split("="),0<d[0].length&&(b[decodeURIComponent(d[0])]=0<d[1].length?decodeURIComponent(d[1]):void 0));return b};function P(a){switch(a){case "orga":return 0;case "orgb":return 1;case "org":return 2;case "none":return 3;default:return 1}}
function ab(a){switch(a){case "away":return"away";case "group":return"groupnotwatching";case "group_watching":return"groupwatching";case "group_requesting":return"grouprequesting";case "private":return"privatenotwatching";case "private_watching":return"privatewatching";case "private_spying":return"privatespying";case "private_requesting":return"privaterequesting";case "public":return"public";case "hidden":return"hidden";case "offline":return"offline";case "password protected":return"passwordprotected";default:return y("unknown room status -- "+a),"unknown"}}var bb;function cb(a){var b=[];if(""!==a)try{JSON.parse(a).forEach(function(d){b.push({ad:d[0],$c:d[1]})})}catch(d){y("Error parsing apps "+d.toString())}return b}function db(a){var b=[];if(""!==a)try{b=JSON.parse(a).map(function(d){return{text:d.text,href:d.href}})}catch(d){y("Error parsing anchors "+d.toString())}return b}
function eb(a){return new Promise(function(b,d){var e=new z(a);if(400<=G(e,"status",!1))d("Bad response from server: "+a);else{d=Ia(e,"chat_settings");var f=Ia(e,"ads_zone_ids"),k=Ia(e,"satisfaction_score"),l=E(e,"flash_host"),g=$a();void 0!==g.edge&&(l="edge"+g.edge+".stream.highwebmedia.com");g=E(e,"wschat_host");var h=E(e,"broadcaster_username"),m=E(e,"room_pass"),r=E(e,"room_title"),D=ab(E(e,"room_status")),K=F(e,"is_supporter"),N=F(e,"needs_supporter_to_pm"),da=E(e,"broadcaster_gender"),ea=E(e,"viewer_username"),tc=E(e,"chat_username"),uc=encodeURI(E(e,"edge_auth")),vc=E(e,"chat_password"),wc=E(e,"viewer_gender"),xc=E(e,"hls_source"),yc=F(e,"is_widescreen"),zc=cb(E(e,"apps_running")),Ac=F(e,"allow_private_shows"),Bc=F(e,"allow_group_shows"),Cc=G(e,"private_show_price"),Dc=G(e,"private_min_minutes"),Ec=F(e,"allow_show_recordings"),Fc=F(e,"allow_anonymous_tipping"),Gc=G(e,"group_show_price"),Hc=G(e,"spy_private_show_price"),Ic=F(e,"low_satisfaction_score"),Jc=F(e,"is_age_verified"),Kc=E(e,"hidden_message"),Lc=F(e,"following"),Mc=F(e,"is_moderator"),Nc=E(e,"recommender_hmac"),Oc=F(e,"broadcaster_on_new_chat"),Pc=G(e,"token_balance"),Qc=E(e,"server_name"),Rc=G(e,"num_followed"),Sc=G(e,"num_followed_online"),Tc=F(e,"has_studio"),Uc=F(e,"is_mobile"),Vc=Ja(e,"ignored_emoticons"),Wc=F(e,"hide_satisfaction_score"),Xc=G(e,"tips_in_past_24_hours"),Yc=Ha(e,"last_vote_in_past_24_hours"),Zc=F(e,"last_vote_in_past_90_days_down"),ra=Ja(e,"dismissible_messages"),mb=[];ra=n(ra);for(var aa=ra.next();!aa.done;aa=ra.next())aa=aa.value,mb.push({id:aa.id,nd:aa.message_html});d={host:g,i:h,tb:m,Wb:r,na:D,Cc:K,Gc:N,Vb:da,userName:ea,ha:tc,fd:uc,zb:vc,xd:wc,gd:l,kd:xc,md:yc,mc:zc,qa:Ac,pa:Bc,F:Cc,Pb:Dc,Bb:Ec,kc:Fc,D:Gc,B:Hc,hd:Ic,ld:Jc,jd:Kc,tc:Lc,L:Mc,sd:Nc,Eb:Oc,Xc:Pc,Pc:Qc,Hc:Rc,Ic:Sc,wc:Tc,Bc:Uc,zc:Vc,xc:Wc,Wc:Xc,Dc:Yc,Ec:Zc,pc:mb,Sc:F(e,"show_mobile_site_banner_link"),Jc:G(e,"num_users_required_for_group"),Kc:G(e,"num_users_waiting_for_group"),pd:G(e,"num_viewers"),Oc:{wd:G(k,"up_votes",!1),ed:G(k,"down_votes",!1),qd:G(k,"percent",!1)},Vc:F(e,"tfa_enabled"),jc:{header:E(f,"468x60"),rightTop:E(f,"160x600,top"),rightMiddle:E(f,"160x600,middle"),rightBottom:E(f,"160x600,bottom"),footerLeft:E(f,"300x250,left"),footerMiddle:E(f,"300x250,centre"),footerRight:E(f,"300x250,right")},oa:{uc:E(d,"font_color"),fontFamily:E(d,"font_family"),fontSize:E(d,"font_size"),$b:F(d,"show_emoticons"),qc:E(d,"emoticon_autocomplete_delay"),yc:E(d,"highest_token_color"),Uc:E(d,"sort_users_key"),V:P(E(d,"room_entry_for")),W:P(E(d,"room_leave_for")),Tc:E(d,"silence_broadcasters"),Ac:E(d,"ignored_users"),lc:E(d,"allowed_chat"),Zc:parseInt(E(d,"v_tip_vol")),oc:parseInt(E(d,"b_tip_vol"))}};f=B(e,"staff_links");void 0!==f&&(d.td={ud:db(f),bd:F(e,"auto_load_admin_info"),rd:B(e,"previous_usernames"),dd:B(e,"deletion_admin_notice")});I(e);b(d)}})}
function fb(a){void 0!==bb&&(bb.abort(),bb=void 0);return new Promise(function(b,d){var e=w("api/chatvideocontext/"+a+"/");bb=e[0];e[1].then(function(f){b(eb(f.responseText))}).catch(function(f){404===f.fc.status?(Za("HTTP 404 - Page Not Found\n\nIt's probably just a broken link, or perhaps a cancelled broadcaster."),f.fc.abort()):d(f)})})};function gb(a){a=document.querySelectorAll(""+a);if(!(1>a.length))return a[0]};function hb(){this.ka=this.Mb=10}function ib(a,b){this.Nc=a;this.listener=b}ib.prototype.removeListener=function(){this.Nc.removeListener(this.listener)};function Q(a,b){this.Fb=a;this.aa=[];this.history=[];this.options=Object.assign(new hb,b)}
function R(a,b,d){d=void 0===d?!0:d;a.aa.push(b);if(d){d=n(a.history);for(var e=d.next();!e.done;e=d.next())b(e.value)}a.aa.length>a.options.ka&&C('EventRouter "'+a.Fb+'" has too many listeners',{listeners:a.aa.length,"max-listeners":a.options.ka});return new ib(a,b)}Q.prototype.once=function(a,b){function d(f){a(f);e.removeListener(d)}var e=this;return R(this,d,void 0===b?!0:b)};function S(a,b){a.history.push(b)>a.options.Mb&&a.history.shift();for(var d=n(a.aa),e=d.next();!e.done;e=d.next()){e=e.value;try{e(b)}catch(f){y("Event listener error: "+f,{event_name:a.Fb,event_listeners:a.aa.length})}}}Q.prototype.removeListener=function(a){a=this.aa.indexOf(a);0<=a&&this.aa.splice(a,1)};function jb(a,b){return b.username===a?"Broadcaster ":b.T?"Moderator ":b.S?"Fan club member ":""};var kb=new Set;function lb(){for(var a=[],b=n(kb),d=b.next();!d.done;d=b.next())a.push(d.value);J()&&window.localStorage.setItem("ignorelist",JSON.stringify({Yc:a}))}function nb(a){try{kb=new Set(JSON.parse(a).users)}catch(b){y("Cannot parse ignore list: "+b)}}
function ob(){pb();(0===kb.size||qb())&&w("api/ignored_user_list/",6E4)[1].then(function(a){J()&&(window.localStorage.setItem("ignorelist",a.responseText),window.localStorage.setItem("ignorelistlastfetch",Date.now().toString()));nb(a.responseText)}).catch(function(a){y("Network error retrieving ignore list: "+a)})}function qb(){if(!J())return!0;var a=window.localStorage.getItem("ignorelistlastfetch");return null===a?!0:parseInt(a,10)+3E5<Date.now()}
function pb(){if(J()){var a=window.localStorage.getItem("ignorelist");null!==a&&nb(a)}};var T=window.gettext;void 0===T&&(C("gettext is undefined."),T=function(a){return a});var rb=window.ngettext;void 0===rb&&(C("ngettext is undefined."),rb=function(a,b,d){return 1<d?b:a});var U=window.interpolate;void 0===U&&(C("interpolate is undefined."),U=function(a){return a});function sb(a){return U(T('room subject changed to "%(subject)s"'),{subject:a},!0)}
function tb(a,b){return U(T("%(users_waiting)s of %(users_required)s users are ready to start a group show"),{users_waiting:a,users_required:b},!0)}function ub(a,b){return U(T("%(username)s changed Group Show price to %(price)s tokens per minute"),{username:a,price:b},!0)}function vb(a,b){return U(T("%(username)s changed Private Show price to %(price)s tokens per minute"),{username:a,price:b},!0)}
function wb(a,b){return U(T("%(username)s changed Spy on Private Show price to %(price)s tokens per minute"),{username:a,price:b},!0)}T("Send PM");T("You must be a supporter, fan club member, or moderator to send this private message.");T("Sign up for a");T("Supporter Membership");T("Chat Color");T("Font Family");T("Font Size");T("Show Emoticons");T("Emoticon Autocomplete Delay");T("Highest Token Color");T("Tip Volume");T("View/Edit Ignored Users");T("THE ACT OF MASTURBATING WHILE CHATTING ONLINE");T("CHAT ROOMS");T("BETA");T("TAGS");T("EARN FREE TOKENS");T("MY COLLECTION");T("My Collection");T("Login");T("Log in");T("log in");T("LOG IN");T("SIGN UP");T("Sign Up");T("Include an optional message:");T("Send Tip");T("SEND TIP");T("Send a tip");T("Send tip to broadcaster");T("Public Tipping");T("Username is visible to all users.");T("Anonymous Tipping");T("Username only visible to broadcaster.");T("Send Anonymous Tip");T("Sending...");T("You must be a supporter to use this feature.");T("Click OK to continue to supporter signup.");T("Include optional message");T("Tip note...");T("Tap to chat...");T("This broadcaster doesn't accept tips.");T("Purchase Tokens");T("Upgrade");T("Supporter");T("Basic Member");T("MY PROFILE");T("LOG OUT");T("My Profile");T("Log Out");T("Status");T("You have:");T("Get More");T("Get more tokens");T("Get More Tokens");var xb=T("connection established"),yb=T("Chat disconnected. The broadcaster has set a new password on this room.");T("Private & Groups");T("Private");T("Start Private Show");T("Spy on Private Show");var zb=T("Private show has started."),Ab=T("Private show has finished."),Bb=T("Private show has been declined.");T("Cancel Private Request");var Cb=T("Cannot cancel private show. Please try again in a few seconds.");T("Leave Private Show");var Db=T("Private show request has been sent. Waiting on broadcaster to approve.");T("In group show");T("Cancel Group Request");T("Waiting for group");T("Join Group Show");T("join group show");T("Leave Group Show");T("You are already requesting to join this group show.");T("Group Shows");var Eb=T("You left the group show."),Fb=T("Group show has started."),Gb=T("Group show has finished."),Hb=T("Group show has been declined."),Ib=T("Broadcaster has returned from away mode."),Jb=T("You were disconnected because you have joined this room again."),Kb=T("The broadcaster has kicked you from the room."),Lb=T("You were kicked from the room.");T("signup to chat");T("About Me");T("Wish List");T("PURCHASED");T("TOKENS");T("OR");T("Photos and Videos");T("Real Name");T("Followers");T("I am");T("We are a");T("Birthday");T("Birth Date");T("Age");T("Body Type");T("Body Decorations");T("Interested In");T("Location");T("Language(s)");T("Last Broadcast");T("Languages");T("Smoke Drink");T("Smoke / Drink");T("User has no available BIO");T("Bio and Free Webcam");T("Unable to submit");T("Submitting...");T("Loading");T("loading");T("Chat settings saved");T("CHAT");T("SEND");T("TIP");T("Users");T("USERS");var Mb=T("a user");T("Report Abuse");T("REPORT ABUSE");T("More Rooms");T("spy private show");T("Private Message with:");T("Unfollow");T("Follow");T("Refresh Rooms");T("Female");T("FEMALE");T("Male");T("MALE");T("Trans");T("TRANS");T("Couple");T("COUPLE");T("Followed");T("FOLLOWED");T("SPY SHOWS");T("SAVE");T("Standard Emoticons");T("Upload Emoticons");T("Your current balance:");T("Balance:");T("You currently have: ");T("WARNING: This room has a low satisfaction rating.");T("TIP AT YOUR OWN RISK!");T("Enter tip amount:");T("Invalid tip amount!");T("Amount:");T("Toggle this window with CTRL-S");T("Leave open after tipping");T("Select One");T("Please select a reason");T("Loading user list");T("refresh userlist");T("View Profile");T("Send private message");T("HIDE ALL ADS NOW");T("Powered by ExoticAds<br>Buy/Sell Traffic");T("Show More");T("Pics & Videos");T("Social Media");T("Unique Registered Viewers Watching");T("Points");T("Current Hour's Top Cams");T("Every hour, the cam with the most points wins a $10 prize. The cam in 2nd place wins a $5 prize.");T("Free Cams");T("Featured Cams");T("Female Cams");T("Male Cams");T("Couple Cams");T("Trans Cams");T("Free Cams by Age");T("Teen Cams (18+)");T("18 to 21 Cams");T("20 to 30 Cams");T("30 to 50 Cams");T("Mature Cams (50+)");T("Free Cams by Region");T("North American Cams");T("Other Region Cams");T("Euro Russian Cams");T("Asian Cams");T("South American Cams");T("Free Cams by Status");T("Exhibitionist Cams");T("HD Cams");T("Private Shows");T("New Cams");T("6 Tokens per Minute");T("12 Tokens per Minute");T("18 Tokens per Minute");T("30 Tokens per Minute");T("60 Tokens per Minute");T("90 Tokens per Minute");T("Terms & Conditions");T("Terms");T("Privacy Policy");T("Support");T("Feedback");T("Security Center");T("Law Enforcement");T("Billing");T("Disable Account");T("Apps");T("Contest");T("Affiliates");T("Affiliate Program");T("Buy Traffic");T("Jobs");T("Sitemap");T("dismiss this message");T("Only 5 #hashtags will be applied");T("dismiss");T("Register later");T("Already have an account?");T("Login here");T("Please sign in using the form below");T("Username");T("Password");T("Keep me logged in");T("Forgot password?");T("Create Free Account");T("We've improved Chaturbate's mobile site by adding these feature(s):");T("Satisfaction Voting");T("Visit the ");T("mobile site");T("survey");T(" again, or tell us why you're not satisfied in this ");T("Or ");T("or");T("tell us why you left");T("the mobile site");T("FOLLOWER BROWSER NOTIFICATIONS");T("Would you like to receive browser notifications when a broadcaster you follow comes online?");T("Subscription failure. Please try again from the Settings & Privacy page on your profile.");T("Yes");T("Not now");T("This room requires a password.");T("Login to room");T("Private conversation with");T("Remove Ignored Users");T("Unignore this user");T("Unignored Users");T("Ignore");T("Ignore this user");T("Report this message");T("Ignored Users");T("Click on a user to unignore them.");T("You must be logged in to ignore a user");T("Room is currently offline");T("Help us make the new Chaturbate player page better, ");T("Help us make the new player page better, ");T("share your thoughts");T("Switch to the legacy page");T("Follow broadcasters to receive instant notification of when they come online.<br><br>Note: Your email address must be verified in order to receive notifications.");T("- UNFOLLOW");T("+ FOLLOW");T("Share");T("Bio");T("Contest Stats");T("Submit feedback to broadcaster");T("Optional comment for broadcaster:");T("Submitted");T("SATISFIED?");T("Satisfied?");T("SCAN CAMS");T("NEXT CAM");T("SKIP CAM");T("EXIT SCANNING");T("Token Linkcodes");T("Earn up to 10 tokens for every registered user and 500 tokens for users who broadcast (broadcasters must earn $20.00 before they qualify).");T("Please send to chaturbate using one of the link codes below.");T("Embed Chaturbate's Top Cam on Your Webpage");T("the affiliate program stats");T("See details about tokens earned in ");T('Add an extra layer of protection to your account by setting up 2-Step Verification at the <a href="/security/">Security Center</a>');T("Silence for 6 hours");T("Theater Mode");T("Full Screen");T("Exit Full Screen");T("Default View");T("unknown");T("Show All");T(" to follow your favorite broadcasters and see when they are live.");T("Follow your favorite broadcasters to see when they are live.");T("Announce you're online");T("Announce again in ");T("You have 1 follower");T("You have");T("followers");T("Send email and browser notifications to your followers.");T("Add a photo");T("Update photo");T("Must be non-nude");T("Recommended size: 1280 x 720 px");T("Shown in notification and featured emails");T("Send notifications");T("In Progress");T("New photos must be approved. If not approved in 15 minutes, email notifications will be sent without a photo.");T("You have no followers to notify.");T("Are you sure you want to notify your followers without an image?");T("Please use a jpeg, gif, or png image.");T("Image must not be larger than 10 megabytes.");T("A notification has already been sent.");T("Something went wrong after submit. Please try again.");T("Something went wrong during submit. Please try again.");T("Image must be at least 200px wide and 200px tall.");T("Image is too wide.");T("Image is too tall.");T("Please wait until all pending notifications have been sent.");T("Remove approved photo?");T("Sorry, this feature is not supported in your browser. Please upgrade to a modern browser like Chrome or Firefox.");T("Close");T("Cancel");T("CANCEL");T("SUBMIT");T("You have unsaved changes, are you sure you want to leave this page?");T("Choose a category");T("Abuse Report");T("Broadcaster is underage");T("Broadcaster is advertising");T("Broadcaster is abusive");T("Broadcaster is intoxicated");T("Using a toy that is too large");T("Asking for offline payments");T("Broadcasting in public");T("Broadcasting in service uniform");T("Broadcaster is sleeping");T("Broadcaster is wrong gender");T("Other");T("Please choose a category");T("Additional comments:");T("Please add a description");T("Message is inappropriate");T("Message is rude towards the broadcaster");T("Message is spam");T("Other (please describe):");T("Report");T("REPORT");T("Unable to send report.");T("Too many reports sent. Try slowing down.");T("Your abuse report has been submitted.");T("h");T("h");T("m");T("m");T("and");T("<1m");T("There was an error requesting your private show. Please try again.");T("There was an error requesting your spy show. Please try again.");T("There was an error requesting your group show. Please try again.");T("Private & Group Shows");T("Private Shows");T("Are you sure?");T("This broadcaster allows private show recordings, so you will receive a recorded video of this show in your collection.");T("This broadcaster does not allow private or group shows");T("You may continue chatting while you wait for the broadcaster to return.");T("Performer Is Away");T("Group Show");T("LEAVE GROUP SHOW");T("JOIN GROUP SHOW");T("CANCEL GROUP REQUEST");T("LEAVE PRIVATE SHOW");T("CANCEL PRIVATE REQUEST");T("START PRIVATE SHOW");T("SPY PRIVATE SHOW");T("LEAVE SPY SHOW");T("Private Show");T("Private Show in Progress");T("This feature is not currently enabled on your device.");T('You must be logged in to enter a private show. Click "OK" to login.');T('You must be logged in to spy on a private show. Click "OK" to login.');T('You must be logged in to enter a group show. Click "OK" to login.');T("Spy has been disabled by the broadcaster");T("More Rooms Like This");T("Here are some trending rooms instead:");T("RECOMMENDED");T("OFFLINE");T("EXHIBITIONIST");T("NEW");T("HD");T("HD+");T("IN PRIVATE");T("GROUP SHOW");T("CHATURBATING");T("HIDDEN - STAFF ONLY");T("I AGREE");T("Exit this site");T("Exit");T("I have attained the Age of Majority in my jurisdiction;");T("The sexually explicit material I am viewing is for my own personal use and I will not expose any minors to the material;");T("I desire to receive/view sexually explicit material;");T("I believe that as an adult it is my inalienable constitutional right to receive/view sexually explicit material;");T("I believe that sexual acts between consenting adults are neither offensive nor obscene;");T("The viewing, reading and downloading of sexually explicit materials does not violate the standards of any community, town, city, state or country where I will be viewing, reading and/or downloading the Sexually Explicit Materials;");T("I am solely responsible for any false disclosures or legal ramifications of viewing, reading or downloading any material appearing on this site. I further agree that neither this website nor its affiliates will be held responsible for any legal ramifications arising from any fraudulent entry into or use of this website;");T('I understand that my use of this website is governed by the website\u2019s <a href="/terms/">Terms</a> which I have reviewed and accepted, and I agree to be bound by such Terms.');T("I agree that by entering this website, I am subjecting myself, and any business entity in which I have any legal or equitable interest, to the personal jurisdiction of the State of Florida, Miami-Dade County, should any dispute arise at any time between this website, myself and/or such business entity;");T("This warning page constitutes a legally binding agreement between me, this website and/or any business in which I have any legal or equitable interest. If any provision of this Agreement is found to be unenforceable, the remainder shall be enforced as fully as possible and the unenforceable provision shall be deemed modified to the limited extent required to permit its enforcement in a manner most closely representing the intentions as expressed herein;");T("All performers on this site are over the age of 18, have consented being photographed and/or filmed, believe it is their right to engage in consensual sexual acts for the entertainment and education of other adults and I believe it is my right as an adult to watch them doing what adults do;");T("The videos and images in this site are intended to be used by responsible adults as sexual aids, to provide sexual education and to provide sexual entertainment;");T("I understand that providing a false declaration under the penalties of perjury is a criminal offense; and");T("I agree that this agreement is governed by the Electronic Signatures in Global and National Commerce Act (commonly known as the \u201cE-Sign Act\u201d), 15 U.S.C. \u00a7 7000, et seq., and by choosing to click on \u201cI Agree. Enter Here\u201d and indicating my agreement to be bound by the terms of this agreement, I affirmatively adopt the signature line below as my signature and the manifestation of my consent to be bound by the terms of this agreement.");T("YOU MUST BE OVER 18 AND AGREE TO THE TERMS BELOW BEFORE CONTINUING:");T("This website contains information, links, images and videos of sexually explicit material (collectively, the \u201cSexually Explicit Material\u201d). Do NOT continue if: (i) you are not at least 18 years of age or the age of majority in each and every jurisdiction in which you will or may view the Sexually Explicit Material, whichever is higher (the \u201cAge of Majority\u201d), (ii) such material offends you, or (iii) viewing the Sexually Explicit Material is not legal in each and every community where you choose to view it.");T("By choosing to enter this website you are affirming under oath and penalties of perjury pursuant to Title 28 U.S.C. \u00a7 1746 and other applicable statutes and laws that all of the following statements are true and correct:");T("THIS SITE ACTIVELY COOPERATES WITH LAW ENFORCEMENT IN ALL INSTANCES OF SUSPECTED ILLEGAL USE OF THE SERVICE, ESPECIALLY IN THE CASE OF UNDERAGE USAGE OF THE SERVICE.");T("View on Twitter");T("How Can We Improve?");T("Updates");T("This user has not added any photos or videos yet.");T("More Pics & Videos");T("FAN");T("CLUB");T("Tokens");T("Token");T("Uploaded");T("If you already purchased this photo set, try reloading the page to view it.");T("If you already purchased this video, try reloading the page to view it.");T("minutes");T("seconds");T("or");T("View Hi-Res Image");T('You must be logged in to purchase this photo set.  Click "OK" to login.');T('You must be logged in to view hi-res images.  Click "OK" to login.');T('You must be logged in to purchase this video.  Click "OK" to login.');T('Click "OK" to get more tokens.');T("Upload more Photos");T("Re-Order Items");T("Change video thumbnail image");T("Edit Details");T("Compliance");T("Deactivate");T("STAFF");T("Audio is disabled.");T("Enable Audio");T("(Check compliance for eligibility before enabling)");T("(Removes this item from being seen on the bio but does not remove from anyone's MyCollection.  To remove from MyCollections, reject in Compliance instead of deactivating.)");T("FAILED");T("PENDING");T("APPROVAL");T("VIDEO");T("PROCESSING");T("ERROR");T("Failed Approval");T("Please delete or edit offending items.");T("Open in new window");T("iPad has failed to setup the broadcast. Please try again.");T("Please check your internet connection or close other applications");T("We need permission to use your camera and microphone in order to proceed. Visit our ");T("for help enabling your devices.");T("support page");T("Make sure there are no other broadcast tabs open.");T("Low FPS");T("Are you sure you want to leave?");T('This private or group show has ended. To give you\ntime to prepare, you are now shown as "Away" to\nthose in your room. To return and be visible on\ncam, click "Exit Away Mode" below.');T("Exit Away Mode");T("Could not get devices");T("Turn your device 180 degrees.");T("Turn your device into landscape mode.");T("Camera");T("Resolution");T("Microphone");T("Input Level");T("Mute");T("None (Silent)");T("Start Broadcasting");T("Stop Broadcasting");T("You Are Away");T("For high quality streams we strongly recommend");T("Use external software (OBS)");T("Please wait. Connecting in");T("Could not start broadcast");T("Welcome back");T("Could not setup preview. Please make any possible adjustments and reload the page");T("Could not setup broadcast");var Nb=T("has left the room."),Ob=T("Follow to be notified when online.");T("Watching");T("Deny Group");T("Accept Group");T("Deny Private");T("Accept Private");T("Return to Public Chat");T("You're about to stop the group show. Do you want to continue?");T("You're about to stop the private show. Do you want to continue?");T("Error broadcasting");T("Font Settings");T("Emoticons Settings");T("Users Settings");T("Notifications Settings");T("Other Settings");T("You have no users ignored.");T("Back to Settings");T("Notify on Entry For");T("Notify on Leave For");T("No new updates");T("The video is currently being processed.  It may take several minutes depending on the size of the video.");T("The video is damaged or its format is not supported.");T("Please delete this video and reupload again.");T("To disable, go to ");T(' on the homepage and uncheck "Enable floating player".');T("Advanced Options");T('You must be logged in to Follow. Click "OK" to login.');T("Log in or sign up to use this feature");T("Log in to continue");T("Don't have an account yet?");function V(a){return{N:1,message:a}};var Pb=new Q("roomLoaded",{ka:100,Mb:1});new Q("roomCleanup",{ka:20});new Q("userViewedPm");new Q("tipSent");var Qb;R(Pb,function(a){Qb=a.La.i});function Rb(a){var b=Sb(a);b.vc=B(a,"gender",!1);return b}function Sb(a){var b=Ga(a);1!==b.size&&y('getStrings(["from_username", "user", "username"]): '+b+" length is not 1 in "+a.O);b=b.values().next().value;return{username:b,Ma:b===Qb,S:F(a,"in_fanclub"),ta:F(a,"has_tokens"),T:F(a,"is_mod"),Za:F(a,"trecently"),Ya:F(a,"tlots"),$a:F(a,"ttons")}};function Tb(a){this.I=[];this.ua=[];var b=a.match(/#[a-z0-9\-_]{2,50}/g);if(null!==b){b=n(b);for(var d=b.next();!d.done;d=b.next())this.ua.push(d.value.substr(1))}this.I=a.split(/#[a-z0-9\-_]{2,50}/g)};function Ub(a){return 0===a.length?Promise.resolve([]):w("tags/approved_from_title/?title="+encodeURIComponent(a),6E4)[1].then(function(b){return b.responseText.split(",")})};var sc={connected:Vb,error:Wb,roomMessage:Xb,privateMessage:Yb,roomNotice:Zb,roomEntry:$b,roomLeave:ac,stateChange:bc,privateRequest:cc,groupRequestUpdate:dc,notifyTokenUpdate:ec,updateRoomCount:fc,titleChange:gc,settingsUpdate:hc,removeUserMessages:ic,tipAlert:jc,soundNotice:kc,shuttingDown:lc,notifyAppTabRefresh:mc,notifyAppClear:nc,notifyRefreshPanel:oc,notifyHiddenShowMessageChange:pc,log:qc,ping:rc};function $c(a){this.a=a}
$c.prototype.ob=function(a){var b=E(a,"t",!1);if(0<=Object.keys(sc).indexOf(b))sc[b]({a:this.a,p:a});else y("Unknown message method: "+b+" data: "+a)};function Vb(a){a.a.ub()}function Wb(a){if(F(a.p,"allow_reconnect",!0)){var b=E(a.p,"errortype");a=E(a.p,"message",!1);y("Error: "+b+" Mesage: "+a)}else a.a.disconnect()}function $b(a){var b=new z(H(a.p,"profile"));a.a.rb(Rb(b))}function ac(a){var b=new z(H(a.p,"profile"));a.a.sb(Rb(b))}
function bc(a){var b=E(a.p,"state");a.a.o({offline:"offline",away:"away","public":"public",hidden:"hidden",hidden_watching:"public",group_requesting:"grouprequesting",group_not_watching:"groupnotwatching",group:"groupwatching",private_requesting:"privaterequesting",private_not_watching:"privatenotwatching","private":"privatewatching",private_spying:"privatespying",password_protect:"passwordprotected"}[b])}
function Xb(a){var b=new z(H(a.p,"profile"));b={s:Rb(b),message:E(a.p,"msg"),font:B(a.p,"f",!1),Wa:B(a.p,"c",!1),backgroundColor:B(a.p,"background",!1)};a.a.ja(b.s.username)||S(a.a.event.Ta,b)}function Yb(a){var b=new z(H(a.p,"profile"));b={s:Rb(b),message:E(a.p,"msg"),font:B(a.p,"f",!1),Wa:B(a.p,"c",!1),backgroundColor:B(a.p,"background",!1),nb:E(a.p,"otherUsername")};a.a.ja(b.s.username)||S(a.a.event.Pa,b)}
function Zb(a){var b=[],d=[],e=H(a.p,"profile",!1);""!==e&&(e=new z(e),d.push({N:0,cb:Sb(e)}));d.push(V(E(a.p,"message")));b.push(d);b={j:b,l:F(a.p,"show_in_pm",!1)};d=E(a.p,"bg",!1);""!==d&&(b.background=d);d=E(a.p,"fg",!1);""!==d&&(b.w=d);d=E(a.p,"weight",!1);""!==d&&(b.weight=d);S(a.a.event.h,b)}
function gc(a){function b(l){for(var g=0;g<k.I.length;g+=1){var h=V(k.I[g]);h.Ob=!1;e.push(h);g<k.ua.length&&(h=k.ua[g],e.push(-1!==l.indexOf(h)?{N:2,message:h}:V("#"+h)))}S(a.a.event.h,{j:[e],w:"#DC5500",weight:"bold",l:!1});S(a.a.event.ab,d)}var d=E(a.p,"title"),e=[],f=sb(d),k=new Tb(f);Ub(d).then(b).catch(function(){b([])})}function cc(a){var b=new z(H(a.p,"profile"));S(a.a.event.Qa,{yb:E(b,"username"),da:G(a.p,"tokens_per_minute")})}
function dc(a){S(a.a.event.sa,{ea:G(a.p,"users_waiting"),Ga:G(a.p,"users_required"),da:G(a.p,"tokens_per_minute",!1)})}function ec(a){S(a.a.event.Fa,{bb:G(a.p,"tokens")})}function fc(a){S(a.a.event.Sa,G(a.p,"count"))}
function hc(a){var b=a.p,d={qa:F(b,"allow_privates"),F:G(b,"private_price"),B:G(b,"spy_price"),Pb:G(b,"private_min_minutes"),Bb:F(b,"allow_show_recordings"),pa:F(b,"allow_groups"),D:G(b,"group_price"),Nb:G(b,"minimum_users_for_group_show")};I(b);S(a.a.event.Ua,d);a.a.F!==d.F&&(a.a.F=d.F,b=V(vb(a.a.i(),d.F)),S(a.a.event.h,{j:[[b]],l:!0}));a.a.D!==d.D&&(a.a.D=d.D,b=V(ub(a.a.i(),d.D)),S(a.a.event.h,{j:[[b]],l:!0}));a.a.B!==d.B&&0!==d.B&&(a.a.B=d.B,d=V(wb(a.a.i(),d.B)),S(a.a.event.h,{j:[[d]],l:!0}))}
function ic(a){S(a.a.event.Aa,{username:E(a.p,"username")})}function mc(a){S(a.a.event.Ia,void 0)}function nc(a){S(a.a.event.Ka,void 0)}function oc(a){S(a.a.event.Ra,void 0)}function pc(a){S(a.a.event.kb,E(a.p,"hidden_message"))}function jc(a){var b=new z(H(a.p,"profile"));b={s:Rb(b),message:E(a.p,"message",!1),amount:G(a.p,"amount"),Kb:F(a.p,"is_anonymous_tip")};a.a.i()!==A(a.p,"to_username")&&y("Username does not match in tip");a.a.u&&S(a.a.event.Xa,b)}
function qc(a){var b=B(a.p,"msg");void 0===b?y("handleLog with an empty msg"):S(a.a.event.Ha,b)}function rc(a){a.a.Ba({t:"pong"})}function kc(a){var b=E(a.p,"sound");""!==b?S(a.a.event.Y,b):y("Sound is missing for soundNotice")}function lc(a){var b=E(a.p,"migrate_to");""===b?y("Missing migrateTo server for shutdownhandler"):(a=a.a,a.ib=b,ad(a),a.Z(b))};function bd(){this.ia=0}function cd(a){a.ia+=1;return Math.min(1E4,500*a.ia)}bd.prototype.reset=function(){this.ia=0};var dd=window.newrelic;function ed(){var a=void 0===a?{}:a;try{var b={"attributes.room_user":void 0},d;for(d in a)b["attributes."+d]=a[d];$a();void 0!==dd&&(b==={}?dd.addPageAction("SendRoomMessage"):dd.addPageAction("SendRoomMessage",b))}catch(e){y("New Relic Error in addPageAction: "+e)}}
function fd(){Qa("load",window,fd);for(var a=n(document.getElementsByTagName("script")),b=a.next();!b.done;b=a.next())b=b.value,null!==b.src.match(/https:\/\/js-agent\.newrelic\.com\/.*/)&&Pa("error",b,function(){y("Ad blocker stopped analytics collection");x("api/adblocker/",{}).then(function(){})})}Pa("load",window,fd);new Q("tipsInPast24HoursUpdate");var gd=new Q("tokenBalanceUpdate"),hd,id=hd||(hd={});id[id["public"]=0]="public";id[id.anonymous=1]="anonymous";new Q("roomListRequest");new Q("playerForceMuted");new Q("standardEmoticonRequest");new Q("userMenuPmClicked");new Q("closePmSession");new Q("appDebuggingToggled");function jd(a){var b=this;this.d=a;this.status="offline";this.K=void 0;this.ca=!0;this.u=this.L=!1;this.event={ya:new Q("messageSent"),Ta:new Q("roomMessage"),h:new Q("roomNotice"),Pa:new Q("privateMessage"),Va:new Q("statusChange",{ka:15}),kb:new Q("hiddenMessageChange"),Ra:new Q("refreshPanel"),ab:new Q("titleChange"),Ka:new Q("clearApp"),Aa:new Q("removeMessages"),Ua:new Q("settingsUpdate"),Sa:new Q("roomCountUpdate"),Oa:new Q("modStatusChange"),Fa:gd,Qa:new Q("privateShowRequest"),sa:new Q("groupShowUpdate"),Y:new Q("playSound"),Ia:new Q("appTabRefresh"),Ha:new Q("appDebugLog"),Xa:new Q("tipAlert")};this.R=function(d){b.d.i===b.d.userName?(y("Error: cannot ignore users in this room"),new Promise(function(){return!1})):(S(b.event.h,{j:[[V("Ignoring "+d)]],l:!0}),x("chat_ignore_list/",{username:d}).then(function(e){if("max"===e.responseText)return S(b.event.h,{j:[[V("Please signup/login to enable this feature.")]],l:!0}),!1;kb.add(d);lb();return!0}).catch(function(e){y("Error posting ignore user: "+e);return!1}))};this.bc=function(d){S(b.event.h,{j:[[V("No longer ignoring "+d)]],l:!0});x("chat_ignore_list/",{username:d,remove:"1"}).then(function(){kb.delete(d);lb();return!0}).catch(function(e){y("Error posting unignore user: "+e);return!1})};this.$=!0;this.u=this.username()===this.i();this.ba=new bd;this.mb=new $c(this);this.eb=0===a.ha.indexOf("__anonymous__");!1===this.eb&&ob();this.ib=a.host;this.Z(a.host);this.L=a.L;this.V=a.oa.V;this.W=a.oa.W;this.F=a.F;this.B=a.B;this.D=a.D;this.ac=this.u?"public":a.na;this.o("notconnected")}c=jd.prototype;c.disconnect=function(){this.ca=!1;ad(this)};function ad(a){void 0!==a.K&&(a.K.close(),a.K=void 0)}c.o=function(a){if(a!==this.status){var b=this.status;this.status=a;S(this.event.Va,{ma:b,jb:this.status})}};c.dc=function(a,b){this.V=a;this.W=b};function kd(a){switch(a.status){case "groupwatching":case "privatewatching":return!0;case "privaterequesting":case "privatenotwatching":case "passwordprotected":case "grouprequesting":case "groupnotwatching":case "public":case "away":case "hidden":case "offline":case "privatespying":case "notconnected":return!1;default:return C("unexpected status: "+a.status),!1}}
c.Z=function(a){var b=this,d;if(0<a.length){var e=new SockJS(this.ib+"/connect/");this.K=e;e.onclose=function(f){ld("Connection closed:"+JSON.stringify(f));void 0!==d?S(b.event.h,{j:[[V("Trying to reconnect")]],l:!0}):(S(b.event.h,{j:[[V("Chat disconnected")]],l:!0}),b.ca&&a===b.ib&&(d=setTimeout(function(){S(b.event.h,{j:[[V("Trying to reconnect")]],l:!0});b.Z(a)},cd(b.ba))))};e.onerror=function(f){ld("Connection error:"+JSON.stringify(f));void 0===d&&b.ca&&(d=setTimeout(function(){b.Z(a)},cd(b.ba)))};e.onmessage=function(f){b.mb.ob(new z(f.data))};e.onopen=function(){e.send(JSON.stringify({t:"connect",username:b.username(),password:b.d.zb,room:b.i(),room_password:b.d.tb}))}}};c.ub=function(){S(this.event.h,{j:[[V("Connection established")]],l:!0});this.ba.reset()};c.Ba=function(a){a=JSON.stringify(a);this.K.send(a)};c.Yb=function(a){S(this.event.ya,void 0);ed();this.Ba({t:"sendMessage",from_username:this.username(),message:a})};c.Xb=function(a,b){S(this.event.ya,void 0);this.Ba({t:"sendMessage",from_username:this.username(),to_username:b,message:a})};c.xb=function(){};c.Lb=function(){};c.Sb=function(a,b){var d=this;return new Promise(function(e,f){"public"!==d.status?f("unexpected status: "+d.status):x("tipping/private_show_request/"+d.i()+"/",{chat_username:d.username(),price:""+a,private_show_minimum_minutes:""+b}).then(function(k){k=new z(k.responseText);var l=E(k,"message",!1);F(k,"success")?e(""):(""===l&&(y("unknown cannot start private show reason"),l="Cannot start private show."),e(l))})})};c.Tb=function(){var a=this;return new Promise(function(b){x("tipping/spy_on_private_show_request/"+a.i()+"/",{chat_username:a.username()}).then(function(d){d=new z(d.responseText);var e=F(d,"success"),f=E(d,"message",!1);I(d);e?b(""):(""===f&&(f="Error joining spy show"),b(f))})})};c.Na=function(){var a=this;switch(this.status){case "groupwatching":break;case "grouprequesting":break;default:C("unexpected status: "+this.status)}return new Promise(function(b){return x("tipping/group_show_cancel/"+a.i()+"/",{}).then(function(){b("")})})};c.lb=function(){var a=this;return new Promise(function(b){var d="tipping/private_show_cancel/"+a.i()+"/",e=a.status;x(d,{}).then(function(f){f=new z(f.responseText);var k=F(f,"success"),l=G(f,"remaining_seconds"),g=Fa(f);I(f);switch(e){case "privatewatching":if(!k){f="You have started a private show with a "+g+" minute minimum. You cannot cancel your private show yet. It still has "+(l+" seconds remaining.");b(f);break}b("");break;case "privatespying":if(!k){b("Unable to cancel spy show");break}b("");break;case "privaterequesting":break;default:C("leave private show from status: "+e),b("")}})})};c.Rb=function(a){var b=this;return"public"!==this.status&&"groupnotwatching"!==this.status?new Promise(function(d,e){e("unexpected status: "+b.status)}):new Promise(function(d,e){x("tipping/group_show_request/"+b.i()+"/",{chat_username:b.username(),price:""+a}).then(function(f){f=new z(f.responseText);var k=E(f,"message",!1);F(f,"success")?(I(f),d("")):(""===k&&(y("unknown cannot start group show reason"),k="Cannot start group show."),d(k))}).catch(function(f){e(f)})})};function md(a){return"privatewatching"===a.status||"groupwatching"===a.status}c.i=function(){return this.d.i};c.username=function(){return this.d.ha};c.ja=function(a){var b=kb;return void 0===b?(y("ignoreSet should not be undefined"),!1):b.has(a)};c.rb=function(a){this.Ca(this.V,a)&&S(this.event.h,{j:[[V(jb(this.i(),a)),{N:0,cb:a},V(" has joined the room.")]],l:a.username===this.username()})};c.sb=function(a){if(this.Ca(this.W,a)){var b=" "+Nb;a.Ma&&!nd.has(this.status)&&(b+=" "+Ob);S(this.event.h,{j:[[V(jb(this.i(),a)),{N:0,cb:a},V(b)]],l:a.username===this.username()})}};c.Ca=function(a,b){return b.username===this.username()||3===a&&(this.u||this.L)?!1:1===a||!this.u&&!this.L||2===a&&(b.username===this.i()||b.T||b.S)?!0:!1};var nd=new Set(["groupwatching","groupnotwatching","privatewatching","privatenotwatching","privatespying"]);var od=new Set;function pd(){for(var a=[],b=n(od),d=b.next();!d.done;d=b.next())a.push(d.value);J()&&window.localStorage.setItem("ignorelist",JSON.stringify({Yc:a}))}
function qd(){w("api/ignored_user_list/",6E4)[1].then(function(a){J()&&(window.localStorage.setItem("ignorelist",a.responseText),window.localStorage.setItem("ignorelistlastfetch",Date.now().toString()));try{od=new Set(JSON.parse(a.responseText).users)}catch(b){y("Cannot parse ignore list: "+b)}}).catch(function(a){y("Network error retrieving ignore list: "+a)})};var rd;R(Pb,function(a){rd=a.La.i});function sd(a){var b=td(a);b.vc=B(a,"gender",!1);return b}function td(a){var b=Ga(a);1!==b.size&&y('getStrings(["from_username", "user", "username"]): '+b+" length is not 1 in "+a.O);b=b.values().next().value;return{username:b,Ma:b===rd,S:F(a,"in_fanclub"),ta:F(a,"has_tokens"),T:F(a,"is_mod"),Za:F(a,"tipped_recently"),Ya:F(a,"tipped_alot_recently"),$a:F(a,"tipped_tons_recently")}}
function ud(a){var b=new z(a[1]),d={s:sd(b),message:E(b,"m"),font:B(b,"f",!1),Wa:B(b,"c",!1),od:B(b,"i",!1),backgroundColor:B(b,"background",!1)};d.s.username!==a[0]&&y("Parsing username match failed");!0!==A(b,"X-Successful")&&y("X-Successful not true?");I(b);return d}
function vd(a,b){var d={s:sd(b),message:E(b,"message"),amount:G(b,"amount"),Kb:F(b,"is_anonymous_tip")};a!==A(b,"to_username")&&y("Username does not match in tip");!0!==A(b,"history")&&y("history != true? "+history);""!==A(b,"dont_send_to")&&A(b,"dont_send_to")!==a&&y("dont_send_to not unexpected value: "+A(b,"dont_send_to"));return d};function W(a){return{N:1,message:a}}function wd(a){return{N:0,cb:a}};function xd(a){this.a=a}xd.prototype.ob=function(a){var b=JSON.parse(a);b={method:b.method,cd:b.callback,b:b.args};if(0<=Object.keys(yd).indexOf(b.method))yd[b.method](this.a,b);else y("Unknown message method: "+b.method+" args: "+a)};window.debugAllMessages=function(){};var yd={onAuthResponse:zd,onRoomCountUpdate:Ad,onRoomMsg:Bd,onNotify:Cd,onTitleChange:Dd,onPrivateMsg:Ed,onPromotion:Fd,onRevoke:Gd,onPersonallyKicked:Hd,onSilence:Id,onKick:Jd,onNotifyPrivateShowRequest:Kd,onNotifyPrivateShowApprove:Ld,onNotifyPrivateShowCancel:Md,onNotifyLeavePrivateRoom:Nd,onNotifyGroupShowRequest:Od,onNotifyGroupShowApprove:Pd,onNotifyGroupShowCancel:Qd,onNotifyTokenBalanceUpdate:Rd,onNotifyAwayModeCancel:Sd};function Ad(a,b){1>b.b.length?y("Invalid onRoomCountUpdate args: "+b.b):""!==b.b[0]&&S(a.event.Sa,parseInt(b.b[0]))}
function zd(a,b){if(1<=b.b.length&&"1"===b.b[0]){b=a.ac;"notconnected"!==a.status&&(b=a.status);switch(b){case "offline":case "away":case "grouprequesting":case "groupnotwatching":case "privaterequesting":case "privatenotwatching":case "privatespying":case "hidden":case "public":Td(a);a.o(b);break;case "privatewatching":case "groupwatching":"notconnected"===a.status?(Ud(a),a.o(b)):fb(a.i()).then(function(d){"privatewatching"===d.na||"groupwatching"===d.na?Ud(a):Td(a);a.o(d.na)}).catch(function(d){y("Error getting room dossier on reconnect: "+
d,{room:a.i()})});break;default:C("unexpected status: "+b)}a.ub()}else 0<b.b.length&&"0"===b.b[0]||y("Error connecting!",{message:b})}function Dd(a,b,d){1>b.b.length?y("Invalid onTitleChange args: "+b.b):1<b.b.length&&"0"===b.b[1]||Vd(a,b.b[0],d)}
function Vd(a,b,d){if(""!==b){var e=[],f=sb(b),k=new Tb(f),l=function(g){for(var h=0;h<k.I.length;h+=1){var m=W(k.I[h]);m.Ob=!1;e.push(m);h<k.ua.length&&(m=k.ua[h],e.push(-1!==g.indexOf(m)?{N:2,message:m}:W("#"+m)))}S(a.event.h,{j:[e],w:"#DC5500",weight:"bold",l:!1});S(a.event.ab,b)};void 0!==d?l(d):Ub(b).then(l).catch(function(){l([])})}}
function Ed(a,b){if(""===b.b[0])1<b.b.length?S(a.event.h,{j:[[W(b.b[1])]],l:!0}):y("handlePrivateMessage args: "+b.b);else{b=b.b;var d=ud(b);d.nb=""!==b[2]?b[2]:b[0];a.ja(d.s.username)||S(a.event.Pa,d)}}function Fd(a,b){if(2!==b.b.length)y("Invalid onPromotion args: "+b.b);else{b.b[0]===a.username()&&S(a.event.Oa,void 0);var d=b.b[1];var e=b.b[0];d=U(T("%(from)s has granted moderator privileges to %(to)s."),{from:d,to:e},!0);S(a.event.h,{j:[[W(d)]],l:0<=b.b.indexOf(a.username())})}}
function Gd(a,b){if(2!==b.b.length)y("Invalid onRevoke args: "+b.b);else{b.b[0]===a.username()&&S(a.event.Oa,void 0);var d=b.b[1];var e=b.b[0];d=U(T("%(from)s has revoked moderator privileges from %(to)s."),{from:d,to:e},!0);S(a.event.h,{j:[[W(d)]],l:0<=b.b.indexOf(a.username())})}}
function Hd(a,b){1!==b.b.length?y("Invalid onPersonallyKicked args: "+b.b):(b=b.b[0],"rejoined"===b?b=Jb:"kicked"===b?b=Kb:(C("createPersonallyKickedMessage called with unknown argument "+b),b=Lb),S(a.event.h,{j:[[W(b)]],l:!0}),a.o("notconnected"))}
function Id(a,b){if(2!==b.b.length)y("Invalid onSilence args: "+b.b);else{S(a.event.Aa,{username:b.b[0]});var d=b.b[0];var e=b.b[1];d=U(T("User %(username)s was silenced by %(silencer)s and his/her messages have been removed"),{username:d,silencer:e},!0);S(a.event.h,{j:[[W(d)]],l:0<=b.b.indexOf(a.username())})}}
function Jd(a,b){if(1!==b.b.length)y("Invalid onKick args: "+b.b);else{S(a.event.Aa,{username:b.b[0]});var d=a.event.h;var e=b.b[0];e=U(T("User %(username)s was kicked out of the room and his/her messages have been removed"),{username:e},!0);S(d,{j:[[W(e)]],l:b.b[0]===a.username()})}}
function Bd(a,b){""===b.b[0]?1<b.b.length?"Chat disconnected. The broadcaster has set a new password on this room."===b.b[1]?(a.o("passwordprotected"),S(a.event.h,{j:[[W(yb)]],l:!0})):S(a.event.h,{j:[[W(b.b[1])]],l:!0}):y("roomMessage invalid args: "+b.b):(b=ud(b.b),a.ja(b.s.username)||S(a.event.Ta,b))}
function Kd(a,b){if(2>b.b.length)y("PrivateShowRequest invalid args: "+b.b);else if(S(a.event.Qa,{yb:b.b[0],da:parseInt(b.b[1])}),a.u){switch(a.status){case "grouprequesting":case "public":case "away":break;default:C("unexpected status: "+a.status)}a.o("privaterequesting");a.u&&S(a.event.Y,"show")}}
function Ld(a,b){if(1!==b.b.length)y("Invalid privateShowApprove args: "+b.b);else{switch(a.status){case "public":a.o("privatenotwatching");break;case "grouprequesting":a.Na();a.o("privatenotwatching");break;case "privaterequesting":Wd(a);Ud(a);a.o("privatewatching");break;default:C("private show approve unexpected status: "+a.status)}b=W(zb);"privatewatching"===a.status?S(a.event.h,{j:[[b]],w:"#222",background:"#ff8b45",weight:"bold",l:!0}):S(a.event.h,{j:[[b,W(" ("),{N:3},W(")")]],w:"#222",background:"#ff8b45",weight:"bold",l:!0})}}
function Md(a,b){function d(){a.o("away");S(a.event.h,{j:[[W(Ab)]],w:"#222",background:"#ff8b45",weight:"bold",l:!0})}0!==b.b.length&&y("Invalid privateShowCancel args: "+b.b);switch(a.status){case "privaterequesting":a.o("public");S(a.event.h,{j:[[W(Bb)]],w:"#222",background:"#ff8b45",weight:"bold",l:!0});break;case "away":case "grouprequesting":case "hidden":case "public":break;case "privatewatching":Xd(a);Td(a);d();break;case "privatespying":case "privatenotwatching":d();break;default:C("privateShowCancel wrong room status: "+
a.status)}}function Nd(a,b){1!==b.b.length&&C("Invalid leavePrivateRoom args: "+b.b);if(b.b[0]===a.username())switch(a.status){case "groupwatching":a.o("groupnotwatching");Xd(a);Td(a);S(a.event.h,{j:[[W(Eb)]],w:"#222",background:"#ff8b45",weight:"bold",l:!0});break;default:y("unexpected status: "+a.status)}}
function Od(a,b){3!==b.b.length&&C("Invalid groupShowRequest args: "+b.b);var d=Number(b.b[0]),e=Number(b.b[1]);S(a.event.sa,{ea:d,Ga:e,da:Number(b.b[2])});switch(a.status){case "groupwatching":case "groupnotwatching":break;default:0!==d&&(a.u?("grouprequesting"!==a.status&&a.o("grouprequesting"),d===e&&S(a.event.Y,"show"),S(a.event.h,{j:[[W(tb(d,e))]],w:"#222",background:"#ff8b45",weight:"bold",l:!1})):S(a.event.h,{j:[[W(tb(d,e)),W(" ("),{N:4},W(")")]],w:"#222",background:"#ff8b45",weight:"bold",l:!1}))}}function Pd(a,b){1!==b.b.length&&y("Invalid groupShowApprove args: "+b.b);switch(a.status){case "groupnotwatching":break;case "grouprequesting":Wd(a);Ud(a);a.o("groupwatching");break;case "public":case "privaterequesting":a.o("groupnotwatching");break;default:C("unexpected status: "+a.status)}S(a.event.h,{j:[[W(Fb)]],w:"#222",background:"#ff8b45",weight:"bold",l:!0})}
function Qd(a,b){S(a.event.sa,{ea:0});0!==b.b.length&&y("Invalid groupShowCancel args: "+b.b);b={j:[[W(Gb)]],w:"#222",background:"#ff8b45",weight:"bold",l:!0};switch(a.status){case "grouprequesting":a.o("public");S(a.event.h,{j:[[W(Hb)]],w:"#222",background:"#ff8b45",weight:"bold",l:!0});break;case "away":case "hidden":case "public":case "privaterequesting":break;case "groupwatching":Xd(a);Td(a);a.o("away");S(a.event.h,b);break;case "groupnotwatching":a.o("away");S(a.event.h,b);break;default:C("groupShowCancel wrong room status: "+
a.status)}}function Rd(a,b){2!==b.b.length?y("Invalid tokenBalanceUpdate args: "+b.b):S(a.event.Fa,{bb:Number(b.b[1])})}function Sd(a,b){0!==b.b.length&&C("Invalid awayModeCancel args: "+b.b);switch(a.status){case "away":case "public":case "grouprequesting":case "privaterequesting":S(a.event.h,{j:[[W(Ib)]],w:"#222",background:"#ff8b45",weight:"bold",l:!0});a.o("public");break;default:y("unexpected state: "+a.status)}}
function Cd(a,b){var d=new z(b.b[0]),e=E(d,"type");d.R("send_to");d.R("to_user");if("function"!==typeof Yd[e])y("Unhandled onNotify type "+e,{message:b});else(0,Yd[e])({a:a,p:d,Gb:1<b.b.length&&"true"===b.b[1]})}var Yd={tip_alert:Zd,log:$d,refresh_panel:ae,app_tab_refresh:be,appnotice:ce,apperrorlog:de,clear_app:ee,room_entry:fe,room_leave:ge,purchase_notification:he,settingsupdate:ie,hidden_show_status_change:je,hidden_show_approve:ke,hidden_show_deny:le,is_restricted_hls_allowed:me,compliance_image_required:ne};function Zd(a){var b=vd(a.a.i(),a.p);void 0!==a.Gb&&a.Gb||S(a.a.event.Y,oe(b.amount));a.a.u&&S(a.a.event.Xa,b);var d=[""===b.s.username?W(Mb):wd(b.s),W(" tipped "+b.amount+" "+(1<b.amount?"tokens":"token"))];b.Kb&&d.push(W(" anonymously"));a.a.u&&(""!==b.message&&d.push(W(" -- "+b.message)),w("tipping/get_token_balance/",6E4)[1].then(function(e){e=new z(e.responseText);F(e,"success")&&S(a.a.event.Fa,{bb:G(e,"token_balance")})}));S(a.a.event.h,{j:[d],background:"#ff3",w:"#000",weight:"bold",l:b.s.username===a.a.username()||a.a.u})}function $d(a){var b=B(a.p,"msg");void 0===b?y("handleLog with an empty msg"):S(a.a.event.Ha,b)}function be(a){S(a.a.event.Ia,void 0)}function ae(a){S(a.a.event.Ra,void 0)}
function ce(a){var b=A(a.p,"msg"),d=[];if("string"===typeof b)d.push([W("Notice: "+b)]);else if(b instanceof Array){b=n(b);for(var e=b.next();!e.done;e=b.next())d.push([W("Notice: "+e.value)])}else{y("handleAppNotice error: Invalid message type "+(void 0===b?"undefined":b.toString()));return}S(a.a.event.h,{j:d,background:B(a.p,"background",!1),w:B(a.p,"foreground",!1),weight:B(a.p,"weight",!1),l:!1})}
function de(a){if(a.a.u){var b=A(a.p,"msg"),d=[];d.push([W("Error: ")]);if("string"===typeof b)d.push([W(b)]);else if(b instanceof Array){b=n(b);for(var e=b.next();!e.done;e=b.next())d.push([W(e.value)])}else{y("handleAppErrorLog error: Invalid message type "+(void 0===b?"undefined":b.toString()));return}S(a.a.event.h,{j:d,l:!1})}}function ee(a){S(a.a.event.Ka,void 0)}function fe(a){a.a.rb(td(a.p))}function ge(a){a.a.sb(td(a.p))}
function he(a){var b=td(a.p);!0!==F(a.p,"history")&&C("purchase history is not true?");for(var d=[],e=n(E(a.p,"message").split(new RegExp("\\b"+b.username+"\\b","gi"))),f=e.next();!f.done;f=e.next())f=f.value,""!==f&&d.push(W(f)),d.push(wd(b));d.pop();b.username===a.a.username()&&w("tipping/get_token_balance/",6E4)[1].then(function(k){k=new z(k.responseText);F(k,"success")&&S(a.a.event.Fa,{bb:G(k,"token_balance")})});S(a.a.event.h,{j:[d],background:"#33ff33",w:"#000",weight:"bold",l:b.username===a.a.username()})}
function ie(a){var b=a.p,d={qa:F(b,"allow_privates"),F:G(b,"private_price"),B:G(b,"spy_price"),Pb:G(b,"private_min_minutes"),Bb:F(b,"allow_show_recordings"),pa:F(b,"allow_groups"),D:G(b,"group_price"),Nb:G(b,"minimum_users_for_group_show")};I(b);S(a.a.event.Ua,d);a.a.F!==d.F&&(a.a.F=d.F,b=W(vb(a.a.i(),d.F)),S(a.a.event.h,{j:[[b]],l:!0}));a.a.D!==d.D&&(a.a.D=d.D,b=W(ub(a.a.i(),d.D)),S(a.a.event.h,{j:[[b]],l:!0}));a.a.B!==d.B&&0!==d.B&&(a.a.B=d.B,d=W(wb(a.a.i(),d.B)),S(a.a.event.h,{j:[[d]],l:!0}))}
function je(a){if(!a.a.u){var b=F(a.p,"is_starting")?"hidden":"public",d=E(a.p,"hidden_message");I(a.p);S(a.a.event.kb,d);switch(a.a.status){case "grouprequesting":a.a.Na();break;case "privaterequesting":a.a.lb();break;case "public":case "hidden":break;default:y("handleHiddenShowStatusChange unexpected status: "+a.a.status)}"public"===b?setTimeout(function(){a.a.o("public")},3E3):a.a.o(b)}}
function ke(a){F(a.p,"initial_hide_cam")?setTimeout(function(){a.a.o("public")},2E3):"public"!==a.a.status&&a.a.o("public")}function le(a){"public"===a.a.status&&a.a.o("hidden")}function me(){}function oe(a){return 1E3<=a?"huge":500<=a?"large":100<=a?"medium":15<=a?"small":"tiny"}var pe=!1;function ne(a){if(!pe){pe=!0;var b="Compliance Image Required!\nPlease visit "+window.location.host+"/verify on your mobile\n     device to verify your identity.";a=Ha(a.p,"time");Za(void 0!==a&&0<a?b+("\n\nYou have "+a+" minute"+(1===a?"":"s")+" to complete."):b+"\n\nYou must complete this to continue broadcasting, failure to do so may result in broadcasting restrictions.",function(){pe=!1})}};function qe(){this.ia=0}qe.prototype.reset=function(){this.ia=0};R(Pb,function(){});function re(){x("tipping/private_show_decline/",{foo:"bar"}).then(function(){})}function se(){x("tipping/group_show_decline/",{foo:"bar"}).then(function(){})};function te(a){var b=this;this.d=a;this.status="offline";this.K=void 0;this.ca=!0;this.L=!1;this.gb=2;this.$=this.u=!1;this.event={ya:new Q("messageSent"),Ta:new Q("roomMessage"),h:new Q("roomNotice"),Pa:new Q("privateMessage"),Va:new Q("statusChange",{ka:15}),kb:new Q("hiddenMessageChange"),Ra:new Q("refreshPanel"),ab:new Q("titleChange"),Ka:new Q("clearApp"),Aa:new Q("removeMessages"),Ua:new Q("settingsUpdate"),Sa:new Q("roomCountUpdate"),Oa:new Q("modStatusChange"),Fa:gd,Qa:new Q("privateShowRequest"),sa:new Q("groupShowUpdate"),Y:new Q("playSound"),Ia:new Q("appTabRefresh"),Ha:new Q("appDebugLog"),Xa:new Q("tipAlert")};this.R=function(d){b.d.i===b.d.userName?(y("Error: cannot ignore users in this room"),new Promise(function(){return!1})):(S(b.event.h,{j:[[W("Ignoring "+d)]],l:!0}),x("chat_ignore_list/",{username:d}).then(function(e){if("max"===e.responseText)return S(b.event.h,{j:[[W("Please signup/login to enable this feature.")]],l:!0}),!1;od.add(d);pd();return!0}).catch(function(e){y("Error posting ignore user: "+
e);return!1}))};this.bc=function(d){S(b.event.h,{j:[[W("No longer ignoring "+d)]],l:!0});x("chat_ignore_list/",{username:d,remove:"1"}).then(function(){od.delete(d);pd();return!0}).catch(function(e){y("Error posting unignore user: "+e);return!1})};this.gb=/cb2=1/.test(document.cookie)?2:1;this.$=!1;this.u=this.username()===this.i();this.ba=new qe;this.mb=new xd(this);this.eb=0===a.ha.indexOf("__anonymous__");!1===this.eb&&qd();this.Z();this.L=a.L;this.V=a.oa.V;this.W=a.oa.W;this.ac=this.u?"public":a.na;this.F=a.F;this.B=a.B;this.D=a.D;this.o("notconnected")}c=te.prototype;c.disconnect=function(){this.ca=!1;void 0!==this.K&&(this.K.close(),this.K=void 0)};c.o=function(a){if(a!==this.status){var b=this.status;this.status=a;this.u&&"notconnected"===b&&"public"===this.status&&(re(),se());S(this.event.Va,{ma:b,jb:this.status})}};c.dc=function(a,b){this.V=a;this.W=b};c.Z=function(){var a=this,b,d;0<this.d.host.length&&(this.K=b="http"===this.d.host.substring(0,4)?new SockJS(this.d.host):new WebSocket(this.d.host),b.onclose=function(e){ld("Connection closed:"+JSON.stringify(e));void 0!==d?S(a.event.h,{j:[[W("Trying to reconnect")]],l:!0}):(S(a.event.h,{j:[[W("Chat disconnected")]],l:!0}),a.ca&&(d=setTimeout(function(){S(a.event.h,{j:[[W("Trying to reconnect")]],l:!0});a.Z()},cd(a.ba))))},b.onerror=function(e){ld("Connection error:"+JSON.stringify(e));void 0===d&&a.ca&&(d=setTimeout(function(){a.Z()},cd(a.ba)))},b.onmessage=function(e){a.mb.ob(e.data)},b.onopen=function(){X(a,"connect",{user:a.d.ha,password:a.d.zb,room:a.d.i,room_password:a.d.tb})})};c.ub=function(){S(this.event.h,{j:[[W(xb)]],l:!0});this.ba.reset();Vd(this,this.d.Wb)};c.Ba=function(a){this.K.send(a)};function X(a,b,d){d=void 0===d?{}:d;a.Ba(JSON.stringify({method:b,data:d}))}
c.Yb=function(a){S(this.event.ya,void 0);ed();X(this,kd(this)?"messagePrivateRoom":"messageRoom",{room:this.d.i,msg:JSON.stringify({v:this.gb,m:a,f:"",c:""})})};c.Xb=function(a,b){S(this.event.ya,void 0);X(this,kd(this)?"addPrivateUserMsgToUser":"addUserMsgToUser",{msg:JSON.stringify({v:this.gb,m:a,f:"",c:""}),room:this.i(),to_user:b})};c.xb=function(){X(this,"updateRoomCount",{model_name:this.i(),private_room:md(this)})};c.Lb=function(a){X(this,"kickUser",{user:a,room:this.i()})};c.Sb=function(a,b,d){var e=this;return new Promise(function(f,k){"public"!==e.status?k("unexpected status: "+e.status):x("tipping/private_show_request/"+e.i()+"/",{chat_username:e.username(),price:""+a,private_show_minimum_minutes:""+b,recordings_allowed:""+d}).then(function(l){l=new z(l.responseText);var g=E(l,"message",!1);F(l,"success")?(I(l),e.o("privaterequesting"),S(e.event.h,{j:[[W(Db)]],w:"#222",background:"#ff8b45",weight:"bold",l:!0}),f("")):(""===g&&(y("unknown cannot start private show reason"),g="Cannot start private show."),f(g))}).catch(function(l){k(l)})})};c.Tb=function(){var a=this;return new Promise(function(b,d){"privatenotwatching"!==a.status?d("unexpected status: "+a.status):x("tipping/spy_on_private_show_request/"+a.i()+"/",{chat_username:a.username()}).then(function(e){e=new z(e.responseText);var f=F(e,"success"),k=E(e,"message",!1);I(e);f?(a.o("privatespying"),S(a.event.h,{j:[[W("You are spying on the private show")]],w:"#222",background:"#ff8b45",weight:"bold",l:!0}),b("")):(""===k&&(k="Error joining spy show"),b(k))}).catch(function(e){d(e)})})};c.Na=function(){var a=this;switch(this.status){case "groupwatching":break;case "grouprequesting":this.o("public");break;default:C("unexpected status: "+this.status)}return new Promise(function(b){return x("tipping/group_show_cancel/"+a.i()+"/",{}).then(function(){b("")})})};c.lb=function(){var a=this;return new Promise(function(b){var d="tipping/private_show_cancel/"+a.i()+"/",e=a.status;x(d,{}).then(function(f){f=new z(f.responseText);var k=F(f,"success"),l=G(f,"remaining_seconds"),g=Fa(f);I(f);switch(e){case "privatewatching":if(!k){0===l?b(Cb):(f="You have started a private show with a "+g+" minute minimum. You cannot cancel your private show yet. It still has "+(l+" seconds remaining."),b(f));break}b("");break;case "privatespying":if(!k){b("Unable to cancel spy show");break}a.o("privatenotwatching");b("");break;case "privaterequesting":if(!k){b("Unable to cancel private request");break}b("");break;default:C("leave private show from status: "+e),k?b(""):b("Unable to leave private show from status: "+e)}})})};c.Rb=function(a){var b=this;if("public"!==this.status&&"groupnotwatching"!==this.status)return new Promise(function(e,f){f("unexpected status: "+b.status)});var d=this.status;this.o("grouprequesting");return new Promise(function(e,f){x("tipping/group_show_request/"+b.i()+"/",{chat_username:b.username(),price:""+a}).then(function(k){k=new z(k.responseText);var l=E(k,"message",!1);F(k,"success")?(S(b.event.h,{j:[[W("Sending group show request.")]],w:"#222",background:"#ff8b45",weight:"bold",l:!0}),I(k),e("")):(b.o(d),""===l&&(y("unknown cannot start group show reason"),l="Cannot start group show."),e(l))}).catch(function(k){b.o(d);f(k)})})};function Td(a){X(a,"joinRoom",{room:a.i()})}function Wd(a){X(a,"leaveRoom",{room:a.i()})}function Ud(a){setTimeout(function(){X(a,"joinPrivateRoom",{room:a.i()})},500)}function Xd(a){X(a,"leavePrivateRoom",{room:a.i()})}c.i=function(){return this.d.i};c.username=function(){return this.d.ha};c.ja=function(a){var b=od;return void 0===b?(y("ignoreSet should not be undefined"),!1):b.has(a)};c.rb=function(a){this.Ca(this.V,a)&&S(this.event.h,{j:[[W(jb(this.i(),a)),wd(a),W(" has joined the room.")]],l:a.username===this.username()})};c.sb=function(a){if(this.Ca(this.W,a)){var b=" "+Nb;a.Ma&&!ue.has(this.status)&&(b+=" "+Ob);S(this.event.h,{j:[[W(jb(this.i(),a)),wd(a),W(b)]],l:a.username===this.username()})}};c.Ca=function(a,b){if(b.username===this.username())return!1;if(3!==a)if(2===a){if(b.username===this.i()||b.T||b.S)return!0}else if(1===a){if(b.username===this.i()||b.T||b.S||b.ta&&(this.u||this.L))return!0}else if(0===a&&(b.username===this.i()||b.T||b.S||this.u||this.L))return!0;return!1};var ue=new Set(["groupwatching","groupnotwatching","privatewatching","privatenotwatching","privatespying"]);var ve={height:0,name:"",wa:"",width:0,fb:""};function we(a){var b=[],d=[],e=[];if(0>a.indexOf("%%%[emoticon "))a={I:[a],J:[]};else{for(var f=0;f<a.length;f+=1)if("%"===a[f])if("%%%[emoticon "===a.slice(f,f+13)){var k=f+a.slice(f,a.length).indexOf("]%%%");if("]%%%"===a.slice(k,k+4)){e.push(b.join(""));b=[];b:{f=a.slice(f,k+4);f=f.replace("%%%[emoticon ","").replace("]%%%","");f=f.split(/\|/);if(6===f.length){if(f={name:f[0],vb:f[1],width:xe(f[2])?Number(f[2]):80,height:xe(f[3])?Number(f[3]):80,wa:f[4],fb:f[5]},void 0!==f.vb&&ye(f.vb))break b}else if(5===f.length&&(f={name:f[0],wa:f[1],width:xe(f[2])?Number(f[2]):80,height:xe(f[3])?Number(f[3]):80,fb:f[4]},ye(f.wa)))break b;f=void 0}void 0!==f?d.push(f):(y("Cannot parse emoticon: "+f),d.push(ve));f=k+4-1}}else b.push(a[f]);else b.push(a[f]);e.push(b.join(""));a={I:e,J:d}}this.Ab=a}we.prototype.I=function(){return this.Ab.I};we.prototype.J=function(){return this.Ab.J};function ye(a){return null===a.match(/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/g)?(y("Invalid emoticon URL"),!1):!0}function xe(a){return isNaN(parseInt(a,10))?(y("Invalid dimension argument"),!1):!0};var ze=!1,Ae;R(Pb,function(a){ze=a.La.oa.$b;Ae=a.La.Vb});function Be(a){var b=document.createElement("div");b.className="text";var d=document.createElement("p");d.style.background=void 0!==a.background?a.background:"transparent";"#ff8b45"===a.background&&(d.style.padding="0px 4px");d.style.color=void 0!==a.w?a.w:"#494949";d.style.fontWeight=void 0!==a.weight?a.weight:"normal";d.style.display="inline-block";b.appendChild(Ce(d,a.j));return b}
function De(a){var b=document.createElement("p");b.style.background=void 0!==a.background?a.background:"transparent";b.style.color=void 0!==a.w?a.w:"#000000";b.style.fontWeight=void 0!==a.weight?a.weight:"normal";b.style.display="inline-block";return Ce(b,a.j)}function Ee(a,b){var d=document.createElement("a");d.className=b;d.style.color="#FFF";d.style.textDecoration="underline";d.innerText=a;d.style.cursor="pointer";return d}
function Fe(a){var b=document.createElement("a");b.href="/tag/"+a+"/"+Ae;b.style.color="#0a5a83";b.style.textDecoration="none";b.innerText="#"+a;return b}
function Ce(a,b){for(var d=n(b),e=d.next();!e.done;e=d.next()){var f=e.value;e=document.createElement("span");e.style.display="block";f!==b[b.length-1]&&(e.style.marginBottom="5px");f=n(f);for(var k=f.next();!k.done;k=f.next())switch(k=k.value,k.N){case 1:e.appendChild(Ge(k));break;case 0:e.appendChild(He(k.cb));break;case 2:e.appendChild(Fe(k.message));break;case 4:e.appendChild(Ee("join group show","start_group_show_link"));break;case 3:e.appendChild(Ee("spy private show","spy_on_private_link"));break;default:y("Unknown roomNotice type for: "+k)}a.appendChild(e)}return a}
function Ge(a){if(!1!==a.Ob){var b=ze;a=new we(a.message);var d=document.createElement("span");d.className="emoticonImage";d.innerText=a.I()[0];for(var e=1;e<a.I().length;e+=1){if(b){var f=document.createElement("a"),k=document.createElement("img"),l=a.J()[e-1].vb;void 0!==l?(k.src=l,f.className+=" thumbnail"):k.src=a.J()[e-1].wa;l=document.createElement("input");l.type="hidden";l.name="image_url";l.value=a.J()[e-1].wa;f.appendChild(l);l=document.createElement("input");l.type="hidden";l.name="report_url";l.value=a.J()[e-1].fb;f.appendChild(l);k.title=":"+a.J()[e-1].name;k.style.cursor="pointer";k.name=a.J()[e-1].name;k.height=a.J()[e-1].height;k.width=a.J()[e-1].width;f.href="#report_emoticon";f.rel="facebox";f.className+=" facebox_link";d.appendChild(f);f.appendChild(k)}else f=document.createElement("span"),f.style.color="lightskyblue",f.innerText=a.J()[e-1].name,d.appendChild(f);""!==a.I()[e]&&(f=document.createElement("span"),f.innerText=a.I()[e],d.appendChild(f))}return d}b=document.createElement("span");b.innerText=a.message;return b}function He(a){var b=document.createElement("span");b.className="username othermessagelabel";b.setAttribute("data-nick",a.username);b.style.color=a.Ma?"#DC5500":a.T?"#DC0000":a.S?"#090":a.$a?"#804baa":a.Ya?"#be6aff":a.Za?"#009":a.ta?"#69A":"#494949";b.innerText=a.username;return b};function Y(a){if(""===a)return"";var b=document.createElement("div");b.innerText=a;return b.innerHTML};var Ie=!!window.isMobileSite;function Je(){this.xa=0>=swfobject.getFlashPlayerVersion().major;R(gd,function(a){$.mydefchatconn("do_update_token_balance",a.bb)})}
Je.prototype.connect=function(a,b,d,e){var f=this;window.TSHandler.defchat_groups_and_privates=e;this.g=b.Eb?new jd(b):new te(b);S(Pb,{La:b,g:this.g});this.g.u||(this.wb=document.getElementById("id_tip_room_type"));window.TSHandler.room_owner_nick=this.g.i();R(this.g.event.Xa,function(g){var h=document.createElement("div");h.className="text";h.style.display="none";var m=document.createElement("p"),r=document.createElement("span");r.className="tipalert";r.innerText='"'+g.s.username+" tipped "+g.amount+
" "+(1<g.amount?"tokens":"token")+'"';m.appendChild(r);h.appendChild(m);d.add_message(h.outerHTML)});R(this.g.event.Y,function(g){PlayBeep(g)});R(this.g.event.Ka,function(){$.mydefchatconn("clear_app")});R(this.g.event.Ia,function(){$.mydefchatconn("app_tab_refresh")});R(this.g.event.Ha,function(g){$.mydefchatconn("debuglog",Y(g))});R(this.g.event.Ra,function(){$.mydefchatconn("update_panel");!e.is_requesting_group_chat()&&e.is_requesting_private_chat()});R(this.g.event.Aa,function(g){d.remove_messages(g.username)});R(this.g.event.Sa,function(g){$.mydefchatconn("update_viewer_count",g);"groupwatching"===f.g.status&&Ke(g-1)});var k=b.qa,l=b.pa;R(this.g.event.Ua,function(g){l=g.pa;k=g.qa;d.on_settingsupdate(g.qa,g.pa,g.Nb,void 0,void 0,void 0);switch(f.g.status){case "groupnotwatching":case "privatenotwatching":case "away":e.hide_group_show_controls();e.hide_private_show_controls();break;case "privatewatching":case "privatespying":case "privaterequesting":e.show_private_show_controls(!0);e.hide_group_show_controls();break;case "groupwatching":case "grouprequesting":e.show_group_show_controls(!0),e.hide_private_show_controls()}});R(this.g.event.ab,function(g){$(document).trigger("subjectchanged.defchat",Y(g));var h=document.getElementById("roomtitle");null!==h&&(h.innerHTML=a.parse_subject(Y(g)))});R(this.g.event.Oa,function(){a.mod_status_changed=!0});R(this.g.event.h,function(g){d.add_message(Be(g).outerHTML);if(g.l){var h=gb(".chat-box ul.buttons li.active a");void 0!==h&&"pm"===h.getAttribute("data-tab")&&$.mydefchatconn("do_show_system_message",De(g).outerHTML)}});R(this.g.event.Ta,function(g){d.add_message(d._format_message(Y(g.message),g.s.username,f.g.i(),g.Wa,g.font,g.s.T,g.s.ta,g.s.Za,g.s.S,g.backgroundColor,0,g.s.Ya,g.s.$a));$.mydefchatconn("increment_public_tab_counter")});R(this.g.event.Pa,function(g){if(!Ie){var h=g.s.username!==f.g.username();h=$.mydefchatconn("do_get_or_create_pm_tab_for_nick",g.nb,h,!1)}d.add_message(d._format_message(Y(g.message),g.s.username,f.g.i(),g.Wa,g.font,g.s.T,g.s.ta,g.s.Za,g.s.S,g.backgroundColor,0,g.s.Ya,g.s.$a,!0),h);$.mydefchatconn("do_private_message_received",g.nb)});R(this.g.event.Qa,function(g){if(!f.g.$)e.on_privateshowrequest_message(g.yb,g.da);if(f.g.$&&f.g.u){var h=gb(".broadcaster_panel_show_requested .requester_username");void 0!==h&&(h.innerText=""+g.yb);h=gb(".broadcaster_panel_show_requested .tokens_per_minute");void 0!==h&&(h.innerText=""+g.da)}});R(this.g.event.sa,function(g){if(void 0!==g.Ga&&void 0!==g.da&&f.g.u){g.ea===g.Ga&&"groupwatching"!==f.g.status&&(e.change_broadcaster_panel("group_show_requested"),S(f.g.event.Y,"show"));if(!f.g.$)e.on_groupshowrequest_message(g.ea,g.Ga,g.da);0===g.ea&&"public"===f.g.status&&e.change_broadcaster_panel("default");g.ea>=g.Ga&&e.hide_private_show_controls()}Ke(g.ea)});R(this.g.event.Va,function(g){window.TSHandler.initializer.is_on_private_room=md(f.g);"notconnected"===g.ma&&(window.TSHandler.initializer.joined=!0,window.TSHandler.groups_enabled=!Ie,window.TSHandler.privates_enabled=!Ie||!f.xa,$(document).trigger("connected.defchat"),f.g.$||setInterval(function(){f.g.xb()},3E4));var h=["privatewatching","groupwatching"];h=0<=h.indexOf(g.ma)||0<=h.indexOf(g.jb);if("notconnected"===g.ma||h)f.g.$||setTimeout(function(){f.g.xb()},2E3);switch(g.jb){case "public":window.TSHandler.initializer.model_status="public";e.change_group_show_link();e.change_private_show_link();switch(g.ma){case "hidden":case "away":f.xa&&reloadHlsVideoAjaxIfUsingHls();!0===k&&e.show_private_show_controls(!0);!0===l&&e.show_group_show_controls(!0);e.change_broadcaster_panel("default");break;case "grouprequesting":case "privaterequesting":e.change_broadcaster_panel("default")}break;case "away":window.TSHandler.initializer.model_status="away";window.TSHandler.initializer.restricted_buffer_play_in_progress=!0;handle_room_status_change_if_non_flash("away");e.change_broadcaster_panel("away");e.hide_private_show_controls();e.hide_group_show_controls();f.g.u||(f.wb.value="public");break;case "privatewatching":window.TSHandler.initializer.model_status="private";e.change_broadcaster_panel("private_show");e.change_private_show_link("active");a.is_private_show_owner=!0;f.g.u?w("tipping/private_show_tokens_per_minute/"+f.g.i()+"/",6E4)[1].then(function(m){m=new z(m.responseText);for(var r=n(document.querySelectorAll(".tokens_per_minute")),D=r.next();!D.done;D=r.next())D.value.innerText=""+G(m,"price");m.R("minimumMinutes");m.R("recordingsAllowed");m.R("allowed");I(m)}):(f.wb.value="private",f.xa&&reloadHlsVideoAjaxIfUsingHls());break;case "privatespying":e.show_private_show_controls();e.change_private_show_link("active");f.xa&&reloadHlsVideoAjaxIfUsingHls();break;case "privatenotwatching":window.TSHandler.initializer.model_status="private";handle_room_status_change_if_non_flash("private");e.hide_private_show_controls();e.hide_group_show_controls();break;case "groupwatching":window.TSHandler.initializer.model_status="group";e.change_broadcaster_panel("group_show");e.change_group_show_link("active");f.g.u?(g="tipping/group_show_tokens_per_minute/"+f.g.i()+"/",w(g,6E4)[1].then(function(m){for(var r=n(document.querySelectorAll(".tokens_per_minute")),D=r.next();!D.done;D=r.next())D.value.innerText=m.responseText})):(f.wb.value="private",f.xa&&reloadHlsVideoAjaxIfUsingHls());break;case "groupnotwatching":window.TSHandler.initializer.model_status="group";handle_room_status_change_if_non_flash("group");e.hide_private_show_controls();switch(g.ma){case "groupwatching":Le(),e.change_group_show_link()}break;case "hidden":e.hide_private_show_controls();e.hide_group_show_controls();break;case "privaterequesting":f.g.u?(e.change_broadcaster_panel("show_requested"),S(f.g.event.Y,"show")):e.change_private_show_link("waiting");break;case "grouprequesting":f.g.u||e.change_group_show_link("waiting")}});Ca()};function Ke(a){for(var b=n(document.querySelectorAll("span.num_users_waiting_for_group")),d=b.next();!d.done;d=b.next())d.value.innerText=""+a}function Le(){for(var a=n(document.querySelectorAll("span.num_users_waiting_for_group")),b=a.next();!b.done;b=a.next())b=b.value,b.innerText=""+((null!==b.textContent?parseInt(b.textContent):1)-1)};var Z=new Je;window.TSHandler={room_owner_nick:void 0,defchat_groups_and_privates:void 0,groups_enabled:!1,privates_enabled:!1,connect:function(a,b,d,e){Z.connect(d,Me(d),a,e)},disconnect:function(){Z.g.disconnect()},user_is_ignored:function(a){return Z.g.ja(a)},ignore:function(a){Z.g.R(a)},unignore:function(a){Z.g.bc(a)},get_account_name:function(a){return a},set_model_status:function(a,b,d){(void 0===b?0:b)||handle_room_status_change_if_non_flash(a,d)},request_private_show:function(a,b,d){return Z.g.Sb(a,b,d)},request_spy_show:function(){return Z.g.Tb()},request_group_show:function(a){return Z.g.Rb(a)},leave_private_show:function(){return Z.g.lb()},leave_group_show:function(){return Z.g.Na()},striphtml:function(a){return Y(a)},sanitize_room_subject:function(a){return Y(a)},update_enter_leave_settings:function(a,b){Z.g.dc(P(a),P(b))},initializer:{model_status:"public",joined:!1,is_on_private_room:!1,restricted_buffer_play_in_progress:!1},message_outbound:{send_kickban_user:function(a){Z.g.Lb(a)},send_change_title:function(a){x("api/change_room_title/",{room_slug:Z.g.i(),subject:a}).catch(function(b){y("Error changing room title ("+b+")")})},send_private_message:function(a,b){Z.g.Xb(a,b)},send_room_message:function(a){Z.g.Yb(a)}}};var Ne=!1;window.flash_handler={connect_callbacks:{initialized:function(){if("True"===window.flickering_chrome_flash){var a=gb("#player");void 0!==a&&(a.style.height=""+(a.offsetHeight-1))}return!0}},initializer:{broadcasting_started:function(){Ne=!0},broadcasting_stopped:function(){Ne=!1},am_i_broadcasting:function(){return Ne},get_model_status:function(){return window.TSHandler.initializer.model_status}},message_inbound:{getNextOriginAddress:function(a){var b=new XMLHttpRequest;b.open("GET","/api/switch_origin/?current_origin="+
a,!1);b.withCredentials=!0;b.send();return b.responseText}},consolelog:function(){},errorlog:function(a){y(a)}};function Me(a){return{host:a.wschat_host,i:a.room.split("@")[0],tb:a.room_password,Wb:a.default_subject,Vb:a.broadcaster_gender,userName:a.user.split("@")[0],Cc:a.is_supporter,Gc:a.needs_supporter_to_pm,ha:a.username,zb:a.password,mc:cb(a.app_info_json),na:Oe(a.room_status),L:a.is_moderator,Eb:a.broadcaster_on_new_chat,Xc:a.token_balance,jc:a.ads_zone_ids,Pc:a.server_name,tc:a.following,Hc:a.num_followed,Bc:a.is_mobile,Ic:a.num_followed_online,wc:a.has_studio,zc:["ignored_emoticons"],xc:a.hide_satisfaction_score,Oc:a.satisfaction_score,Wc:a.tips_in_past_24_hours,Dc:a.last_vote_in_past_24_hours,Ec:a.last_vote_in_past_90_days_down,Vc:a.tfa_enabled,pc:a.dismissible_messages,Sc:a.show_mobile_site_banner_link,Jc:a.num_users_required_for_group,Kc:a.num_users_waiting_for_group,F:parseInt(a.private_price),D:parseInt(a.group_price),B:parseInt(a.spy_price),kc:a.allow_anonymous_tipping,oa:{fontSize:a.font_size,uc:a.font_color,fontFamily:a.font_family,$b:a.show_emoticons,qc:a.emoticon_autocomplete_delay,Uc:a.sort_users_key,V:P(a.room_entry_for),W:P(a.room_leave_for),Tc:a.silence_broadcasters,Ac:a.load_ignored_users,lc:a.users_that_can_chat,Zc:a.v_tip_vol,oc:a.b_tip_vol,yc:a.highest_token_color}}}
function Oe(a){switch(a){case "away":return"away";case "group":return"groupnotwatching";case "group_watching":return"groupwatching";case "group_requesting":return"grouprequesting";case "private":return"privatenotwatching";case "private_watching":return"privatewatching";case "private_spying":return"privatespying";case "private_requesting":return"privaterequesting";case "public":return"public";case "hidden":return"hidden";case "offline":return"offline";case "password protected":return"passwordprotected";default:return y("unknown room status -- "+a),"unknown"}};var Pe=window.newrelic;function Qe(a,b,d){d=void 0===d?{}:d;try{if(void 0!==Pe){var e={};e["attributes.level"]=a;for(var f in d)e["attributes."+f]=d[f];Pe.noticeError(b,e)}}catch(k){y("New Relic Error in reportError: "+k.toString())}}function C(a,b){var d=void 0===d?"":d;void 0!==window.console&&console.warn(d.concat("WARN "),a,void 0===b?"":b);try{var e="object"===typeof a?JSON.stringify(a):a.toString()}catch(f){e=""+a}Qe(d.concat("WARN"),Error(e),b)}
function y(a,b,d){d=void 0===d?"":d;void 0!==window.console&&console.error(d.concat("ERROR "),a,void 0===b?"":b);try{var e="object"===typeof a?JSON.stringify(a):a.toString()}catch(f){e=""+a}Qe(d.concat("ERROR"),Error(e),b)}function ld(){}window.onerror=function(a,b,d,e,f){try{var k=JSON.stringify(f)}catch(l){k=""+f}y(['"Message: " '+a,'"URL: "  '+b,'"Line: " '+d,'"Column: " '+e,'"Error object: " '+k].join("\n"),{},"");return!1};}).call(this);