(function(g,c,b){function d(f,k){var j,i,l;if(!c[f]){if(!g[f]){if(j=typeof require=="function"&&require,!k&&j){return j(f,!0)}if(e){return e(f,!0)}i=new Error("Cannot find module '"+f+"'");throw i.code="MODULE_NOT_FOUND",i}l=c[f]={exports:{}};g[f][0].call(l.exports,function(m){var h=g[f][1][m];return d(h?h:m)},l,l.exports,k,g,c,b)}return c[f].exports}for(var e=typeof require=="function"&&require,a=0;a<b.length;a++){d(b[a])}return d})({1:[function(g,c,b){function e(h,f){if(!(h instanceof f)){throw new TypeError("Cannot call a class as a function")}}var d,a;Object.defineProperty(b,"__esModule",{value:!0});d=function(){function f(l,j){for(var h,k=0;k<j.length;k++){h=j[k],h.enumerable=h.enumerable||!1,h.configurable=!0,"value" in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(j,h,k){return h&&f(j.prototype,h),k&&f(j,k),j}}();a=b.IVPAIDAdUnit=function(){function f(){e(this,f)}return d(f,[{key:"handshakeVersion",value:function(){var i=arguments.length<=0||arguments[0]===undefined?"2.0":arguments[0],h=arguments.length<=1||arguments[1]===undefined?undefined:arguments[1]}},{key:"initAd",value:function(){var k=arguments.length<=4||arguments[4]===undefined?{AdParameters:""}:arguments[4],j=arguments.length<=5||arguments[5]===undefined?{flashVars:""}:arguments[5],h=arguments.length<=6||arguments[6]===undefined?undefined:arguments[6]}},{key:"resizeAd",value:function(){var h=arguments.length<=3||arguments[3]===undefined?undefined:arguments[3]}},{key:"startAd",value:function(){var h=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0]}},{key:"stopAd",value:function(){var h=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0]}},{key:"pauseAd",value:function(){var h=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0]}},{key:"resumeAd",value:function(){var h=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0]}},{key:"expandAd",value:function(){var h=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0]}},{key:"collapseAd",value:function(){var h=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0]}},{key:"skipAd",value:function(){var h=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0]}},{key:"getAdLinear",value:function(){}},{key:"getAdWidth",value:function(){}},{key:"getAdHeight",value:function(){}},{key:"getAdExpanded",value:function(){}},{key:"getAdSkippableState",value:function(){}},{key:"getAdRemainingTime",value:function(){}},{key:"getAdDuration",value:function(){}},{key:"setAdVolume",value:function(){var h=arguments.length<=1||arguments[1]===undefined?undefined:arguments[1]}},{key:"getAdVolume",value:function(){}},{key:"getAdCompanions",value:function(){}},{key:"getAdIcons",value:function(){}}]),f}();Object.defineProperty(a,"EVENTS",{writable:!1,configurable:!1,value:["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"]})},{}],2:[function(d,q,g){function l(e,c){if(!(e instanceof c)){throw new TypeError("Cannot call a class as a function")}}function b(e,c){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return c&&((typeof c=="undefined"?"undefined":p(c))==="object"||typeof c=="function")?c:e}function v(e,c){if(typeof c!="function"&&c!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof c=="undefined"?"undefined":p(c)))}e.prototype=Object.create(c&&c.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(e,c):e.__proto__=c)}var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol?"symbol":typeof c},k;Object.defineProperty(g,"__esModule",{value:!0});k=function(){function c(o,f){for(var e,h=0;h<f.length;h++){e=f[h],e.enumerable=e.enumerable||!1,e.configurable=!0,"value" in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(f,e,h){return e&&c(f.prototype,e),h&&c(f,h),f}}();var a=d("./IVPAIDAdUnit").IVPAIDAdUnit,j=Object.getOwnPropertyNames(a.prototype).filter(function(c){return["constructor"].indexOf(c)===-1}),m=g.VPAIDAdUnit=function(e){function c(h){l(this,c);var f=b(this,Object.getPrototypeOf(c).call(this));return f._destroyed=!1,f._flash=h,f}return v(c,e),k(c,[{key:"_destroy",value:function(){var f=this;this._destroyed=!0;j.forEach(function(h){f._flash.removeCallbackByMethodName(h)});a.EVENTS.forEach(function(h){f._flash.offEvent(h)});this._flash=null}},{key:"isDestroyed",value:function(){return this._destroyed}},{key:"on",value:function(h,f){this._flash.on(h,f)}},{key:"off",value:function(h,f){this._flash.off(h,f)}},{key:"handshakeVersion",value:function(){var h=arguments.length<=0||arguments[0]===undefined?"2.0":arguments[0],f=arguments.length<=1||arguments[1]===undefined?undefined:arguments[1];this._flash.callFlashMethod("handshakeVersion",[h],f)}},{key:"initAd",value:function(z,s,o,w){var h=arguments.length<=4||arguments[4]===undefined?{AdParameters:""}:arguments[4],x=arguments.length<=5||arguments[5]===undefined?{flashVars:""}:arguments[5],y=arguments.length<=6||arguments[6]===undefined?undefined:arguments[6];this._flash.setSize(z,s);h=h||{AdParameters:""};x=x||{flashVars:""};this._flash.callFlashMethod("initAd",[this._flash.getWidth(),this._flash.getHeight(),o,w,h.AdParameters||"",x.flashVars||""],y)}},{key:"resizeAd",value:function(s,h,f){var o=arguments.length<=3||arguments[3]===undefined?undefined:arguments[3];this._flash.setSize(s,h);this._flash.callFlashMethod("resizeAd",[this._flash.getWidth(),this._flash.getHeight(),f],o)}},{key:"startAd",value:function(){var f=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];this._flash.callFlashMethod("startAd",[],f)}},{key:"stopAd",value:function(){var f=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];this._flash.callFlashMethod("stopAd",[],f)}},{key:"pauseAd",value:function(){var f=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];this._flash.callFlashMethod("pauseAd",[],f)}},{key:"resumeAd",value:function(){var f=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];this._flash.callFlashMethod("resumeAd",[],f)}},{key:"expandAd",value:function(){var f=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];this._flash.callFlashMethod("expandAd",[],f)}},{key:"collapseAd",value:function(){var f=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];this._flash.callFlashMethod("collapseAd",[],f)}},{key:"skipAd",value:function(){var f=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];this._flash.callFlashMethod("skipAd",[],f)}},{key:"getAdLinear",value:function(f){this._flash.callFlashMethod("getAdLinear",[],f)}},{key:"getAdWidth",value:function(f){this._flash.callFlashMethod("getAdWidth",[],f)}},{key:"getAdHeight",value:function(f){this._flash.callFlashMethod("getAdHeight",[],f)}},{key:"getAdExpanded",value:function(f){this._flash.callFlashMethod("getAdExpanded",[],f)}},{key:"getAdSkippableState",value:function(f){this._flash.callFlashMethod("getAdSkippableState",[],f)}},{key:"getAdRemainingTime",value:function(f){this._flash.callFlashMethod("getAdRemainingTime",[],f)}},{key:"getAdDuration",value:function(f){this._flash.callFlashMethod("getAdDuration",[],f)}},{key:"setAdVolume",value:function(h){var f=arguments.length<=1||arguments[1]===undefined?undefined:arguments[1];this._flash.callFlashMethod("setAdVolume",[h],f)}},{key:"getAdVolume",value:function(f){this._flash.callFlashMethod("getAdVolume",[],f)}},{key:"getAdCompanions",value:function(f){this._flash.callFlashMethod("getAdCompanions",[],f)}},{key:"getAdIcons",value:function(f){this._flash.callFlashMethod("getAdIcons",[],f)}}]),c}(a)},{"./IVPAIDAdUnit":1}],3:[function(C,q){function J(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}function F(){if(this._destroyed){throw new Error("VPAIDFlashToJS is destroyed!")}}function D(){this._loadLater&&(this.loadAdUnit(this._loadLater.url,this._loadLater.callback),delete this._loadLater)}function H(c,b){var a=arguments.length<=2||arguments[2]===undefined?!1:arguments[2];Object.defineProperty(m,c,{writable:a,configurable:!1,value:b})}var L=function(){function a(f,c){for(var b,e=0;e<c.length;e++){b=c[e],b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(c,b,e){return b&&a(c.prototype,b),e&&a(c,e),c}}(),z=C("swfobject"),I=C("./jsFlashBridge").JSFlashBridge,j=C("./VPAIDAdUnit").VPAIDAdUnit,d=C("./utils").noop,A=C("./utils").callbackTimeout,B=C("./utils").isPositiveInt,g=C("./utils").createElementWithID,K=C("./utils").unique("vpaid"),E=C("./flashTester.js").createFlashTester,x="10.1.0",G={isSupported:function(){return !0}},m=function(){function a(s,c){function o(f){return setTimeout(function(){c(new Error(f))},0),p}var r=arguments.length<=2||arguments[2]===undefined?{data:"VPAIDFlash.swf",width:800,height:400}:arguments[2],n=this,l=arguments.length<=3||arguments[3]===undefined?{wmode:"transparent",salign:"tl",align:"left",allowScriptAccess:"always",scale:"noScale",allowFullScreen:"true",quality:"high"}:arguments[3],e=arguments.length<=4||arguments[4]===undefined?{debug:!1,timeout:10000}:arguments[4],p,b;if(J(this,a),p=this,this._vpaidParentEl=s,this._flashID=K(),this._destroyed=!1,c=c||d,r.width=B(r.width,800),r.height=B(r.height,400),g(s,this._flashID,!0),l.movie=r.data,l.FlashVars="flashid="+this._flashID+"&handler="+I.VPAID_FLASH_HANDLER+"&debug="+e.debug+"&salign="+l.salign,!a.isSupported()){return o("user don't support flash or doesn't have the minimum required version of flash "+x)}if(this.el=z.createSWF(r,l,this._flashID),!this.el){return o("swfobject failed to create object in element")}b=A(e.timeout,function(h,f){D.call(n);c(h,f)},function(){c("vpaid flash load timeout "+e.timeout)});this._flash=new I(this.el,r.data,this._flashID,r.width,r.height,b)}return L(a,[{key:"destroy",value:function(){this._destroyAdUnit();this._flash&&(this._flash.destroy(),this._flash=null);this.el=null;this._destroyed=!0}},{key:"isDestroyed",value:function(){return this._destroyed}},{key:"_destroyAdUnit",value:function(){delete this._loadLater;this._adUnitLoad&&(this._adUnitLoad=null,this._flash.removeCallback(this._adUnitLoad));this._adUnit&&(this._adUnit._destroy(),this._adUnit=null)}},{key:"loadAdUnit",value:function(e,b){var c=this;F.call(this);this._adUnit&&this._destroyAdUnit();this._flash.isReady()?(this._adUnitLoad=function(f){f||(c._adUnit=new j(c._flash));c._adUnitLoad=null;b(f,c._adUnit)},this._flash.callFlashMethod("loadAdUnit",[e],this._adUnitLoad)):this._loadLater={url:e,callback:b}}},{key:"unloadAdUnit",value:function(){var b=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];F.call(this);this._destroyAdUnit();this._flash.callFlashMethod("unloadAdUnit",[],b)}},{key:"getFlashID",value:function(){return F.call(this),this._flash.getFlashID()}},{key:"getFlashURL",value:function(){return F.call(this),this._flash.getFlashURL()}}]),a}();H("isSupported",function(){return z.hasFlashPlayerVersion(x)&&G.isSupported()},!0);H("runFlashTest",function(a){G=E(document.body,a)});m.swfobject=z;q.exports=m},{"./VPAIDAdUnit":2,"./flashTester.js":4,"./jsFlashBridge":5,"./utils":8,swfobject:14}],4:[function(g,y,k){function z(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}var q;Object.defineProperty(k,"__esModule",{value:!0});q=function(){function a(h,e){for(var c,f=0;f<e.length;f++){c=e[f],c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(h,c.key,c)}}return function(e,c,f){return c&&a(e.prototype,c),f&&a(e,f),e}}();var m=g("swfobject"),x="vpaid_video_flash_tester",b="vpaid_video_flash_tester_el",d=g("./jsFlashBridge").JSFlashBridge,p=g("./utils"),v=g("./registry").MultipleValuesRegistry,j=function(){function a(h){var l=this,f=arguments.length<=1||arguments[1]===undefined?{data:"VPAIDFlash.swf",width:800,height:400}:arguments[1],c;z(this,a);this.parentEl=p.createElementWithID(h,b);p.hideFlashEl(this.parentEl);c={};c.movie=f.data;c.FlashVars="flashid="+b+"&handler="+d.VPAID_FLASH_HANDLER;c.allowScriptAccess="always";this.el=m.createSWF(f,c,b);this._handlers=new v;this._isSupported=!1;this.el&&(p.hideFlashEl(this.el),this._flash=new d(this.el,f.data,b,f.width,f.height,function(){var e=!0;l._isSupported=e;l._handlers.get("change").forEach(function(i){setTimeout(function(){i("change",e)},0)})}))}return q(a,[{key:"isSupported",value:function(){return this._isSupported}},{key:"on",value:function(e,c){this._handlers.add(e,c)}}]),a}(),w=k.createFlashTester=function(c,a){return window[x]||(window[x]=new j(c,a)),window[x]}},{"./jsFlashBridge":5,"./registry":7,"./utils":8,swfobject:14}],5:[function(g,C,k){function m(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function B(f,c,a){var e=this;setTimeout(function(){var h=e._callbacks.get(f);h&&(e._callbacks.remove(f),h(c,a))},0)}var p;Object.defineProperty(k,"__esModule",{value:!0});p=function(){function a(h,e){for(var c,f=0;f<e.length;f++){c=e[f],c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(h,c.key,c)}}return function(e,c,f){return c&&a(e.prototype,c),f&&a(e,f),e}}();var w=g("./utils").unique,q=g("./utils").isPositiveInt,j=g("./utils").stringEndsWith,z=g("./registry").SingleValueRegistry,A=g("./registry").MultipleValuesRegistry,b=g("./jsFlashBridgeRegistry"),d="vpaid_video_flash_handler",D="AdError",x=k.JSFlashBridge=function(){function a(l,h,c,n,r,s){m(this,a);this._el=l;this._flashID=c;this._flashURL=h;this._width=n;this._height=r;this._handlers=new A;this._callbacks=new z;this._uniqueMethodIdentifier=w(this._flashID);this._ready=!1;this._handShakeHandler=s;b.addInstance(this._flashID,this)}return p(a,[{key:"on",value:function(e,c){this._handlers.add(e,c)}},{key:"off",value:function(e,c){return this._handlers.remove(e,c)}},{key:"offEvent",value:function(c){return this._handlers.removeByKey(c)}},{key:"offAll",value:function(){return this._handlers.removeAll()}},{key:"callFlashMethod",value:function(o){var l=arguments.length<=1||arguments[1]===undefined?[]:arguments[1],e=arguments.length<=2||arguments[2]===undefined?undefined:arguments[2],c="";e&&(c=this._uniqueMethodIdentifier()+"_"+o,this._callbacks.add(c,e));try{this._el[o]([c].concat(l))}catch(h){e?B.call(this,c,h):this._trigger(D,h)}}},{key:"removeCallback",value:function(c){return this._callbacks.removeByValue(c)}},{key:"removeCallbackByMethodName",value:function(e){var c=this;this._callbacks.filterKeys(function(f){return j(f,e)}).forEach(function(f){c._callbacks.remove(f)})}},{key:"removeAllCallbacks",value:function(){return this._callbacks.removeAll()}},{key:"_trigger",value:function(f,e){var c=this;this._handlers.get(f).forEach(function(h){f==="AdClickThru"?h(e):setTimeout(function(){c._handlers.get(f).length>0&&h(e)},0)})}},{key:"_callCallback",value:function(o,e,c,h){var l=this._callbacks.get(e);if(!l){c&&e===""&&this.trigger(D,c);return}B.call(this,e,c,h)}},{key:"_handShake",value:function(e,c){this._ready=!0;this._handShakeHandler&&(this._handShakeHandler(e,c),delete this._handShakeHandler)}},{key:"getSize",value:function(){return{width:this._width,height:this._height}}},{key:"setSize",value:function(e,c){this._width=q(e,this._width);this._height=q(c,this._height);this._el.setAttribute("width",this._width);this._el.setAttribute("height",this._height)}},{key:"getWidth",value:function(){return this._width}},{key:"setWidth",value:function(c){this.setSize(c,this._height)}},{key:"getHeight",value:function(){return this._height}},{key:"setHeight",value:function(c){this.setSize(this._width,c)}},{key:"getFlashID",value:function(){return this._flashID}},{key:"getFlashURL",value:function(){return this._flashURL}},{key:"isReady",value:function(){return this._ready}},{key:"destroy",value:function(){this.offAll();this.removeAllCallbacks();b.removeInstanceByID(this._flashID);this._el.parentElement&&this._el.parentElement.removeChild(this._el)}}]),a}();Object.defineProperty(x,"VPAID_FLASH_HANDLER",{writable:!1,configurable:!1,value:d});window[d]=function(v,h,c,a,l,r){var s=b.getInstanceByID(v);s&&(c==="handShake"?s._handShake(l,r):h!=="event"?s._callCallback(c,a,l,r):s._trigger(c,r))}},{"./jsFlashBridgeRegistry":6,"./registry":7,"./utils":8}],6:[function(e,c){var a=e("./registry").SingleValueRegistry,d=new a,b={};Object.defineProperty(b,"addInstance",{writable:!1,configurable:!1,value:function(g,f){d.add(g,f)}});Object.defineProperty(b,"getInstanceByID",{writable:!1,configurable:!1,value:function(f){return d.get(f)}});Object.defineProperty(b,"removeInstanceByID",{writable:!1,configurable:!1,value:function(f){return d.remove(f)}});c.exports=b},{"./registry":7}],7:[function(j,c,b){function a(f,e){if(!(f instanceof e)){throw new TypeError("Cannot call a class as a function")}}var d,g,h;Object.defineProperty(b,"__esModule",{value:!0});d=function(){function e(m,k){for(var f,l=0;l<k.length;l++){f=k[l],f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(k,f,l){return f&&e(k.prototype,f),l&&e(k,l),k}}();g=b.MultipleValuesRegistry=function(){function e(){a(this,e);this._registries={}}return d(e,[{key:"add",value:function(i,f){this._registries[i]||(this._registries[i]=[]);this._registries[i].indexOf(f)===-1&&this._registries[i].push(f)}},{key:"get",value:function(f){return this._registries[f]||[]}},{key:"filterKeys",value:function(f){return Object.keys(this._registries).filter(f)}},{key:"findByValue",value:function(i){var f=this;return Object.keys(this._registries).filter(function(k){return f._registries[k].indexOf(i)!==-1})}},{key:"remove",value:function(l,k){if(this._registries[l]){var f=this._registries[l].indexOf(k);if(!(f<0)){return this._registries[l].splice(f,1)}}}},{key:"removeByKey",value:function(i){var f=this._registries[i];return delete this._registries[i],f}},{key:"removeByValue",value:function(l){var k=this,f=this.findByValue(l);return f.map(function(m){return k.remove(m,l)})}},{key:"removeAll",value:function(){var f=this._registries;return this._registries={},f}},{key:"size",value:function(){return Object.keys(this._registries).length}}]),e}();h=b.SingleValueRegistry=function(){function e(){a(this,e);this._registries={}}return d(e,[{key:"add",value:function(i,f){this._registries[i]=f}},{key:"get",value:function(f){return this._registries[f]}},{key:"filterKeys",value:function(f){return Object.keys(this._registries).filter(f)}},{key:"findByValue",value:function(i){var f=this;return Object.keys(this._registries).filter(function(k){return f._registries[k]===i})}},{key:"remove",value:function(i){var f=this._registries[i];return delete this._registries[i],f}},{key:"removeByValue",value:function(l){var k=this,f=this.findByValue(l);return f.map(function(i){return k.remove(i)})}},{key:"removeAll",value:function(){var f=this._registries;return this._registries={},f}},{key:"size",value:function(){return Object.keys(this._registries).length}}]),e}()},{}],8:[function(d,q,g){function p(e){var c=-1;return function(){return e+"_"+ ++c}}function a(){}function k(h,f,e){var c=setTimeout(function(){f=a;e()},h);return function(){clearTimeout(c);f.apply(this,arguments)}}function l(h,e){var f=arguments.length<=2||arguments[2]===undefined?!1:arguments[2],c=document.createElement("div");return c.id=e,f&&(h.innerHTML=""),h.appendChild(c),c}function b(e,c){return !isNaN(parseFloat(e))&&isFinite(e)&&e>0?e:c}function v(e,c){return m.call(e,c)}function j(c){c.style.position="absolute";c.style.left="-1px";c.style.top="-1px";c.style.width="1px";c.style.height="1px"}Object.defineProperty(g,"__esModule",{value:!0});g.unique=p;g.noop=a;g.callbackTimeout=k;g.createElementWithID=l;g.isPositiveInt=b;g.stringEndsWith=v;g.hideFlashEl=j;var m=function(){return String.prototype.endsWith?String.prototype.endsWith:function(h,e){var c=this.toString(),f;return(e===undefined||e>c.length)&&(e=c.length),e-=h.length,f=c.indexOf(h,e),f!==-1&&f===e}}()},{}],9:[function(g,c){function b(){}function d(j,h,f){Object.defineProperty(j,h,{writable:!1,configurable:!1,value:f})}var a=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"],e;b.prototype.handshakeVersion=function(){};b.prototype.initAd=function(){};b.prototype.startAd=function(){};b.prototype.stopAd=function(){};b.prototype.skipAd=function(){};b.prototype.resizeAd=function(){};b.prototype.pauseAd=function(){};b.prototype.resumeAd=function(){};b.prototype.expandAd=function(){};b.prototype.collapseAd=function(){};b.prototype.subscribe=function(){};b.prototype.unsubscribe=function(){};b.prototype.getAdLinear=function(){};b.prototype.getAdWidth=function(){};b.prototype.getAdHeight=function(){};b.prototype.getAdExpanded=function(){};b.prototype.getAdSkippableState=function(){};b.prototype.getAdRemainingTime=function(){};b.prototype.getAdDuration=function(){};b.prototype.getAdVolume=function(){};b.prototype.getAdCompanions=function(){};b.prototype.getAdIcons=function(){};b.prototype.setAdVolume=function(){};d(b,"METHODS",a);d(b,"GETTERS",["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"]);d(b,"SETTERS",["setAdVolume"]);d(b,"EVENTS",["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"]);e=a.filter(function(f){return["skipAd"].indexOf(f)===-1});d(b,"checkVPAIDInterface",function(f){return e.every(function(h){return typeof f[h]=="function"})});c.exports=b},{}],10:[function(g,C){function k(f,c,a,e){this._isValid=j(f);this._isValid&&(this._creative=f,this._el=c,this._videoEl=a,this._iframe=e,this._subscribers=new w,d.call(this))}function d(){if(A.forEach(function(e){this._creative.subscribe(m.bind(this,e),e)}.bind(this)),this._creative.subscribe(D.bind(this),p),this._videoEl){var c=this._iframe.contentDocument.documentElement,a=this._videoEl;c.addEventListener("click",function(e){e.target===c&&a.click()})}}function D(e,c,a){this._subscribers.triggerSync(p,{url:e,id:c,playerHandles:a})}function m(a){this._subscribers.trigger(a,Array.prototype.slice(arguments,1))}function B(f,c,a,e){f?f(a,e):a&&c.trigger(z,a)}var b=g("./IVPAIDAdUnit"),w=g("./subscriber"),j=b.checkVPAIDInterface,q=g("./utils"),x=b.METHODS,z="AdError",p="AdClickThru",A=b.EVENTS.filter(function(a){return a!=p});k.prototype=Object.create(b.prototype);k.prototype.isValidVPAIDAd=function(){return this._isValid};b.METHODS.forEach(function(a){["subscribe","unsubscribe","initAd"].indexOf(a)===-1&&(k.prototype[a]=function(){var e=b.prototype[a].length,c=Array.prototype.slice.call(arguments),h=e===c.length?c.pop():undefined;setTimeout(function(){var f,l=null;try{f=this._creative[a].apply(this._creative,c)}catch(n){l=n}B(h,this._subscribers,l,f)}.bind(this),0)})});k.prototype.initAd=function(v,c,a,h,l,u,e){l=l||{};u=q.extend({slot:this._el,videoSlot:this._videoEl},u||{});setTimeout(function(){var i;try{this._creative.initAd(v,c,a,h,l,u)}catch(f){i=f}B(e,this._subscribers,i)}.bind(this),0)};k.prototype.subscribe=function(e,c,a){this._subscribers.subscribe(c,e,a)};k.prototype.unsubscribe=function(c,a){this._subscribers.unsubscribe(a,c)};k.prototype.on=k.prototype.subscribe;k.prototype.off=k.prototype.unsubscribe;b.GETTERS.forEach(function(a){k.prototype[a]=function(c){setTimeout(function(){var e,h=null;try{e=this._creative[a]()}catch(l){h=l}B(c,this._subscribers,h,e)}.bind(this),0)}});k.prototype.setAdVolume=function(c,a){setTimeout(function(){var h,e=null;try{this._creative.setAdVolume(c);h=this._creative.getAdVolume()}catch(l){e=l}e||(e=q.validate(h===c,"failed to apply volume: "+c));B(a,this._subscribers,e,h)}.bind(this),0)};k.prototype._destroy=function(){this.stopAd();this._subscribers.unsubscribeAll()};C.exports=k},{"./IVPAIDAdUnit":9,"./subscriber":12,"./utils":13}],11:[function(j,E){function b(f,c,e,a){e=e||{};this._id=B();this._destroyed=!1;this._frameContainer=m.createElementInEl(f,"div");this._videoEl=c;this._vpaidOptions=a||{timeout:10000};this._templateConfig={template:e.template||A,extraOptions:e.extraOptions||{}}}function F(c){var a=this[c];a&&(a.remove(),delete this[c])}function q(){w.call(this);delete this._adUnit}function D(){w.call(this);z.call(this)}function w(){F.call(this,"_frame");x.call(this)}function x(){this._onLoad&&(window.removeEventListener("message",this._onLoad),m.clearCallbackTimeout(this._onLoad),delete this._onLoad)}function z(){this._adUnit&&(this._adUnit.stopAd(),delete this._adUnit)}function k(){if(this._destroyed){throw new Error("VPAIDHTML5Client already destroyed!")}}function g(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}var m=j("./utils"),B=m.unique("vpaidIframe"),C=j("./VPAIDAdUnit"),A='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><div class="ad-element"></div><script type="text/javascript" src="{{iframeURL_JS}}"><\/script><script type="text/javascript">window.parent.postMessage(\'{"event": "ready", "id": "{{iframeID}}"}\', \'{{origin}}\');<\/script></body></html>',d="AdStopped";b.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,D.call(this))};b.prototype.isDestroyed=function(){return this._destroyed};b.prototype.loadAdUnit=function(o,a){function i(G){var y,v,r,t,p;if(G.origin===g()){return(y=JSON.parse(G.data),y.id!==h.getID())?void 0:(h._frame.contentWindow?(t=h._frame.contentWindow.getVPAIDAd,r=m.validate(typeof t=="function","the ad didn't return a function to create an ad")):r="the iframe is not anymore in the DOM tree",r||(p=h._frame.contentWindow.document.querySelector(".ad-element"),v=new C(t(),p,h._videoEl,h._frame),v.subscribe(d,q.bind(h)),r=m.validate(v.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification")),h._adUnit=v,x.call(h),a(r,r?null:v),!0)}}function e(){a("timeout",null)}k.call(this);D.call(this);var h=this,l=m.createIframeWithContent(this._frameContainer,this._templateConfig.template,m.extend({iframeURL_JS:o,iframeID:this.getID(),origin:g()},this._templateConfig.extraOptions));this._frame=l;this._onLoad=m.callbackTimeout(this._vpaidOptions.timeout,i.bind(this),e.bind(this));window.addEventListener("message",this._onLoad)};b.prototype.unloadAdUnit=function(){D.call(this)};b.prototype.getID=function(){return this._id};E.exports=b;window.VPAIDHTML5Client=b},{"./VPAIDAdUnit":10,"./utils":13}],12:[function(c,b){function a(){this._subscribers={}}a.prototype.subscribe=function(f,e,d){this.isHandlerAttached(f,e)||this.get(e).push({handler:f,context:d,eventName:e})};a.prototype.unsubscribe=function(e,d){this._subscribers[d]=this.get(d).filter(function(f){return e!==f.handler})};a.prototype.unsubscribeAll=function(){this._subscribers={}};a.prototype.trigger=function(g,e){var d=this,f=this.get(g).concat(this.get("*"));f.forEach(function(h){setTimeout(function(){d.isHandlerAttached(h.handler,h.eventName)&&h.handler.call(h.context,e)},0)})};a.prototype.triggerSync=function(f,e){var d=this.get(f).concat(this.get("*"));d.forEach(function(g){g.handler.call(g.context,e)})};a.prototype.get=function(d){return this._subscribers[d]||(this._subscribers[d]=[]),this._subscribers[d]};a.prototype.isHandlerAttached=function(e,d){return this.get(d).some(function(f){return e===f.handler})};b.exports=a},{}],13:[function(g,A){function b(){}function B(c,a){return c?null:new Error(a)}function z(c){var a=k[c];a&&(clearTimeout(a),delete k[c])}function m(l,a,c){var h,i;return i=setTimeout(function(){a=b;delete i[h];c()},l),h=function(){a.apply(this,arguments)&&z(h)},k[h]=i,h}function w(f,c,a){var e=document.createElement(c);return a&&(e.id=a),f.appendChild(e),e}function j(f,c,a){var e=p(f,null,a.zIndex);if(d(e,q(c,a))){return e}}function p(f,c,a){var e=document.createElement("iframe");return e.src=c||"about:blank",e.marginWidth="0",e.marginHeight="0",e.frameBorder="0",e.width="100%",e.height="100%",e.style.position="absolute",e.style.left="0",e.style.top="0",e.style.margin="0px",e.style.padding="0px",e.style.border="none",a&&(e.style.zIndex=a),e.setAttribute("SCROLLING","NO"),f.innerHTML="",f.appendChild(e),e}function q(c,a){return Object.keys(a).forEach(function(e){var f=typeof f=="object"?JSON.stringify(a[e]):a[e];c=c.replace(new RegExp("{{"+e+"}}","g"),f)}),c}function d(e,c){var a=e.contentWindow&&e.contentWindow.document;return a?(a.write(c),!0):!1}function x(c,a){return Object.keys(a).forEach(function(e){c[e]=a[e]}),c}function y(c){var a=-1;return function(){return c+"_"+ ++a}}var k={};A.exports={noop:b,validate:B,clearCallbackTimeout:z,callbackTimeout:m,createElementInEl:w,createIframeWithContent:j,createIframe:p,simpleTemplate:q,setIframeContent:d,extend:x,unique:y}},{}],14:[function(b,a){
/*!    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>
                    is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
                */
(function(d,c){typeof define=="function"&&define.amd?define(c):typeof a=="object"&&a.exports?a.exports=c():d.swfobject=c()})(this,function(){function Q(){var h,d,c,f;if(!au&&document.getElementsByTagName("body")[0]){try{d=al("span");d.style.display="none";h=U.getElementsByTagName("body")[0].appendChild(d);h.parentNode.removeChild(h);h=null;d=null}catch(g){return}for(au=!0,c=Y.length,f=0;f<c;f++){Y[f]()}}}function m(c){au?c():Y[Y.length]=c}function j(d){if(typeof T.addEventListener!==ah){T.addEventListener("load",d,!1)}else{if(typeof U.addEventListener!==ah){U.addEventListener("load",d,!1)}else{if(typeof T.attachEvent!==ah){an(T,"onload",d)}else{if(typeof T.onload=="function"){var c=T.onload;T.onload=function(){c();d()}}else{T.onload=d}}}}}function M(){var g=U.getElementsByTagName("body")[0],i=al(aa),d,f;i.setAttribute("style","visibility: hidden;");i.setAttribute("type",ao);d=g.appendChild(i);d?(f=0,function k(){if(typeof d.GetVariable!==ah){try{var c=d.GetVariable("$version");c&&(c=c.split(" ")[1].split(","),ab.pv=[X(c[0]),X(c[1]),X(c[2])])}catch(e){ab.pv=[8,0,0]}}else{if(f<10){f++;setTimeout(k,10);return}}g.removeChild(i);d=null;G()}()):G()}function G(){var n=V.length,ay,az,l,i,s;if(n>0){for(ay=0;ay<n;ay++){var k=V[ay].id,g=V[ay].callbackFn,c={success:!1,id:k};if(ab.pv[0]>0){if(az=ar(k),az){if(!af(V[ay].swfVersion)||ab.wk&&ab.wk<312){if(V[ay].expressInstall&&K()){l={};l.data=V[ay].expressInstall;l.width=az.getAttribute("width")||"0";l.height=az.getAttribute("height")||"0";az.getAttribute("class")&&(l.styleclass=az.getAttribute("class"));az.getAttribute("align")&&(l.align=az.getAttribute("align"));var d={},ax=az.getElementsByTagName("param"),aw=ax.length;for(i=0;i<aw;i++){ax[i].getAttribute("name").toLowerCase()!=="movie"&&(d[ax[i].getAttribute("name")]=ax[i].getAttribute("value"))}F(l,d,k,g)}else{O(az),g&&g(c)}}else{ae(k,!0),g&&(c.success=!0,c.ref=J(k),c.id=k,g(c))}}}else{ae(k,!0),g&&(s=J(k),s&&typeof s.SetVariable!==ah&&(c.success=!0,c.ref=s,c.id=s.id),g(c))}}}}function J(e){var d=null,c=ar(e);return c&&c.nodeName.toUpperCase()==="OBJECT"&&(d=typeof c.SetVariable!==ah?c:c.getElementsByTagName(aa)[0]||c),d}function K(){return !ak&&af("6.0.65")&&(ab.win||ab.mac)&&!(ab.wk&&ab.wk<312)}function F(k,n,i,g){var d=ar(i),p,c,f;i=A(i);ak=!0;ac=g||null;x={success:!1,id:i};d&&(d.nodeName.toUpperCase()==="OBJECT"?(R=Z(d),ag=null):(R=d,ag=i),k.id=W,(typeof k.width===ah||!/%$/.test(k.width)&&X(k.width)<310)&&(k.width="310"),(typeof k.height===ah||!/%$/.test(k.height)&&X(k.height)<137)&&(k.height="137"),p=ab.ie?"ActiveX":"PlugIn",c="MMredirectURL="+encodeURIComponent(T.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+p+"&MMdoctitle="+encodeURIComponent(U.title.slice(0,47)+" - Flash Player Installation"),typeof n.flashvars!==ah?n.flashvars+="&"+c:n.flashvars=c,ab.ie&&d.readyState!=4&&(f=al("div"),i+="SWFObjectNew",f.setAttribute("id",i),d.parentNode.insertBefore(f,d),d.style.display="none",at(d)),I(k,n,i))}function O(d){if(ab.ie&&d.readyState!=4){d.style.display="none";var c=al("div");d.parentNode.insertBefore(c,d);c.parentNode.replaceChild(Z(d),c);at(d)}else{d.parentNode.replaceChild(Z(d),d)}}function Z(f){var c=al("div"),k,d,g,h;if(ab.win&&ab.ie){c.innerHTML=f.innerHTML}else{if(k=f.getElementsByTagName(aa)[0],k&&(d=k.childNodes,d)){for(g=d.length,h=0;h<g;h++){d[h].nodeType==1&&d[h].nodeName==="PARAM"||d[h].nodeType==8||c.appendChild(d[h].cloneNode(!0))}}}return c}function P(e,d){var c=al("div");return c.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+e+"'>"+d+"</object>",c.firstChild}function I(o,c,n){var i,k=ar(n),g,p,d,f;if(n=A(n),ab.wk&&ab.wk<312){return i}if(k){g=ab.ie?al("div"):al(aa);typeof o.id===ah&&(o.id=n);for(f in c){c.hasOwnProperty(f)&&f.toLowerCase()!=="movie"&&L(g,f,c[f])}ab.ie&&(g=P(o.data,g.innerHTML));for(p in o){o.hasOwnProperty(p)&&(d=p.toLowerCase(),d==="styleclass"?g.setAttribute("class",o[p]):d!=="classid"&&d!=="data"&&g.setAttribute(p,o[p]))}ab.ie?aj[aj.length]=o.id:(g.setAttribute("type",ao),g.setAttribute("data",o.data));k.parentNode.replaceChild(g,k);i=g}return i}function L(f,d,c){var e=al("param");e.setAttribute("name",d);e.setAttribute("value",c);f.appendChild(e)}function at(d){var c=ar(d);c&&c.nodeName.toUpperCase()==="OBJECT"&&(ab.ie?(c.style.display="none",function e(){if(c.readyState==4){for(var f in c){typeof c[f]=="function"&&(c[f]=null)}c.parentNode.removeChild(c)}else{setTimeout(e,10)}}()):c.parentNode.removeChild(c))}function B(c){return c&&c.nodeType&&c.nodeType===1}function A(c){return B(c)?c.id:c}function ar(e){if(B(e)){return e}var c=null;try{c=U.getElementById(e)}catch(d){}return c}function al(c){return U.createElement(c)}function X(c){return parseInt(c,10)}function an(e,d,c){e.attachEvent(d,c);S[S.length]=[e,d,c]}function af(e){e+="";var c=ab.pv,d=e.split(".");return d[0]=X(d[0]),d[1]=X(d[1])||0,d[2]=X(d[2])||0,c[0]>d[0]||c[0]==d[0]&&c[1]>d[1]||c[0]==d[0]&&c[1]==d[1]&&c[2]>=d[2]?!0:!1}function C(h,f,i,k){var d=U.getElementsByTagName("head")[0],g,n;d&&(g=typeof i=="string"?i:"screen",k&&(ai=null,E=null),ai&&E==g||(n=al("style"),n.setAttribute("type","text/css"),n.setAttribute("media",g),ai=d.appendChild(n),ab.ie&&typeof U.styleSheets!==ah&&U.styleSheets.length>0&&(ai=U.styleSheets[U.styleSheets.length-1]),E=g),ai&&(typeof ai.addRule!==ah?ai.addRule(h,f):typeof U.createTextNode!==ah&&ai.appendChild(U.createTextNode(h+" {"+f+"}"))))}function ae(f,d){if(av){var c=d?"visible":"hidden",e=ar(f);au&&e?e.style.visibility=c:typeof f=="string"&&C("#"+f,"visibility:"+c)}}function z(d){var c=/[\\\"<>\.;]/.exec(d)!==null;return c&&typeof encodeURIComponent!==ah?encodeURIComponent(d):d}var ah="undefined",aa="object",ap="Shockwave Flash",N="ShockwaveFlash.ShockwaveFlash",ao="application/x-shockwave-flash",W="SWFObjectExprInst",ad="onreadystatechange",T=window,U=document,am=navigator,q=!1,Y=[],V=[],aj=[],S=[],R,ag,ac,x,au=!1,ak=!1,ai,E,av=!0,H=!1,ab=function(){var t=typeof U.getElementById!==ah&&typeof U.getElementsByTagName!==ah&&typeof U.createElement!==ah,ax=am.userAgent.toLowerCase(),i=am.platform.toLowerCase(),aw=i?/win/.test(i):/win/.test(ax),r=i?/mac/.test(i):/mac/.test(ax),d=/webkit/.test(ax)?parseFloat(ax.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,o=am.appName==="Microsoft Internet Explorer",k=[0,0,0],e=null,g;if(typeof am.plugins!==ah&&typeof am.plugins[ap]===aa){e=am.plugins[ap].description,e&&typeof am.mimeTypes!==ah&&am.mimeTypes[ao]&&am.mimeTypes[ao].enabledPlugin&&(q=!0,o=!1,e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),k[0]=X(e.replace(/^(.*)\..*$/,"$1")),k[1]=X(e.replace(/^.*\.(.*)\s.*$/,"$1")),k[2]=/[a-zA-Z]/.test(e)?X(e.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0)}else{if(typeof T.ActiveXObject!==ah){try{g=new ActiveXObject(N);g&&(e=g.GetVariable("$version"),e&&(o=!0,e=e.split(" ")[1].split(","),k=[X(e[0]),X(e[1]),X(e[2])]))}catch(u){}}}return{w3:t,pv:k,wk:d,ie:o,win:aw,mac:r}}(),aq=function(){ab.w3&&((typeof U.readyState!==ah&&(U.readyState==="complete"||U.readyState==="interactive")||typeof U.readyState===ah&&(U.getElementsByTagName("body")[0]||U.body))&&Q(),au||(typeof U.addEventListener!==ah&&U.addEventListener("DOMContentLoaded",Q,!1),ab.ie&&(U.attachEvent(ad,function c(){U.readyState==="complete"&&(U.detachEvent(ad,c),Q())}),T==top&&function d(){if(!au){try{U.documentElement.doScroll("left")}catch(e){setTimeout(d,0);return}Q()}}()),ab.wk&&function g(){if(!au){if(!/loaded|complete/.test(U.readyState)){setTimeout(g,0);return}Q()}}()))}(),D;return Y[0]=function(){q?M():G()},D=function(){ab.ie&&window.attachEvent("onunload",function(){for(var h,g,c,k,l=S.length,d=0;d<l;d++){S[d][0].detachEvent(S[d][1],S[d][2])}for(h=aj.length,g=0;g<h;g++){at(aj[g])}for(c in ab){ab[c]=null}ab=null;for(k in swfobject){swfobject[k]=null}swfobject=null})}(),{registerObject:function(e,d,g,c){if(ab.w3&&e&&d){var h={};h.id=e;h.swfVersion=d;h.expressInstall=g;h.callbackFn=c;V[V.length]=h;ae(e,!1)}else{c&&c({success:!1,id:e})}},getObjectById:function(c){if(ab.w3){return J(c)}},embedSWF:function(ay,d,ax,k,l,az,i,n,w,aw){var o=A(d),g={success:!1,id:o};ab.w3&&!(ab.wk&&ab.wk<312)&&ay&&d&&ax&&k&&l?(ae(o,!1),m(function(){var t,s,e,r,c,f,p,h;if(ax+="",k+="",t={},w&&typeof w===aa){for(s in w){t[s]=w[s]}}if(t.data=ay,t.width=ax,t.height=k,e={},n&&typeof n===aa){for(r in n){e[r]=n[r]}}if(i&&typeof i===aa){for(c in i){i.hasOwnProperty(c)&&(f=H?encodeURIComponent(c):c,p=H?encodeURIComponent(i[c]):i[c],typeof e.flashvars!==ah?e.flashvars+="&"+f+"="+p:e.flashvars=f+"="+p)}}if(af(l)){h=I(t,e,d),t.id==o&&ae(o,!0),g.success=!0,g.ref=h,g.id=h.id}else{if(az&&K()){t.data=az;F(t,e,d,aw);return}ae(o,!0)}aw&&aw(g)})):aw&&aw(g)},switchOffAutoHideShow:function(){av=!1},enableUriEncoding:function(c){H=typeof c===ah?!0:c},ua:ab,getFlashPlayerVersion:function(){return{major:ab.pv[0],minor:ab.pv[1],release:ab.pv[2]}},hasFlashPlayerVersion:af,createSWF:function(d,c,e){return ab.w3?I(d,c,e):undefined},showExpressInstall:function(e,d,f,c){ab.w3&&K()&&F(e,d,f,c)},removeSWF:function(c){ab.w3&&at(c)},createCSS:function(e,d,f,c){ab.w3&&C(e,d,f,c)},addDomLoadEvent:m,addLoadEvent:j,getQueryParamValue:function(f){var e=U.location.search||U.location.hash,c,d;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),!f){return z(e)}for(c=e.split("&"),d=0;d<c.length;d++){if(c[d].substring(0,c[d].indexOf("="))==f){return z(c[d].substring(c[d].indexOf("=")+1))}}}return""},expressInstallCallback:function(){if(ak){var c=ar(W);c&&R&&(c.parentNode.replaceChild(R,c),ag&&(ae(ag,!0),ab.ie&&(R.style.display="block")),ac&&ac(x));ak=!1}},version:"2.3"}})},{}],15:[function(e,c){function b(f){if(!(this instanceof b)){return new b(f)}this.initialize(f)}var d=e("./InLine"),a=e("./Wrapper");b.prototype.initialize=function(f){this.id=f.attr("id");this.sequence=f.attr("sequence");f.inLine&&(this.inLine=new d(f.inLine));f.wrapper&&(this.wrapper=new a(f.wrapper))};c.exports=b},{"./InLine":18,"./Wrapper":28}],16:[function(j,c){function a(k){function f(m){var l=[];return g.isDefined(m)&&(m=g.isArray(m)?m:[m],m.forEach(function(o){l.push(new h(o))})),l}var e,i;if(!(this instanceof a)){return new a(k)}d.info("<Companion> found companion ad");d.debug("<Companion>  companionJTree:",k);this.creativeType=b.attr(k.staticResource,"creativeType");this.staticResource=b.keyValue(k.staticResource);d.info("<Companion>  creativeType: "+this.creativeType);d.info("<Companion>  staticResource: "+this.staticResource);e=null;b.keyValue(k.HTMLResource)?e=b.keyValue(k.HTMLResource):b.keyValue(k.hTMLResource)&&(e=b.keyValue(k.hTMLResource));e!==null&&d.info("<Companion> found html resource",e);this.htmlResource=e;i=null;b.keyValue(k.IFrameResource)?i=b.keyValue(k.IFrameResource):b.keyValue(k.iFrameresource)&&(i=b.keyValue(k.iFrameresource));i!==null&&d.info("<Companion> found iframe resource",i);this.iframeResource=i;this.id=b.attr(k,"id");this.width=b.attr(k,"width");this.height=b.attr(k,"height");this.expandedWidth=b.attr(k,"expandedWidth");this.expandedHeight=b.attr(k,"expandedHeight");this.scalable=b.attr(k,"scalable");this.maintainAspectRatio=b.attr(k,"maintainAspectRatio");this.minSuggestedDuration=b.attr(k,"minSuggestedDuration");this.apiFramework=b.attr(k,"apiFramework");this.companionClickThrough=b.keyValue(k.companionClickThrough);this.trackingEvents=f(k.trackingEvents&&k.trackingEvents.tracking);d.info("<Companion>  companionClickThrough: "+this.companionClickThrough)}var h=j("./TrackingEvent"),g=j("../../utils/utilityFunctions"),b=j("../../utils/xml"),d=j("../../utils/consoleLogger");c.exports=a},{"../../utils/consoleLogger":41,"../../utils/utilityFunctions":47,"../../utils/xml":48,"./TrackingEvent":21}],17:[function(g,c){function b(i){if(!(this instanceof b)){return new b(i)}if(this.id=i.attr("id"),this.sequence=i.attr("sequence"),this.adId=i.attr("adId"),this.apiFramework=i.attr("apiFramework"),i.linear&&(this.linear=new a(i.linear)),i.companionAds){var h=[],f=i.companionAds&&i.companionAds.companion;d.isDefined(f)&&(f=d.isArray(f)?f:[f],f.forEach(function(j){h.push(new e(j))}));this.companionAds=h}}var a=g("./Linear"),e=g("./Companion"),d=g("../../utils/utilityFunctions");b.prototype.isSupported=function(){return this.linear?this.linear.isSupported():!0};b.parseCreatives=function(i){var h=[],f;return d.isDefined(i)&&d.isDefined(i.creative)&&(f=d.isArray(i.creative)?i.creative:[i.creative],f.forEach(function(j){h.push(new b(j))})),h};c.exports=b},{"../../utils/utilityFunctions":47,"./Companion":16,"./Linear":19}],18:[function(j,c){function d(f){function e(i){return i?a.transformArray(a.isArray(i)?i:[i],function(k){return a.isNotEmptyString(k.keyValue)?{uri:k.keyValue,type:k.attr("type")}:undefined}):[]}if(!(this instanceof d)){return new d(f)}this.adTitle=b.keyValue(f.adTitle);this.adSystem=b.keyValue(f.adSystem);this.impressions=g.parseImpressions(f.impression);this.creatives=h.parseCreatives(f.creatives);this.description=b.keyValue(f.description);this.advertiser=b.keyValue(f.advertiser);this.surveys=e(f.survey);this.error=b.keyValue(f.error);this.pricing=b.keyValue(f.pricing);this.extensions=f.extensions}var g=j("./vastUtil"),h=j("./Creative"),a=j("../../utils/utilityFunctions"),b=j("../../utils/xml");d.prototype.isSupported=function(){var f,e;if(this.creatives.length===0){return !1}for(f=0,e=this.creatives.length;f<e;f+=1){if(!this.creatives[f].isSupported()){return !1}}return !0};c.exports=d},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Creative":17,"./vastUtil":30}],19:[function(c,k){function a(i){function e(p,o){var m=[];return j.isDefined(p)&&(p=j.isArray(p)?p:[p],p.forEach(function(q){m.push(new h(q,o))})),m}function f(o){var m=[];return j.isDefined(o)&&(o=j.isArray(o)?o:[o],o.forEach(function(p){m.push(new b(p))})),m}if(!(this instanceof a)){return new a(i)}this.duration=g.duration(d.keyValue(i.duration));this.mediaFiles=f(i.mediaFiles&&i.mediaFiles.mediaFile);this.trackingEvents=e(i.trackingEvents&&i.trackingEvents.tracking,this.duration);this.skipoffset=g.offset(d.attr(i,"skipoffset"),this.duration);i.videoClicks&&(this.videoClicks=new l(i.videoClicks));i.adParameters&&(this.adParameters=d.keyValue(i.adParameters),d.attr(i.adParameters,"xmlEncoded")&&(this.adParameters=d.decode(this.adParameters)))}var h=c("./TrackingEvent"),b=c("./MediaFile"),l=c("./VideoClicks"),j=c("../../utils/utilityFunctions"),g=c("./parsers"),d=c("../../utils/xml");a.prototype.isSupported=function(){for(var f=0,e=this.mediaFiles.length;f<e;f+=1){if(this.mediaFiles[f].isSupported()){return !0}}return !1};k.exports=a},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./MediaFile":20,"./TrackingEvent":21,"./VideoClicks":27,"./parsers":29}],20:[function(g,c){function b(i){var f,h;if(!(this instanceof b)){return new b(i)}for(this.src=e.keyValue(i),f=0;f<a.length;f++){h=a[f],this[h]=i.attr(h)}}var e=g("../../utils/xml"),d=g("./vastUtil"),a=["delivery","type","width","height","codec","id","bitrate","minBitrate","maxBitrate","scalable","maintainAspectRatio","apiFramework"];b.prototype.isSupported=function(){return d.isVPAID(this)?!!d.findSupportedVPAIDTech(this.type):this.type==="video/x-flv"?d.isFlashSupported():!0};c.exports=b},{"../../utils/xml":48,"./vastUtil":30}],21:[function(e,c){function b(g,f){if(!(this instanceof b)){return new b(g,f)}this.name=g.attr("event");this.uri=a.keyValue(g);"progress"===this.name&&(this.offset=d.offset(g.attr("offset"),f))}var d=e("./parsers"),a=e("../../utils/xml");c.exports=b},{"../../utils/xml":48,"./parsers":29}],22:[function(d,w){function v(c){if(!(this instanceof v)){return new v(c)}c=c||{};this.settings=a.extend({},c,{WRAPPER_LIMIT:5});this.errorURLMacros=[]}var x=d("./Ad"),j=d("./VASTError"),k=d("./VASTResponse"),q=d("./vastUtil"),m=d("../../utils/async"),g=d("../../utils/http").http,a=d("../../utils/utilityFunctions"),p=d("../../utils/xml"),b=d("../../utils/consoleLogger");v.prototype.getVASTResponse=function(r,f){function i(u,o){try{var e=h._buildVASTResponse(u);o(null,e)}catch(s){o(s)}}function l(o,e){return o?a.isFunction(e)?void 0:new j("on VASTClient.getVASTResponse, missing callback function"):new j("on VASTClient.getVASTResponse, missing ad tag URL")}var h=this,c=l(r,f);if(c){if(a.isFunction(f)){return f(c)}throw c}m.waterfall([this._getVASTAd.bind(this,r),i],f)};v.prototype._getVASTAd=function(f,C){function i(l,h){var c=B._requestVASTXml.bind(B,l);m.waterfall([c,z],h)}function z(y,h){var c;try{c=p.toJXONTree(y);b.debug("built JXONTree from VAST response:",c);c.ads=a.isArray(c.ad)?c.ad:c.ad?[c.ad]:[];h(r(c),c)}catch(l){h(new j("on VASTClient.getVASTAd.buildVastWaterfall, error parsing xml",100),null)}}function r(h){var c=p.attr(h,"version");return h.ad?c&&c!=3&&c!=2?new j('on VASTClient.getVASTAd.validateVASTTree, not supported VAST version "'+c+'"',102):null:new j("on VASTClient.getVASTAd.validateVASTTree, no Ad in VAST tree",303)}function o(l,c,h){if(c.length>=B.WRAPPER_LIMIT){return h(new j("on VASTClient.getVASTAd.getAd, players wrapper limit reached (the limit is "+B.WRAPPER_LIMIT+")",302),c)}m.waterfall([function(n){a.isString(l)?e(l,n):n(null,l)},A],function(u,t){return(t&&c.push(t),u)?h(u,c):t.wrapper?o(t.wrapper.VASTAdTagURI,c,h):h(null,c)})}function A(y,h){try{var l=new x(y);h(s(l),l)}catch(c){h(new j("on VASTClient.getVASTAd.buildAd, error parsing xml",100),null)}}function s(y){var h=y.wrapper,l=y.inLine,c="on VASTClient.getVASTAd.validateAd, ";return l&&h?new j(c+"InLine and Wrapper both found on the same Ad",101):!l&&!h?new j(c+"nor wrapper nor inline elements found on the Ad",101):l&&!l.isSupported()?new j(c+"could not find MediaFile that is supported by this video player",403):h&&!h.VASTAdTagURI?new j(c+"missing 'VASTAdTagURI' in wrapper",101):null}function e(h,c){B._requestVASTXml(h,function(D,t){if(D){return c(D)}try{var l=p.toJXONTree(t);c(r(l),l.ad)}catch(y){c(new j("on VASTClient.getVASTAd.requestVASTAd, error parsing xml",100))}})}var B=this;i(f,function(t,c){function l(y,u){y?(B._trackError(y,u),h.length>0?o(h.shift(),[],l):C(y,u)):C(null,u)}var h=c&&a.isArray(c.ads)?c.ads:null;if(t){return B._trackError(t,h),C(t,h)}o(h.shift(),[],l)})};v.prototype._requestVASTXml=function(i,e){function c(s,l,o){if(s){var r=a.isDefined(o)?"on VASTClient.requestVastXML, HTTP request error with status '"+o+"'":"on VASTClient.requestVastXML, Error getting the the VAST XML with he passed adTagXML fn";return e(new j(r,301),null)}e(null,l)}try{a.isFunction(i)?i(c):(b.info("requesting adTagUrl: "+i),g.get(i,c,{withCredentials:!0}))}catch(h){e(h)}};v.prototype._buildVASTResponse=function(i){function c(l,f){f.forEach(function(n){l.addAd(n)})}function h(l){var f=l.trackingEvents.progress;if(!l.hasLinear()){throw new j("on VASTClient._buildVASTResponse, Received an Ad type that is not supported",200)}if(l.duration===undefined){throw new j("on VASTClient._buildVASTResponse, Missing duration field in VAST response",101)}f&&f.forEach(function(o){if(!a.isNumber(o.offset)){throw new j("on VASTClient._buildVASTResponse, missing or wrong offset attribute on progress tracking event",101)}})}var e=new k;return c(e,i),h(e),e};v.prototype._trackError=function(h,f){function c(i){i.wrapper&&i.wrapper.error&&e.push(i.wrapper.error);i.inLine&&i.inLine.error&&e.push(i.inLine.error)}if(a.isArray(f)&&f.length!==0){var e=[];f.forEach(c);q.track(e,{ERRORCODE:h.code||900})}};w.exports=v},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/http":43,"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Ad":15,"./VASTError":23,"./VASTResponse":25,"./vastUtil":30}],23:[function(c,b){function a(e,d){this.message="VAST Error: "+(e||"");d&&(this.code=d)}a.prototype=new Error;a.prototype.name="VAST Error";b.exports=a},{}],24:[function(d,w){function j(c){if(!(this instanceof j)){return new j(c)}this.player=c}var k=d("./VASTResponse"),p=d("./VASTError"),q=d("./VASTTracker"),b=d("./vastUtil"),g=d("../../utils/async"),a=d("../../utils/dom"),v=d("../../utils/playerUtils"),x=d("../../utils/utilityFunctions"),m=d("../../utils/consoleLogger");j.prototype.playAd=function(f,e){var c=this;return(e=e||x.noop,!(f instanceof k))?e(new p("On VASTIntegrator, missing required VASTResponse")):(g.waterfall([function(h){h(null,f)},this._selectAdSource.bind(this),this._createVASTTracker.bind(this),this._addClickThrough.bind(this),this._addSkipButton.bind(this),this._setupEvents.bind(this),this._playSelectedAd.bind(this)],function(i,h){i&&h&&c._trackError(i,h);e(i,h)}),this._adUnit={_src:null,type:"VAST",pauseAd:function(){c.player.pause(!0)},resumeAd:function(){c.player.play(!0)},isPaused:function(){return c.player.paused(!0)},getSrc:function(){return this._src}},this._adUnit)};j.prototype._selectAdSource=function(h,f){var e,c=a.getDimension(this.player.el()).width;if(h.mediaFiles.sort(function(u,o){var l=Math.abs(c-u.width),s=Math.abs(c-o.width);return l-s}),e=this.player.selectSource(h.mediaFiles).source,e){return m.info("selected source: ",e),this._adUnit&&(this._adUnit._src=e),f(null,e,h)}f(new p("Could not find Ad mediafile supported by this player",403),h)};j.prototype._createVASTTracker=function(h,e,c){try{c(null,h,new q(h.src,e),e)}catch(f){c(f,e)}};j.prototype._setupEvents=function(z,H,B,u){function G(){D.off("fullscreenchange",E);D.off("vast.adStart",C);D.off("pause",y);D.off("timeupdate",I);D.off("volumechange",F)}function E(){D.isFullscreen()?H.trackFullscreen():H.trackExitFullscreen()}function y(){if(!(Math.abs(D.duration()-D.currentTime())<2)){H.trackPause();v.once(D,["play","vast.adEnd","vast.adsCancel"],function(c){c.type==="play"&&H.trackResume()})}}function I(){var c=D.currentTime()*1000;H.trackProgress(c)}function C(){H.trackImpressions();H.trackCreativeView()}function F(){var c=D.muted();c?H.trackMute():A&&H.trackUnmute();A=c}var A,D=this.player;D.on("fullscreenchange",E);D.on("vast.adStart",C);D.on("pause",y);D.on("timeupdate",I);D.on("volumechange",F);v.once(D,["vast.adEnd","vast.adsCancel"],G);v.once(D,["vast.adEnd","vast.adsCancel","vast.adSkip"],function(c){c.type==="vast.adEnd"&&H.trackComplete()});return u(null,z,B)};j.prototype._addSkipButton=function(s,D,y,A){function r(E,h){function o(){E.off("timeupdate",l);a.remove(c)}var c=z(E),l=C.bind(u,c,h,E);E.el().appendChild(c);E.on("timeupdate",l);v.once(E,["vast.adEnd","vast.adsCancel"],o)}function z(e){var c=window.document.createElement("div");return a.addClass(c,"vast-skip-button"),c.onclick=function(f){if(a.hasClass(c,"enabled")&&(D.trackSkip(),e.trigger("vast.adSkip")),window.Event.prototype.stopPropagation!==undefined){f.stopPropagation()}else{return !1}},c}function C(h,f,e){var c=Math.ceil(f-e.currentTime());c>0?h.innerHTML="Skip in "+x.toFixedDigits(c,2)+"...":a.hasClass(h,"enabled")||(a.addClass(h,"enabled"),h.innerHTML="Skip ad")}var B,u=this;B=5;r(this.player,B);A(null,s,D,y)};j.prototype._addClickThrough=function(o,F,s,z){function D(y,h,e){var c=window.document.createElement("a"),l=e.clickThrough;return a.addClass(c,"vast-blocker"),c.href=B(l,y),x.isString(l)&&(c.target="_blank"),c.onclick=function(f){if(y.paused()){return y.play(),window.Event.prototype.stopPropagation!==undefined&&f.stopPropagation(),!1}y.pause();h.trackClick()},c}function E(f,e,c){f.href=B(e.clickThrough,c)}function B(e,c){var f={ASSETURI:o.src,CONTENTPLAYHEAD:b.formatProgress(c.currentTime()*1000)};return e?b.parseURLMacro(e,f):"#"}function C(){A.off("timeupdate",r);a.remove(u)}var A=this.player,u=D(A,F,s),r=E.bind(this,u,s,A);A.el().insertBefore(u,A.controlBar.el());A.on("timeupdate",r);v.once(A,["vast.adEnd","vast.adsCancel"],C);return z(null,o,F,s)};j.prototype._playSelectedAd=function(l,e,c){function h(){v.once(f,["playing","vast.adsCancel"],function(o){function i(r){r.type==="ended"&&f.duration()-f.currentTime()>3||(f.off("ended",i),f.off("vast.adsCancel",i),f.off("vast.adSkip",i),(r.type==="ended"||r.type==="vast.adSkip")&&c(null,e))}if(o.type!=="vast.adsCancel"){m.debug("<VASTIntegrator._playSelectedAd/playAd> got playing event; triggering vast.adStart...");f.trigger("vast.adStart");f.on("ended",i);f.on("vast.adsCancel",i);f.on("vast.adSkip",i)}});m.debug("<VASTIntegrator._playSelectedAd/playAd> calling player.play()...");f.play()}var f=this.player;f.preload("auto");f.src(l);m.debug("<VASTIntegrator._playSelectedAd> waiting for durationchange to play the ad...");v.once(f,["durationchange","error","vast.adsCancel"],function(i){i.type==="durationchange"?(m.debug("<VASTIntegrator._playSelectedAd> got durationchange; calling playAd()"),h()):i.type==="error"&&c(new p("on VASTIntegrator, Player is unable to play the Ad",400),e)})};j.prototype._trackError=function(e,c){b.track(c.errorURLMacros,{ERRORCODE:e.code||900})};w.exports=j},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/playerUtils":45,"../../utils/utilityFunctions":47,"./VASTError":23,"./VASTResponse":25,"./VASTTracker":26,"./vastUtil":30}],25:[function(d,q){function g(){if(!(this instanceof g)){return new g}this._linearAdded=!1;this.ads=[];this.errorURLMacros=[];this.impressions=[];this.clickTrackings=[];this.customClicks=[];this.trackingEvents={};this.mediaFiles=[];this.clickThrough=undefined;this.adTitle="";this.duration=undefined;this.skipoffset=undefined}function p(e,c){c.forEach(function(f){e.push(f)})}var b=d("./Ad"),v=d("./VideoClicks"),j=d("./Linear"),k=d("./InLine"),m=d("./Wrapper"),a=d("../../utils/utilityFunctions"),l=d("../../utils/xml");window.InLine__A=k;g.prototype.addAd=function(f){var e,c;f instanceof b&&(e=f.inLine,c=f.wrapper,this.ads.push(f),e&&this._addInLine(e),c&&this._addWrapper(c))};g.prototype._addErrorTrackUrl=function(e){var c=e instanceof l.JXONTree?l.keyValue(e):e;c&&this.errorURLMacros.push(c)};g.prototype._addImpressions=function(c){a.isArray(c)&&p(this.impressions,c)};g.prototype._addClickThrough=function(c){a.isNotEmptyString(c)&&(this.clickThrough=c)};g.prototype._addClickTrackings=function(c){a.isArray(c)&&p(this.clickTrackings,c)};g.prototype._addCustomClicks=function(c){a.isArray(c)&&p(this.customClicks,c)};g.prototype._addTrackingEvents=function(e){var c=this.trackingEvents;e&&(e=a.isArray(e)?e:[e],e.forEach(function(f){c[f.name]||(c[f.name]=[]);c[f.name].push(f)}))};g.prototype._addTitle=function(c){a.isNotEmptyString(c)&&(this.adTitle=c)};g.prototype._addDuration=function(c){a.isNumber(c)&&(this.duration=c)};g.prototype._addVideoClicks=function(c){c instanceof v&&(this._addClickThrough(c.clickThrough),this._addClickTrackings(c.clickTrackings),this._addCustomClicks(c.customClicks))};g.prototype._addMediaFiles=function(c){a.isArray(c)&&p(this.mediaFiles,c)};g.prototype._addSkipoffset=function(c){c&&(this.skipoffset=c)};g.prototype._addAdParameters=function(c){c&&(this.adParameters=c)};g.prototype._addLinear=function(c){c instanceof j&&(this._addDuration(c.duration),this._addTrackingEvents(c.trackingEvents),this._addVideoClicks(c.videoClicks),this._addMediaFiles(c.mediaFiles),this._addSkipoffset(c.skipoffset),this._addAdParameters(c.adParameters),this._linearAdded=!0)};g.prototype._addInLine=function(e){var c=this;e instanceof k&&(this._addTitle(e.adTitle),this._addErrorTrackUrl(e.error),this._addImpressions(e.impressions),e.creatives.forEach(function(f){f.linear&&c._addLinear(f.linear)}))};g.prototype._addWrapper=function(e){var c=this;e instanceof m&&(this._addErrorTrackUrl(e.error),this._addImpressions(e.impressions),e.creatives.forEach(function(h){var f=h.linear;f&&(c._addVideoClicks(f.videoClicks),c.clickThrough=undefined,c._addTrackingEvents(f.trackingEvents))}))};g.prototype.hasLinear=function(){return this._linearAdded};q.exports=g},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Ad":15,"./InLine":18,"./Linear":19,"./VideoClicks":27,"./Wrapper":28}],26:[function(j,c){function b(f,e){if(!(this instanceof b)){return new b(f,e)}this.sanityCheck(f,e);this.initialize(f,e)}var a=j("./VASTError"),h=j("./VASTResponse"),g=j("./vastUtil"),d=j("../../utils/utilityFunctions");b.prototype.initialize=function(f,e){this.response=e;this.assetURI=f;this.progress=0;this.quartiles={firstQuartile:{tracked:!1,time:Math.round(25*e.duration)/100},midpoint:{tracked:!1,time:Math.round(50*e.duration)/100},thirdQuartile:{tracked:!1,time:Math.round(75*e.duration)/100}}};b.prototype.sanityCheck=function(f,e){if(!d.isString(f)||d.isEmptyString(f)){throw new a("on VASTTracker constructor, missing required the URI of the ad asset being played")}if(!(e instanceof h)){throw new a("on VASTTracker constructor, missing required VAST response")}};b.prototype.trackURLs=function(f,e){d.isArray(f)&&f.length>0&&(e=d.extend({ASSETURI:this.assetURI,CONTENTPLAYHEAD:g.formatProgress(this.progress)},e||{}),g.track(f,e))};b.prototype.trackEvent=function(k,f){function e(l){var i;return l&&(i=[],l.forEach(function(m){i.push(m.uri)})),i}this.trackURLs(e(this.response.trackingEvents[k]));f&&(this.response.trackingEvents[k]=undefined)};b.prototype.trackProgress=function(m){function k(f,e){return f>m&&Math.abs(e-f)>3000}function y(i,e,f){q[i]&&f&&v.push({name:i,trackOnce:!!e})}function A(C){function e(s,o){var f=t[s];r(f,o)&&(f.tracked=!0,y(s,w,!0))}var t=z.quartiles,u=z.quartiles.firstQuartile,B=z.quartiles.midpoint,l=z.quartiles.thirdQuartile;u.tracked?B.tracked?l.tracked||e("thirdQuartile",C):e("midpoint",C):e("firstQuartile",C)}function r(l,f){var e=l.time;return f>=e&&f<=e+5000}function x(f){if(d.isArray(q.progress)){var e=[];q.progress.forEach(function(l){l.offset<=f?z.trackURLs([l.uri]):e.push(l)});q.progress=e}}function p(){v.forEach(function(e){z.trackEvent(e.name,e.trackOnce)})}var z=this,v=[],w=!0,q=this.response.trackingEvents;d.isNumber(m)&&(y("start",w,m>0),y("rewind",!1,k(this.progress,m)),A(m),x(m),p(),this.progress=m)};["rewind","fullscreen","exitFullscreen","pause","resume","mute","unmute","acceptInvitation","acceptInvitationLinear","collapse","expand"].forEach(function(e){b.prototype["track"+d.capitalize(e)]=function(){this.trackEvent(e)}});["start","skip","close","closeLinear"].forEach(function(e){b.prototype["track"+d.capitalize(e)]=function(){this.trackEvent(e,!0)}});["firstQuartile","midpoint","thirdQuartile"].forEach(function(e){b.prototype["track"+d.capitalize(e)]=function(){this.quartiles[e].tracked=!0;this.trackEvent(e,!0)}});b.prototype.trackComplete=function(){this.quartiles.thirdQuartile.tracked&&this.trackEvent("complete",!0)};b.prototype.trackErrorWithCode=function(e){d.isNumber(e)&&this.trackURLs(this.response.errorURLMacros,{ERRORCODE:e})};b.prototype.trackImpressions=function(){this.trackURLs(this.response.impressions)};b.prototype.trackCreativeView=function(){this.trackEvent("creativeView")};b.prototype.trackClick=function(){this.trackURLs(this.response.clickTrackings)};c.exports=b},{"../../utils/utilityFunctions":47,"./VASTError":23,"./VASTResponse":25,"./vastUtil":30}],27:[function(e,c){function b(g){function f(i){var h=[];return i&&(i=a.isArray(i)?i:[i],i.forEach(function(j){h.push(d.keyValue(j))})),h}if(!(this instanceof b)){return new b(g)}this.clickThrough=d.keyValue(g.clickThrough);this.clickTrackings=f(g.clickTracking);this.customClicks=f(g.customClick)}var a=e("../../utils/utilityFunctions"),d=e("../../utils/xml");c.exports=b},{"../../utils/utilityFunctions":47,"../../utils/xml":48}],28:[function(j,c){function d(e){if(!(this instanceof d)){return new d(e)}this.adSystem=b.keyValue(e.adSystem);this.impressions=a.parseImpressions(e.impression);this.VASTAdTagURI=b.keyValue(e.vASTAdTagURI);this.creatives=g.parseCreatives(e.creatives);this.error=b.keyValue(e.error);this.extensions=e.extensions;this.followAdditionalWrappers=h.isDefined(b.attr(e,"followAdditionalWrappers"))?b.attr(e,"followAdditionalWrappers"):!0;this.allowMultipleAds=b.attr(e,"allowMultipleAds");this.fallbackOnNoAd=b.attr(e,"fallbackOnNoAd")}var a=j("./vastUtil"),g=j("./Creative"),h=j("../../utils/utilityFunctions"),b=j("../../utils/xml");c.exports=d},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Creative":17,"./vastUtil":30}],29:[function(e,c){var d=e("../../utils/utilityFunctions"),a=/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/,b={duration:function(m){function j(f){return parseInt(f,10)*3600000}function k(f){return parseInt(f,10)*60000}function l(f){return parseInt(f,10)*1000}var h,g;return d.isString(m)&&(h=m.match(a),h&&(g=j(h[1])+k(h[2])+l(h[3])+parseInt(h[5]||0))),isNaN(g)?null:g},offset:function(k,h){function i(f){return/^\d+(\.\d+)?%$/g.test(f)}function g(l,f){return f?j(f,parseFloat(l.replace("%",""))):null}function j(l,f){return l*f/100}return i(k)?g(k,h):b.duration(k)}};c.exports=b},{"../../utils/utilityFunctions":47}],30:[function(j,c){var b=j("../../utils/utilityFunctions"),g=j("../vpaid/VPAIDHTML5Tech"),h=j("../vpaid/VPAIDFlashTech"),a=j("VPAIDFLASHClient/js/VPAIDFLASHClient"),d={track:function(l,k){var e=d.parseURLMacros(l,k),f=[];return e.forEach(function(m){var i=new Image;i.src=m;f.push(i)}),f},parseURLMacros:function(k,f){var e=[];return f=f||{},f.CACHEBUSTING||(f.CACHEBUSTING=Math.round(Math.random()*10000000000)),k.forEach(function(i){e.push(d._parseURLMacro(i,f))}),e},parseURLMacro:function(f,e){return e=e||{},e.CACHEBUSTING||(e.CACHEBUSTING=Math.round(Math.random()*10000000000)),d._parseURLMacro(f,e)},_parseURLMacro:function(f,e){return e=e||{},b.forEach(e,function(l,k){f=f.replace(new RegExp("\\["+k+"\\]","gm"),l)}),f},parseDuration:function(p){function i(e){return parseInt(e,10)*3600000}function m(e){return parseInt(e,10)*60000}function o(e){return parseInt(e,10)*1000}var k,l;return b.isString(p)&&(k=p.match(/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/),k&&(l=i(k[1])+m(k[2])+o(k[3])+parseInt(k[5]||0))),isNaN(l)?null:l},parseImpressions:function(e){return e?(e=b.isArray(e)?e:[e],b.transformArray(e,function(f){return b.isNotEmptyString(f.keyValue)?f.keyValue:undefined})):[]},formatProgress:function(m){var i,k,e,l;return i=m/3600000,i=Math.floor(i),k=m/60000%60,k=Math.floor(k),e=m/1000%60,e=Math.floor(e),l=m%1000,b.toFixedDigits(i,2)+":"+b.toFixedDigits(k,2)+":"+b.toFixedDigits(e,2)+"."+b.toFixedDigits(l,3)},parseOffset:function(o,l){function k(f){return/^\d+(\.\d+)?%$/g.test(f)}function e(i,f){return f?m(f,parseFloat(i.replace("%",""))):null}function m(i,f){return i*f/100}return k(o)?e(o,l):d.parseDuration(o)},VPAID_techs:[h,g],isVPAID:function(e){return !!e&&e.apiFramework==="VPAID"},findSupportedVPAIDTech:function(l){for(var f,e=0,k=this.VPAID_techs.length;e<k;e+=1){if(f=this.VPAID_techs[e],f.supports(l)){return f}}return null},isFlashSupported:function(){return a.isSupported()},runFlashSupportCheck:function(e){a.runFlashTest({data:e})}};c.exports=d},{"../../utils/utilityFunctions":47,"../vpaid/VPAIDFlashTech":32,"../vpaid/VPAIDHTML5Tech":33,"VPAIDFLASHClient/js/VPAIDFLASHClient":3}],31:[function(e,c){function b(i,g){function h(j,f){if(!j||!b.checkVPAIDInterface(j)){throw new a("on VPAIDAdUnitWrapper, the passed VPAID adUnit does not fully implement the VPAID interface")}if(!d.isObject(f)){throw new a("on VPAIDAdUnitWrapper, expected options hash  but got '"+f+"'")}if(!("responseTimeout" in f)||!d.isNumber(f.responseTimeout)){throw new a("on VPAIDAdUnitWrapper, expected responseTimeout in options")}}if(!(this instanceof b)){return new b(i,g)}h(i,g);this.options=d.extend({},g);this._adUnit=i}var a=e("../vast/VASTError"),d=e("../../utils/utilityFunctions");b.checkVPAIDInterface=function(m){function g(f){return d.isFunction(f.subscribe)||d.isFunction(f.addEventListener)||d.isFunction(f.on)}function k(f){return d.isFunction(f.unsubscribe)||d.isFunction(f.removeEventListener)||d.isFunction(f.off)}for(var j=["handshakeVersion","initAd","startAd","stopAd","resizeAd","pauseAd","expandAd","collapseAd"],h=0,l=j.length;h<l;h++){if(!m||!d.isFunction(m[j[h]])){return !1}}return g(m)&&k(m)};b.prototype.adUnitAsyncCall=function(){function k(p,o,f){if(!d.isString(p)||!d.isFunction(f[p])){throw new a("on VPAIDAdUnitWrapper.adUnitAsyncCall, invalid method name")}if(!d.isFunction(o)){throw new a("on VPAIDAdUnitWrapper.adUnitAsyncCall, missing callback")}}function l(){return function(){g&&clearTimeout(g);h.apply(this,arguments)}}var m=d.arrayLikeObjToArray(arguments),j=m.shift(),h=m.pop(),g;k(j,h,this._adUnit);m.push(l());this._adUnit[j].apply(this._adUnit,m);g=setTimeout(function(){g=null;h(new a("on VPAIDAdUnitWrapper, timeout while waiting for a response on call '"+j+"'"));h=d.noop},this.options.responseTimeout)};b.prototype.on=function(h,g){var f=this._adUnit.addEventListener||this._adUnit.subscribe||this._adUnit.on;f.call(this._adUnit,h,g)};b.prototype.off=function(h,g){var f=this._adUnit.removeEventListener||this._adUnit.unsubscribe||this._adUnit.off;f.call(this._adUnit,h,g)};b.prototype.waitForEvent=function(m,h,g){function k(i,f){if(!d.isString(i)){throw new a("on VPAIDAdUnitWrapper.waitForEvent, missing evt name")}if(!d.isFunction(f)){throw new a("on VPAIDAdUnitWrapper.waitForEvent, missing callback")}}function l(){var f=d.arrayLikeObjToArray(arguments);j&&(clearTimeout(j),j=null);f.unshift(null);h.apply(g,f)}var j;k(m,h);g=g||null;this.on(m,l);j=setTimeout(function(){h(new a("on VPAIDAdUnitWrapper.waitForEvent, timeout while waiting for event '"+m+"'"));j=null;h=d.noop},this.options.responseTimeout)};b.prototype.handshakeVersion=function(g,f){this.adUnitAsyncCall("handshakeVersion",g,f)};b.prototype.initAd=function(m,j,h,k,g,l){this.waitForEvent("AdLoaded",l);this._adUnit.initAd(m,j,h,k,g)};b.prototype.resizeAd=function(j,g,f,h){this.adUnitAsyncCall("resizeAd",j,g,f,h)};b.prototype.startAd=function(f){this.waitForEvent("AdStarted",f);this._adUnit.startAd()};b.prototype.stopAd=function(f){this.waitForEvent("AdStopped",f);this._adUnit.stopAd()};b.prototype.pauseAd=function(f){this.waitForEvent("AdPaused",f);this._adUnit.pauseAd()};b.prototype.resumeAd=function(f){this.waitForEvent("AdPlaying",f);this._adUnit.resumeAd()};b.prototype.expandAd=function(f){this.waitForEvent("AdExpandedChange",f);this._adUnit.expandAd()};b.prototype.collapseAd=function(f){this.waitForEvent("AdExpandedChange",f);this._adUnit.collapseAd()};b.prototype.skipAd=function(f){this.waitForEvent("AdSkipped",f);this._adUnit.skipAd()};["adLinear","adWidth","adHeight","adExpanded","adSkippableState","adRemainingTime","adDuration","adVolume","adCompanions","adIcons"].forEach(function(g){var f="get"+d.capitalize(g);b.prototype[f]=function(h){this.adUnitAsyncCall(f,h)}});b.prototype.setAdVolume=function(g,f){this.adUnitAsyncCall("setAdVolume",g,f)};c.exports=b},{"../../utils/utilityFunctions":47,"../vast/VASTError":23}],32:[function(c,k){function d(i,f){function e(m){if(!m||!g.isString(m.src)){throw new a("on VPAIDFlashTech, invalid MediaFile")}}if(!(this instanceof d)){return new d(i)}e(i);this.name="vpaid-flash";this.mediaFile=i;this.containerEl=null;this.vpaidFlashClient=null;this.settings=f}var b=c("../../utils/mimetypes"),a=c("../vast/VASTError"),l=c("VPAIDFLASHClient/js/VPAIDFLASHClient"),g=c("../../utils/utilityFunctions"),h=c("../../utils/dom"),j=c("../../utils/consoleLogger");d.VPAIDFLASHClient=l;d.supports=function(e){return b.flash.indexOf(e)>-1&&d.VPAIDFLASHClient.isSupported()};d.prototype.loadAdUnit=function(q,e,m){function p(r,o){if(!h.isDomElement(r)){throw new a("on VPAIDFlashTech.loadAdUnit, invalid dom container element")}if(!g.isFunction(o)){throw new a("on VPAIDFlashTech.loadAdUnit, missing valid callback")}}var i=this,f=this.settings&&this.settings.vpaidFlashLoaderPath?{data:this.settings.vpaidFlashLoaderPath}:undefined;p(q,m);this.containerEl=q;j.debug("<VPAIDFlashTech.loadAdUnit> loading VPAIDFLASHClient with opts:",f);this.vpaidFlashClient=new d.VPAIDFLASHClient(q,function(o){if(o){return m(o)}j.info("<VPAIDFlashTech.loadAdUnit> calling VPAIDFLASHClient.loadAdUnit(); that.mediaFile:",i.mediaFile);i.vpaidFlashClient.loadAdUnit(i.mediaFile.src,m)},f)};d.prototype.unloadAdUnit=function(){if(this.vpaidFlashClient){try{this.vpaidFlashClient.destroy()}catch(e){j.error("VAST ERROR: trying to unload the VPAID adunit")}this.vpaidFlashClient=null}this.containerEl&&(h.remove(this.containerEl),this.containerEl=null)};k.exports=d},{"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/utilityFunctions":47,"../vast/VASTError":23,"VPAIDFLASHClient/js/VPAIDFLASHClient":3}],33:[function(c,m){function d(f){function e(h){if(!h||!j.isString(h.src)){throw new l(d.INVALID_MEDIA_FILE)}}if(!(this instanceof d)){return new d(f)}e(f);this.name="vpaid-html5";this.containerEl=null;this.videoEl=null;this.vpaidHTMLClient=null;this.mediaFile=f}var b=c("../../utils/mimetypes"),l=c("../vast/VASTError"),p=c("VPAIDHTML5Client/js/VPAIDHTML5Client"),j=c("../../utils/utilityFunctions"),k=c("../../utils/dom"),g=c("../../utils/consoleLogger"),a;d.VPAIDHTML5Client=p;d.supports=function(e){return !j.isOldIE()&&b.html5.indexOf(e)>-1};d.prototype.loadAdUnit=function(i,e,f){function h(s,o,q){if(!k.isDomElement(s)){throw new l(d.INVALID_DOM_CONTAINER_EL)}if(!k.isDomElement(o)||o.tagName.toLowerCase()!=="video"){throw new l(d.INVALID_DOM_CONTAINER_EL)}if(!j.isFunction(q)){throw new l(d.MISSING_CALLBACK)}}h(i,e,f);this.containerEl=i;this.videoEl=e;this.vpaidHTMLClient=new d.VPAIDHTML5Client(i,e,{});this.vpaidHTMLClient.loadAdUnit(this.mediaFile.src,f)};d.prototype.unloadAdUnit=function(){if(this.vpaidHTMLClient){try{this.vpaidHTMLClient.destroy()}catch(e){g.error("VAST ERROR: trying to unload the VPAID adunit")}this.vpaidHTMLClient=null}this.containerEl&&(k.remove(this.containerEl),this.containerEl=null)};a="on VPAIDHTML5Tech";d.INVALID_MEDIA_FILE=a+", invalid MediaFile";d.INVALID_DOM_CONTAINER_EL=a+", invalid container HtmlElement";d.INVALID_DOM_VIDEO_EL=a+", invalid HTMLVideoElement";d.MISSING_CALLBACK=a+", missing valid callback";m.exports=d},{"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/utilityFunctions":47,"../vast/VASTError":23,"VPAIDHTML5Client/js/VPAIDHTML5Client":11}],34:[function(j,E){function m(e,c){function a(){var f=document.createElement("div");return b.addClass(f,"VPAID-container"),e.el().insertBefore(f,e.controlBar.el()),f}if(!(this instanceof m)){return new m(e)}this.VIEW_MODE={NORMAL:"normal",FULLSCREEN:"fullscreen",THUMBNAIL:"thumbnail"};this.player=e;this.containerEl=a(e);this.options={responseTimeout:5000,VPAID_VERSION:"2.0"};this.settings=c}function q(p,h,c){var l=p.el().querySelector(".vjs-tech"),a=b.getDimension(l),o=p.isFullscreen()?c.FULLSCREEN:c.NORMAL;h.resizeAd(a.width,a.height,o,F)}function F(a){a&&g.error("ERROR: "+a.message,a)}var z=j("../../utils/mimetypes"),w=j("../vast/VASTError"),k=j("../vast/VASTResponse"),C=j("../vast/VASTTracker"),x=j("../vast/vastUtil"),A=j("./VPAIDAdUnitWrapper"),B=j("../../utils/async"),b=j("../../utils/dom"),d=j("../../utils/playerUtils"),D=j("../../utils/utilityFunctions"),g=j("../../utils/consoleLogger");m.prototype.playAd=function(a,G){function H(h,e,c){h&&c&&p._trackError(c,h.code);f.trigger("vpaid.adEnd");G(h,c)}function l(){f.trigger("vpaid.adEnd")}function r(){o&&o.unloadAdUnit();b.removeClass(f.el(),"vjs-vpaid-ad")}var p,f,o,u;if(!(a instanceof k)){return G(new w("on VASTIntegrator.playAd, missing required VASTResponse"))}p=this;f=this.player;g.debug("<VPAIDIntegrator.playAd> looking for supported tech...");o=this._findSupportedTech(a,this.settings);G=G||D.noop;this._adUnit=null;b.addClass(f.el(),"vjs-vpaid-ad");f.on("vast.adsCancel",l);f.one("vpaid.adEnd",function(){f.off("vast.adsCancel",l);r()});return o?(g.info("<VPAIDIntegrator.playAd> found tech: ",o),B.waterfall([function(c){c(null,o,a)},this._loadAdUnit.bind(this),this._playAdUnit.bind(this),this._finishPlaying.bind(this)],H),this._adUnit={_paused:!0,type:"VPAID",pauseAd:function(){f.trigger("vpaid.pauseAd");f.pause(!0)},resumeAd:function(){f.trigger("vpaid.resumeAd")},isPaused:function(){return this._paused},getSrc:function(){return o.mediaFile}}):(g.debug("<VPAIDIntegrator.playAd> could not find suitable tech"),u=new w("on VPAIDIntegrator.playAd, could not find a supported mediaFile",403),H(u,this._adUnit,a)),this._adUnit};m.prototype._findSupportedTech=function(l,K){var G;if(!(l instanceof k)){return null}for(var y=l.mediaFiles.filter(x.isVPAID),c=K&&K.preferredTech,e=[],p,J,H,L=0,I=y.length;L<I;L+=1){if(p=y[L],J=x.findSupportedVPAIDTech(p.type),J){if(H=c?p.type===c||z[c]&&z[c].indexOf(p.type)>-1:!1,H){return new J(p,K)}e.push({mediaFile:p,tech:J})}}return e.length?(G=e[0],new G.tech(G.mediaFile,K)):null};m.prototype._createVPAIDAdUnitWrapper=function(e,c,a){return new A(e,{src:c,responseTimeout:a})};m.prototype._loadAdUnit=function(s,h,c){var l=this,a=this.player,p=a.el().querySelector(".vjs-tech"),r=this.settings.responseTimeout||this.options.responseTimeout;s.loadAdUnit(this.containerEl,p,function(o,n){if(o){return c(o,n,h)}try{var t=l._createVPAIDAdUnitWrapper(n,s.mediaFile.src,r),i="vjs-"+s.name+"-ad";b.addClass(a.el(),i);a.one("vpaid.adEnd",function(){b.removeClass(a.el(),i)});c(null,t,h)}catch(f){c(f,n,h)}})};m.prototype._playAdUnit=function(e,c,a){B.waterfall([function(f){f(null,e,c)},this._handshake.bind(this),this._initAd.bind(this),this._setupEvents.bind(this),this._addSkipButton.bind(this),this._linkPlayerControls.bind(this),this._startAd.bind(this)],a)};m.prototype._handshake=function(h,e,c){function f(l){var i=a(l);return i>=1&&i<=2}function a(l){var i=l.split(".");return parseInt(i[0],10)}h.handshakeVersion(this.options.VPAID_VERSION,function(i,l){return i?c(i,h,e):l&&f(l)?c(null,h,e):c(new w('on VPAIDIntegrator._handshake, unsupported version "'+l+'"'),h,e)})};m.prototype._initAd=function(l,e,c){var h=this.player.el().querySelector(".vjs-tech"),a=b.getDimension(h);l.initAd(a.width,a.height,this.VIEW_MODE.NORMAL,-1,{AdParameters:e.adParameters||""},function(f){c(f,l,e)})};m.prototype._createVASTTracker=function(c,a){return new C(c,a)};m.prototype._setupEvents=function(r,O,G){function u(){P._adUnit&&P._adUnit.isPaused()&&(P._adUnit._paused=!1);H.trigger("play")}function M(){P._adUnit&&(P._adUnit._paused=!0);H.trigger("pause")}function N(){r.pauseAd(D.noop)}function J(){r.resumeAd(D.noop)}var K=r.options.src,h=this._createVASTTracker(K,O),H=this.player,P=this;r.on("AdSkipped",function(){H.trigger("vpaid.AdSkipped");h.trackSkip()});r.on("AdImpression",function(){H.trigger("vpaid.AdImpression");h.trackImpressions()});r.on("AdStarted",function(){H.trigger("vpaid.AdStarted");h.trackCreativeView();u()});r.on("AdVideoStart",function(){H.trigger("vpaid.AdVideoStart");h.trackStart();u()});r.on("AdPlaying",function(){H.trigger("vpaid.AdPlaying");h.trackResume();u()});r.on("AdPaused",function(){H.trigger("vpaid.AdPaused");h.trackPause();M()});r.on("AdVideoFirstQuartile",function(){H.trigger("vpaid.AdVideoFirstQuartile");h.trackFirstQuartile()});r.on("AdVideoMidpoint",function(){H.trigger("vpaid.AdVideoMidpoint");h.trackMidpoint()});r.on("AdVideoThirdQuartile",function(){H.trigger("vpaid.AdVideoThirdQuartile");h.trackThirdQuartile()});r.on("AdVideoComplete",function(){H.trigger("vpaid.AdVideoComplete");h.trackComplete()});r.on("AdClickThru",function(a){function l(p){var c={ASSETURI:r.options.src,CONTENTPLAYHEAD:0};return p?x.parseURLMacro(p,c):null}H.trigger("vpaid.AdClickThru");var n=a.url,o=a.playerHandles,f=D.isNotEmptyString(n)?n:l(O.clickThrough);h.trackClick();o&&f&&window.open(f,"_blank")});r.on("AdUserAcceptInvitation",function(){H.trigger("vpaid.AdUserAcceptInvitation");h.trackAcceptInvitation();h.trackAcceptInvitationLinear()});r.on("AdUserClose",function(){H.trigger("vpaid.AdUserClose");h.trackClose();h.trackCloseLinear()});r.on("AdUserMinimize",function(){H.trigger("vpaid.AdUserMinimize");h.trackCollapse()});r.on("AdError",function(){H.trigger("vpaid.AdError");h.trackErrorWithCode(901)});r.on("AdVolumeChange",function(){H.trigger("vpaid.AdVolumeChange");var a=H.volume();r.getAdVolume(function(f,c){a!==c&&(c===0&&a>0&&h.trackMute(),c>0&&a===0&&h.trackUnmute(),H.volume(c))})});var L=q.bind(this,H,r,this.VIEW_MODE),I=D.throttle(L,100),e=this.settings.autoResize;e&&(b.addEventListener(window,"resize",I),b.addEventListener(window,"orientationchange",I));H.on("vast.resize",L);H.on("vpaid.pauseAd",N);H.on("vpaid.resumeAd",J);H.one("vpaid.adEnd",function(){H.off("vast.resize",L);H.off("vpaid.pauseAd",N);H.off("vpaid.resumeAd",J);e&&(b.removeEventListener(window,"resize",I),b.removeEventListener(window,"orientationchange",I))});G(null,r,O)};m.prototype._addSkipButton=function(l,G,p){function H(){v.trigger("vpaid.AdSkippableStateChange");l.getAdSkippableState(function(e,c){c?u||r(v):a(v)})}function r(c){u=y(c);c.el().appendChild(u)}function a(){b.remove(u);u=null}function y(){var c=window.document.createElement("div");return b.addClass(c,"vast-skip-button"),b.addClass(c,"enabled"),c.innerHTML="Skip ad",c.onclick=function(e){if(l.skipAd(D.noop),window.Event.prototype.stopPropagation!==undefined){e.stopPropagation()}else{return !1}},c}var u,v=this.player;l.on("AdSkippableStateChange",H);d.once(v,["vast.adEnd","vast.adsCancel"],a);p(null,l,G)};m.prototype._linkPlayerControls=function(o,e,c){function h(u,p){function f(){var n=u.muted()?0:u.volume();p.setAdVolume(n,F)}function s(){u.trigger("vpaid.AdVolumeChange");var n=u.volume();p.getAdVolume(function(i,v){i?F(i):n!==v&&u.volume(v)})}u.on("volumechange",f);p.on("AdVolumeChange",s);u.one("vpaid.adEnd",function(){u.off("volumechange",f)})}function a(u,p,f){var s=q.bind(l,u,p,f);u.on("fullscreenchange",s);u.one("vpaid.adEnd",function(){u.off("fullscreenchange",s)})}var l=this;h(this.player,o);a(this.player,o,this.VIEW_MODE);c(null,o,e)};m.prototype._startAd=function(f,c,a){var e=this.player;f.startAd(function(h){h||e.trigger("vast.adStart");a(h,f,c)})};m.prototype._finishPlaying=function(h,e,c){function f(i){c(i,h,e)}var a=this.player;h.on("AdStopped",function(){a.trigger("vpaid.AdStopped");f(null)});h.on("AdError",function(l){var i=l?l.message:"on VPAIDIntegrator, error while waiting for the adUnit to finish playing";f(new w(i))})};m.prototype._trackError=function(c,a){x.track(c.errorURLMacros,{ERRORCODE:a||901})};E.exports=m},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/playerUtils":45,"../../utils/utilityFunctions":47,"../vast/VASTError":23,"../vast/VASTResponse":25,"../vast/VASTTracker":26,"../vast/vastUtil":30,"./VPAIDAdUnitWrapper":31}],35:[function(e,c){var a=e("../../utils/dom"),b=document.createElement("div"),d;b.className="vjs-ads-label vjs-control vjs-label-hidden";b.innerHTML="Advertisement";d=function(f){return{init:function(g,h){h.el=b;f.call(this,g,h);setTimeout(function(){var i=g.controlBar&&(g.controlBar.getChild("timerControls")||g.controlBar.getChild("currentTimeDisplay"));i&&g.controlBar.el().insertBefore(b,i.el());a.removeClass(b,"vjs-label-hidden")},0)},el:function(){return b}}};c.exports=d},{"../../utils/dom":42}],36:[function(c){var b=videojs.getComponent("Component"),a=c("./ads-label")(b);videojs.registerComponent("AdsLabel",videojs.extend(b,a))},{"./ads-label":35}],37:[function(d,b){var a=document.createElement("div"),c=function(e){return{init:function(g,h){h.el=a;a.className="vjs-black-poster";e.call(this,g,h);var f=g.getChild("posterImage");setTimeout(function(){f&&g&&g.el()&&g.el().insertBefore(a,f.el())},0)},el:function(){return a}}};b.exports=c},{}],38:[function(c){var b=videojs.getComponent("Component"),a=c("./black-poster")(b);videojs.registerComponent("BlackPoster",videojs.extend(b,a))},{"./black-poster":37}],39:[function(d,w){var k=d("../ads/vast/VASTClient"),v=d("../ads/vast/VASTError"),p=d("../ads/vast/vastUtil"),q=d("../ads/vast/VASTIntegrator"),g=d("../ads/vpaid/VPAIDIntegrator"),b=d("../utils/async"),x=d("../utils/dom"),j=d("../utils/playerUtils"),a=d("../utils/utilityFunctions"),m=d("../utils/consoleLogger");w.exports=function(e){function s(){function t(){B.vast&&B.vast.adUnit&&(B.vast.adUnit=null)}function D(){E();A&&(j.restorePlayerSnapshot(B,A),A=null)}function E(){j.once(B,["playing","vast.reset","vast.firstPlay"],function(J){if(J.type==="playing"){B.trigger("vast.contentStart");j.once(B,["ended","vast.reset","vast.firstPlay"],function(K){K.type==="ended"&&B.trigger("vast.contentEnd")})}})}function C(J){if(u.adsEnabled){return J(null)}}function G(J){if(y()){if(A=j.getPlayerSnapshot(B),B.pause(),H(),B.paused()){J(null)}else{j.once(B,["playing"],function(){B.pause();J(null)})}}else{J(new v("video content has been playing before preroll ad"))}}function y(){return !a.isIPhone()||B.currentTime()<=u.iosPrerollCancelTimeout}function I(L){function K(){J&&(clearTimeout(J),J=null)}var J;c=!1;J=setTimeout(function(){r(new v("timeout while waiting for the video to start playing",402))},20000);j.once(B,["vast.adStart","vast.adsCancel"],K);L(null)}function H(){x.addClass(B.el(),"vjs-vast-ad-loading");j.once(B,["vast.adStart","vast.adsCancel"],F)}function F(){setTimeout(function(){x.removeClass(B.el(),"vjs-vast-ad-loading")},100)}j.removeNativePoster(B);j.once(B,["vast.adsCancel","vast.adEnd"],function(){t();D()});b.waterfall([C,G,I,f],function(K,J){K?r(K,J):B.trigger("vast.adEnd")})}function z(){B.trigger("vast.adsCancel");c=!0}function f(t){b.waterfall([l,h],t)}function l(t){i.getVASTResponse(u.adTagUrl?u.adTagUrl():u.adTagXML,t)}function h(G,y){function F(){E||B.controlBar.getChild("AdsLabel")||B.controlBar.addChild("AdsLabel")}function D(){B.controlBar.removeChild("AdsLabel");E=!0}function C(){function I(){B.duration()-M>J&&(B.pause(!0),B.play(!0),B.currentTime(M))}function H(){var n=B.currentTime(),N=Math.abs(n-M);N>J?(K+=1,K>=2&&B.pause(!0),B.currentTime(M)):M=n}function L(){B.off("timeupdate",H);B.off("ended",I)}var J=3,M=0,K=0;B.on("timeupdate",H);B.on("ended",I);j.once(B,["vast.adEnd","vast.adsCancel","vast.adError"],L)}if(!c){var t=o(G)?new g(B,u):new q(B),E=!1;j.once(B,["vast.adStart","vast.adsCancel"],function(H){H.type==="vast.adStart"&&F()});j.once(B,["vast.adEnd","vast.adsCancel"],D);a.isIDevice()&&C();B.vast.vastResponse=G;m.debug("calling adIntegrator.playAd() with vastResponse:",G);B.vast.adUnit=t.playAd(G,y)}}function r(y,t){B.trigger({type:"vast.adError",error:y});z();m.error("AD ERROR:",y.message,y,t)}function o(E){for(var C=E.mediaFiles,y=0,D=C.length;y<D;y++){if(p.isVPAID(C[y])){return !0}}return !1}var A,B=this,i=new k,c=!1,u=a.extend({},{timeout:2000,iosPrerollCancelTimeout:3000,adCancelTimeout:15000,playAdAlways:!1,adsEnabled:!0,autoResize:!0,vpaidFlashLoaderPath:"/VPAIDFlash.swf",verbosity:0},e||{});if(a.isUndefined(u.adTagUrl)&&a.isDefined(u.url)&&(u.adTagUrl=u.url),a.isString(u.adTagUrl)&&(u.adTagUrl=a.echoFn(u.adTagUrl)),a.isDefined(u.adTagXML)&&!a.isFunction(u.adTagXML)){return r(new v("on VideoJS VAST plugin, the passed adTagXML option does not contain a function"))}if(!a.isDefined(u.adTagUrl)&&!a.isFunction(u.adTagXML)){return r(new v("on VideoJS VAST plugin, missing adTagUrl on options object"))}if(m.setVerbosity(u.verbosity),p.runFlashSupportCheck(u.vpaidFlashLoaderPath),j.prepareForAds(B),u.playAdAlways){B.on("vast.contentEnd",function(){setTimeout(function(){B.trigger("vast.reset")},0)})}B.on("vast.firstPlay",s);B.on("vast.reset",function(){A=null;z()});return B.vast={isEnabled:function(){return u.adsEnabled},enable:function(){u.adsEnabled=!0;B.trigger("vast.firstPlay")},disable:function(){u.adsEnabled=!1}},B.vast}},{"../ads/vast/VASTClient":22,"../ads/vast/VASTError":23,"../ads/vast/VASTIntegrator":24,"../ads/vast/vastUtil":30,"../ads/vpaid/VPAIDIntegrator":34,"../utils/async":40,"../utils/consoleLogger":41,"../utils/dom":42,"../utils/playerUtils":45,"../utils/utilityFunctions":47}],40:[function(d,b){var c=d("./utilityFunctions"),a={};a.setImmediate=function(e){setTimeout(e,0)};a.iterator=function(f){var e=function(g){var h=function(){return f.length&&f[g].apply(null,arguments),h.next()};return h.next=function(){return g<f.length-1?e(g+1):null},h};return e(0)};a.waterfall=function(i,g){var h,e;if(g=g||function(){},!c.isArray(i)){return h=new Error("First argument to waterfall must be an array of functions"),g(h)}if(!i.length){return g()}e=function(f){return function(j){if(j){g.apply(null,arguments),g=function(){}}else{var k=Array.prototype.slice.call(arguments,1),l=f.next();l?k.push(e(l)):k.push(g);a.setImmediate(function(){f.apply(null,k)})}}};e(a.iterator(i))()};a.when=function(g,f){if(!c.isFunction(f)){throw new Error("async.when error: missing callback argument")}var e=c.isFunction(g)?g:function(){return !!g};return function(){var i=c.arrayLikeObjToArray(arguments),h=i.pop();return e.apply(null,i)?f.apply(this,arguments):(i.unshift(null),h.apply(null,i))}};b.exports=a},{"./utilityFunctions":47}],41:[function(d,w){function m(c){v=c}function j(e,c){c.length>0&&typeof c[0]=="string"&&(c[0]=g+c[0]);e.apply?e.apply(console,Array.prototype.slice.call(c)):e(Array.prototype.slice.call(c))}function p(){v<4||(typeof console.debug=="undefined"?j(console.log,arguments):j(console.debug,arguments))}function b(){v<3||j(console.log,arguments)}function x(){v<2||j(console.info,arguments)}function k(){v<1||j(console.warn,arguments)}function q(){j(console.error,arguments)}var v=0,g="[videojs-vast-vpaid] ",a={setVerbosity:m,debug:p,log:b,info:x,warn:k,error:q};typeof console!="undefined"&&console.log||(a.debug=function(){},a.log=function(){},a.info=function(){},a.warn=function(){},a.error=function(){});w.exports=a},{}],42:[function(d,b){var c=d("./utilityFunctions"),a={};a.isVisible=function(f){var e=window.getComputedStyle(f);return e.visibility!=="hidden"};a.isHidden=function(f){var e=window.getComputedStyle(f);return e.display==="none"};a.isShown=function(e){return !a.isHidden(e)};a.hide=function(e){e.__prev_style_display_=e.style.display;e.style.display="none"};a.show=function(e){a.isHidden(e)&&(e.style.display=e.__prev_style_display_);e.__prev_style_display_=undefined};a.hasClass=function(k,h){var e,g,j;if(c.isNotEmptyString(h)){if(k.classList){return k.classList.contains(h)}for(e=c.isString(k.getAttribute("class"))?k.getAttribute("class").split(/\s+/):[],h=h||"",g=0,j=e.length;g<j;g+=1){if(e[g]===h){return !0}}}return !1};a.addClass=function(g,f){var e;if(c.isNotEmptyString(f)){if(g.classList){return g.classList.add(f)}e=c.isString(g.getAttribute("class"))?g.getAttribute("class").split(/\s+/):[];c.isString(f)&&c.isNotEmptyString(f.replace(/\s+/,""))&&(e.push(f),g.setAttribute("class",e.join(" ")))}};a.removeClass=function(m,j){var g,k,h,l;if(c.isNotEmptyString(j)){if(m.classList){return m.classList.remove(j)}if(g=c.isString(m.getAttribute("class"))?m.getAttribute("class").split(/\s+/):[],k=[],c.isString(j)&&c.isNotEmptyString(j.replace(/\s+/,""))){for(h=0,l=g.length;h<l;h+=1){j!==g[h]&&k.push(g[h])}m.setAttribute("class",k.join(" "))}}};a.addEventListener=function(g,f,e){if(c.isArray(g)){c.forEach(g,function(h){a.addEventListener(h,f,e)});return}if(c.isArray(f)){c.forEach(f,function(h){a.addEventListener(g,h,e)});return}g.addEventListener?g.addEventListener(f,e,!1):g.attachEvent&&g.attachEvent("on"+f,e)};a.removeEventListener=function(g,f,e){if(c.isArray(g)){c.forEach(g,function(h){a.removeEventListener(h,f,e)});return}if(c.isArray(f)){c.forEach(f,function(h){a.removeEventListener(g,h,e)});return}g.removeEventListener?g.removeEventListener(f,e,!1):g.detachEvent?g.detachEvent("on"+f,e):g["on"+f]=null};a.dispatchEvent=function(f,e){f.dispatchEvent?f.dispatchEvent(e):f.fireEvent("on"+e.eventType,e)};a.isDescendant=function(g,f){for(var e=f.parentNode;e!==null;){if(e===g){return !0}e=e.parentNode}return !1};a.getTextContent=function(e){return e.textContent||e.text};a.prependChild=function(f,e){return e.parentNode&&e.parentNode.removeChild(e),f.insertBefore(e,f.firstChild)};a.remove=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)};a.isDomElement=function(e){return e instanceof Element};a.click=function(f,e){a.addEventListener(f,"click",e)};a.once=function(h,f,g){function e(){g.apply(null,arguments);a.removeEventListener(h,f,e)}a.addEventListener(h,f,e)};a.getDimension=function(f){var e;return !c.isOldIE()&&f.getBoundingClientRect?(e=f.getBoundingClientRect(),{width:e.width,height:e.height}):{width:f.offsetWidth,height:f.offsetHeight}};b.exports=a},{"./utilityFunctions":47}],43:[function(k,c){function d(e){this.message="HttpRequest Error: "+(e||"")}function a(e){if(!b.isFunction(e)){throw new d("Missing XMLHttpRequest factory method")}this.createXhr=e}function g(){var e=new XMLHttpRequest;return"withCredentials" in e||(e=new XDomainRequest),e}var j=k("./urlUtils"),b=k("./utilityFunctions"),h;d.prototype=new Error;d.prototype.name="HttpRequest Error";a.prototype.run=function(i,x,w,p){function m(l,f,e){if(!b.isString(l)||b.isEmptyString(l)){throw new d("Invalid url '"+l+"'")}if(!b.isFunction(f)){throw new d("Invalid handler '"+f+"' for the http request")}if(b.isDefined(e)&&!b.isObject(e)){throw new d("Invalid options map '"+e+"'")}}function v(f,e){b.forEach(e,function(l,n){b.isDefined(l)&&f.setRequestHeader(n,l)})}function r(){w(-1,null,null,"")}m(x,w,p);var o,y,q=this.createXhr();p=p||{};o=b.isNumber(p.timeout)?p.timeout:0;q.open(i,j.urlParts(x).href,!0);p.headers&&v(q,p.headers);p.withCredentials&&(q.withCredentials=!0);q.onload=function(){var l,e,f;q.getAllResponseHeaders||(q.getAllResponseHeaders=function(){return null});q.status||(q.status=200);b.isDefined(y)&&(clearTimeout(y),y=undefined);l=q.statusText||"";e="response" in q?q.response:q.responseText;f=q.status===1223?204:q.status;w(f,e,q.getAllResponseHeaders(),l)};q.onerror=r;q.onabort=r;q.send();o>0&&(y=setTimeout(function(){q&&q.abort()},o))};a.prototype.get=function(p,m,l){function e(s,q,f,r){o(s)?m(null,q,s,f,r):m(new d(r),q,s,f,r)}function o(f){return 200<=f&&f<300}this.run("GET",p,e,l)};h=new a(g);c.exports={http:h,HttpRequest:a,HttpRequestError:d,createXhr:g}},{"./urlUtils":46,"./utilityFunctions":47}],44:[function(b,a){a.exports={html5:["text/javascript","text/javascript1.0","text/javascript1.2","text/javascript1.4","text/jscript","application/javascript","application/x-javascript","text/ecmascript","text/ecmascript1.0","text/ecmascript1.2","text/ecmascript1.4","text/livescript","application/ecmascript","application/x-ecmascript"],flash:["application/x-shockwave-flash"]}},{}],45:[function(e,c){var a=e("./dom"),d=e("./utilityFunctions"),b={};b.getPlayerSnapshot=function(j){function f(m){var l=m.remoteTextTracks?m.remoteTextTracks():[],k;return l&&d.isArray(l.tracks_)&&(l=l.tracks_),d.isArray(l)||(l=[]),k=[],l.forEach(function(i){k.push({track:i,mode:i.mode});i.mode="disabled"}),k}var h=j.el().querySelector(".vjs-tech"),g={ended:j.ended(),src:j.currentSrc(),currentTime:j.currentTime(),type:j.currentType(),playing:!j.paused(),suppressedTracks:f(j)};return h&&(g.nativePoster=h.poster,g.style=h.getAttribute("style")),g};b.restorePlayerSnapshot=function(p,h){function l(){var f=setTimeout(function(){p.trigger("canplay")},1000);p.one("canplay",function(){clearTimeout(f)})}function m(o,f){return o.src()?o.src()!==f.src:o.currentSrc()!==f.src}function j(){var f=h.suppressedTracks;f.forEach(function(o){o.track.mode=o.mode})}function g(){if(!b.isReadyToResume(p)&&i--){setTimeout(g,50)}else{try{if(p.currentTime()!==h.currentTime){if(h.playing){p.one("seeked",function(){p.play()})}p.currentTime(h.currentTime)}else{h.playing&&p.play()}}catch(f){videojs.log.warn("Failed to resume the content after an advertisement",f)}}}var k=p.el().querySelector(".vjs-tech"),i=20;if(h.nativePoster&&(k.poster=h.nativePoster),"style" in h&&k.setAttribute("style",h.style||""),m(p,h)){p.one("contentloadedmetadata",j);p.one("canplay",g);l();p.src({src:h.src,type:h.type});p.load()}else{j(),h.playing&&p.play()}};b.isReadyToResume=function(f){return f.readyState()>1?!0:f.seekable()===undefined?!0:f.seekable().length>0?!0:!1};b.prepareForAds=function(k){function m(){var h=k.play,f,i;k.play=function(l){function s(){d.isIPhone()||(q=A(),k.muted(!0));h.apply(p,arguments)}function n(o){u()&&!o?k.vast.adUnit.resumeAd():h.apply(p,arguments)}var p=this;return F()?s():n(l),this};f=k.pause;k.pause=function(l){return u()&&!l?k.vast.adUnit.pauseAd():f.apply(this,arguments),this};i=k.paused;k.paused=function(l){return u()&&!l?k.vast.adUnit.isPaused():i.apply(this,arguments)}}function u(){return k.vast&&k.vast.adUnit}function B(){F()&&(j=!1,k.trigger("vast.firstPlay"))}function D(){j=!0;x.show();r()}function F(){return j}function A(){return{muted:k.muted(),volume:k.volume()}}function r(){q&&(k.currentTime(0),g(q),q=null)}function g(f){d.isObject(f)&&(k.volume(f.volume),k.muted(f.muted))}function E(){a.hasClass(x.el(),"vjs-hidden")||x.hide()}function C(){a.addClass(k.el(),"vjs-ad-playing")}function z(){a.removeClass(k.el(),"vjs-ad-playing")}var x=k.addChild("blackPoster"),j=!0,q;m();k.on("play",B);k.on("vast.reset",D);k.on("vast.firstPlay",r);k.on("error",E);k.on("vast.adStart",E);k.on("vast.adsCancel",E);k.on("vast.adError",E);k.on("vast.adStart",C);k.on("vast.adEnd",z);k.on("vast.adsCancel",z)};b.removeNativePoster=function(g){var f=g.el().querySelector(".vjs-tech");f&&f.removeAttribute("poster")};b.once=function(j,g,f){function h(){f.apply(null,arguments);g.forEach(function(i){j.off(i,h)})}g.forEach(function(i){j.on(i,h)})};c.exports=b},{"./dom":42,"./utilityFunctions":47}],46:[function(k,c){function a(f){var e=f;return j&&(b.setAttribute("href",e),e=b.href),b.setAttribute("href",e),{href:b.href,protocol:b.protocol?b.protocol.replace(/:$/,""):"",host:b.host,search:b.search?b.search.replace(/^\?/,""):"",hash:b.hash?b.hash.replace(/^#/,""):"",hostname:b.hostname,port:d.isNotEmptyString(b.port)?b.port:80,pathname:b.pathname.charAt(0)==="/"?b.pathname:"/"+b.pathname}}function g(m,l){var e,f;return l=d.isFunction(l)?l:function(){return !0},m=m.trim().replace(/^\?/,""),e=m.split("&"),f={},d.forEach(e,function(q){var o,i,p;q!==""&&(o=q.split("="),i=o[0],p=o[1],l(i,p)&&(f[i]=p))}),f}function h(f){var e=[];return d.forEach(f,function(m,l){e.push(l+"="+m)}),e.join("&")}var d=k("./utilityFunctions"),b=document.createElement("a"),j=document.documentMode;c.exports={urlParts:a,queryStringToObj:g,objToQueryString:h}},{"./utilityFunctions":47}],47:[function(T,L){function ag(){}function K(a){return a===null}function V(a){return a!==undefined}function ai(a){return a===undefined}function O(a){return typeof a=="object"}function ab(a){return typeof a=="function"}function J(a){return typeof a=="number"}function H(a){return Y.isObject(a)&&a.window===a}function ad(a){return Object.prototype.toString.call(a)==="[object Array]"}function Q(b){if(b===null||Y.isWindow(b)||Y.isFunction(b)||Y.isUndefined(b)){return !1}var a=b.length;return b.nodeType===m&&a?!0:Y.isString(b)||Y.isArray(b)||a===0||typeof a=="number"&&a>0&&a-1 in b}function I(a){return typeof a=="string"}function ah(a){return Y.isString(a)&&a.length===0}function W(a){return Y.isString(a)&&a.length!==0}function af(a){return Array.prototype.slice.call(a)}function R(f,c,b){var e,a,d;if(f){if(ab(f)){for(e in f){e!=="prototype"&&e!=="length"&&e!=="name"&&(!f.hasOwnProperty||f.hasOwnProperty(e))&&c.call(b,f[e],e,f)}}else{if(ad(f)){for(d=typeof f!="object",e=0,a=f.length;e<a;e++){(d||e in f)&&c.call(b,f[e],e,f)}}else{if(f.forEach&&f.forEach!==R){f.forEach(c,b,f)}else{for(e in f){f.hasOwnProperty(e)&&c.call(b,f[e],e,f)}}}}}return f}function aa(b,a){return a=a||"_",b.replace(ae,function(d,c){return(c?a:"")+d.toLowerCase()})}function X(a){return Y.isString(a)?N.test(a.trim()):!1}function M(d){for(var b,a,c=1;c<arguments.length;c++){b=arguments[c];for(a in b){b.hasOwnProperty(a)&&(d[a]=O(d[a])&&!K(d[a])&&O(b[a])?M({},d[a],b[a]):b[a])}}return d}function ac(a){return a.charAt(0).toUpperCase()+a.slice(1)}function C(a){return a.charAt(0).toLowerCase()+a.slice(1)}function F(c,a){var b=[];return c.forEach(function(g,d){var e=a(g,d);Y.isDefined(e)&&b.push(e)}),b}function G(c,a){var b=c+"";if(a=Y.isNumber(a)?a:0,c=Y.isNumber(c)?c:parseInt(c,10),Y.isNumber(c)&&!isNaN(c)){for(b=c+"";b.length<a;){b="0"+b}return b}return"NaN"}function B(c,b){var a=(new Date).getTime()-(b+1);return function(){var d=(new Date).getTime();d-a>=b&&(a=d,c.apply(this,arguments))}}function P(c,b){var a;return function(){a&&clearTimeout(a);a=setTimeout(function(){c.apply(this,arguments);a=undefined},b)}}function Z(g,c,b){for(var e,a=c(g),d=0;d<a.length;d++){if(b(a[d])){return a[d]}if(e=Z(a[d],c,b),e){return e}}}function E(a){return function(){return a}}function q(a){return(Y.isNumber(a)&&(a=a+""),!Y.isString(a))?!1:U.test(a.trim())}function S(){var a=Y.getInternetExplorerVersion(navigator);return a===-1?!1:a<10}function A(e){var c=-1;if(e.appName=="Microsoft Internet Explorer"){var d=e.userAgent,a=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),b=a.exec(d);b!==null&&(c=parseFloat(b[1]))}return c}function D(){return/iP(hone|ad)/.test(Y._UA)}function j(){return/iP(hone|ad|od)|Android|Windows Phone/.test(Y._UA)}function x(){return/iP(hone|od)/.test(Y._UA)}function z(){return/Android/.test(Y._UA)}var m=1,ae=/[A-Z]/g,N=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)+$/i,U=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,Y={_UA:navigator.userAgent,noop:ag,isNull:K,isDefined:V,isUndefined:ai,isObject:O,isFunction:ab,isNumber:J,isWindow:H,isArray:ad,isArrayLike:Q,isString:I,isEmptyString:ah,isNotEmptyString:W,arrayLikeObjToArray:af,forEach:R,snake_case:aa,isValidEmail:X,extend:M,capitalize:ac,decapitalize:C,transformArray:F,toFixedDigits:G,throttle:B,debounce:P,treeSearch:Z,echoFn:E,isISO8601:q,isOldIE:S,getInternetExplorerVersion:A,isIDevice:D,isMobile:j,isIPhone:x,isAndroid:z};L.exports=Y},{}],48:[function(d,b){var c=d("./utilityFunctions"),a={};a.strToXMLDoc=function(h){function g(m){var k=new DOMParser,j;try{if(j=k.parseFromString(m,"application/xml"),e(j)||c.isEmptyString(m)){throw new Error}}catch(l){throw new Error("xml.strToXMLDOC: Error parsing the string: '"+m+"'")}return j}function e(o){try{var l=new DOMParser,m=l.parseFromString("INVALID","text/xml"),k=m.getElementsByTagName("parsererror")[0].namespaceURI;return k==="http://www.w3.org/1999/xhtml"?o.getElementsByTagName("parsererror").length>0:o.getElementsByTagNameNS(k,"parsererror").length>0}catch(j){}}if(typeof DOMParser=="undefined"){var f=new ActiveXObject("Microsoft.XMLDOM");return f.async=!1,f.loadXML(h),f}return g(h)};a.parseText=function(e){return/^\s*$/.test(e)?null:/^(?:true|false)$/i.test(e)?e.toLowerCase()==="true":isFinite(e)?parseFloat(e):c.isISO8601(e)?new Date(e):e.trim()};a.JXONTree=function(i){var q=a.parseText,m,v,r,w,p,j,k,g;if(i.documentElement){return new a.JXONTree(i.documentElement)}if(i.hasChildNodes()){for(m="",p=0;p<i.childNodes.length;p++){v=i.childNodes.item(p),(v.nodeType-1|1)==3?m+=v.nodeType===3?v.nodeValue.trim():v.nodeValue:v.nodeType!==1||v.prefix||(r=c.decapitalize(v.nodeName),w=new a.JXONTree(v),this.hasOwnProperty(r)?(this[r].constructor!==Array&&(this[r]=[this[r]]),this[r].push(w)):this[r]=w)}m&&(this.keyValue=q(m))}if(j=typeof i.hasAttributes=="undefined"?i.attributes.length>0:i.hasAttributes(),j){for(g=0;g<i.attributes.length;g++){k=i.attributes.item(g),this["@"+c.decapitalize(k.name)]=q(k.value.trim())}}};a.JXONTree.prototype.attr=function(e){return this["@"+c.decapitalize(e)]};a.toJXONTree=function(f){var e=a.strToXMLDoc(f);return new a.JXONTree(e)};a.keyValue=function(e){return e?e.keyValue:undefined};a.attr=function(f,e){return f?f["@"+c.decapitalize(e)]:undefined};a.encode=function(e){return c.isString(e)?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):undefined};a.decode=function(e){return c.isString(e)?e.replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&"):undefined};b.exports=a},{"./utilityFunctions":47}],49:[function(b){b("./plugin/components/ads-label_5");b("./plugin/components/black-poster_5");var a=b("./plugin/videojs.vast.vpaid");videojs.plugin("vastClient",a)},{"./plugin/components/ads-label_5":36,"./plugin/components/black-poster_5":38,"./plugin/videojs.vast.vpaid":39}]},{},[49]);